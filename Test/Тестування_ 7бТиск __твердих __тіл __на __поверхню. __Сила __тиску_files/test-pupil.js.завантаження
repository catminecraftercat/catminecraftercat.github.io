/*! For license information please see test-pupil.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[613,64,186,190,191,198,213,250,256],[function(t,e,n){"use strict";function r(t,e,n,r,i,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t){n.d(e,"u",(function(){return c})),n.d(e,"v",(function(){return l})),n.d(e,"gb",(function(){return u})),n.d(e,"s",(function(){return f})),n.d(e,"k",(function(){return d})),n.d(e,"t",(function(){return h})),n.d(e,"r",(function(){return p})),n.d(e,"Q",(function(){return v})),n.d(e,"O",(function(){return m})),n.d(e,"ab",(function(){return g})),n.d(e,"X",(function(){return y})),n.d(e,"D",(function(){return _})),n.d(e,"Z",(function(){return b})),n.d(e,"T",(function(){return w})),n.d(e,"ib",(function(){return k})),n.d(e,"mb",(function(){return x})),n.d(e,"A",(function(){return S})),n.d(e,"B",(function(){return C})),n.d(e,"z",(function(){return O})),n.d(e,"y",(function(){return E})),n.d(e,"x",(function(){return P})),n.d(e,"J",(function(){return A})),n.d(e,"f",(function(){return T})),n.d(e,"bb",(function(){return j})),n.d(e,"eb",(function(){return N})),n.d(e,"K",(function(){return R})),n.d(e,"hb",(function(){return D})),n.d(e,"j",(function(){return B})),n.d(e,"jb",(function(){return $})),n.d(e,"h",(function(){return F})),n.d(e,"c",(function(){return q})),n.d(e,"i",(function(){return U})),n.d(e,"w",(function(){return V})),n.d(e,"l",(function(){return z})),n.d(e,"m",(function(){return H})),n.d(e,"H",(function(){return W})),n.d(e,"kb",(function(){return Y})),n.d(e,"q",(function(){return G})),n.d(e,"e",(function(){return J})),n.d(e,"I",(function(){return K})),n.d(e,"nb",(function(){return Q})),n.d(e,"C",(function(){return X})),n.d(e,"P",(function(){return Z})),n.d(e,"p",(function(){return tt})),n.d(e,"n",(function(){return et})),n.d(e,"a",(function(){return nt})),n.d(e,"b",(function(){return rt})),n.d(e,"G",(function(){return it})),n.d(e,"lb",(function(){return ot})),n.d(e,"V",(function(){return st})),n.d(e,"Y",(function(){return at})),n.d(e,"cb",(function(){return ct})),n.d(e,"d",(function(){return lt})),n.d(e,"M",(function(){return ut})),n.d(e,"db",(function(){return ft})),n.d(e,"fb",(function(){return dt})),n.d(e,"N",(function(){return ht})),n.d(e,"g",(function(){return pt})),n.d(e,"W",(function(){return vt})),n.d(e,"o",(function(){return mt})),n.d(e,"E",(function(){return gt})),n.d(e,"U",(function(){return yt})),n.d(e,"R",(function(){return _t})),n.d(e,"S",(function(){return bt})),n.d(e,"F",(function(){return wt})),n.d(e,"L",(function(){return kt}));var r=n(18),i=n(370),o=n(5),s=n(312);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t=t||"",null!==e&&null!==n&&(e=parseInt(e),n=parseInt(n),t=t.replace(/(\.\w+)$/,(function(t){return"-".concat(e,"x").concat(n).concat(t)}))),u(t)+"/"+t}function l(t){return u(t)+"/o/"+t}function u(t){var e=t.slice(0,2);return vo.servers&&vo.servers[e]?vo.servers[e]:vo.url_cloud}function f(t){return"n-material-ext-"+h(t)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"javascript:void(0);";return t?vo.url_cert+"/"+t:e}function h(t){switch(t){case"rtf":case"doc":case"docx":case"txt":return"doc";case"ppsx":case"ppt":case"pptm":case"pptx":return"ppt";case"rar":case"zip":return"zip";case"avi":case"mp4":case"mpg":return"avi";case"bmp":case"gif":case"jpg":case"jpeg":case"png":case"webp":return"img";case"mp3":return"mp3";case"pdf":return"pdf"}return"na"}function p(t){return t.substring(t.lastIndexOf(".")+1,t.length)||t}function v(t){return"img"===h(p(t))}function m(t){if(!t)return!0;for(var e in vo.servers)if(0===t.indexOf(vo.servers[e]))return!1;return!0}function g(t,e){var n=2,r=t%100;if(r<10||r>20){var i=t%10;1===i?n=0:i>0&&i<5&&(n=1)}return e[n]?e[n].replace(/{n}/,t):t}function y(t){return"1"===String(t)?"Олімпіада":"Конкурс"}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search;t=t.split("+").join(" ");for(var e,n={},r=/[?&]?([^=]+)=([^&]*)/g;e=r.exec(t);)n[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return n}function b(t,e){for(var n={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[n.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";switch(e){case"PHP_URL_SCHEME":return i.protocol;case"PHP_URL_HOST":return i.host;case"PHP_URL_PORT":return i.port;case"PHP_URL_USER":return i.user;case"PHP_URL_PASS":return i.password;case"PHP_URL_PATH":return i.path;case"PHP_URL_QUERY":return i.query;case"PHP_URL_FRAGMENT":return i.anchor;default:var s={};return""!==i.protocol&&(s.scheme=i.protocol),""!==i.host&&(s.host=i.host),""!==i.port&&(s.port=i.port),""!==i.user&&(s.user=i.user),""!==i.password&&(s.pass=i.password),""!==i.path&&(s.path=i.path),""!==i.query&&(s.query=i.query),""!==i.anchor&&(s.fragment=i.anchor),s}}function w(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!vo.user_id||(!(!e||!vo.pupil_access)||(t&&vo.signIn(),!1))}function k(t){var e=vo.popup;if(t.status>=300)try{var n=JSON.parse(t.responseText);void 0!==n.message?e.error(n.message):e.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}catch(n){e.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}0===t.status&&e.error("Перевірте з'єднання з Інтернетом.")}function x(e,n){var r=e.file,i=e.file_rule,o=e.file_name,s=e.access,a=n.success,c=n.error,l=n.uploadProgress,u=new FormData;u.append("file",""),o?u.append("file",r,o):u.append("file",r),i&&u.append("file_rule",i),s&&u.append("access",s),t("<form>",{attr:{enctype:"multipart/form-data"}}).ajaxSubmit({method:"POST",url:vo.url_cloud+"/ext/file/upload",xhrFields:{withCredentials:!0},formData:u,success:a,error:c,uploadProgress:l})}function S(t){return[Object(o.LabelsArray)("month").map((function(t){return t[1].toLowerCase()})),Object(o.LabelsArray)("month",o.CASE_R).map((function(t){return t[1].toLowerCase()})),["січ","лют","бер","кві","тра","чер","лип","сер","вер","жов","лис","гру"],["jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec"]][t]||[]}function C(t){return S(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)[t]||""}function O(){return{1:{name:"понеділок",short_name:"пн",is_off:0,day_num_N:1,day_num_w:1},2:{name:"вівторок",short_name:"вт",is_off:0,day_num_N:2,day_num_w:2},3:{name:"середа",short_name:"ср",is_off:0,day_num_N:3,day_num_w:3},4:{name:"четвер",short_name:"чт",is_off:0,day_num_N:4,day_num_w:4},5:{name:"п'ятниця",short_name:"пт",is_off:0,day_num_N:5,day_num_w:5},6:{name:"субота",short_name:"сб",is_off:1,day_num_N:6,day_num_w:6},7:{name:"неділя",short_name:"нд",is_off:1,day_num_N:7,day_num_w:0}}}function E(t){return 0===t&&(t=7),{1:{name:"понеділок",short_name:"пн",is_off:0,day_num_N:1,day_num_w:1},2:{name:"вівторок",short_name:"вт",is_off:0,day_num_N:2,day_num_w:2},3:{name:"середа",short_name:"ср",is_off:0,day_num_N:3,day_num_w:3},4:{name:"четвер",short_name:"чт",is_off:0,day_num_N:4,day_num_w:4},5:{name:"п'ятниця",short_name:"пт",is_off:0,day_num_N:5,day_num_w:5},6:{name:"субота",short_name:"сб",is_off:1,day_num_N:6,day_num_w:6},7:{name:"неділя",short_name:"нд",is_off:1,day_num_N:7,day_num_w:0}}[t]||null}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d.m.Y H:i:s";if(!t)return"";var n=t instanceof Date?t:new Date(1e3*t),r=function(t){return t<10?"0"+t:t},i={d:r(n.getDate()),m:r(n.getMonth()+1),Y:r(n.getFullYear()),F:C(n.getMonth()),F_:C(n.getMonth(),1),H:r(n.getHours()),i:r(n.getMinutes()),s:r(n.getSeconds()),"?":11===n.getHours()?"об":"о"};return String(e).replace(/\?|F_|F|d|m|Y|H|i|s/g,(function(t){return i[t]||""}))}function A(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new Date(1e3*t),i=new Date,o=r.getHours(),s=r.getMinutes(),a=parseInt(((i-r)/1e3).toFixed(0)),c=parseInt((a/60).toFixed(0));if(a<40&&n)return"щойно";if(c<60&&n)return g(c,["{n} хвилину","{n} хвилини","{n} хвилин"])+" тому";o<10&&(o="0"+String(o)),s<10&&(s="0"+String(s)),r.setHours(0,0,0,0),i.setHours(0,0,0,0);var l=parseInt(((i-r)/1e3/86400).toFixed(0));return 0===l?"Сьогодні"+(n?" "+o+":"+s:""):1===l?"Вчора"+(n?" "+o+":"+s:""):-1===l?"Завтра"+(n?" "+o+":"+s:""):P(t,e?n?"d.m.Y H:i:s":"d.m.Y":r.getFullYear()===i.getFullYear()?n?"d F_ ? H:i":"d F_":n?"d F_ Y року ? H:i":"d F_ Y року")}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vo.user_no_avatar;return"string"==typeof t&&(t={avatar:t}),t&&t.avatar&&![i.b,i.a].includes(t.avatar)?!1===e&&!1===n?l(t.avatar):(e||(e=90),n||(n=e),c(t.avatar,e,n)):r||vo.user_no_avatar}function j(t){var e=null;return t&&("id_user"in t?e=t.id_user:"user_id"in t&&("user_type"in t&&parseInt(t.user_type)!==o.USER_USER||(e=t.user_id))),e?"/user/id"+e:"#"}var M="[-A-Z0-9\\u00A1-\\uD7FF\\u0400-\\u04FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF+&@#\\/%=~_|$?!:,.\\[\\]]",I=new RegExp("\\b".concat("(?:(?:https?|ftp|file):\\/\\/)","(").concat("[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}",")(?:&amp;|\\(").concat(M,"*\\)|").concat(M,")*(?:\\(").concat(M,"*\\)|").concat("[A-Z0-9\\u00A1-\\uD7FF\\u0400-\\u04FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF+&@#\\/%=~_|$]",")"),"gi");function N(t,e){return t.replace(I,(function(t,n){var r=t=decodeURI(t.replace(/&amp;/g,"&")),i="",o=location.hostname;return n===o||n.endsWith("."+o)?e&&(i="".concat(e,"(event);")):r="/site/out?url="+encodeURIComponent(t),'<a href="'.concat(r,'" onclick="').concat(i,'" target="_blank">').concat(t,"</a>")}))}function R(t,e){var n=e?1e3:1024;if(Math.abs(t)<n)return t+" B";var r=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;do{t/=n,++i}while(Math.abs(t)>=n&&i<r.length-1);return t.toFixed(1)+" "+r[i]}function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=new(r.a.extend(t))(e);return vo.dlg.show("<div id='i-dialog-mount'><span class='v-bar'></span></div>",n,(function(){i.$destroy()})),i.$mount("#i-dialog-mount"),i.$on("close",(function(){vo.dlg.hide()})),i}function L(t,e){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var i=e?e+"["+n+"]":n,o=t[n];r.push(null!==o&&"object"===a(o)?L(o,i):encodeURIComponent(i)+"="+encodeURIComponent(o))}return r.join("&")}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=String(t||""),!e||"object"!==a(e))return t;var n=L(JSON.parse(JSON.stringify(e)));return n?(-1===t.indexOf("?")?t+="?"+n:t+="&"+n,t):t}function $(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}function F(t){var e=[],n=0;do{1&t&&e.push(Math.pow(2,n)),t>>=1,n++}while(t);return e}function q(t){if(!Array.isArray(t))return 0;var e=0;return t.forEach((function(t){e|=parseInt(t)})),e}function U(t){t=parseInt(t);var e=[];return vo.classes.forEach((function(n){n.bit&t&&e.push(n.num)})),e}function V(t){t=parseInt(t);var e=[];return vo.classes.forEach((function(n){n.bit&t&&e.push(n)})),e}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" клас";if((t=parseInt(t))>=1&&t<=12)return t+e;var n=vo.classes.find((function(e){return e.num===t}));return n?n.title:""}function H(t){t=parseInt(t);var e=vo.classes.find((function(e){return e.num===t}));return e?e.bit:0}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<span style="color: #fff;background: #5ebcf7;">',r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"</span>";return e?String(t).replace(new RegExp(G(String(e)),"gi"),n+"$&"+r):t}function Y(t,e,n){if(null===t||null===e||void 0===t||void 0===e)return 0;var r,i,o,s,a=0,c=0,l=0,u=(t+="").length,f=(e+="").length;for(r=0;r<u;r++)for(i=0;i<f;i++){for(o=0;r+o<u&&i+o<f&&t.charAt(r+o)===e.charAt(i+o);o++);o>l&&(l=o,a=r,c=i)}return(s=l)&&(a&&c&&(s+=Y(t.substr(0,a),e.substr(0,c))),a+l<u&&c+l<f&&(s+=Y(t.substr(a+l,u-a-l),e.substr(c+l,f-c-l)))),n?200*s/(u+f):s}function G(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,e+2);return(t=Math.round(t*n)/n*100).toFixed(e)+"%"}function K(t){return String(t).replace(/[\u00A0-\u9999<>\&]/g,(function(t){return"&#"+t.charCodeAt(0)+";"}))}function Q(t){return t?"".concat(t,"/").concat(t+1," н.р."):""}function X(t){return"АБВГҐДЕЄЖЗИІЇЙКЛМНОПРСТУФХЦ"[t]}function Z(t){try{return t instanceof HTMLElement}catch(e){return"object"===a(t)&&1===t.nodeType&&"object"===a(t.style)&&"object"===a(t.ownerDocument)}}function tt(t,e){var n=Object.keys,r=a(t),i=a(e);return t&&e&&"object"===r&&r===i?n(t).length===n(e).length&&n(t).every((function(n){return tt(t[n],e[n])})):t===e}function et(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t;e&&(r=r.trim());var i=(r=(r=r.replace(/\\r/,"\n")).replace(/\\n+/,"\n")).split("\n");i.forEach((function(t,e){i[e]=t.trim().replace(/^[^a-zA-Z\u0400-\u04FF]+/,"")})),e&&(i=i.filter((function(t){return!!t||"\n"===t}))),n&&i.forEach((function(t,e){i[e]="".concat(e+1,". ").concat(t)}));var o=i.join("\n");return e&&(o=o.trim()),o}function nt(t){if(t.status>=300)try{var e=JSON.parse(t.responseText);void 0!==e.message?vo.popup.error(e.message):vo.popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}catch(e){vo.popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}}function rt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(!t||0==t.readyState)&&(e&&vo.popup.error("Виникла помилка мережі. Перевірте з'єднання з Інтернетом."),!0)}function it(t){return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)}function ot(t,e){t.innerHTML=t.textContent.trim().replace(/\s+/g," ").split("").map((function(t){return t?"<span>".concat(t,"</span>"):t})).join("");for(var n=t.querySelectorAll("span"),r=0;r<n.length;r++)n[r].style.transform="rotate("+r*e+"deg)"}function st(t){var e=null;return"object"===a(t)&&"event"in t&&"form"in t&&(e=t.event,t=t.form),{event:e,form:t}}function at(t,e,n){return t=String(t),e>>=0,n=String(n||" "),t.length>e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+String(t))}function ct(t,e,n,r){for(r=(e=document.cookie.split("; ")).length-1;r>=0;r--)if((n=e[r].split("="))[0]===t)return n[1]}function lt(t){var e=t.replace(/\*{2,}/g,"*"),n=16-e.length;return n>=0&&(e=e.replace("*","X".repeat(n+1))),e.replace(/.{4}/g,"$& ")}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t)return!0;var r=t.getBoundingClientRect(),i=r.left,o=r.top,s=r.right,a=r.bottom,c=e.clientX,l=e.clientY;return c<i-n||c>s+n||(l<o-n||l>a+n)}function ft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e&&(e=vo.user_id),e){var n=_(b(t,"PHP_URL_QUERY"));Object.keys(n).length?t+="&":t+="?",t+="rl=".concat(e)}return t}function dt(t){if(isNaN(t))return NaN;for(var e=String(+t).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",i=3;i--;)r=(n[+e.pop()+10*i]||"")+r;return Array(+e.join("")+1).join("M")+r}function ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t instanceof Object?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(t instanceof Object&&e instanceof Object))return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o+=1){if(!e.hasOwnProperty(r[o]))return!1;if(n){if(!ht(t[r[o]],e[r[o]],n))return!1}else if(t[r[o]]!==e[r[o]])return!1}return!0}(t,e,n):Array.isArray(t)?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r+=1)if(n){if(!ht(t[r],e[r],n))return!1}else if(t[r]!==e[r])return!1;return!0}(t,e,n):t===e}function pt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 1===n.length&&(n=n[0]),t>=n[0]&&t<=n[1]}function vt(t,e){var n=Math.abs(e-t)+1;return e>=t?new Array(n).fill(null).map((function(e,n){return n+t})):new Array(n).fill(null).map((function(e,n){return t-n}))}function mt(t){return"color-"+(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?10-t%10:1+t%10)}function gt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}function yt(t){return new RegExp("^([".concat(s.a,"]{3})-?(\\d{3})$"),"i").test(t)}function _t(t){return new RegExp("^([".concat(s.a,"]{4})-?(\\d{3})$"),"i").test(t)}function bt(t){return new RegExp("^380\\d{9}$","i").test(t)}function wt(t){var e={id_user:null,full_name:"<невідомий>",avatar:"",url:!1};return t&&(t.hasOwnProperty("user_id")?(e.id_user=t.user_id,e.full_name=t.name,e.avatar=t.avatar):(e.id_user=t.id_user,e.full_name=t.full_name,e.avatar=t.avatar)),e.id_user&&(e.url="/user/id"+e.id_user),e}function kt(t){return!t||!("data"in t)}}).call(this,n(52))},function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return P}));var r=n(6),i=n.n(r),o=n(74),s=n.n(o),a=n(26),c=n.n(a),l=n(3),u=n.n(l),f=n(4),d=n.n(f),h=n(22),p=n.n(h),v=n(23),m=n.n(v),g=n(11),y=n.n(g),_=n(535),b=n.n(_),w=n(177),k=n.n(w),x=n(536),S=n.n(x);function C(t){var e=function(){if("undefined"==typeof Reflect||!i.a)return!1;if(i.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=i()(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var O="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html",E=function(t){p()(n,t);var e=C(n);function n(t,r,i){var o;return u()(this,n),o=e.call(this,function(t,e){var n=new k.a,r=function(t,e){if("object"===s()(e)&&null!==e){if(n.has(e))return"[object ".concat(e.constructor.name,"]");n.add(e)}return e},i=e?" ".concat(S()(e,r)):"",o=A(t);return t+i+o}(t,i)),o.name="CKEditorError",o.context=r,o.data=i,o}return d()(n,[{key:"is",value:function(t){return"CKEditorError"===t}}],[{key:"rethrowUnexpectedError",value:function(t,e){if(t.is&&t.is("CKEditorError"))throw t;var r=new n(t.message,e);throw r.stack=t.stack,r}}]),n}(b()(Error));function P(t,e){var n;(n=console).warn.apply(n,c()(T(t,e)))}function A(t){return"\nRead more: ".concat(O,"#error-").concat(t)}function T(t,e){var n=A(t);return e?[t,e,n]:[t,n]}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(278),i=n(488);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,i(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),r(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"OBJ_TYPE_DIALOG",(function(){return r})),n.d(e,"OBJ_TYPE_LIBRARY",(function(){return i})),n.d(e,"OBJ_TYPE_NEWS",(function(){return o})),n.d(e,"OBJ_TYPE_CERT_PERSONAL",(function(){return s})),n.d(e,"OBJ_TYPE_WEBINAR",(function(){return a})),n.d(e,"OBJ_TYPE_OLP_SERIES",(function(){return c})),n.d(e,"OBJ_TYPE_OLP_SUBJECT",(function(){return l})),n.d(e,"OBJ_TYPE_OLP_TEACHER1",(function(){return u})),n.d(e,"OBJ_TYPE_OLP_TEACHER2",(function(){return f})),n.d(e,"OBJ_TYPE_OLP_PUPIL",(function(){return d})),n.d(e,"OBJ_TYPE_OLP_PARENT",(function(){return h})),n.d(e,"OBJ_TYPE_SYS_USER",(function(){return p})),n.d(e,"OBJ_TYPE_LP",(function(){return v})),n.d(e,"OBJ_TYPE_TEACHER",(function(){return m})),n.d(e,"OBJ_TYPE_GLOBE_CLASS",(function(){return g})),n.d(e,"OBJ_TYPE_COURSE",(function(){return y})),n.d(e,"OBJ_TYPE_COURSE_MODULE",(function(){return _})),n.d(e,"OBJ_TYPE_PUBLICATION",(function(){return b})),n.d(e,"OBJ_TYPE_DRAW_MATERIAL",(function(){return w})),n.d(e,"OBJ_TYPE_OLP_PUPIL_DRAW",(function(){return k})),n.d(e,"OBJ_TYPE_USER",(function(){return x})),n.d(e,"OBJ_TYPE_USER_REFERRAL",(function(){return S})),n.d(e,"OBJ_TYPE_TUTOR",(function(){return C})),n.d(e,"OBJ_TYPE_OLP_SCHOOL_CNT",(function(){return O})),n.d(e,"OBJ_TYPE_OLP_SCHOOL_QUALITY",(function(){return E})),n.d(e,"OBJ_TYPE_GROUP",(function(){return P})),n.d(e,"OBJ_TYPE_CONFERENCE",(function(){return A})),n.d(e,"OBJ_TYPE_MARKET_ITEM",(function(){return T})),n.d(e,"OBJ_TYPE_MARKET_PROFILE",(function(){return j})),n.d(e,"OBJ_TYPE_TEST",(function(){return M})),n.d(e,"OBJ_TYPE_MARATHON",(function(){return I})),n.d(e,"OBJ_TYPE_SEMINAR",(function(){return N})),n.d(e,"OBJ_TYPE_FORTUNE",(function(){return R})),n.d(e,"OBJ_TYPE_ZNO",(function(){return D})),n.d(e,"OBJ_TYPE_TEST_EXECUTION",(function(){return L})),n.d(e,"OBJ_TYPE_QR",(function(){return B})),n.d(e,"OBJ_TYPE_EVENT",(function(){return $})),n.d(e,"OBJ_TYPE_LESSON",(function(){return F})),n.d(e,"OBJ_TYPE_CART",(function(){return q})),n.d(e,"OBJ_TYPE_LESSON_CONFIG",(function(){return U})),n.d(e,"OBJ_TYPE_TEST_CONFIG",(function(){return V})),n.d(e,"OBJ_TYPE_LESSON_EXECUTION",(function(){return z})),n.d(e,"OBJ_TYPE_HELP",(function(){return H})),n.d(e,"OBJ_TYPE_PUPIL_CLASS",(function(){return W})),n.d(e,"OBJ_TYPE_PACKAGE",(function(){return Y})),n.d(e,"OBJ_TYPE_JOURNAL_TASK",(function(){return G})),n.d(e,"OBJ_TYPE_JOURNAL",(function(){return J})),n.d(e,"OBJ_TYPE_REFLECTION",(function(){return K})),n.d(e,"OBJ_TYPE_BLOG",(function(){return Q})),n.d(e,"OBJ_TYPE_WEBQUEST",(function(){return X})),n.d(e,"OBJ_TYPE_WEBQUEST_EXEC",(function(){return Z})),n.d(e,"OBJ_TYPE_COUPON",(function(){return tt})),n.d(e,"OBJ_TYPE_WEBINAR_UNLIM",(function(){return et})),n.d(e,"OBJ_TYPE_PRINTED_JOURNAL",(function(){return nt})),n.d(e,"OBJ_TYPE_OLP_SALARY",(function(){return rt})),n.d(e,"OBJ_TYPE_OLP_SALARY_PUPIL",(function(){return it})),n.d(e,"OBJ_TYPE_OLP_SALARY_PARENT",(function(){return ot})),n.d(e,"OBJ_TYPE_OLP_SALARY_TEACHER1",(function(){return st})),n.d(e,"OBJ_TYPE_OLP_SALARY_TEACHER2",(function(){return at})),n.d(e,"OBJ_TYPE_USER_PRO",(function(){return ct})),n.d(e,"OBJ_TYPE_ACHIEVEMENT",(function(){return lt})),n.d(e,"OBJ_TYPE_OLP_SALARY_PUPIL_3",(function(){return ut})),n.d(e,"OBJ_TYPE_OLP_SALARY_PARENT_3",(function(){return ft})),n.d(e,"OBJ_TYPE_OLP_SALARY_TEACHER1_3",(function(){return dt})),n.d(e,"OBJ_TYPE_OLP_SALARY_TEACHER2_3",(function(){return ht})),n.d(e,"OBJ_TYPE_OLP_TEACHER3",(function(){return pt})),n.d(e,"OBJ_TYPE_PRO_BILL",(function(){return vt})),n.d(e,"OBJ_TYPE_IMAGE",(function(){return mt})),n.d(e,"OBJ_TYPE_THANK",(function(){return gt})),n.d(e,"OBJ_TYPE_OLP_SUBJECT_PARENT",(function(){return yt})),n.d(e,"OBJ_TYPE_COMMENT",(function(){return _t})),n.d(e,"OBJ_TYPE_EVENT_PERSONAL",(function(){return bt})),n.d(e,"OBJ_TYPE_EVENT_COUNT",(function(){return wt})),n.d(e,"OBJ_TYPE_MARATHON_PART",(function(){return kt})),n.d(e,"OBJ_TYPE_SHARE_IMAGE",(function(){return xt})),n.d(e,"OBJ_TYPE_WEBQUEST_TPL",(function(){return St})),n.d(e,"OBJ_TYPE_OLP_USER_DATA",(function(){return Ct})),n.d(e,"OBJ_TYPE_PUPIL_OLP_ASSIGN",(function(){return Ot})),n.d(e,"OBJ_TYPE_OLP_DIRECTOR",(function(){return Et})),n.d(e,"OBJ_TYPE_OLP_TEACHER",(function(){return Pt})),n.d(e,"OBJ_TYPE_CERT_GOLD",(function(){return At})),n.d(e,"OBJ_TYPE_GENERATOR",(function(){return Tt})),n.d(e,"OBJ_TYPE_NMT",(function(){return jt})),n.d(e,"OBJ_TYPE_NMT_SECTION",(function(){return Mt})),n.d(e,"OBJ_TYPE_LIKE",(function(){return It})),n.d(e,"EXT_TYPE_NONE",(function(){return Nt})),n.d(e,"EXT_TYPE_PPT",(function(){return Rt})),n.d(e,"EXT_TYPE_DOC",(function(){return Dt})),n.d(e,"EXT_TYPE_ARCH",(function(){return Lt})),n.d(e,"EXT_TYPE_ARCH_MAN",(function(){return Bt})),n.d(e,"EXT_TYPE_PRINT",(function(){return $t})),n.d(e,"EXT_TYPE_PRINT_DOC",(function(){return Ft})),n.d(e,"EXT_ST_NEW",(function(){return qt})),n.d(e,"EXT_ST_NOT_FILE",(function(){return Ut})),n.d(e,"EXT_ST_BAD_URL",(function(){return Vt})),n.d(e,"EXT_ST_BAD_FILE",(function(){return zt})),n.d(e,"EXT_ST_NOT_SLIDE",(function(){return Ht})),n.d(e,"EXT_ST_NOT_FILE_IN_ARH",(function(){return Wt})),n.d(e,"EXT_ST_CLOUD_ERROR",(function(){return Yt})),n.d(e,"EXT_ST_SUCCESS",(function(){return Gt})),n.d(e,"EXT_ST_SUCCESS_PREVIEW",(function(){return Jt})),n.d(e,"EXT_ST_PREVIEW",(function(){return Kt})),n.d(e,"EXT_ST_NOT_CONVERTED",(function(){return Qt})),n.d(e,"EXT_ST_NOT_FINISHED",(function(){return Xt})),n.d(e,"EXT_MOD_NONE",(function(){return Zt})),n.d(e,"EXT_MOD_SUCCESS",(function(){return te})),n.d(e,"EXT_MOD_SUCCESS_HARD",(function(){return ee})),n.d(e,"EXT_MOD_SUCCESS_LOAD",(function(){return ne})),n.d(e,"EXT_MOD_BAD_STATUS",(function(){return re})),n.d(e,"EXT_MOD_BAD_FORMAT",(function(){return ie})),n.d(e,"EXT_MOD_BAD_PPT_CNT",(function(){return oe})),n.d(e,"EXT_MOD_BAD_DOC_CNT",(function(){return se})),n.d(e,"EXT_MOD_BAD_ARCH_CNT",(function(){return ae})),n.d(e,"EXT_MOD_BAD_PRINT_CNT",(function(){return ce})),n.d(e,"STATUS_PAY_NEW",(function(){return le})),n.d(e,"STATUS_PAY_COST_CHANGE",(function(){return ue})),n.d(e,"STATUS_PAY_WAIT",(function(){return fe})),n.d(e,"STATUS_PAY_REAL_PART",(function(){return de})),n.d(e,"STATUS_PAY_ACC_PART",(function(){return he})),n.d(e,"STATUS_PAY_BONUS_PART",(function(){return pe})),n.d(e,"STATUS_PAY_PROCESS_WAIT",(function(){return ve})),n.d(e,"STATUS_PAY_PROCESS_START",(function(){return me})),n.d(e,"STATUS_PAY_SUCCESS",(function(){return ge})),n.d(e,"STATUS_PAY_REFUND_WAIT",(function(){return ye})),n.d(e,"STATUS_PAY_REFUND",(function(){return _e})),n.d(e,"STATUS_PAY_ERROR",(function(){return be})),n.d(e,"BAN_VOTE",(function(){return we})),n.d(e,"BAN_METODWEEK",(function(){return ke})),n.d(e,"BAN_MESSAGE",(function(){return xe})),n.d(e,"BAN_CHANGE",(function(){return Se})),n.d(e,"BAN_PUBLISH_LIBRARY",(function(){return Ce})),n.d(e,"BAN_PUBLISH_TEST",(function(){return Oe})),n.d(e,"BAN_PUBLISH_LESSON",(function(){return Ee})),n.d(e,"BAN_PUBLISH_BLOG",(function(){return Pe})),n.d(e,"BAN_PUBLISH_MARKET_ITEM",(function(){return Ae})),n.d(e,"BAN_PUBLISH_WEBQUEST",(function(){return Te})),n.d(e,"ARCH_ST_NEW",(function(){return je})),n.d(e,"ARCH_ST_QUEUE",(function(){return Me})),n.d(e,"ARCH_ST_PROCESS",(function(){return Ie})),n.d(e,"ARCH_ST_COMPLETE",(function(){return Ne})),n.d(e,"ARCH_ST_ERROR",(function(){return Re})),n.d(e,"DELIVERY_TYPE_NONE",(function(){return De})),n.d(e,"DELIVERY_TYPE_SUBS",(function(){return Le})),n.d(e,"DELIVERY_TYPE_ANY",(function(){return Be})),n.d(e,"OBJ_LOG_INCOME",(function(){return $e})),n.d(e,"OBJ_LOG_OUTCOME",(function(){return Fe})),n.d(e,"OBJ_LOG_TRANSFER",(function(){return qe})),n.d(e,"OBJ_LOG_ACTIVATE",(function(){return Ue})),n.d(e,"OBJ_LOG_DEACTIVATE",(function(){return Ve})),n.d(e,"REASON_SYSTEM",(function(){return ze})),n.d(e,"REASON_ADMIN",(function(){return He})),n.d(e,"REASON_USER",(function(){return We})),n.d(e,"REASON_CART",(function(){return Ye})),n.d(e,"REASON_PRO_ORDER",(function(){return Ge})),n.d(e,"ST_ACTIVE_CREDIT",(function(){return Je})),n.d(e,"ST_ACTIVE_ON",(function(){return Ke})),n.d(e,"ST_ACTIVE_OFF",(function(){return Qe})),n.d(e,"PAYER_LIQPAY",(function(){return Xe})),n.d(e,"PAYER_BANK_INVOICE",(function(){return Ze})),n.d(e,"PAYER_FREE",(function(){return tn})),n.d(e,"PAYER_SYSTEM",(function(){return en})),n.d(e,"PAYER_UPC",(function(){return nn})),n.d(e,"PAYER_USER",(function(){return rn})),n.d(e,"PAYER_CART",(function(){return on})),n.d(e,"PAYER_POST",(function(){return sn})),n.d(e,"PAYER_PARTNER",(function(){return an})),n.d(e,"PAYER_CONCORD",(function(){return cn})),n.d(e,"CURR_TYPE_BONUS",(function(){return ln})),n.d(e,"CURR_TYPE_REAL",(function(){return un})),n.d(e,"CURR_TYPE_ACC",(function(){return fn})),n.d(e,"CURR_TYPE_PARTNER",(function(){return dn})),n.d(e,"CURR_TYPE_PRO",(function(){return hn})),n.d(e,"CART_ITEM_NEW",(function(){return pn})),n.d(e,"CART_ITEM_ALREADY",(function(){return vn})),n.d(e,"CART_ITEM_SOLD_OUT",(function(){return mn})),n.d(e,"CART_ITEM_DELETED_ADMIN",(function(){return gn})),n.d(e,"CART_ITEM_REFUND",(function(){return yn})),n.d(e,"SALE_ST_NONE",(function(){return _n})),n.d(e,"SALE_ST_ERROR",(function(){return bn})),n.d(e,"SALE_ST_PART",(function(){return wn})),n.d(e,"SALE_ST_WAIT",(function(){return kn})),n.d(e,"SALE_ST_WAIT_PAY",(function(){return xn})),n.d(e,"SALE_ST_WAIT_STOCK",(function(){return Sn})),n.d(e,"SALE_ST_CONFIRM",(function(){return Cn})),n.d(e,"SALE_ST_DELIVERY",(function(){return On})),n.d(e,"SALE_ST_DELIVERY_END",(function(){return En})),n.d(e,"SALE_ST_REJECTED",(function(){return Pn})),n.d(e,"SALE_ST_RECEIVED",(function(){return An})),n.d(e,"SALE_ST_REFUND",(function(){return Tn})),n.d(e,"STATUS_SHOW_PUBLISHED",(function(){return jn})),n.d(e,"STATUS_SHOW_HIDDEN",(function(){return Mn})),n.d(e,"STATUS_SHOW_WAIT",(function(){return In})),n.d(e,"STATUS_SHOW_REJECTED",(function(){return Nn})),n.d(e,"STATUS_SHOW_MODERATING",(function(){return Rn})),n.d(e,"STATUS_SHOW_PRO_DISABLE",(function(){return Dn})),n.d(e,"STATUS_SHOW_PRO_OLD",(function(){return Ln})),n.d(e,"STATUS_SHOW_LINK",(function(){return Bn})),n.d(e,"STATUS_SHOW_PROTECTED",(function(){return $n})),n.d(e,"STATUS_SHOW_ARCHIVE",(function(){return Fn})),n.d(e,"CASE_N",(function(){return qn})),n.d(e,"CASE_R",(function(){return Un})),n.d(e,"CASE_D",(function(){return Vn})),n.d(e,"CASE_Z",(function(){return zn})),n.d(e,"CASE_O",(function(){return Hn})),n.d(e,"CASE_M",(function(){return Wn})),n.d(e,"CASE_K",(function(){return Yn})),n.d(e,"CASE_N_PL",(function(){return Gn})),n.d(e,"CASE_R_PL",(function(){return Jn})),n.d(e,"CASE_D_PL",(function(){return Kn})),n.d(e,"CASE_Z_PL",(function(){return Qn})),n.d(e,"CASE_O_PL",(function(){return Xn})),n.d(e,"CASE_M_PL",(function(){return Zn})),n.d(e,"CASE_K_PL",(function(){return tr})),n.d(e,"SEX_UNKNOWN",(function(){return er})),n.d(e,"SEX_MALE",(function(){return nr})),n.d(e,"SEX_FEMALE",(function(){return rr})),n.d(e,"SEX_PLURAL",(function(){return ir})),n.d(e,"ACTION_CREATE",(function(){return or})),n.d(e,"ACTION_READ",(function(){return sr})),n.d(e,"ACTION_UPDATE",(function(){return ar})),n.d(e,"ACTION_DELETE",(function(){return cr})),n.d(e,"ACTION_RESTORE",(function(){return lr})),n.d(e,"ACTION_PIN",(function(){return ur})),n.d(e,"ACTION_UNPIN",(function(){return fr})),n.d(e,"ROLE_BACK_OFFICE",(function(){return dr})),n.d(e,"ACCESS_ALL",(function(){return hr})),n.d(e,"ACCESS_AUTH",(function(){return pr})),n.d(e,"ACCESS_LINK",(function(){return vr})),n.d(e,"ACCESS_WRITER_LITE",(function(){return mr})),n.d(e,"ACCESS_MODERATOR_LITE",(function(){return gr})),n.d(e,"ACCESS_PAY",(function(){return yr})),n.d(e,"ACCESS_WRITER",(function(){return _r})),n.d(e,"ACCESS_MODERATOR",(function(){return br})),n.d(e,"ACCESS_ADMINISTRATOR",(function(){return wr})),n.d(e,"ACCESS_OWNER",(function(){return kr})),n.d(e,"ACCESS_ADMIN_VO",(function(){return xr})),n.d(e,"TYPE_NEWS",(function(){return Sr})),n.d(e,"TYPE_BLOG",(function(){return Cr})),n.d(e,"USER_UNKNOWN",(function(){return Or})),n.d(e,"USER_GUEST",(function(){return Er})),n.d(e,"USER_PUPIL",(function(){return Pr})),n.d(e,"USER_USER",(function(){return Ar})),n.d(e,"USER_SPACE",(function(){return Tr})),n.d(e,"USER_GROUP",(function(){return jr})),n.d(e,"USER_VSEOSVITA",(function(){return Mr})),n.d(e,"USER_ADMINISTRATOR",(function(){return Ir})),n.d(e,"USER_MARK_PRO",(function(){return Nr})),n.d(e,"USER_MARK_PREMIUM",(function(){return Rr})),n.d(e,"CLASS_PRE_3_4",(function(){return Dr})),n.d(e,"CLASS_PRE_4_5",(function(){return Lr})),n.d(e,"CLASS_PRE_5_6",(function(){return Br})),n.d(e,"CLASS_1",(function(){return $r})),n.d(e,"CLASS_2",(function(){return Fr})),n.d(e,"CLASS_3",(function(){return qr})),n.d(e,"CLASS_4",(function(){return Ur})),n.d(e,"CLASS_5",(function(){return Vr})),n.d(e,"CLASS_6",(function(){return zr})),n.d(e,"CLASS_7",(function(){return Hr})),n.d(e,"CLASS_8",(function(){return Wr})),n.d(e,"CLASS_9",(function(){return Yr})),n.d(e,"CLASS_10",(function(){return Gr})),n.d(e,"CLASS_11",(function(){return Jr})),n.d(e,"CLASS_12",(function(){return Kr})),n.d(e,"CLASS_HIGH_1",(function(){return Qr})),n.d(e,"CLASS_HIGH_2",(function(){return Xr})),n.d(e,"CLASS_HIGH_3",(function(){return Zr})),n.d(e,"CLASS_HIGH_4",(function(){return ti})),n.d(e,"CLASS_HIGH_5",(function(){return ei})),n.d(e,"CLASS_HIGH_6",(function(){return ni})),n.d(e,"CLASS_ADULT",(function(){return ri})),n.d(e,"CLASS_DIFFERENT",(function(){return ii})),n.d(e,"CLASS_BIT_PRE_3_4",(function(){return oi})),n.d(e,"CLASS_BIT_PRE_4_5",(function(){return si})),n.d(e,"CLASS_BIT_PRE_5_6",(function(){return ai})),n.d(e,"CLASS_BIT_1",(function(){return ci})),n.d(e,"CLASS_BIT_2",(function(){return li})),n.d(e,"CLASS_BIT_3",(function(){return ui})),n.d(e,"CLASS_BIT_4",(function(){return fi})),n.d(e,"CLASS_BIT_5",(function(){return di})),n.d(e,"CLASS_BIT_6",(function(){return hi})),n.d(e,"CLASS_BIT_7",(function(){return pi})),n.d(e,"CLASS_BIT_8",(function(){return vi})),n.d(e,"CLASS_BIT_9",(function(){return mi})),n.d(e,"CLASS_BIT_10",(function(){return gi})),n.d(e,"CLASS_BIT_11",(function(){return yi})),n.d(e,"CLASS_BIT_12",(function(){return _i})),n.d(e,"CLASS_BIT_HIGH_1",(function(){return bi})),n.d(e,"CLASS_BIT_HIGH_2",(function(){return wi})),n.d(e,"CLASS_BIT_HIGH_3",(function(){return ki})),n.d(e,"CLASS_BIT_HIGH_4",(function(){return xi})),n.d(e,"CLASS_BIT_HIGH_5",(function(){return Si})),n.d(e,"CLASS_BIT_HIGH_6",(function(){return Ci})),n.d(e,"CLASS_BIT_ADULT",(function(){return Oi})),n.d(e,"CLASS_BIT_DIFFERENT",(function(){return Ei})),n.d(e,"MONTH_01",(function(){return Pi})),n.d(e,"MONTH_02",(function(){return Ai})),n.d(e,"MONTH_03",(function(){return Ti})),n.d(e,"MONTH_04",(function(){return ji})),n.d(e,"MONTH_05",(function(){return Mi})),n.d(e,"MONTH_06",(function(){return Ii})),n.d(e,"MONTH_07",(function(){return Ni})),n.d(e,"MONTH_08",(function(){return Ri})),n.d(e,"MONTH_09",(function(){return Di})),n.d(e,"MONTH_10",(function(){return Li})),n.d(e,"MONTH_11",(function(){return Bi})),n.d(e,"MONTH_12",(function(){return $i})),n.d(e,"DELIMITER_OBJ_KEY",(function(){return Fi})),n.d(e,"DELIMITER_USER_KEY",(function(){return qi})),n.d(e,"NULL_OBJ_KEY",(function(){return Ui})),n.d(e,"NULL_USER_KEY",(function(){return Vi})),n.d(e,"EVENT_PERSONAL",(function(){return zi})),n.d(e,"EVENT_BLOCKED",(function(){return Hi})),n.d(e,"EVENT_REFERRAL",(function(){return Wi})),n.d(e,"EVENT_PRO_SALE",(function(){return Yi})),n.d(e,"EVENT_CASHBACK",(function(){return Gi})),n.d(e,"EVENT_COUPON",(function(){return Ji})),n.d(e,"EVENT_PRO_REFUND",(function(){return Ki})),n.d(e,"EVENT_GROUP_INDIVIDUAL",(function(){return Qi})),n.d(e,"EVENT_RATED",(function(){return Xi})),n.d(e,"EVENT_RECALL",(function(){return Zi})),n.d(e,"EVENT_GROUP_PRIVATE",(function(){return to})),n.d(e,"EVENT_GROUP_SUB_PRIVATE_PUPIL",(function(){return eo})),n.d(e,"EVENT_GROUP_SUB_PRIVATE_USER",(function(){return no})),n.d(e,"EVENT_COMMENT",(function(){return ro})),n.d(e,"EVENT_RESPONSE",(function(){return io})),n.d(e,"EVENT_GROUP_SUB_PRIVATE",(function(){return oo})),n.d(e,"EVENT_GROUP_LIMIT_PUPIL",(function(){return so})),n.d(e,"EVENT_EXECUTE",(function(){return ao})),n.d(e,"EVENT_GROUP_USER_LIMIT",(function(){return co})),n.d(e,"EVENT_TASK",(function(){return lo})),n.d(e,"EVENT_GROUP_LIMIT",(function(){return uo})),n.d(e,"EVENT_GROUP_PUBLIC_PUPIL",(function(){return fo})),n.d(e,"EVENT_GROUP_PUBLIC_USER",(function(){return ho})),n.d(e,"EVENT_PUBLISH",(function(){return po})),n.d(e,"EVENT_OPEN_TICKET",(function(){return vo})),n.d(e,"EVENT_OPEN_SALE",(function(){return mo})),n.d(e,"EVENT_REMINDER",(function(){return go})),n.d(e,"EVENT_SPEAKER",(function(){return yo})),n.d(e,"EVENT_GROUP_PUBLIC",(function(){return _o})),n.d(e,"EVENT_GROUP_ALL_PUPIL",(function(){return bo})),n.d(e,"EVENT_GROUP_ALL_USER",(function(){return wo})),n.d(e,"EVENT_ALL",(function(){return ko})),n.d(e,"EVENT_GROUP_ALL",(function(){return xo})),n.d(e,"Classes",(function(){return Co})),n.d(e,"LabelsArray",(function(){return Oo})),n.d(e,"Label",(function(){return Eo}));n(1200);var r=1,i=2,o=3,s=4,a=5,c=6,l=7,u=8,f=9,d=10,h=11,p=12,v=13,m=14,g=15,y=16,_=17,b=18,w=19,k=20,x=21,S=22,C=23,O=24,E=25,P=26,A=27,T=28,j=29,M=30,I=31,N=32,R=33,D=34,L=35,B=36,$=37,F=38,q=39,U=40,V=41,z=42,H=43,W=44,Y=45,G=46,J=47,K=48,Q=49,X=50,Z=51,tt=52,et=53,nt=54,rt=55,it=56,ot=57,st=58,at=59,ct=60,lt=61,ut=62,ft=63,dt=64,ht=65,pt=66,vt=67,mt=68,gt=69,yt=70,_t=71,bt=72,wt=73,kt=74,xt=75,St=76,Ct=77,Ot=78,Et=79,Pt=80,At=81,Tt=82,jt=83,Mt=84,It=85,Nt=0,Rt=1,Dt=2,Lt=3,Bt=4,$t=5,Ft=6,qt=0,Ut=1,Vt=2,zt=3,Ht=4,Wt=6,Yt=7,Gt=10,Jt=12,Kt=14,Qt=20,Xt=30,Zt=0,te=1,ee=2,ne=3,re=40,ie=41,oe=42,se=43,ae=44,ce=45,le=0,ue=10,fe=100,de=110,he=120,pe=130,ve=200,me=210,ge=500,ye=750,_e=800,be=1e3,we=1,ke=2,xe=4,Se=8,Ce=16,Oe=32,Ee=64,Pe=128,Ae=256,Te=512,je=0,Me=1,Ie=2,Ne=10,Re=50,De=0,Le=10,Be=20,$e=10,Fe=20,qe=30,Ue=40,Ve=50,ze=10,He=20,We=30,Ye=40,Ge=50,Je=0,Ke=10,Qe=20,Xe=10,Ze=20,tn=30,en=40,nn=50,rn=60,on=70,sn=80,an=90,cn=100,ln=0,un=10,fn=20,dn=30,hn=40,pn=0,vn=10,mn=20,gn=30,yn=40,_n=0,bn=10,wn=20,kn=100,xn=101,Sn=102,Cn=110,On=120,En=130,Pn=200,An=500,Tn=800,jn=0,Mn=1,In=2,Nn=3,Rn=4,Dn=5,Ln=6,Bn=10,$n=15,Fn=20,qn=0,Un=1,Vn=2,zn=3,Hn=4,Wn=5,Yn=6,Gn=7,Jn=8,Kn=9,Qn=10,Xn=11,Zn=12,tr=13,er=0,nr=1,rr=2,ir=3,or=1,sr=2,ar=3,cr=4,lr=5,ur=11,fr=12,dr=100,hr=0,pr=10,vr=20,mr=30,gr=40,yr=50,_r=60,br=70,wr=80,kr=90,xr=100,Sr=1,Cr=2,Or=1,Er=10,Pr=20,Ar=30,Tr=50,jr=40,Mr=100,Ir=101,Nr=1,Rr=2,Dr=-2,Lr=-3,Br=-1,$r=1,Fr=2,qr=3,Ur=4,Vr=5,zr=6,Hr=7,Wr=8,Yr=9,Gr=10,Jr=11,Kr=12,Qr=21,Xr=22,Zr=23,ti=24,ei=25,ni=26,ri=13,ii=14,oi=16384,si=32768,ai=1,ci=2,li=4,ui=8,fi=16,di=32,hi=64,pi=128,vi=256,mi=512,gi=1024,yi=2048,_i=4096,bi=65536,wi=131072,ki=262144,xi=524288,Si=1048576,Ci=2097152,Oi=8192,Ei=4194304,Pi=1,Ai=2,Ti=3,ji=4,Mi=5,Ii=6,Ni=7,Ri=8,Di=9,Li=10,Bi=11,$i=12,Fi="-",qi="@",Ui="0"+Fi+"0"+Fi+"0",Vi=Or+qi+"0",zi=1,Hi=2,Wi=3,Yi=4,Gi=5,Ji=6,Ki=7,Qi=[0,999],Xi=1001,Zi=1002,to=[1e3,1999],eo=[2e3,2999],no=[3e3,3999],ro=4001,io=4002,oo=[4e3,4999],so=[5e3,5999],ao=6001,co=[6e3,6999],lo=7001,uo=[7e3,999],fo=[8e3,8999],ho=[9e3,9999],po=10001,vo=10002,mo=10003,go=10004,yo=10005,_o=[1e4,10999],bo=[11e3,1999],wo=[12e3,12999],ko=13001,xo=[13e3,13999],So=[{label:"obj_type",items:[[r,"Діалог","Діалогу","Діалогу","Діалог","Діалогом",null,null,"Діалоги"],[i,"Методичний матеріал","Методичного матеріалу","Методичному матеріалу","Методичний матеріал","Методичним матеріалом",null,null,"Методичні матеріали"],[o,"Новина","Новини","Новині","Новину","Новиною",null,null,"Новини"],[s,"Персональний сертифікат","Персонального сертифіката","Персональному сертифікату","Персональний сертифікат","Персональним сертифікатом",null,null,"Персональні сертифікати"],[a,"Вебінар","Вебінару","Вебінару","Вебінар","Вебінаром",null,null,"Вебінари"],[c,"Олімпіада","Олімпіади","Олімпіаді","Олімпіаду","Олімпіадою",null,null,"Олімпіади"],[l,"Олімпіада предмет","Олімпіади предмета","Олімпіаді предмету","Олімпіаду предмет","Олімпіадою предметом",null,null,"Олімпіади предмет"],[u,"Олімпіада вчитель 1","Олімпіади вчителя 1","Олімпіаді вчителю 1","Олімпіаду вчителя 1","Олімпіадою вчителем 1",null,null,"Олімпіади вчитель 1"],[f,"Олімпіада вчитель 2","Олімпіади вчителя 2","Олімпіаді вчителю 2","Олімпіаду вчителя 2","Олімпіадою вчителем 2",null,null,"Олімпіади вчитель 2"],[d,"Олімпіада учень","Олімпіади учня","Олімпіаді учню","Олімпіаду учня","Олімпіадою учнем",null,null,"Олімпіади учень"],[h,"Олімпіада батьки","Олімпіади батьків","Олімпіади батькам","Олімпіаду батьків","Олімпіадою батьками",null,null,"Олімпіади батьки"],[p,"Користувач системний","Користувача системного","Користувачу системному","Користувача системного","Користувачем системним",null,null,"Користувачі системні"],[v,"Сторінка","Сторінки","Сторінці","Сторінку","Сторінкою",null,null,"Сторінки"],[m,"Вчитель","Вчителя","Вчителю","Вчителя","Вчителем",null,null,"Вчителі"],[g,"Клас у розіграші (заст.)","Класу у розіграші (заст.)","Класу у розіграші (заст.)","Клас у розіграші (заст.)","Класом у розіграші (заст.)",null,null,"Класи у розіграші (заст.)"],[y,"Курс","Курсу","Курсу","Курс","Курсом",null,null,"Курси"],[_,"Модуль курсу","Модуля курсу","Модулю курсу","Модуль курсу","Модулем курсу",null,null,"Модулі курсів"],[b,"Публікація","Публікації","Публікації","Публікацію","Публікацією",null,null,"Публікації"],[w,"Матеріал розіграшу","Матеріалу розіграшу","Матеріалу розіграшу","Матеріал розіграшу","Матеріалом розіграшу",null,null,"Мотеріали розіграшів"],[k,"Олімпіада учасник розіграшу","Олімпіади учасника розіграшу","Олімпіаді учаснику розіграшу","Олімпіаду учасника розіграшу","Олімпіадою учасником розіграшу",null,null,"Олімпіади учасники розіграшів"],[x,"Користувач","Користувача","Користувачу","Користувача","Користувачем",null,null,"Користувачі"],[S,"Користувач реферальний","Користувача реферального","Користувачу реферальному","Користувача реферального","Користувачем реферальним",null,null,"Користувачі реферальні"],[C,"Репетитор","Репетитора","Репетитору","Репетитора","Репетитором",null,null,"Репетитори"],[O,"Олімпіада рейтинг шкіл кількісний","Олімпіади рейтинга шкіл кількісного","Олімпіаді рейтингу шкіл кількісному","Олімпіаду рейтинг шкіл кількісний","Олімпіадою рейтингом шкіл кількісним",null,null,"Олімпіади рейтинги шкіл кількісні"],[E,"Олімпіада рейтинг шкіл якісний","Олімпіади рейтинга шкіл якісного","Олімпіаді рейтингу шкіл якісному","Олімпіаду рейтинг шкіл якісний","Олімпіадою рейтингом шкіл якісним",null,null,"Олімпіадаи рейтинги шкіл якісні"],[P,"Група","Групи","Групі","Групу","Групою",null,null,"Групи"],[A,"Конференція","Конференції","Конференції","Конференцію","Конференцією",null,null,"Конференції"],[T,"Онлайн-магазин","Онлайн-магазина","Онлайн-магазину","Онлайн-магазин","Онлайн-магазином",null,null,"Онлайн-магазини"],[j,"Профіль магазину","Профіля магазину","Профілю магазину","Профіль магазину","Профілем магазину",null,null,"Профілі магазинів"],[M,"Тест","Тесту","Тесту","Тест","Тестом",null,null,"Тести"],[I,"Марафон","Марафона","Марафону","Марафон","Марафоном",null,null,"Марафони"],[N,"Семінар","Семінару","Семінару","Семінар","Семінаром",null,null,"Семінари"],[R,"Передбачення","Передбачення","Передбаченню","Передбачення","Передбаченням",null,null,"Передбачення"],[D,"ЗНО"],[L,"Проходження тестування","Проходження тестування","Проходженню тестування","Проходження тестування","Проходженням тестування",null,null,"Проходження тестуваннь"],[B,"Динамічний QR-код","Динамічного QR-кода","Динамічному QR-коду","Динамічний QR-код","Динамічним QR-кодом",null,null,"Динамічні QR-коди"],[$,"Подія","Події","Події","Подію","Подією",null,null,"Події"],[F,"Урок","Уроку","Уроку","Урок","Уроком",null,null,"Уроки"],[q,"Замовлення","Замовлення","Замовленню","Замовлення","Замовленням",null,null,"Замовлення"],[U,"Урок проходження","Уроку проходження","Уроку проходження","Урок проходження","Уроком проходження",null,null,"Уроки проходження"],[V,"Тест проходження","Тесту проходження","Тесту проходження","Тест проходження","Тестом проходження",null,null,"Тести проходження"],[z,"Проходження уроку","Проходження уроку","Проходженню уроку","Проходження уроку","Проходженням уроку",null,null,"Проходження уроків"],[H,"Кабінет психолога","Кабінету психолога","Кабінету психолога","Кабінет психолога","Кабінетом психолога",null,null,"Кабінети психологів"],[W,"Клас","Класу","Класу","Клас","Класом",null,null,"Класи"],[Y,"Активаційний пакет","Активаційного пакета","Активаційному пакету","Активаційний пакет","Активаційним пакетом",null,null,"Активаційні пакети"],[G,"Завдання","Завдання","Завданню","Завдання","Завданням",null,null,"Завдання"],[J,"Журнал","Журналу","Журналу","Журнал","Журналом",null,null,"Журнали"],[K,"Рефлексія","Рефлексії","Рефлексії","Рефлексію","Рефлексією",null,null,"Рефлексії"],[Q,"Блог","Блогу","Блогу","Блог","Блогом",null,null,"Блоги"],[X,"Вебквест","Вебквесту","Вебквесту","Вебквест","Вебквестом",null,null,"Вебквести"],[Z,"Вебквест проходження","Вебквесту проходження","Вебквесту проходження","Вебквест проходження","Вебквестом проходження",null,null,"Вебквести проходження"],[tt,"Купон","Купона","Купону","Купон","Купоном",null,null,"Купони"],[et,"Вебінарний безліміт","Вебінарного безліміту","Вебінарному безліміту","Вебінарний безліміт","Вебінарним безлімітом",null,null,"Вебінарні безліміти"],[nt,"Друкований журнал","Друкованого журналу","Друкованому журналу","Друкований журнал","Друкованим журналом",null,null,"Друковані журнали"],[rt,"Олімпіада ІІ тур","Олімпіади ІІ туру","Олімпіаді ІІ туру","Олімпіаду ІІ туру","Олімпіадою ІІ туру",null,null,"Олімпіади ІІ тури"],[it,"Олімпіада ІІ тур учень","Олімпіади ІІ туру учня","Олімпіаді ІІ туру учню","Олімпіаду ІІ туру учня","Олімпіадою ІІ туру учнем",null,null,"Олімпіади ІІ тури учні"],[ot,"Олімпіада ІІ тур батьки","Олімпіади ІІ туру батьків","Олімпіаді ІІ туру батькам","Олімпіаду ІІ туру батьків","Олімпіадою ІІ туру батьками",null,null,"Олімпіади ІІ тури батьки"],[st,"Олімпіада ІІ вчитель 1","Олімпіади ІІ вчителя 1","Олімпіаді ІІ вчителю 1","Олімпіаду ІІ вчителя 1","Олімпіадою ІІ вчителем 1",null,null,"Олімпіади ІІ вчителі 1"],[at,"Олімпіада ІІ вчитель 2","Олімпіади ІІ вчителя 2","Олімпіаді ІІ вчителю 2","Олімпіаду ІІ вчителя 2","Олімпіадою ІІ вчителем 2",null,null,"Олімпіади ІІ вчителі 2"],[ut,"Олімпіада ІІІ тур учень","Олімпіади ІІІ туру учня","Олімпіаді ІІІ туру учню","Олімпіаду ІІІ туру учня","Олімпіадою ІІІ туру учнем",null,null,"Олімпіади ІІІ тури учні"],[ft,"Олімпіада ІІІ тур батьки","Олімпіади ІІІ туру батьків","Олімпіаді ІІІ туру батькам","Олімпіаду ІІІ туру батьків","Олімпіадою ІІІ туру батьками",null,null,"Олімпіади ІІІ тури батьки"],[dt,"Олімпіада ІІІ вчитель 1","Олімпіади ІІІ вчителя 1","Олімпіаді ІІІ вчителю 1","Олімпіаду ІІІ вчителя 1","Олімпіадою ІІІ вчителем 1",null,null,"Олімпіади ІІІ вчителі"],[ht,"Олімпіада ІІІ вчитель 2","Олімпіади ІІІ вчителя 2","Олімпіаді ІІІ вчителю 2","Олімпіаду ІІІ вчителя 2","Олімпіадою ІІІ вчителем 2",null,null,"Олімпіади ІІІ вчителі 2"],[ct,"Професійний акаунт","Професійного акаунта","Професійному акаунту","Професійний акаунт","Професійним акаунтом",null,null,"Професійні акаунти"],[lt,"Досягнення","Досягнень","Досягненням","Досягнення","Досягненнями",null,null,"Досягнення"],[pt,"Олімпіада вчитель 3","Олімпіади вчителя 3","Олімпіаді вчителю 3","Олімпіаду вчителя 3","Олімпіадою вчителем 3",null,null,"Олімпіада вчитель 3"],[vt,"PRO-акаунт","PRO-акаунта","PRO-акаунту","PRO-акаунт","PRO-акаунтом",null,null,"PRO-акаунти"],[mt,"Фотографія","Фотографії","Фотографії","Фотографію","Фотографією",null,null,"Фотографії"],[gt,"Підтримка для Всеосвіти","Підтримки для Всеосвіти","Підтримці для Всеосвіти","Підтримку для Всеосвіти","Підтримкою для Всеосвіти",null,null,"Підтримки для Всеосвіти"],[yt,"Лист по предмету батькам","Листа по предмету батькам","Листу по предмету батькам","Лист по предмету батькам","Листом по предмету батькам",null,null,"Листи по предметам батькам"],[_t,"Повідомлення","Повідомлення","Повідомленню","Повідомлення","Повідомленням",null,null,"Повідомлення"],[bt,"Персональне повідомлення","Персонального повідомлення","Персональному повідомленню","Персональне повідомлення","Персональним повідомленням",null,null,"Персональні повідомлення"],[wt,"Сума","Суми","Сумі","Суму","Сумою",null,null,"Суми"],[kt,"Етап марафону","Етапу марафону","Етапу марафону","Етап марафону","Етапом марафону",null,null,"Етапи марафонів"],[xt,"Прев'ю"],[St,"Шаблон вебквеста","Шаблона вебквеста","Шаблону вебквеста","Шаблон вебквеста","Шаблоном вебквеста",null,null,"Шаблони вебквестів"],[Ct,"Організатор олімпіади","Організатора олімпіади","Організатору олімпіади","Організатора олімпіади","Організатором олімпіади",null,null,"Організатори олімпіади"],[Ot,"Учасник олімпіади","Учасника олімпіади","Учаснику олімпіади","Учасника олімпіади","Учасником олімпіади",null,null,"Учасники олімпіади"],[Et,"Учасник олімпіади","Учасника олімпіади","Учаснику олімпіади","Учасника олімпіади","Учасником олімпіади",null,null,"Учасники олімпіади"],[Pt,"Учасник олімпіади","Учасника олімпіади","Учаснику олімпіади","Учасника олімпіади","Учасником олімпіади",null,null,"Учасники олімпіади"],[At,"Золота грамота","Золотої грамоти","Золотій грамоті","Золоту грамоту","Золотою грамотою",null,null,"Золоті грамоти"],[Tt,"Генератор","Генератора","Генератору","Генератор","Генератором",null,null,"Генератори"],[jt,"НМТ"],[Mt,"Розділ НМТ","Розділа НМТ","Розділу НМТ","Розділ НМТ","Розділом НМТ",null,null,"Розділи НМТ"],[It,"Реакція","Реакції","Реакції","Реакцію","Реакцією",null,null,"Реакції"]]},{label:"user",items:[[Or,"Невідомий"],[Er,"Гість"],[Pr,"Учень"],[Ar,"Користувач"],[Tr,"Простір"],[jr,"Група"],[Mr,"Всеосвіта"],[Ir,"Адміністратор"]]},{label:"class",items:[Dr,"3—4 роки",Lr,"4—5 років",Br,"5—6 років",$r,"1 Клас",Fr,"2 Клас",qr,"3 Клас",Ur,"4 Клас",Vr,"5 Клас",zr,"6 Клас",Hr,"7 Клас",Wr,"8 Клас",Yr,"9 Клас",Gr,"10 Клас",Jr,"11 Клас",Kr,"12 Клас",Qr,"I курс",Xr,"II курс",Zr,"III курс",ti,"IV курс",ei,"V курс",ni,"VI курс",ri,"Дорослі",ii,"Змішаний"]},{label:"class_bit",items:[oi,"3—4 роки",si,"4—5 років",ai,"5—6 років",ci,"1 Клас",li,"2 Клас",ui,"3 Клас",fi,"4 Клас",di,"5 Клас",hi,"6 Клас",pi,"7 Клас",vi,"8 Клас",mi,"9 Клас",gi,"10 Клас",yi,"11 Клас",_i,"12 Клас",bi,"I курс",wi,"II курс",ki,"III курс",xi,"IV курс",Si,"V курс",Ci,"VI курс",Oi,"Дорослі",Ei,"Змішаний"]},{label:"month",items:[[Pi,"Січень","Січня","Січню","Січень","Січнем",null,null,"Січні"],[Ai,"Лютий","Лютого","Лютому","Лютий","Лютим",null,null,"Лютні"],[Ti,"Березень","Березня","Березню","Березень","Березнем",null,null,"Березні"],[ji,"Квітень","Квітня","Квітню","Квітень","Квітнем",null,null,"Квітні"],[Mi,"Травень","Травня","Травню","Травень","Травнем",null,null,"Травні"],[Ii,"Червень","Червня","Червню","Червень","Червнем",null,null,"Червні"],[Ni,"Липень","Липня","Липню","Липень","Липнем",null,null,"Липні"],[Ri,"Серпень","Серпня","Серпню","Серпень","Серпнем",null,null,"Серпні"],[Di,"Вересень","Вересня","Вересню","Вересень","Вереснем",null,null,"Вересні"],[Li,"Жовтень","Жовтня","Жовтню","Жовтень","Жовтнем",null,null,"Жовтні"],[Bi,"Листопад","Листопада","Листопаду","Листопад","Листопадом",null,null,"Листопади"],[$i,"Грудень","Грудня","Грудню","Грудень","Груднем",null,null,"Грудні"]]},{label:"event",items:[[zi,"Персональне повідомлення"],[Hi,"Блокування"],[Wi,"Зареєстровано реферала"],[Yi,"Продаж ПРО"],[Gi,"Кешбек"],[Ji,"Купони"],[Ki,"Повернення ПРО"],[Xi,"Оцінка"],[Zi,"Згадування"],[ro,"Коментар"],[io,"Відповідь"],[ao,"Виконання"],[lo,"Завдання"],[po,"Публікація"],[vo,"Нова подія"],[mo,"Новий товар"],[go,"Нагадування"],[yo,"Спікер"],[ko,"Для всіх"]]},{label:"event.emoji",items:[[zi,"🔏"],[Hi,"⛔️"],[Wi,"🕺️"],[Yi,"💸"],[Gi,"💰"],[Ji,"🎟️"],[Ki,"😎"],[Xi,"👍"],[Zi,"🕵️"],[ro,"🧾"],[io,"📜"],[ao,"✔️"],[lo,"⏳"],[po,"☀️"],[vo,"🎫"],[mo,"💎"],[go,"⏰"],[yo,"👑"],[ko,"🌍"]]},{label:"event.verb",items:[[zi,"Надіслав(ла)","Надіслав","Надіслала","Надіслали"],[Hi,"Заблокував(ла)","Заблокував","Заблокувала","Заблокували"],[Wi,"Зареєструвався(лась)","Зареєструвався","Зареєструвалась","Зареєструвалися"],[Yi,"Придбав(ла)","Придбав","Придбала","Придбали"],[Gi,"Перерахував(ла) вам кешбек","Перерахував вам кешбек","Перерахувала вам кешбек","Перерахували вам кешбек"],[Ji,"Передав(ла) вам купони","Передав вам купони","Передала вам купони","Передали вам купони"],[Ki,"Отримав(ла) повернення","Отримав повернення","Отримала повернення","Отримали повернення"],[Xi,"Оцінив(ла)","Оцінив","Оцінила","Оцінили"],[Zi,"Згадав(ла)","Згадав","Згадала","Згадали"],[ro,"Прокоментував(ла)","Прокоментував","Прокоментувала","Прокоментували"],[io,"Відповів(ла) на","Відповів на","Відповіла на","Відповіли на"],[ao,"Виконав(ла)","Виконав","Виконала","Виконали"],[lo,"Призначив(ла)","Призначив","Призначила","Призначили"],[po,"Опублікував(ла)","Опублікував","Опублікувала","Опублікували"],[vo,"Відкрито реєстрацію"],[mo,"Додав(ла)","Додав","Додала","Додали"],[go,"Відбудеться"],[yo,"Візьме участь"],[ko,"Надіслав(ла)","Надіслав","Надіслала","Надіслали"]]}];function Co(){return[{num:Dr,bit:oi,title:"3—4 роки",class_group:10},{num:Lr,bit:si,title:"4—5 років",class_group:10},{num:Br,bit:ai,title:"5—6 років",class_group:10},{num:$r,bit:ci,title:"1 Клас",class_group:20},{num:Fr,bit:li,title:"2 Клас",class_group:20},{num:qr,bit:ui,title:"3 Клас",class_group:20},{num:Ur,bit:fi,title:"4 Клас",class_group:20},{num:Vr,bit:di,title:"5 Клас",class_group:30},{num:zr,bit:hi,title:"6 Клас",class_group:30},{num:Hr,bit:pi,title:"7 Клас",class_group:30},{num:Wr,bit:vi,title:"8 Клас",class_group:30},{num:Yr,bit:mi,title:"9 Клас",class_group:30},{num:Gr,bit:gi,title:"10 Клас",class_group:40},{num:Jr,bit:yi,title:"11 Клас",class_group:40},{num:Kr,bit:_i,title:"12 Клас",class_group:60},{num:Qr,bit:bi,title:"I курс",class_group:50},{num:Xr,bit:wi,title:"II курс",class_group:50},{num:Zr,bit:ki,title:"III курс",class_group:50},{num:ti,bit:xi,title:"IV курс",class_group:50},{num:ei,bit:Si,title:"V курс",class_group:50},{num:ni,bit:Ci,title:"VI курс",class_group:50},{num:ii,bit:Ei,title:"Змішаний",class_group:60},{num:ri,bit:Oi,title:"Дорослі",class_group:60}]}function Oo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn,n=So.find((function(e){return e.label===t}));if(n)return n.items.map((function(t){return[t[0],t.length>e+1?t[e+1]:t[1]]}))}function Eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Oo(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn);return t=parseInt(t),r.reduce((function(e,n){return n[0]===t?n[1]:e}),n)}},function(t,e,n){t.exports=n(510)},function(t,e,n){"use strict";function r(t){this.content=t}n.r(e),n.d(e,"ContentMatch",(function(){return N})),n.d(e,"DOMParser",(function(){return Q})),n.d(e,"DOMSerializer",(function(){return at})),n.d(e,"Fragment",(function(){return a})),n.d(e,"Mark",(function(){return f})),n.d(e,"MarkType",(function(){return G})),n.d(e,"Node",(function(){return j})),n.d(e,"NodeRange",(function(){return A})),n.d(e,"NodeType",(function(){return W})),n.d(e,"ReplaceError",(function(){return d})),n.d(e,"ResolvedPos",(function(){return C})),n.d(e,"Schema",(function(){return J})),n.d(e,"Slice",(function(){return h})),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),s=i.content.slice();return-1==o?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),s=i.find(t);return o.splice(-1==s?o.length:s,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach((function(e,n){t[e]=n})),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r;function o(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i!=s){if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let t=0;i.text[t]==s.text[t];t++)n++;return n}if(i.content.size||s.content.size){let t=o(i.content,s.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function s(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let a=t.child(--i),c=e.child(--o),l=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let t=0,e=Math.min(a.text.length,c.text.length);for(;t<e&&a.text[a.text.length-t-1]==c.text[c.text.length-t-1];)t++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let t=s(a.content,c.content,n-1,r-1);if(t)return t}n-=l,r-=l}else n-=l,r-=l}}class a{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,s=0;s<e;o++){let a=this.content[o],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,t-i),Math.min(a.content.size,e-i),n,r+i)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,((s,a)=>{s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),o=!n):s.isLeaf?(r?i+="function"==typeof r?r(s):r:s.type.spec.leafText&&(i+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(i+=n,o=!0)}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new a(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let s=this.content[i],a=o+s.nodeSize;a>t&&((o<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-o),Math.min(s.text.length,e-o)):s.cut(Math.max(0,t-o-1),Math.min(s.content.size,e-o-1))),n.push(s),r+=s.nodeSize),o=a}return new a(n,r)}cutByIndex(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,i)}addToStart(t){return new a([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new a(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return o(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return s(this,t,e,n)}findIndex(t,e=-1){if(0==t)return l(0,t);if(t==this.size)return l(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?l(n+1,i):l(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return a.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new a(e||t,n)}static from(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);const c={index:0,offset:0};function l(t,e){return c.index=t,c.offset=e,c}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!u(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!u(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class f{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return f.none;if(t instanceof f)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}f.none=[];class d extends Error{}class h{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=v(this.content,t+this.openStart,e);return n&&new h(n,this.openStart,this.openEnd)}removeBetween(t,e){return new h(p(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return h.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new h(a.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)r++;return new h(t,n,r)}}function p(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(p(o.content,e-i-1,n-i-1)))}function v(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=v(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function m(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return g(t,e,n,0)}function g(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=g(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:s}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let t=n-1;t>=0;t--)r=e.node(t).copy(a.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return k(o,x(t,i,s,e,r))}{let r=t.parent,i=r.content;return k(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return k(o,S(t,e,r))}function y(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function _(t,e,n){let r=t.node(n);return y(r,e.node(n)),r}function b(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(b(t.nodeAfter,r),o++));for(let t=o;t<s;t++)b(i.child(t),r);e&&e.depth==n&&e.textOffset&&b(e.nodeBefore,r)}function k(t,e){return t.type.checkContent(e),t.copy(e)}function x(t,e,n,r,i){let o=t.depth>i&&_(t,e,i+1),s=r.depth>i&&_(n,r,i+1),c=[];return w(null,t,i,c),o&&s&&e.index(i)==n.index(i)?(y(o,s),b(k(o,x(t,e,n,r,i+1)),c)):(o&&b(k(o,S(t,e,i+1)),c),w(e,n,i,c),s&&b(k(s,S(n,r,i+1)),c)),w(r,null,i,c),new a(c)}function S(t,e,n){let r=[];if(w(null,t,n,r),t.depth>n){b(k(_(t,e,n+1),S(t,e,n+1)),r)}return w(e,null,n,r),new a(r)}h.empty=new h(a.empty,0,0);class C{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return f.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new A(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),s=i-o;if(n.push(e,t,r+o),!s)break;if(e=e.child(t),e.isText)break;i=s-1,r+=o+1}return new C(e,n,i)}static resolveCached(t,e){for(let n=0;n<O.length;n++){let r=O[n];if(r.pos==e&&r.doc==t)return r}let n=O[E]=C.resolve(t,e);return E=(E+1)%P,n}}let O=[],E=0,P=12;class A{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const T=Object.create(null);class j{constructor(t,e,n,r=f.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||T)&&f.sameSet(this.marks,n||f.none)}copy(t=null){return t==this.content?this:new j(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new j(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return h.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new h(a,r.depth-o,i.depth-o)}replace(t,e,n){return m(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return C.resolveCached(this,t)}resolveNoCache(t){return C.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=a.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let t=r;t<i;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=f.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!f.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}j.prototype.text=void 0;class M extends j{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new M(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new M(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class N{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new R(t,e);if(null==n.next)return N.empty;let r=D(n);n.next&&n.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return n(U(t,0));function n(r){let i=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);U(t,n).forEach((t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let o=e[r.join(",")]=new N(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(q);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}}(function(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(o(n,e))),[]);if("seq"!=t.type){if("star"==t.type){let s=n();return r(e,s),i(o(t.expr,s),s),[r(s)]}if("plus"==t.type){let s=n();return i(o(t.expr,e),s),i(o(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){let s=e;for(let e=0;e<t.min;e++){let e=n();i(o(t.expr,s),e),s=e}if(-1==t.max)i(o(t.expr,s),s);else for(let e=t.min;e<t.max;e++){let e=n();r(s,e),i(o(t.expr,s),e),s=e}return[r(s)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(t.exprs[r],e);if(r==t.exprs.length-1)return s;i(s,e=n())}}}(r));return function(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:s}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];return function i(o,s){let c=o.matchFragment(t,n);if(c&&(!e||c.validEnd))return a.from(s.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,s.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:s}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map(((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)r+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next);return r})).join("\n")}}N.empty=new N(!0);class R{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function D(t){let e=[];do{e.push(L(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function L(t){let e=[];do{e.push(B(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function B(t){let e=function(t){if(t.eat("(")){let e=D(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let t in n){let r=n[t];r.groups.indexOf(e)>-1&&i.push(r)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=F(t,e)}return e}function $(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function F(t,e){let n=$(t),r=n;return t.eat(",")&&(r="}"!=t.next?$(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function q(t,e){return e-t}function U(t,e){let n=[];return function e(r){let i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(let t=0;t<i.length;t++){let{term:r,to:o}=i[t];r||-1!=n.indexOf(o)||e(o)}}(e),n.sort(q)}function V(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function z(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function H(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Y(t[n]);return e}class W{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=H(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==N.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:z(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new j(this,this.computeAttrs(t),a.from(e),f.setFrom(n))}createChecked(t=null,e,n){return e=a.from(e),this.checkContent(e),new j(this,this.computeAttrs(t),e,f.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),(e=a.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(a.empty,!0);return i?new j(this,t,e.append(i),f.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:f.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new W(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let t in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Y{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class G{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=H(r.attrs),this.excluded=null;let i=V(this.attrs);this.instance=i?new f(this,i):null}create(t=null){return!t&&this.instance?this.instance:new f(this,z(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,i)=>n[t]=new G(t,r++,e,i))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class J{constructor(t){this.cached=Object.create(null);let e=this.spec={};for(let n in t)e[n]=t[n];e.nodes=i.from(t.nodes),e.marks=i.from(t.marks||{}),this.nodes=W.compile(this.spec.nodes,this),this.marks=G.compile(this.spec.marks,this);let n=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],r=e.spec.content||"",i=e.spec.marks;e.contentMatch=n[r]||(n[r]=N.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==i?null:i?K(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes;e.excluded=null==n?[e]:""==n?[]:K(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof W))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new M(n,n.defaultAttrs,t,f.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return j.fromJSON(this,t)}markFromJSON(t){return f.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function K(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Q{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new rt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new rt(this,e,!0);return n.addAll(t,e.from,e.to),h.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(it(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r];if((null==t.priority?50:t.priority)<n)break}e.splice(r,0,t)}for(let e in t.marks){let r=t.marks[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let r=t.nodes[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Q(t,Q.schemaRules(t)))}}const X={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Z={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tt={ol:!0,ul:!0};function et(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class nt{constructor(t,e,n,r,i,o,s){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=f.none,this.stashMarks=[],this.match=o||(4&s?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(a.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=a.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):st(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!X.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class rt{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=et(null,e.preserveWhitespace,0)|(n?4:0);r=i?new nt(i.type,i.attrs,f.none,f.none,!0,e.topMatch||i.type.contentMatch,o):new nt(n?null:t.schema.topNodeType,null,f.none,f.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,e){let n=t.getAttribute("style");if(!n)return e();let r=this.readStyles(function(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(n));if(!r)return;let[i,o]=r,s=this.top;for(let t=0;t<o.length;t++)this.removePendingMark(o[t],s);for(let t=0;t<i.length;t++)this.addPendingMark(i[t]);e();for(let t=0;t<i.length;t++)this.removePendingMark(i[t],s);for(let t=0;t<o.length;t++)this.addPendingMark(o[t])}addTextNode(t){let e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();tt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&tt.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:Z.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(X.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);i&&i.skip?this.addAll(t):this.withStyleRules(t,(()=>this.addAll(t))),e&&this.sync(n),this.needsBlock=o}else this.withStyleRules(t,(()=>{this.addElementByRule(t,i,!1===i.consuming?n:void 0)}))}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=f.none,n=f.none;for(let r=0;r<t.length;r+=2)for(let i;;){let o=this.parser.matchStyle(t[r],t[r+1],this,i);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((t=>{o.clearMark(t)&&(n=t.addToSet(n))})):e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;i=o}return[e,n]}addElementByRule(t,e,n){let r,i,o;if(e.node)i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace);else{o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let t=0;t<e.length;t++)this.enterInner(e[t],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=et(t,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new nt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,s)=>{for(;t>=0;t--){let a=e[t];if(""==a){if(t==e.length-1||0==t)continue;for(;s>=i;s--)if(o(t-1,s))return!0;return!1}{let t=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!t||t.name!=a&&-1==t.groups.indexOf(a))return!1;s--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(t){let e=function(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function it(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ot(t){let e={};for(let n in t)e[n]=t[n];return e}function st(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}class at{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=lt(e).createDocumentFragment());let r=n,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let n=0,o=0;for(;n<i.length&&o<t.marks.length;){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<t.marks.length;){let n=t.marks[o++],s=this.serializeMark(n,t.isInline,e);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=at.renderSpec(lt(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&at.renderSpec(lt(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?t.createElementNS(n,i):t.createElement(i),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){c=2;for(let t in a)if(null!=a[t]){let e=t.indexOf(" ");e>0?s.setAttributeNS(t.slice(0,e),t.slice(e+1),a[t]):s.setAttribute(t,a[t])}}for(let i=c;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:e,contentDOM:i}=at.renderSpec(t,o,n);if(s.appendChild(e),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new at(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=ct(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return ct(t.marks)}}function ct(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function lt(t){return t.document||window.document}},function(t,e,n){t.exports=n(480)},function(t,e,n){t.exports=n(450)},function(t,e,n){"use strict";n.r(e),n.d(e,"AllSelection",(function(){return p})),n.d(e,"EditorState",(function(){return x})),n.d(e,"NodeSelection",(function(){return d})),n.d(e,"Plugin",(function(){return C})),n.d(e,"PluginKey",(function(){return P})),n.d(e,"Selection",(function(){return s})),n.d(e,"SelectionRange",(function(){return a})),n.d(e,"TextSelection",(function(){return u})),n.d(e,"Transaction",(function(){return y}));var r=n(7),i=n(30);const o=Object.create(null);class s{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r.Slice.empty){let n=e.content.lastChild,i=null;for(let t=0;t<e.openEnd;t++)i=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:l}=s[a],u=t.mapping.slice(o);t.replaceRange(u.map(c.pos),u.map(l.pos),a?r.Slice.empty:e),0==a&&g(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=t.mapping.slice(n),c=a.map(o.pos),l=a.map(s.pos);i?t.deleteRange(c,l):(t.replaceRangeWith(c,l,e),g(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new u(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let r=t.depth-1;r>=0;r--){let i=e<0?m(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):m(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new p(t.node(0))}static atStart(t){return m(t,t,0,0,1)||new p(t)}static atEnd(t){return m(t,t,t.content.size,t.childCount,-1)||new p(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let c=!1;function l(t){c||t.parent.inlineContent||(c=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class u extends s{constructor(t,e=t){l(t),l(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=t.resolve(e.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(t,e=r.Slice.empty){if(super.replace(t,e),e==r.Slice.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof u&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new f(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=s.findFrom(e,n,!0)||s.findFrom(e,-n,!0);if(!t)return s.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r||(t=(s.findFrom(t,-n,!0)||s.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0)&&(t=e),new u(t,e)}}s.jsonID("text",u);class f{constructor(t,e){this.anchor=t,this.head=e}map(t){return new f(t.map(this.anchor),t.map(this.head))}resolve(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends s{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?s.near(i):new d(i)}content(){return new r.Slice(r.Fragment.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new h(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,s.jsonID("node",d);class h{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new f(n,n):new h(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):s.near(e)}}class p extends s{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r.Slice.empty){if(e==r.Slice.empty){t.delete(0,t.doc.content.size);let e=s.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new p(t)}map(t){return new p(t)}eq(t){return t instanceof p}getBookmark(){return v}}s.jsonID("all",p);const v={map(){return this},resolve:t=>new p(t)};function m(t,e,n,r,i,o=!1){if(e.inlineContent)return u.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let r=e.child(s);if(r.isAtom){if(!o&&d.isSelectable(r))return d.create(t,n-(i<0?r.nodeSize:0))}else{let e=m(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function g(t,e,n){let r=t.steps.length-1;if(r<e)return;let o,a=t.steps[r];(a instanceof i.c||a instanceof i.b)&&(t.mapping.maps[r].forEach(((t,e,n,r)=>{null==o&&(o=r)})),t.setSelection(s.near(t.doc.resolve(o),n)))}class y extends i.e{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function _(t,e){return e&&t?t.bind(e):t}class b{constructor(t,e,n){this.name=t,this.init=_(e.init,n),this.apply=_(e.apply,n)}}const w=[new b("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new b("selection",{init:(t,e)=>t.selection||s.atStart(e.doc),apply:t=>t.selection}),new b("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new b("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class k{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=w.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new b(t.key,t.spec.state,t))}))}}class x{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let a=r?r[o].n:0,c=r?r[o].state:this,l=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(l&&n.filterTransaction(l,o)){if(l.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(l),n=n.applyInner(l),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new x(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new y(this)}static create(t){let e=new k(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new x(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new k(this.schema,t.plugins),n=e.fields,r=new x(e);for(let e=0;e<n.length;e++){let i=n[e].name;r[i]=this.hasOwnProperty(i)?this[i]:n[e].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new k(t.schema,t.plugins),o=new x(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.Node.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=s.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=a.fromJSON.call(s,t,e[r],o))}o[i.name]=i.init(t,o)}})),o}}function S(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=S(i,e,{})),n[r]=i}return n}class C{constructor(t){this.spec=t,this.props={},t.props&&S(t.props,this,this.props),this.key=t.key?t.key.key:E("plugin")}getState(t){return t[this.key]}}const O=Object.create(null);function E(t){return t in O?t+"$"+ ++O[t]:(O[t]=0,t+"$")}class P{constructor(t="key"){this.key=E(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},function(t,e,n){var r=n(362),i=n(283),o=n(496);function s(e){var n;return t.exports=s=r?i(n=o).call(n):function(t){return t.__proto__||o(t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return w}));var r=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,r=(n=function(e){return e.original===t},e.filter(n)[0]);if(r)return r.copy;var o=Array.isArray(t)?[]:{};return e.push({original:t,copy:o}),Object.keys(t).forEach((function(n){o[n]=i(t[n],e)})),o}function o(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function s(t){return null!==t&&"object"==typeof t}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.hasChild=function(t){return t in this._children},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){o(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,c);var l=function(t){this.register([],t,!1)};function u(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;u(t.concat(r),e.getChild(r),n.modules[r])}}l.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},l.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},l.prototype.update=function(t){u([],this.root,t)},l.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new a(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&o(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},l.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},l.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var f;var d=function(t){var e=this;void 0===t&&(t={}),!f&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new f,this._makeLocalGettersCache=Object.create(null);var o=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,n){return a.call(o,t,e,n)},this.strict=i;var c=this._modules.root.state;g(this,c,[],this._modules.root),m(this,c),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:f.config.devtools)&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},h={state:{configurable:!0}};function p(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function v(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;g(t,n,[],t._modules.root,!0),m(t,n,e)}function m(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};o(i,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=f.config.silent;f.config.silent=!0,t._vm=new f({data:{$$state:e},computed:s}),f.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),f.nextTick((function(){return r.$destroy()})))}function g(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=y(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){f.set(a,c,r.state)}))}var l=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=_(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,i){var o=_(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return y(t.state,n)}}}),i}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;!function(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,l)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,l)})),r.forEachChild((function(r,o){g(t,e,n.concat(o),r,i)}))}function y(t,e){return e.reduce((function(t,e){return t[e]}),t)}function _(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){f&&t===f||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(f=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){0},d.prototype.commit=function(t,e,n){var r=this,i=_(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},d.prototype.dispatch=function(t,e){var n=this,r=_(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){0}var c=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){0}e(t)}))}))}},d.prototype.subscribe=function(t,e){return p(t,this._subscribers,e)},d.prototype.subscribeAction=function(t,e){return p("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},d.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},d.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},d.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),n.preserveState),m(this,this.state)},d.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=y(e.state,t.slice(0,-1));f.delete(n,t[t.length-1])})),v(this)},d.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},d.prototype.hotUpdate=function(t){this._modules.update(t),v(this,!0)},d.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(d.prototype,h);var w=E((function(t,e){var n={};return O(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=P(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),k=E((function(t,e){var n={};return O(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=P(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),x=E((function(t,e){var n={};return O(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||P(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),S=E((function(t,e){var n={};return O(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=P(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),C=function(t){return{mapState:w.bind(null,t),mapGetters:x.bind(null,t),mapMutations:k.bind(null,t),mapActions:S.bind(null,t)}};function O(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function E(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function P(t,e,n){return t._modulesNamespaceMap[n]}function A(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(n){t.log(e)}}function T(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function j(){var t=new Date;return" @ "+M(t.getHours(),2)+":"+M(t.getMinutes(),2)+":"+M(t.getSeconds(),2)+"."+M(t.getMilliseconds(),3)}function M(t,e){return n="0",r=e-t.toString().length,new Array(r+1).join(n)+t;var n,r}var I={Store:d,install:b,version:"3.6.2",mapState:w,mapMutations:k,mapGetters:x,mapActions:S,createNamespacedHelpers:C,createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var f=i(t.state);void 0!==u&&(c&&t.subscribe((function(t,s){var a=i(s);if(n(t,f,a)){var c=j(),l=o(t),d="mutation "+t.type+c;A(u,d,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),T(u)}f=a})),l&&t.subscribeAction((function(t,n){if(s(t,n)){var r=j(),i=a(t),o="action "+t.type+r;A(u,o,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),T(u)}})))}}};e.b=I}).call(this,n(171))},function(t,e,n){var r=n(40),i=n(95),o=n(107),s=n(108),a=n(122),c="prototype",l=function(t,e,n){var u,f,d,h,p=t&l.F,v=t&l.G,m=t&l.S,g=t&l.P,y=t&l.B,_=v?r:m?r[e]||(r[e]={}):(r[e]||{})[c],b=v?i:i[e]||(i[e]={}),w=b[c]||(b[c]={});for(u in v&&(n=e),n)d=((f=!p&&_&&void 0!==_[u])?_:n)[u],h=y&&f?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,_&&s(_,u,d,t&l.U),b[u]!=d&&o(b,u,h),g&&w[u]!=d&&(w[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){t.exports=n(457)},function(t,e,n){t.exports=n(477)},function(t,e,n){t.exports=n(355)},function(t,e,n){"use strict";n.d(e,"i",(function(){return r.Plugin})),n.d(e,"j",(function(){return r.PluginKey})),n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return G})),n.d(e,"c",(function(){return J})),n.d(e,"d",(function(){return Q})),n.d(e,"e",(function(){return F})),n.d(e,"f",(function(){return U})),n.d(e,"g",(function(){return z})),n.d(e,"h",(function(){return W})),n.d(e,"k",(function(){return Y}));var r=n(10),i=n(64),o=n(7),s=n(30);function a(t={}){return new r.Plugin({view:e=>new c(e,t)})}class c{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent;if(n){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let i=e.getBoundingClientRect(),o=n?i.bottom:i.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let r,i,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)r=-pageXOffset,i=-pageYOffset;else{let t=o.getBoundingClientRect();r=t.left-o.scrollLeft,i=t.top-o.scrollTop}this.element.style.left=t.left-r+"px",this.element.style.top=t.top-i+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,e,t):r;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=Object(s.h)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}var l=n(126);class u extends r.Selection{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return u.valid(n)?new u(n):r.Selection.near(n)}content(){return o.Slice.empty}eq(t){return t instanceof u&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new u(t.resolve(e.pos))}getBookmark(){return new f(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&u.valid(t))return t;let i=t.pos,o=null;for(let n=t.depth;;n--){let r=t.node(n);if(e>0?t.indexAfter(n)<r.childCount:t.index(n)>0){o=r.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;i+=e;let s=t.doc.resolve(i);if(u.valid(s))return s}for(;;){let s=e>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!r.NodeSelection.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*e),n=!1;continue t}break}o=s,i+=e;let a=t.doc.resolve(i);if(u.valid(a))return a}return null}}}u.prototype.visible=!1,u.findFrom=u.findGapCursorFrom,r.Selection.jsonID("gapcursor",u);class f{constructor(t){this.pos=t}map(t){return new f(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return u.valid(e)?new u(e):r.Selection.near(e)}}const d=Object(l.a)({ArrowLeft:h("horiz",-1),ArrowRight:h("horiz",1),ArrowUp:h("vert",-1),ArrowDown:h("vert",1)});function h(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,i,o){let s=t.selection,a=e>0?s.$to:s.$from,c=s.empty;if(s instanceof r.TextSelection){if(!o.endOfTextblock(n)||0==a.depth)return!1;c=!1,a=t.doc.resolve(e>0?a.after():a.before())}let l=u.findGapCursorFrom(a,e,c);return!!l&&(i&&i(t.tr.setSelection(new u(l))),!0)}}function p(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!u.valid(i))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&r.NodeSelection.isSelectable(t.state.doc.nodeAt(o.inside)))&&(t.dispatch(t.state.tr.setSelection(new u(i))),!0)}function v(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof u))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=o.Fragment.empty;for(let t=i.length-1;t>=0;t--)s=o.Fragment.from(i[t].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new o.Slice(s,0,0));return a.setSelection(r.TextSelection.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function m(t){if(!(t.selection instanceof u))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",i.b.create(t.doc,[i.a.widget(t.selection.head,e,{key:"gapcursor"})])}var g=n(37),y=n(159),_=n(32),b=n(18),w=n(19);function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function O(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||M(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||M(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function D(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===E(e)?e:String(e)}var B=function(){function t(e,n){var r=n.editor,i=n.extension,o=n.parent,s=n.node,a=n.view,c=n.decorations,l=n.getPos;N(this,t),this.component=e,this.editor=r,this.extension=i,this.parent=o,this.node=s,this.view=a,this.decorations=c,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:l,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}return D(t,[{key:"createDOM",value:function(){var t=this,e=b.a.extend(this.component),n={editor:this.editor,node:this.node,view:this.view,getPos:function(){return t.getPos()},decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:function(e){return t.updateAttrs(e)}};return"function"==typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"==typeof this.extension.update&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:n}).$mount(),this.vm.$el}},{key:"update",value:function(t,e){return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,this.updateComponentProps({node:t,decorations:e})),!0)}},{key:"updateComponentProps",value:function(t){var e=this;if(this.vm._props){var n=b.a.config.silent;b.a.config.silent=!0,Object.entries(t).forEach((function(t){var n=j(t,2),r=n[0],i=n[1];e.vm._props[r]=i})),b.a.config.silent=n}}},{key:"updateAttrs",value:function(t){if(this.view.editable){var e=this.view.state,n=this.node.type,r=this.getPos(),i=A(A({},this.node.attrs),t),o=this.isMark?e.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(i)):e.tr.setNodeMarkup(r,null,i);this.view.dispatch(o)}}},{key:"ignoreMutation",value:function(t){return"selection"!==t.type&&(!this.contentDOM||!this.contentDOM.contains(t.target))}},{key:"stopEvent",value:function(t){var e=this;if("function"==typeof this.extension.stopEvent)return this.extension.stopEvent(t);var n=!!this.extension.schema.draggable;if(n&&"mousedown"===t.type){var r=t.target.closest&&t.target.closest("[data-drag-handle]");r&&(this.dom===r||this.dom.contains(r))&&(this.captureEvents=!1,document.addEventListener("dragend",(function(){e.captureEvents=!0}),{once:!0}))}var i="copy"===t.type,o="paste"===t.type,s="cut"===t.type,a=t.type.startsWith("drag")||"drop"===t.type;return!(n&&a||i||o||s)&&this.captureEvents}},{key:"selectNode",value:function(){this.updateComponentProps({selected:!0})}},{key:"deselectNode",value:function(){this.updateComponentProps({selected:!1})}},{key:"getMarkPos",value:function(){var t=this.view.posAtDOM(this.dom),e=this.view.state.doc.resolve(t);return Object(_.e)(e,this.node.type)}},{key:"destroy",value:function(){this.vm.$destroy()}}]),t}(),$=function(){function t(){N(this,t)}return D(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._callbacks=this._callbacks||{};var o=this._callbacks[t];return o&&o.forEach((function(t){return t.apply(e,r)})),this}},{key:"off",value:function(t,e){if(arguments.length){var n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter((function(t){return t!==e})):delete this._callbacks[t])}else this._callbacks={};return this}}]),t}(),F=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(this,t),this.options=A(A({},this.defaultOptions),e)}return D(t,[{key:"init",value:function(){return null}},{key:"bindEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.editor=t}},{key:"name",get:function(){return null}},{key:"type",get:function(){return"extension"}},{key:"defaultOptions",get:function(){return{}}},{key:"plugins",get:function(){return[]}},{key:"inputRules",value:function(){return[]}},{key:"pasteRules",value:function(){return[]}},{key:"keys",value:function(){return{}}}]),t}(),q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;N(this,t),e.forEach((function(t){t.bindEditor(n),t.init()})),this.extensions=e}return D(t,[{key:"nodes",get:function(){return this.extensions.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n=e.name,r=e.schema;return A(A({},t),{},T({},n,r))}),{})}},{key:"options",get:function(){var t=this.view;return this.extensions.reduce((function(e,n){return A(A({},e),{},T({},n.name,new Proxy(n.options,{set:function(e,n,r){var i=e[n]!==r;return Object.assign(e,T({},n,r)),i&&t.updateState(t.state),!0}})))}),{})}},{key:"marks",get:function(){return this.extensions.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n=e.name,r=e.schema;return A(A({},t),{},T({},n,r))}),{})}},{key:"plugins",get:function(){return this.extensions.filter((function(t){return t.plugins})).reduce((function(t,e){var n=e.plugins;return[].concat(O(t),O(n))}),[])}},{key:"keymaps",value:function(t){var e=t.schema,n=this.extensions.filter((function(t){return["extension"].includes(t.type)})).filter((function(t){return t.keys})).map((function(t){return t.keys({schema:e})})),r=this.extensions.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(t){return t.keys})).map((function(t){return t.keys({type:e["".concat(t.type,"s")][t.name],schema:e})}));return[].concat(O(n),O(r)).map((function(t){return Object(l.b)(t)}))}},{key:"inputRules",value:function(t){var e=t.schema,n=t.excludedExtensions;if(!(n instanceof Array)&&n)return[];var r=n instanceof Array?this.extensions.filter((function(t){return!n.includes(t.name)})):this.extensions,i=r.filter((function(t){return["extension"].includes(t.type)})).filter((function(t){return t.inputRules})).map((function(t){return t.inputRules({schema:e})})),o=r.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(t){return t.inputRules})).map((function(t){return t.inputRules({type:e["".concat(t.type,"s")][t.name],schema:e})}));return[].concat(O(i),O(o)).reduce((function(t,e){return[].concat(O(t),O(e))}),[])}},{key:"pasteRules",value:function(t){var e=t.schema,n=t.excludedExtensions;if(!(n instanceof Array)&&n)return[];var r=n instanceof Array?this.extensions.filter((function(t){return!n.includes(t.name)})):this.extensions,i=r.filter((function(t){return["extension"].includes(t.type)})).filter((function(t){return t.pasteRules})).map((function(t){return t.pasteRules({schema:e})})),o=r.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(t){return t.pasteRules})).map((function(t){return t.pasteRules({type:e["".concat(t.type,"s")][t.name],schema:e})}));return[].concat(O(i),O(o)).reduce((function(t,e){return[].concat(O(t),O(e))}),[])}},{key:"commands",value:function(t){var e=t.schema,n=t.view;return this.extensions.filter((function(t){return t.commands})).reduce((function(t,r){var i=r.name,o=r.type,s={},a=r.commands(A({schema:e},["node","mark"].includes(o)?{type:e["".concat(o,"s")][i]}:{})),c=function(t,e){return!!n.editable&&(n.focus(),t(e)(n.state,n.dispatch,n))},l=function(t,e){Array.isArray(e)?s[t]=function(t){return e.forEach((function(e){return c(e,t)}))}:"function"==typeof e&&(s[t]=function(t){return c(e,t)})};return"object"===E(a)?Object.entries(a).forEach((function(t){var e=j(t,2),n=e[0],r=e[1];l(n,r)})):l(i,a),A(A({},t),s)}),{})}}]),t}();var U=function(t){k(n,t);var e=S(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N(this,n),e.call(this,t)}return D(n,[{key:"type",get:function(){return"mark"}},{key:"view",get:function(){return null}},{key:"schema",get:function(){return null}},{key:"command",value:function(){return function(){}}}]),n}(F);function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(parseInt(t,10),e),n)}var z=function(t){k(n,t);var e=S(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N(this,n),e.call(this,t)}return D(n,[{key:"type",get:function(){return"node"}},{key:"view",get:function(){return null}},{key:"schema",get:function(){return null}},{key:"command",value:function(){return function(){}}}]),n}(F),H=function(t){k(n,t);var e=S(n);function n(){return N(this,n),e.apply(this,arguments)}return D(n,[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block+"}}}]),n}(z),W=function(t){k(n,t);var e=S(n);function n(){return N(this,n),e.apply(this,arguments)}return D(n,[{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(w.k)(e)}}}]),n}(z),Y=function(t){k(n,t);var e=S(n);function n(){return N(this,n),e.apply(this,arguments)}return D(n,[{key:"name",get:function(){return"text"}},{key:"schema",get:function(){return{group:"inline"}}}]),n}(z),G=function(t){k(n,t);var e=S(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N(this,n),(t=e.call(this)).defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:function(){},onTransaction:function(){},onUpdate:function(){},onFocus:function(){},onBlur:function(){},onPaste:function(){},onDrop:function(){}},t.events=["init","transaction","update","focus","blur","paste","drop"],t.init(r),t}return D(n,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(A(A({},this.defaultOptions),e)),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&function(t){var e=document.createElement("style");e.type="text/css",e.textContent=t;var n=document.head,r=n.firstChild;r?n.insertBefore(e,r):n.appendChild(e)}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n'),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach((function(e){var n;t.on(e,t.options[(n="on ".concat(e),n.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/\s+/g,""))]||function(){})})),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}},{key:"setOptions",value:function(t){this.options=A(A({},this.options),t),this.view&&this.state&&this.view.updateState(this.state)}},{key:"builtInExtensions",get:function(){return this.options.useBuiltInExtensions?[new H,new Y,new W]:[]}},{key:"state",get:function(){return this.view?this.view.state:null}},{key:"createExtensions",value:function(){return new q([].concat(O(this.builtInExtensions),O(this.options.extensions)),this)}},{key:"createPlugins",value:function(){return this.extensions.plugins}},{key:"createKeymaps",value:function(){return this.extensions.keymaps({schema:this.schema})}},{key:"createInputRules",value:function(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}},{key:"createPasteRules",value:function(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}},{key:"createCommands",value:function(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createNodes",value:function(){return this.extensions.nodes}},{key:"createMarks",value:function(){return this.extensions.marks}},{key:"createSchema",value:function(){return new o.Schema({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}},{key:"createState",value:function(){var t=this;return r.EditorState.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[].concat(O(this.plugins),[Object(y.b)({rules:this.inputRules})],O(this.pasteRules),O(this.keymaps),[Object(l.b)({Backspace:y.d}),Object(l.b)(g.a)],O(this.options.enableDropCursor?[a(this.options.dropCursor)]:[]),O(this.options.enableGapCursor?[new r.Plugin({props:{decorations:m,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&u.valid(n)?new u(n):null,handleClick:p,handleKeyDown:d,handleDOMEvents:{beforeinput:v}}})]:[]),[new r.Plugin({key:new r.PluginKey("editable"),props:{editable:function(){return t.options.editable}}}),new r.Plugin({props:{attributes:{tabindex:0},handleDOMEvents:{focus:function(e,n){t.focused=!0,t.emit("focus",{event:n,state:e.state,view:e});var r=t.state.tr.setMeta("focused",!0);t.view.dispatch(r)},blur:function(e,n){t.focused=!1,t.emit("blur",{event:n,state:e.state,view:e});var r=t.state.tr.setMeta("focused",!1);t.view.dispatch(r)}}}}),new r.Plugin({props:this.options.editorProps})])})}},{key:"createDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.parseOptions;if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===E(t))try{return this.schema.nodeFromJSON(t)}catch(e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",e),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"==typeof t){var n="<div>".concat(t,"</div>"),r=(new window.DOMParser).parseFromString(n,"text/html").body.firstElementChild;return o.DOMParser.fromSchema(this.schema).parse(r,e)}return!1}},{key:"createView",value:function(){var t=this;return new i.c(this.element,{state:this.createState(),handlePaste:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.emit.apply(t,["paste"].concat(n))},handleDrop:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.emit.apply(t,["drop"].concat(n))},dispatchTransaction:this.dispatchTransaction.bind(this)})}},{key:"setParentComponent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[].concat(O(this.builtInExtensions),O(this.options.extensions))})})}},{key:"initNodeViews",value:function(t){var e=this,n=t.parent;return t.extensions.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(t){return t.view})).reduce((function(t,r){return A(A({},t),{},T({},r.name,(function(t,i,o,s){var a=r.view;return new B(a,{editor:e,extension:r,parent:n,node:t,view:i,getPos:o,decorations:s})})))}),{})}},{key:"dispatchTransaction",value:function(t){var e=this.state.apply(t);this.view.updateState(e),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emitUpdate(t)}},{key:"emitUpdate",value:function(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}},{key:"resolveSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.selection&&null===t)return this.selection;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){var e=this.state.doc;return{from:e.content.size,to:e.content.size}}return{from:t,to:t}}},{key:"focus",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(this.view.focused&&null===e||!1===e)){var n=this.resolveSelection(e),r=n.from,i=n.to;this.setSelection(r,i),setTimeout((function(){return t.view.focus()}),10)}}},{key:"setSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.state,i=n.doc,o=n.tr,s=V(t,0,i.content.size),a=V(e,0,i.content.size),c=r.TextSelection.create(i,s,a),l=o.setSelection(c);this.view.dispatch(l)}},{key:"blur",value:function(){this.view.dom.blur()}},{key:"getSchemaJSON",value:function(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}},{key:"getHTML",value:function(){var t=document.createElement("div"),e=o.DOMSerializer.fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),t.innerHTML}},{key:"getJSON",value:function(){return this.state.doc.toJSON()}},{key:"setContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.state,o=i.doc,s=i.tr,a=this.createDocument(t,n),c=r.TextSelection.create(o,0,o.content.size),l=s.setSelection(c).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e);this.view.dispatch(l)}},{key:"clearContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setContent(this.options.emptyDocument,t)}},{key:"setActiveNodesAndMarks",value:function(){var t=this;this.activeMarks=Object.entries(this.schema.marks).reduce((function(e,n){var r=j(n,2),i=r[0],o=r[1];return A(A({},e),{},T({},i,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_.g)(t.state,o,e)})))}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((function(e,n){var r=j(n,2),i=r[0],o=r[1];return A(A({},e),{},T({},i,Object(_.d)(t.state,o)))}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((function(e,n){var r=j(n,2),i=r[0],o=r[1];return A(A({},e),{},T({},i,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(_.i)(t.state,o,e)})))}),{})}},{key:"getMarkAttrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.activeMarkAttrs[t]}},{key:"getNodeAttrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return A({},Object(_.f)(this.state,this.schema.nodes[t]))}},{key:"isActive",get:function(){return Object.entries(A(A({},this.activeMarks),this.activeNodes)).reduce((function(t,e){var n=j(e,2),r=n[0],i=n[1];return A(A({},t),{},T({},r,(function(){return i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})})))}),{})}},{key:"registerPlugin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n="function"==typeof e?e(t,this.state.plugins):[t].concat(O(this.state.plugins)),r=this.state.reconfigure({plugins:n});this.view.updateState(r)}},{key:"unregisterPlugin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&this.view.docView){var e=this.state.reconfigure({plugins:this.state.plugins.filter((function(e){return!e.key.startsWith("".concat(t,"$"))}))});this.view.updateState(e)}}},{key:"destroy",value:function(){this.view&&this.view.destroy()}}]),n}($),J={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler:function(t){var e=this;t&&t.element&&this.$nextTick((function(){e.$el.appendChild(t.element.firstChild),t.setParentComponent(e)}))}}},render:function(t){return t("div")},beforeDestroy:function(){this.editor.element=this.$el}},K=function(){function t(e){var n=this,r=e.options;N(this,t),this.options=r,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=function(){n.preventHide?n.preventHide=!1:n.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}return D(t,[{key:"handleClick",value:function(){this.preventHide=!0}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}]),t}();var Q={props:{editor:{default:null,type:Object}},data:function(){return{focused:!1}},watch:{editor:{immediate:!0,handler:function(t){var e=this;t&&this.$nextTick((function(){var n;t.registerPlugin((n={editor:t,element:e.$el},new r.Plugin({key:new r.PluginKey("menu_bar"),view:function(t){return new K({editorView:t,options:n})}}))),e.focused=t.focused,t.on("focus",(function(){e.focused=!0})),t.on("menubar:focusUpdate",(function(t){e.focused=t}))}))}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};Boolean},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return rr}));var i=Object.freeze({}),o=Array.isArray;function s(t){return null==t}function a(t){return null!=t}function c(t){return!0===t}function l(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return"function"==typeof t}function f(t){return null!==t&&"object"==typeof t}var d=Object.prototype.toString;function h(t){return"[object Object]"===d.call(t)}function p(t){return"[object RegExp]"===d.call(t)}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function m(t){return a(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function g(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===d?JSON.stringify(t,null,2):String(t)}function y(t){var e=parseFloat(t);return isNaN(e)?t:e}function _(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var b=_("slot,component",!0),w=_("key,ref,slot,slot-scope,is");function k(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var x=Object.prototype.hasOwnProperty;function S(t,e){return x.call(t,e)}function C(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var O=/-(\w)/g,E=C((function(t){return t.replace(O,(function(t,e){return e?e.toUpperCase():""}))})),P=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),A=/\B([A-Z])/g,T=C((function(t){return t.replace(A,"-$1").toLowerCase()}));var j=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function M(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function I(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function R(t,e,n){}var D=function(t,e,n){return!1},L=function(t){return t};function B(t,e){if(t===e)return!0;var n=f(t),r=f(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return B(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return B(t[n],e[n])}))}catch(t){return!1}}function $(t,e){for(var n=0;n<t.length;n++)if(B(t[n],e))return n;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function q(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var U="data-server-rendered",V=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:R,parsePlatformTagName:L,mustUseProp:D,async:!0,_lifecycleHooks:z},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Y(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var J=new RegExp("[^".concat(W.source,".$_\\d]"));var K="__proto__"in{},Q="undefined"!=typeof window,X=Q&&window.navigator.userAgent.toLowerCase(),Z=X&&/msie|trident/.test(X),tt=X&&X.indexOf("msie 9.0")>0,et=X&&X.indexOf("edge/")>0;X&&X.indexOf("android");var nt=X&&/iphone|ipad|ipod|ios/.test(X);X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X);var rt,it=X&&X.match(/firefox\/(\d+)/),ot={}.watch,st=!1;if(Q)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(t){}var ct=function(){return void 0===rt&&(rt=!Q&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),rt},lt=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"==typeof t&&/native code/.test(t.toString())}var ft,dt="undefined"!=typeof Symbol&&ut(Symbol)&&"undefined"!=typeof Reflect&&ut(Reflect.ownKeys);ft="undefined"!=typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=null;function pt(t){void 0===t&&(t=null),t||ht&&ht._scope.off(),ht=t,t&&t._scope.on()}var vt=function(){function t(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),mt=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function gt(t){return new vt(void 0,void 0,void 0,String(t))}function yt(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var _t=0,bt=[],wt=function(){for(var t=0;t<bt.length;t++){var e=bt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}bt.length=0},kt=function(){function t(){this._pending=!1,this.id=_t++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,bt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){0,e[n].update()}},t}();kt.target=null;var xt=[];function St(t){xt.push(t),kt.target=t}function Ct(){xt.pop(),kt.target=xt[xt.length-1]}var Ot=Array.prototype,Et=Object.create(Ot);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=Ot[t];G(Et,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Pt=Object.getOwnPropertyNames(Et),At={},Tt=!0;function jt(t){Tt=t}var Mt={notify:R,depend:R,addSub:R,removeSub:R},It=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Mt:new kt,this.vmCount=0,G(t,"__ob__",this),o(t)){if(!n)if(K)t.__proto__=Et;else for(var r=0,i=Pt.length;r<i;r++){G(t,a=Pt[r],Et[a])}e||this.observeArray(t)}else{var s=Object.keys(t);for(r=0;r<s.length;r++){var a;Rt(t,a=s[r],At,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e],!1,this.mock)},t}();function Nt(t,e,n){return t&&S(t,"__ob__")&&t.__ob__ instanceof It?t.__ob__:!Tt||!n&&ct()||!o(t)&&!h(t)||!Object.isExtensible(t)||t.__v_skip||Ut(t)||t instanceof vt?void 0:new It(t,e,n)}function Rt(t,e,n,r,i,s){var a=new kt,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var l=c&&c.get,u=c&&c.set;l&&!u||n!==At&&2!==arguments.length||(n=t[e]);var f=!i&&Nt(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=l?l.call(t):n;return kt.target&&(a.depend(),f&&(f.dep.depend(),o(e)&&Bt(e))),Ut(e)&&!i?e.value:e},set:function(e){var r=l?l.call(t):n;if(q(r,e)){if(u)u.call(t,e);else{if(l)return;if(!i&&Ut(r)&&!Ut(e))return void(r.value=e);n=e}f=!i&&Nt(e,!1,s),a.notify()}}}),a}}function Dt(t,e,n){if(!qt(t)){var r=t.__ob__;return o(t)&&v(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Nt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Rt(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Lt(t,e){if(o(t)&&v(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||qt(t)||S(t,e)&&(delete t[e],n&&n.dep.notify())}}function Bt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Bt(e)}function $t(t){return Ft(t,!0),G(t,"__v_isShallow",!0),t}function Ft(t,e){if(!qt(t)){Nt(t,e,ct());0}}function qt(t){return!(!t||!t.__v_isReadonly)}function Ut(t){return!(!t||!0!==t.__v_isRef)}function Vt(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Ut(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Ut(r)&&!Ut(t)?r.value=t:e[n]=t}})}var zt=C((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function Ht(t,e){function n(){var t=n.fns;if(!o(t))return on(t,null,arguments,e,"v-on handler");for(var r=t.slice(),i=0;i<r.length;i++)on(r[i],null,arguments,e,"v-on handler")}return n.fns=t,n}function Wt(t,e,n,r,i,o){var a,l,u,f;for(a in t)l=t[a],u=e[a],f=zt(a),s(l)||(s(u)?(s(l.fns)&&(l=t[a]=Ht(l,o)),c(f.once)&&(l=t[a]=i(f.name,l,f.capture)),n(f.name,l,f.capture,f.passive,f.params)):l!==u&&(u.fns=l,t[a]=u));for(a in e)s(t[a])&&r((f=zt(a)).name,e[a],f.capture)}function Yt(t,e,n){var r;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),k(r.fns,o)}s(i)?r=Ht([o]):a(i.fns)&&c(i.merged)?(r=i).fns.push(o):r=Ht([i,o]),r.merged=!0,t[e]=r}function Gt(t,e,n,r,i){if(a(e)){if(S(e,n))return t[n]=e[n],i||delete e[n],!0;if(S(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Jt(t){return l(t)?[gt(t)]:o(t)?Qt(t):void 0}function Kt(t){return a(t)&&a(t.text)&&!1===t.isComment}function Qt(t,e){var n,r,i,u,f=[];for(n=0;n<t.length;n++)s(r=t[n])||"boolean"==typeof r||(u=f[i=f.length-1],o(r)?r.length>0&&(Kt((r=Qt(r,"".concat(e||"","_").concat(n)))[0])&&Kt(u)&&(f[i]=gt(u.text+r[0].text),r.shift()),f.push.apply(f,r)):l(r)?Kt(u)?f[i]=gt(u.text+r):""!==r&&f.push(gt(r)):Kt(r)&&Kt(u)?f[i]=gt(u.text+r.text):(c(t._isVList)&&a(r.tag)&&s(r.key)&&a(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),f.push(r)));return f}var Xt=1,Zt=2;function te(t,e,n,r,i,s){return(o(n)||l(n))&&(i=r,r=n,n=void 0),c(s)&&(i=Zt),function(t,e,n,r,i){if(a(n)&&a(n.__ob__))return mt();a(n)&&a(n.is)&&(e=n.is);if(!e)return mt();0;o(r)&&u(r[0])&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===Zt?r=Jt(r):i===Xt&&(r=function(t){for(var e=0;e<t.length;e++)if(o(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var s,c;if("string"==typeof e){var l=void 0;c=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),s=H.isReservedTag(e)?new vt(H.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(l=Qn(t.$options,"components",e))?new vt(e,n,r,void 0,void 0,t):qn(l,n,t,r,e)}else s=qn(e,n,t,r);return o(s)?s:a(s)?(a(c)&&ee(s,c),a(n)&&function(t){f(t.style)&&bn(t.style);f(t.class)&&bn(t.class)}(n),s):mt()}(t,e,n,r,i)}function ee(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,i=t.children.length;r<i;r++){var o=t.children[r];a(o.tag)&&(s(o.ns)||c(n)&&"svg"!==o.tag)&&ee(o,e,n)}}function ne(t,e){var n,r,i,s,c=null;if(o(t)||"string"==typeof t)for(c=new Array(t.length),n=0,r=t.length;n<r;n++)c[n]=e(t[n],n);else if("number"==typeof t)for(c=new Array(t),n=0;n<t;n++)c[n]=e(n+1,n);else if(f(t))if(dt&&t[Symbol.iterator]){c=[];for(var l=t[Symbol.iterator](),u=l.next();!u.done;)c.push(e(u.value,c.length)),u=l.next()}else for(i=Object.keys(t),c=new Array(i.length),n=0,r=i.length;n<r;n++)s=i[n],c[n]=e(t[s],s,n);return a(c)||(c=[]),c._isVList=!0,c}function re(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=I(I({},r),n)),i=o(n)||(u(e)?e():e)):i=this.$slots[t]||(u(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function ie(t){return Qn(this.$options,"filters",t,!0)||L}function oe(t,e){return o(t)?-1===t.indexOf(e):t!==e}function se(t,e,n,r,i){var o=H.keyCodes[e]||n;return i&&r&&!H.keyCodes[e]?oe(i,r):o?oe(o,t):r?T(r)!==e:void 0===t}function ae(t,e,n,r,i){if(n)if(f(n)){o(n)&&(n=N(n));var s=void 0,a=function(o){if("class"===o||"style"===o||w(o))s=t;else{var a=t.attrs&&t.attrs.type;s=r||H.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=E(o),l=T(o);c in s||l in s||(s[o]=n[o],i&&((t.on||(t.on={}))["update:".concat(o)]=function(t){n[o]=t}))};for(var c in n)a(c)}else;return t}function ce(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||ue(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),r}function le(t,e,n){return ue(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ue(t,e,n){if(o(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&fe(t[r],"".concat(e,"_").concat(r),n);else fe(t,e,n)}function fe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function de(t,e){if(e)if(h(e)){var n=t.on=t.on?I({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function he(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var s=t[i];o(s)?he(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function pe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function ve(t,e){return"string"==typeof t?e+t:t}function me(t){t._o=le,t._n=y,t._s=g,t._l=ne,t._t=re,t._q=B,t._i=$,t._m=ce,t._f=ie,t._k=se,t._b=ae,t._v=gt,t._e=mt,t._u=he,t._g=de,t._d=pe,t._p=ve}function ge(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(ye)&&delete n[l];return n}function ye(t){return t.isComment&&!t.asyncFactory||" "===t.text}function _e(t){return t.isComment&&t.asyncFactory}function be(t,e,n,r){var o,s=Object.keys(n).length>0,a=e?!!e.$stable:!s,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==i&&c===r.$key&&!s&&!r.$hasNormal)return r;for(var l in o={},e)e[l]&&"$"!==l[0]&&(o[l]=we(t,n,l,e[l]))}else o={};for(var u in n)u in o||(o[u]=ke(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),G(o,"$stable",a),G(o,"$key",c),G(o,"$hasNormal",s),o}function we(t,e,n,r){var i=function(){var e=ht;pt(t);var n=arguments.length?r.apply(null,arguments):r({}),i=(n=n&&"object"==typeof n&&!o(n)?[n]:Jt(n))&&n[0];return pt(e),n&&(!i||1===n.length&&i.isComment&&!_e(i))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:i,enumerable:!0,configurable:!0}),i}function ke(t,e){return function(){return t[e]}}function xe(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};G(e,"_v_attr_proxy",!0),Se(e,t.$attrs,i,t,"$attrs")}return t._attrsProxy},get listeners(){t._listenersProxy||Se(t._listenersProxy={},t.$listeners,i,t,"$listeners");return t._listenersProxy},get slots(){return function(t){t._slotsProxy||Oe(t._slotsProxy={},t.$scopedSlots);return t._slotsProxy}(t)},emit:j(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return Vt(t,e,n)}))}}}function Se(t,e,n,r,i){var o=!1;for(var s in e)s in t?e[s]!==n[s]&&(o=!0):(o=!0,Ce(t,s,r,i));for(var s in t)s in e||(o=!0,delete t[s]);return o}function Ce(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Oe(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}var Ee,Pe=null;function Ae(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),f(t)?e.extend(t):t}function Te(t){if(o(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||_e(n)))return n}}function je(t,e){Ee.$on(t,e)}function Me(t,e){Ee.$off(t,e)}function Ie(t,e){var n=Ee;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Ne(t,e,n){Ee=t,Wt(e,n||{},je,Me,Ie,t),Ee=void 0}var Re=null;function De(t){var e=Re;return Re=t,function(){Re=e}}function Le(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Be(t,e){if(e){if(t._directInactive=!1,Le(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Be(t.$children[n]);Fe(t,"activated")}}function $e(t,e){if(!(e&&(t._directInactive=!0,Le(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)$e(t.$children[n]);Fe(t,"deactivated")}}function Fe(t,e,n,r){void 0===r&&(r=!0),St();var i=ht;r&&pt(t);var o=t.$options[e],s="".concat(e," hook");if(o)for(var a=0,c=o.length;a<c;a++)on(o[a],t,n||null,t,s);t._hasHookEvent&&t.$emit("hook:"+e),r&&pt(i),Ct()}var qe=[],Ue=[],Ve={},ze=!1,He=!1,We=0;var Ye=0,Ge=Date.now;if(Q&&!Z){var Je=window.performance;Je&&"function"==typeof Je.now&&Ge()>document.createEvent("Event").timeStamp&&(Ge=function(){return Je.now()})}var Ke=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Qe(){var t,e;for(Ye=Ge(),He=!0,qe.sort(Ke),We=0;We<qe.length;We++)(t=qe[We]).before&&t.before(),e=t.id,Ve[e]=null,t.run();var n=Ue.slice(),r=qe.slice();We=qe.length=Ue.length=0,Ve={},ze=He=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Be(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Fe(r,"updated")}}(r),wt(),lt&&H.devtools&&lt.emit("flush")}function Xe(t){var e=t.id;if(null==Ve[e]&&(t!==kt.target||!t.noRecurse)){if(Ve[e]=!0,He){for(var n=qe.length-1;n>We&&qe[n].id>t.id;)n--;qe.splice(n+1,0,t)}else qe.push(t);ze||(ze=!0,gn(Qe))}}var Ze="watcher";"".concat(Ze," callback"),"".concat(Ze," getter"),"".concat(Ze," cleanup");var tn;var en=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=tn,!t&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=tn;try{return tn=this,t()}finally{tn=e}}else 0},t.prototype.on=function(){tn=this},t.prototype.off=function(){tn=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function nn(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function rn(t,e,n){St();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){sn(t,r,"errorCaptured hook")}}sn(t,e,n)}finally{Ct()}}function on(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&m(o)&&!o._handled&&(o.catch((function(t){return rn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){rn(t,r,i)}return o}function sn(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(e){e!==t&&an(e,null,"config.errorHandler")}an(t,e,n)}function an(t,e,n){if(!Q||"undefined"==typeof console)throw t;console.error(t)}var cn,ln=!1,un=[],fn=!1;function dn(){fn=!1;var t=un.slice(0);un.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ut(Promise)){var hn=Promise.resolve();cn=function(){hn.then(dn),nt&&setTimeout(R)},ln=!0}else if(Z||"undefined"==typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())cn=void 0!==r&&ut(r)?function(){r(dn)}:function(){setTimeout(dn,0)};else{var pn=1,vn=new MutationObserver(dn),mn=document.createTextNode(String(pn));vn.observe(mn,{characterData:!0}),cn=function(){pn=(pn+1)%2,mn.data=String(pn)},ln=!0}function gn(t,e){var n;if(un.push((function(){if(t)try{t.call(e)}catch(t){rn(t,e,"nextTick")}else n&&n(e)})),fn||(fn=!0,cn()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function yn(t){return function(e,n){if(void 0===n&&(n=ht),n)return function(t,e,n){var r=t.$options;r[e]=Yn(r[e],n)}(n,t,e)}}yn("beforeMount"),yn("mounted"),yn("beforeUpdate"),yn("updated"),yn("beforeDestroy"),yn("destroyed"),yn("activated"),yn("deactivated"),yn("serverPrefetch"),yn("renderTracked"),yn("renderTriggered"),yn("errorCaptured");var _n=new ft;function bn(t){return wn(t,_n),_n.clear(),t}function wn(t,e){var n,r,i=o(t);if(!(!i&&!f(t)||t.__v_skip||Object.isFrozen(t)||t instanceof vt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(i)for(n=t.length;n--;)wn(t[n],e);else if(Ut(t))wn(t.value,e);else for(n=(r=Object.keys(t)).length;n--;)wn(t[r[n]],e)}}var kn=0,xn=function(){function t(t,e,n,r,i){var o,s;o=this,void 0===(s=tn&&!tn._vm?tn:t?t._scope:void 0)&&(s=tn),s&&s.active&&s.effects.push(o),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++kn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="",u(e)?this.getter=e:(this.getter=function(t){if(!J.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;St(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;rn(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&bn(t),Ct(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Xe(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||f(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');on(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&k(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}(),Sn={enumerable:!0,configurable:!0,get:R,set:R};function Cn(t,e,n){Sn.get=function(){return this[e][n]},Sn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Sn)}function On(t){var e=t.$options;if(e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props=$t({}),i=t.$options._propKeys=[],o=!t.$parent;o||jt(!1);var s=function(o){i.push(o);var s=Xn(o,e,n,t);Rt(r,o,s),o in t||Cn(t,"_props",o)};for(var a in e)s(a);jt(!0)}(t,e.props),function(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=xe(t);pt(t),St();var i=on(n,null,[t._props||$t({}),r],t,"setup");if(Ct(),pt(),u(i))e.render=i;else if(f(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var s in i)"__sfc"!==s&&Vt(o,i,s)}else for(var s in i)Y(s)||Vt(t,i,s)}}(t),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?R:j(e[n],t)}(t,e.methods),e.data)!function(t){var e=t.$options.data;e=t._data=u(e)?function(t,e){St();try{return t.call(e,e)}catch(t){return rn(t,e,"data()"),{}}finally{Ct()}}(e,t):e||{},h(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&S(r,o)||Y(o)||Cn(t,"_data",o)}var s=Nt(e);s&&s.vmCount++}(t);else{var n=Nt(t._data={});n&&n.vmCount++}e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var i in e){var o=e[i],s=u(o)?o:o.get;0,r||(n[i]=new xn(t,s||R,R,En)),i in t||Pn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==ot&&function(t,e){for(var n in e){var r=e[n];if(o(r))for(var i=0;i<r.length;i++)jn(t,n,r[i]);else jn(t,n,r)}}(t,e.watch)}var En={lazy:!0};function Pn(t,e,n){var r=!ct();u(n)?(Sn.get=r?An(e):Tn(n),Sn.set=R):(Sn.get=n.get?r&&!1!==n.cache?An(e):Tn(n.get):R,Sn.set=n.set||R),Object.defineProperty(t,e,Sn)}function An(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),kt.target&&e.depend(),e.value}}function Tn(t){return function(){return t.call(this,this)}}function jn(t,e,n,r){return h(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function Mn(t,e){if(t){for(var n=Object.create(null),r=dt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=t[o].from;if(s in e._provided)n[o]=e._provided[s];else if("default"in t[o]){var a=t[o].default;n[o]=u(a)?a.call(e):a}else 0}}return n}}var In=0;function Nn(t){var e=t.options;if(t.super){var n=Nn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&I(t.extendOptions,r),(e=t.options=Kn(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Rn(t,e,n,r,s){var a,l=this,u=s.options;S(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var f=c(u._compiled),d=!f;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Mn(u.inject,r),this.slots=function(){return l.$slots||be(r,t.scopedSlots,l.$slots=ge(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(r,t.scopedSlots,this.slots())}}),f&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=be(r,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var s=te(a,t,e,n,i,d);return s&&!o(s)&&(s.fnScopeId=u._scopeId,s.fnContext=r),s}:this._c=function(t,e,n,r){return te(a,t,e,n,r,d)}}function Dn(t,e,n,r,i){var o=yt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Ln(t,e){for(var n in e)t[E(n)]=e[n]}function Bn(t){return t.name||t.__name||t._componentTag}me(Rn.prototype);var $n={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;$n.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Re)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),l=!!(o||t.$options._renderChildren||c),u=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o;var f=r.data.attrs||i;t._attrsProxy&&Se(t._attrsProxy,f,u.data&&u.data.attrs||i,t,"$attrs")&&(l=!0),t.$attrs=f,n=n||i;var d=t.$options._parentListeners;if(t._listenersProxy&&Se(t._listenersProxy,n,d||i,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Ne(t,n,d),e&&t.$options.props){jt(!1);for(var h=t._props,p=t.$options._propKeys||[],v=0;v<p.length;v++){var m=p[v],g=t.$options.props;h[m]=Xn(m,g,e,t)}jt(!0),t.$options.propsData=e}l&&(t.$slots=ge(o,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Fe(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,Ue.push(e)):Be(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?$e(e,!0):e.$destroy())}},Fn=Object.keys($n);function qn(t,e,n,r,l){if(!s(t)){var u=n.$options._base;if(f(t)&&(t=u.extend(t)),"function"==typeof t){var d;if(s(t.cid)&&(t=function(t,e){if(c(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=Pe;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),c(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],i=!0,o=null,l=null;n.$on("hook:destroyed",(function(){return k(r,n)}));var u=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==l&&(clearTimeout(l),l=null))},d=F((function(n){t.resolved=Ae(n,e),i?r.length=0:u(!0)})),h=F((function(e){a(t.errorComp)&&(t.error=!0,u(!0))})),p=t(d,h);return f(p)&&(m(p)?s(t.resolved)&&p.then(d,h):m(p.component)&&(p.component.then(d,h),a(p.error)&&(t.errorComp=Ae(p.error,e)),a(p.loading)&&(t.loadingComp=Ae(p.loading,e),0===p.delay?t.loading=!0:o=setTimeout((function(){o=null,s(t.resolved)&&s(t.error)&&(t.loading=!0,u(!1))}),p.delay||200)),a(p.timeout)&&(l=setTimeout((function(){l=null,s(t.resolved)&&h(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}(d=t,u),void 0===t))return function(t,e,n,r,i){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(d,e,n,r,l);e=e||{},Nn(t),a(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),s=i[r],c=e.model.callback;a(s)?(o(s)?-1===s.indexOf(c):s!==c)&&(i[r]=[c].concat(s)):i[r]=c}(t.options,e);var h=function(t,e,n){var r=e.options.props;if(!s(r)){var i={},o=t.attrs,c=t.props;if(a(o)||a(c))for(var l in r){var u=T(l);Gt(i,c,l,u,!0)||Gt(i,o,l,u,!1)}return i}}(e,t);if(c(t.options.functional))return function(t,e,n,r,s){var c=t.options,l={},u=c.props;if(a(u))for(var f in u)l[f]=Xn(f,u,e||i);else a(n.attrs)&&Ln(l,n.attrs),a(n.props)&&Ln(l,n.props);var d=new Rn(n,l,s,r,t),h=c.render.call(null,d._c,d);if(h instanceof vt)return Dn(h,n,d.parent,c);if(o(h)){for(var p=Jt(h)||[],v=new Array(p.length),m=0;m<p.length;m++)v[m]=Dn(p[m],n,d.parent,c);return v}}(t,h,e,n,r);var p=e.on;if(e.on=e.nativeOn,c(t.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Fn.length;n++){var r=Fn[n],i=e[r],o=$n[r];i===o||i&&i._merged||(e[r]=i?Un(o,i):o)}}(e);var g=Bn(t.options)||l;return new vt("vue-component-".concat(t.cid).concat(g?"-".concat(g):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:l,children:r},d)}}}function Un(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}var Vn=R,zn=H.optionMergeStrategies;function Hn(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,s=dt?Reflect.ownKeys(e):Object.keys(e),a=0;a<s.length;a++)"__ob__"!==(r=s[a])&&(i=t[r],o=e[r],n&&S(t,r)?i!==o&&h(i)&&h(o)&&Hn(i,o):Dt(t,r,o));return t}function Wn(t,e,n){return n?function(){var r=u(e)?e.call(n,n):e,i=u(t)?t.call(n,n):t;return r?Hn(r,i):i}:e?t?function(){return Hn(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function Yn(t,e){var n=e?t?t.concat(e):o(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Gn(t,e,n,r){var i=Object.create(t||null);return e?I(i,e):i}zn.data=function(t,e,n){return n?Wn(t,e,n):e&&"function"!=typeof e?t:Wn(t,e)},z.forEach((function(t){zn[t]=Yn})),V.forEach((function(t){zn[t+"s"]=Gn})),zn.watch=function(t,e,n,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var s in I(i,t),e){var a=i[s],c=e[s];a&&!o(a)&&(a=[a]),i[s]=a?a.concat(c):o(c)?c:[c]}return i},zn.props=zn.methods=zn.inject=zn.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},zn.provide=function(t,e){return t?function(){var n=Object.create(null);return Hn(n,u(t)?t.call(this):t),e&&Hn(n,u(e)?e.call(this):e,!1),n}:e};var Jn=function(t,e){return void 0===e?t:e};function Kn(t,e,n){if(u(e)&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,s={};if(o(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(s[E(i)]={type:null});else if(h(n))for(var a in n)i=n[a],s[E(a)]=h(i)?i:{type:i};t.props=s}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(o(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(h(n))for(var s in n){var a=n[s];r[s]=h(a)?I({from:s},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];u(r)&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Kn(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Kn(t,e.mixins[r],n);var s,a={};for(s in t)c(s);for(s in e)S(t,s)||c(s);function c(r){var i=zn[r]||Jn;a[r]=i(t[r],e[r],n,r)}return a}function Qn(t,e,n,r){if("string"==typeof n){var i=t[e];if(S(i,n))return i[n];var o=E(n);if(S(i,o))return i[o];var s=P(o);return S(i,s)?i[s]:i[n]||i[o]||i[s]}}function Xn(t,e,n,r){var i=e[t],o=!S(n,t),s=n[t],a=nr(Boolean,i.type);if(a>-1)if(o&&!S(i,"default"))s=!1;else if(""===s||s===T(t)){var c=nr(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(!S(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return u(r)&&"Function"!==tr(e.type)?r.call(t):r}(r,i,t);var l=Tt;jt(!0),Nt(s),jt(l)}return s}var Zn=/^\s*function (\w+)/;function tr(t){var e=t&&t.toString().match(Zn);return e?e[1]:""}function er(t,e){return tr(t)===tr(e)}function nr(t,e){if(!o(e))return er(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(er(e[n],t))return n;return-1}function rr(t){this._init(t)}function ir(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=Bn(t)||Bn(n.options);var s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Kn(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)Cn(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)Pn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,V.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=I({},s.options),i[r]=s,s}}function or(t){return t&&(Bn(t.Ctor.options)||t.tag)}function sr(t,e){return o(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function ar(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!e(a)&&cr(n,o,r,i)}}}function cr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,k(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=In++,e._isVue=!0,e.__v_skip=!0,e._scope=new en(!0),e._scope._vm=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Kn(Nn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ne(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=ge(e._renderChildren,r),t.$scopedSlots=n?be(t.$parent,n.data.scopedSlots,t.$slots):i,t._c=function(e,n,r,i){return te(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return te(t,e,n,r,i,!0)};var o=n&&n.data;Rt(t,"$attrs",o&&o.attrs||i,null,!0),Rt(t,"$listeners",e._parentListeners||i,null,!0)}(e),Fe(e,"beforeCreate",void 0,!1),function(t){var e=Mn(t.$options.inject,t);e&&(jt(!1),Object.keys(e).forEach((function(n){Rt(t,n,e[n])})),jt(!0))}(e),On(e),function(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!f(n))return;for(var r=nn(t),i=dt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}(e),Fe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(rr),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Dt,t.prototype.$delete=Lt,t.prototype.$watch=function(t,e,n){var r=this;if(h(e))return jn(r,t,e,n);(n=n||{}).user=!0;var i=new xn(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');St(),on(e,r,[i.value],r,o),Ct()}return function(){i.teardown()}}}(rr),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(o(t))for(var i=0,s=t.length;i<s;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var s,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var c=a.length;c--;)if((s=a[c])===e||s.fn===e){a.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?M(n):n;for(var r=M(arguments,1),i='event handler for "'.concat(t,'"'),o=0,s=n.length;o<s;o++)on(n[o],e,r,e,i)}return e}}(rr),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=De(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var s=n;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fe(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||k(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fe(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(rr),function(t){me(t.prototype),t.prototype.$nextTick=function(t){return gn(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&e._isMounted&&(e.$scopedSlots=be(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Oe(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{pt(e),Pe=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){rn(n,e,"render"),t=e._vnode}finally{Pe=null,pt()}return o(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=mt()),t.parent=i,t}}(rr);var lr=[String,RegExp,Array],ur={name:"keep-alive",abstract:!0,props:{include:lr,exclude:lr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;e[i]={name:or(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&cr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)cr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ar(t,(function(t){return sr(e,t)}))})),this.$watch("exclude",(function(e){ar(t,(function(t){return!sr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Te(t),n=e&&e.componentOptions;if(n){var r=or(n),i=this.include,o=this.exclude;if(i&&(!r||!sr(i,r))||o&&r&&sr(o,r))return e;var s=this.cache,a=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;s[c]?(e.componentInstance=s[c].componentInstance,k(a,c),a.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}},fr={KeepAlive:ur};!function(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:Vn,extend:I,mergeOptions:Kn,defineReactive:Rt},t.set=Dt,t.delete=Lt,t.nextTick=gn,t.observable=function(t){return Nt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,I(t.options.components,fr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=M(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Kn(this.options,t),this}}(t),ir(t),function(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&h(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(rr),Object.defineProperty(rr.prototype,"$isServer",{get:ct}),Object.defineProperty(rr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(rr,"FunctionalRenderContext",{value:Rn}),rr.version="2.7.14";var dr=_("style,class"),hr=_("input,textarea,option,select,progress"),pr=function(t,e,n){return"value"===n&&hr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},vr=_("contenteditable,draggable,spellcheck"),mr=_("events,caret,typing,plaintext-only"),gr=function(t,e){return kr(e)||"false"===e?"false":"contenteditable"===t&&mr(e)?e:"true"},yr=_("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),_r="http://www.w3.org/1999/xlink",br=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},wr=function(t){return br(t)?t.slice(6,t.length):""},kr=function(t){return null==t||!1===t};function xr(t){for(var e=t.data,n=t,r=t;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Sr(r.data,e));for(;a(n=n.parent);)n&&n.data&&(e=Sr(e,n.data));return function(t,e){if(a(t)||a(e))return Cr(t,Or(e));return""}(e.staticClass,e.class)}function Sr(t,e){return{staticClass:Cr(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Cr(t,e){return t?e?t+" "+e:t:e||""}function Or(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Or(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):f(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Er={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Pr=_("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ar=_("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Tr=function(t){return Pr(t)||Ar(t)};function jr(t){return Ar(t)?"svg":"math"===t?"math":void 0}var Mr=Object.create(null);var Ir=_("text,number,password,search,email,tel,url");function Nr(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var Rr=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Er[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Dr={create:function(t,e){Lr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Lr(t,!0),Lr(e))},destroy:function(t){Lr(t,!0)}};function Lr(t,e){var n=t.data.ref;if(a(n)){var r=t.context,i=t.componentInstance||t.elm,s=e?null:i,c=e?void 0:i;if(u(n))on(n,r,[s],r,"template ref function");else{var l=t.data.refInFor,f="string"==typeof n||"number"==typeof n,d=Ut(n),h=r.$refs;if(f||d)if(l){var p=f?h[n]:n.value;e?o(p)&&k(p,i):o(p)?p.includes(i)||p.push(i):f?(h[n]=[i],Br(r,n,h[n])):n.value=[i]}else if(f){if(e&&h[n]!==i)return;h[n]=c,Br(r,n,s)}else if(d){if(e&&n.value!==i)return;n.value=s}else 0}}}function Br(t,e,n){var r=t._setupState;r&&S(r,e)&&(Ut(r[e])?r[e].value=n:r[e]=n)}var $r=new vt("",{},[]),Fr=["create","activate","update","remove","destroy"];function qr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||Ir(r)&&Ir(i)}(t,e)||c(t.isAsyncPlaceholder)&&s(e.asyncFactory.error))}function Ur(t,e,n){var r,i,o={};for(r=e;r<=n;++r)a(i=t[r].key)&&(o[i]=r);return o}var Vr={create:zr,update:zr,destroy:function(t){zr(t,$r)}};function zr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===$r,s=e===$r,a=Wr(t.data.directives,t.context),c=Wr(e.data.directives,e.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Gr(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(Gr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var f=function(){for(var n=0;n<l.length;n++)Gr(l[n],"inserted",e,t)};o?Yt(e,"insert",f):f()}u.length&&Yt(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Gr(u[n],"componentUpdated",e,t)}));if(!o)for(n in a)c[n]||Gr(a[n],"unbind",t,t,s)}(t,e)}var Hr=Object.create(null);function Wr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if((r=t[n]).modifiers||(r.modifiers=Hr),i[Yr(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Qn(e,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||Qn(e.$options,"directives",r.name)}return i}function Yr(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Gr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){rn(r,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Jr=[Dr,Vr];function Kr(t,e){var n=e.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||s(t.data.attrs)&&s(e.data.attrs))){var r,i,o=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(r in(a(u.__ob__)||c(u._v_attr_proxy))&&(u=e.data.attrs=I({},u)),u)i=u[r],l[r]!==i&&Qr(o,r,i,e.data.pre);for(r in(Z||et)&&u.value!==l.value&&Qr(o,"value",u.value),l)s(u[r])&&(br(r)?o.removeAttributeNS(_r,wr(r)):vr(r)||o.removeAttribute(r))}}function Qr(t,e,n,r){r||t.tagName.indexOf("-")>-1?Xr(t,e,n):yr(e)?kr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):vr(e)?t.setAttribute(e,gr(e,n)):br(e)?kr(n)?t.removeAttributeNS(_r,wr(e)):t.setAttributeNS(_r,e,n):Xr(t,e,n)}function Xr(t,e,n){if(kr(n))t.removeAttribute(e);else{if(Z&&!tt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Zr={create:Kr,update:Kr};function ti(t,e){var n=e.elm,r=e.data,i=t.data;if(!(s(r.staticClass)&&s(r.class)&&(s(i)||s(i.staticClass)&&s(i.class)))){var o=xr(e),c=n._transitionClasses;a(c)&&(o=Cr(o,Or(c))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var ei,ni,ri,ii,oi,si,ai={create:ti,update:ti},ci=/[\w).+\-_$\]]/;function li(t){var e,n,r,i,o,s=!1,a=!1,c=!1,l=!1,u=0,f=0,d=0,h=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),s)39===e&&92!==n&&(s=!1);else if(a)34===e&&92!==n&&(a=!1);else if(c)96===e&&92!==n&&(c=!1);else if(l)47===e&&92!==n&&(l=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||u||f||d){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:u++;break;case 125:u--}if(47===e){for(var p=r-1,v=void 0;p>=0&&" "===(v=t.charAt(p));p--);v&&ci.test(v)||(l=!0)}}else void 0===i?(h=r+1,i=t.slice(0,r).trim()):m();function m(){(o||(o=[])).push(t.slice(h,r).trim()),h=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==h&&m(),o)for(r=0;r<o.length;r++)i=ui(i,o[r]);return i}function ui(t,e){var n=e.indexOf("(");if(n<0)return'_f("'.concat(e,'")(').concat(t,")");var r=e.slice(0,n),i=e.slice(n+1);return'_f("'.concat(r,'")(').concat(t).concat(")"!==i?","+i:i)}function fi(t,e){console.error("[Vue compiler]: ".concat(t))}function di(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function hi(t,e,n,r,i){(t.props||(t.props=[])).push(ki({name:e,value:n,dynamic:i},r)),t.plain=!1}function pi(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(ki({name:e,value:n,dynamic:i},r)),t.plain=!1}function vi(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(ki({name:e,value:n},r))}function mi(t,e,n,r,i,o,s,a){(t.directives||(t.directives=[])).push(ki({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:s},a)),t.plain=!1}function gi(t,e,n){return n?"_p(".concat(e,',"').concat(t,'")'):t+e}function yi(t,e,n,r,o,s,a,c){var l;(r=r||i).right?c?e="(".concat(e,")==='click'?'contextmenu':(").concat(e,")"):"click"===e&&(e="contextmenu",delete r.right):r.middle&&(c?e="(".concat(e,")==='click'?'mouseup':(").concat(e,")"):"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=gi("!",e,c)),r.once&&(delete r.once,e=gi("~",e,c)),r.passive&&(delete r.passive,e=gi("&",e,c)),r.native?(delete r.native,l=t.nativeEvents||(t.nativeEvents={})):l=t.events||(t.events={});var u=ki({value:n.trim(),dynamic:c},a);r!==i&&(u.modifiers=r);var f=l[e];Array.isArray(f)?o?f.unshift(u):f.push(u):l[e]=f?o?[u,f]:[f,u]:u,t.plain=!1}function _i(t,e,n){var r=bi(t,":"+e)||bi(t,"v-bind:"+e);if(null!=r)return li(r);if(!1!==n){var i=bi(t,e);if(null!=i)return JSON.stringify(i)}}function bi(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,s=i.length;o<s;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function wi(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function ki(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function xi(t,e,n){var r=n||{},i=r.number,o="$$v",s=o;r.trim&&(s="(typeof ".concat(o," === 'string'")+"? ".concat(o,".trim()")+": ".concat(o,")")),i&&(s="_n(".concat(s,")"));var a=Si(e,s);t.model={value:"(".concat(e,")"),expression:JSON.stringify(e),callback:"function (".concat(o,") {").concat(a,"}")}}function Si(t,e){var n=function(t){if(t=t.trim(),ei=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ei-1)return(ii=t.lastIndexOf("."))>-1?{exp:t.slice(0,ii),key:'"'+t.slice(ii+1)+'"'}:{exp:t,key:null};ni=t,ii=oi=si=0;for(;!Oi();)Ei(ri=Ci())?Ai(ri):91===ri&&Pi(ri);return{exp:t.slice(0,oi),key:t.slice(oi+1,si)}}(t);return null===n.key?"".concat(t,"=").concat(e):"$set(".concat(n.exp,", ").concat(n.key,", ").concat(e,")")}function Ci(){return ni.charCodeAt(++ii)}function Oi(){return ii>=ei}function Ei(t){return 34===t||39===t}function Pi(t){var e=1;for(oi=ii;!Oi();)if(Ei(t=Ci()))Ai(t);else if(91===t&&e++,93===t&&e--,0===e){si=ii;break}}function Ai(t){for(var e=t;!Oi()&&(t=Ci())!==e;);}var Ti,ji="__r",Mi="__c";function Ii(t,e,n){var r=Ti;return function i(){null!==e.apply(null,arguments)&&Di(t,i,n,r)}}var Ni=ln&&!(it&&Number(it[1])<=53);function Ri(t,e,n,r){if(Ni){var i=Ye,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ti.addEventListener(t,e,st?{capture:n,passive:r}:n)}function Di(t,e,n,r){(r||Ti).removeEventListener(t,e._wrapper||e,n)}function Li(t,e){if(!s(t.data.on)||!s(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Ti=e.elm||t.elm,function(t){if(a(t[ji])){var e=Z?"change":"input";t[e]=[].concat(t[ji],t[e]||[]),delete t[ji]}a(t[Mi])&&(t.change=[].concat(t[Mi],t.change||[]),delete t[Mi])}(n),Wt(n,r,Ri,Di,Ii,e.context),Ti=void 0}}var Bi,$i={create:Li,update:Li,destroy:function(t){return Li(t,$r)}};function Fi(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var n,r,i=e.elm,o=t.data.domProps||{},l=e.data.domProps||{};for(n in(a(l.__ob__)||c(l._v_attr_proxy))&&(l=e.data.domProps=I({},l)),o)n in l||(i[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=s(r)?"":String(r);qi(i,u)&&(i.value=u)}else if("innerHTML"===n&&Ar(i.tagName)&&s(i.innerHTML)){(Bi=Bi||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var f=Bi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;f.firstChild;)i.appendChild(f.firstChild)}else if(r!==o[n])try{i[n]=r}catch(t){}}}}function qi(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return y(n)!==y(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Ui={create:Fi,update:Fi},Vi=C((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function zi(t){var e=Hi(t.style);return t.staticStyle?I(t.staticStyle,e):e}function Hi(t){return Array.isArray(t)?N(t):"string"==typeof t?Vi(t):t}var Wi,Yi=/^--/,Gi=/\s*!important$/,Ji=function(t,e,n){if(Yi.test(e))t.style.setProperty(e,n);else if(Gi.test(n))t.style.setProperty(T(e),n.replace(Gi,""),"important");else{var r=Qi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Ki=["Webkit","Moz","ms"],Qi=C((function(t){if(Wi=Wi||document.createElement("div").style,"filter"!==(t=E(t))&&t in Wi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ki.length;n++){var r=Ki[n]+e;if(r in Wi)return r}}));function Xi(t,e){var n=e.data,r=t.data;if(!(s(n.staticStyle)&&s(n.style)&&s(r.staticStyle)&&s(r.style))){var i,o,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},f=l||u,d=Hi(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?I({},d):d;var h=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=zi(i.data))&&I(r,n);(n=zi(t.data))&&I(r,n);for(var o=t;o=o.parent;)o.data&&(n=zi(o.data))&&I(r,n);return r}(e,!0);for(o in f)s(h[o])&&Ji(c,o,"");for(o in h)(i=h[o])!==f[o]&&Ji(c,o,null==i?"":i)}}var Zi={create:Xi,update:Xi},to=/\s+/;function eo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(to).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function no(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(to).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function ro(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&I(e,io(t.name||"v")),I(e,t),e}return"string"==typeof t?io(t):void 0}}var io=C((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),oo=Q&&!tt,so="transition",ao="animation",co="transition",lo="transitionend",uo="animation",fo="animationend";oo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(co="WebkitTransition",lo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(uo="WebkitAnimation",fo="webkitAnimationEnd"));var ho=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function po(t){ho((function(){ho(t)}))}function vo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),eo(t,e))}function mo(t,e){t._transitionClasses&&k(t._transitionClasses,e),no(t,e)}function go(t,e,n){var r=_o(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===so?lo:fo,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var yo=/\b(transform|all)(,|$)/;function _o(t,e){var n,r=window.getComputedStyle(t),i=(r[co+"Delay"]||"").split(", "),o=(r[co+"Duration"]||"").split(", "),s=bo(i,o),a=(r[uo+"Delay"]||"").split(", "),c=(r[uo+"Duration"]||"").split(", "),l=bo(a,c),u=0,f=0;return e===so?s>0&&(n=so,u=s,f=o.length):e===ao?l>0&&(n=ao,u=l,f=c.length):f=(n=(u=Math.max(s,l))>0?s>l?so:ao:null)?n===so?o.length:c.length:0,{type:n,timeout:u,propCount:f,hasTransform:n===so&&yo.test(r[co+"Property"])}}function bo(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return wo(e)+wo(t[n])})))}function wo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ko(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=ro(t.data.transition);if(!s(r)&&!a(n._enterCb)&&1===n.nodeType){for(var i=r.css,o=r.type,c=r.enterClass,l=r.enterToClass,d=r.enterActiveClass,h=r.appearClass,p=r.appearToClass,v=r.appearActiveClass,m=r.beforeEnter,g=r.enter,_=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,k=r.appear,x=r.afterAppear,S=r.appearCancelled,C=r.duration,O=Re,E=Re.$vnode;E&&E.parent;)O=E.context,E=E.parent;var P=!O._isMounted||!t.isRootInsert;if(!P||k||""===k){var A=P&&h?h:c,T=P&&v?v:d,j=P&&p?p:l,M=P&&w||m,I=P&&u(k)?k:g,N=P&&x||_,R=P&&S||b,D=y(f(C)?C.enter:C);0;var L=!1!==i&&!tt,B=Co(I),$=n._enterCb=F((function(){L&&(mo(n,j),mo(n,T)),$.cancelled?(L&&mo(n,A),R&&R(n)):N&&N(n),n._enterCb=null}));t.data.show||Yt(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,$)})),M&&M(n),L&&(vo(n,A),vo(n,T),po((function(){mo(n,A),$.cancelled||(vo(n,j),B||(So(D)?setTimeout($,D):go(n,o,$)))}))),t.data.show&&(e&&e(),I&&I(n,$)),L||B||$()}}}function xo(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ro(t.data.transition);if(s(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var i=r.css,o=r.type,c=r.leaveClass,l=r.leaveToClass,u=r.leaveActiveClass,d=r.beforeLeave,h=r.leave,p=r.afterLeave,v=r.leaveCancelled,m=r.delayLeave,g=r.duration,_=!1!==i&&!tt,b=Co(h),w=y(f(g)?g.leave:g);0;var k=n._leaveCb=F((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(mo(n,l),mo(n,u)),k.cancelled?(_&&mo(n,c),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));m?m(x):x()}function x(){k.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),_&&(vo(n,c),vo(n,u),po((function(){mo(n,c),k.cancelled||(vo(n,l),b||(So(w)?setTimeout(k,w):go(n,o,k)))}))),h&&h(n,k),_||b||k())}}function So(t){return"number"==typeof t&&!isNaN(t)}function Co(t){if(s(t))return!1;var e=t.fns;return a(e)?Co(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Oo(t,e){!0!==e.data.show&&ko(e)}var Eo=function(t){var e,n,r={},i=t.modules,u=t.nodeOps;for(e=0;e<Fr.length;++e)for(r[Fr[e]]=[],n=0;n<i.length;++n)a(i[n][Fr[e]])&&r[Fr[e]].push(i[n][Fr[e]]);function f(t){var e=u.parentNode(t);a(e)&&u.removeChild(e,t)}function d(t,e,n,i,o,s,l){if(a(t.elm)&&a(s)&&(t=s[l]=yt(t)),t.isRootInsert=!o,!function(t,e,n,i){var o=t.data;if(a(o)){var s=a(t.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(t,!1),a(t.componentInstance))return h(t,e),p(n,t.elm,i),c(s)&&function(t,e,n,i){var o,s=t;for(;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o]($r,s);e.push(s);break}p(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var f=t.data,d=t.children,m=t.tag;a(m)?(t.elm=t.ns?u.createElementNS(t.ns,m):u.createElement(m,t),y(t),v(t,d,e),a(f)&&g(t,e),p(n,t.elm,i)):c(t.isComment)?(t.elm=u.createComment(t.text),p(n,t.elm,i)):(t.elm=u.createTextNode(t.text),p(n,t.elm,i))}}function h(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(g(t,e),y(t)):(Lr(t),e.push(t))}function p(t,e,n){a(t)&&(a(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function v(t,e,n){if(o(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else l(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return a(t.tag)}function g(t,n){for(var i=0;i<r.create.length;++i)r.create[i]($r,t);a(e=t.data.hook)&&(a(e.create)&&e.create($r,t),a(e.insert)&&n.push(t))}function y(t){var e;if(a(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var n=t;n;)a(e=n.context)&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent;a(e=Re)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function b(t,e,n,r,i,o){for(;r<=i;++r)d(n[r],o,t,e,!1,n,r)}function w(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function k(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(x(r),w(r)):f(r.elm))}}function x(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&f(t)}return n.listeners=e,n}(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&x(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else f(t.elm)}function S(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&qr(t,o))return i}}function C(t,e,n,i,o,l){if(t!==e){a(e.elm)&&a(i)&&(e=i[o]=yt(e));var f=e.elm=t.elm;if(c(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?P(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(c(e.isStatic)&&c(t.isStatic)&&e.key===t.key&&(c(e.isCloned)||c(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,p=e.data;a(p)&&a(h=p.hook)&&a(h=h.prepatch)&&h(t,e);var v=t.children,g=e.children;if(a(p)&&m(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);a(h=p.hook)&&a(h=h.update)&&h(t,e)}s(e.text)?a(v)&&a(g)?v!==g&&function(t,e,n,r,i){var o,c,l,f=0,h=0,p=e.length-1,v=e[0],m=e[p],g=n.length-1,y=n[0],_=n[g],w=!i;for(;f<=p&&h<=g;)s(v)?v=e[++f]:s(m)?m=e[--p]:qr(v,y)?(C(v,y,r,n,h),v=e[++f],y=n[++h]):qr(m,_)?(C(m,_,r,n,g),m=e[--p],_=n[--g]):qr(v,_)?(C(v,_,r,n,g),w&&u.insertBefore(t,v.elm,u.nextSibling(m.elm)),v=e[++f],_=n[--g]):qr(m,y)?(C(m,y,r,n,h),w&&u.insertBefore(t,m.elm,v.elm),m=e[--p],y=n[++h]):(s(o)&&(o=Ur(e,f,p)),s(c=a(y.key)?o[y.key]:S(y,e,f,p))?d(y,r,t,v.elm,!1,n,h):qr(l=e[c],y)?(C(l,y,r,n,h),e[c]=void 0,w&&u.insertBefore(t,l.elm,v.elm)):d(y,r,t,v.elm,!1,n,h),y=n[++h]);f>p?b(t,s(n[g+1])?null:n[g+1].elm,n,h,g,r):h>g&&k(e,f,p)}(f,v,g,n,l):a(g)?(a(t.text)&&u.setTextContent(f,""),b(f,null,g,0,g.length-1,n)):a(v)?k(v,0,v.length-1):a(t.text)&&u.setTextContent(f,""):t.text!==e.text&&u.setTextContent(f,e.text),a(p)&&a(h=p.hook)&&a(h=h.postpatch)&&h(t,e)}}}function O(t,e,n){if(c(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var E=_("attrs,class,staticClass,staticStyle,key");function P(t,e,n,r){var i,o=e.tag,s=e.data,l=e.children;if(r=r||s&&s.pre,e.elm=t,c(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(s)&&(a(i=s.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return h(e,n),!0;if(a(o)){if(a(l))if(t.hasChildNodes())if(a(i=s)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,f=t.firstChild,d=0;d<l.length;d++){if(!f||!P(f,l[d],n,r)){u=!1;break}f=f.nextSibling}if(!u||f)return!1}else v(e,l,n);if(a(s)){var p=!1;for(var m in s)if(!E(m)){p=!0,g(e,n);break}!p&&s.class&&bn(s.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!s(e)){var o,l=!1,f=[];if(s(t))l=!0,d(e,f);else{var h=a(t.nodeType);if(!h&&qr(t,e))C(t,e,f,null,null,i);else{if(h){if(1===t.nodeType&&t.hasAttribute(U)&&(t.removeAttribute(U),n=!0),c(n)&&P(t,e,f))return O(e,f,!0),t;o=t,t=new vt(u.tagName(o).toLowerCase(),{},[],void 0,o)}var p=t.elm,v=u.parentNode(p);if(d(e,f,p._leaveCb?null:v,u.nextSibling(p)),a(e.parent))for(var g=e.parent,y=m(e);g;){for(var _=0;_<r.destroy.length;++_)r.destroy[_](g);if(g.elm=e.elm,y){for(var b=0;b<r.create.length;++b)r.create[b]($r,g);var x=g.data.hook.insert;if(x.merged)for(var S=1;S<x.fns.length;S++)x.fns[S]()}else Lr(g);g=g.parent}a(v)?k([t],0,0):a(t.tag)&&w(t)}}return O(e,f,l),e.elm}a(t)&&w(t)}}({nodeOps:Rr,modules:[Zr,ai,$i,Ui,Zi,Q?{create:Oo,activate:Oo,remove:function(t,e){!0!==t.data.show?xo(t,e):e()}}:{}].concat(Jr)});tt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ro(t,"input")}));var Po={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Yt(n,"postpatch",(function(){Po.componentUpdated(t,e,n)})):Ao(t,e,n.context),t._vOptions=[].map.call(t.options,Mo)):("textarea"===n.tag||Ir(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Io),t.addEventListener("compositionend",No),t.addEventListener("change",No),tt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ao(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Mo);if(i.some((function(t,e){return!B(t,r[e])})))(t.multiple?e.value.some((function(t){return jo(t,i)})):e.value!==e.oldValue&&jo(e.value,i))&&Ro(t,"change")}}};function Ao(t,e,n){To(t,e,n),(Z||et)&&setTimeout((function(){To(t,e,n)}),0)}function To(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],i)o=$(r,Mo(s))>-1,s.selected!==o&&(s.selected=o);else if(B(Mo(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function jo(t,e){return e.every((function(e){return!B(e,t)}))}function Mo(t){return"_value"in t?t._value:t.value}function Io(t){t.target.composing=!0}function No(t){t.target.composing&&(t.target.composing=!1,Ro(t.target,"input"))}function Ro(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Do(t){return!t.componentInstance||t.data&&t.data.transition?t:Do(t.componentInstance._vnode)}var Lo={bind:function(t,e,n){var r=e.value,i=(n=Do(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,ko(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Do(n)).data&&n.data.transition?(n.data.show=!0,r?ko(n,(function(){t.style.display=t.__vOriginalDisplay})):xo(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},Bo={model:Po,show:Lo},$o={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Fo(Te(e.children)):t}function qo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[E(r)]=i[r];return e}function Uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Vo=function(t){return t.tag||_e(t)},zo=function(t){return"show"===t.name},Ho={name:"transition",props:$o,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Vo)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=Fo(i);if(!o)return i;if(this._leaving)return Uo(t,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:l(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=qo(this),c=this._vnode,u=Fo(c);if(o.data.directives&&o.data.directives.some(zo)&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!_e(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var f=u.data.transition=I({},a);if("out-in"===r)return this._leaving=!0,Yt(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Uo(t,i);if("in-out"===r){if(_e(o))return c;var d,h=function(){d()};Yt(a,"afterEnter",h),Yt(a,"enterCancelled",h),Yt(f,"delayLeave",(function(t){d=t}))}}return i}}},Wo=I({tag:String,moveClass:String},$o);delete Wo.mode;var Yo={props:Wo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=De(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=qo(this),a=0;a<i.length;a++){if((u=i[a]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){var c=[],l=[];for(a=0;a<r.length;a++){var u;(u=r[a]).data.transition=s,u.data.pos=u.elm.getBoundingClientRect(),n[u.key]?c.push(u):l.push(u)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Go),t.forEach(Jo),t.forEach(Ko),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;vo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(lo,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(lo,t),n._moveCb=null,mo(n,e))})}})))},methods:{hasMove:function(t,e){if(!oo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){no(n,t)})),eo(n,e),n.style.display="none",this.$el.appendChild(n);var r=_o(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Go(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Jo(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ko(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var Qo={Transition:Ho,TransitionGroup:Yo};rr.config.mustUseProp=pr,rr.config.isReservedTag=Tr,rr.config.isReservedAttr=dr,rr.config.getTagNamespace=jr,rr.config.isUnknownElement=function(t){if(!Q)return!0;if(Tr(t))return!1;if(t=t.toLowerCase(),null!=Mr[t])return Mr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Mr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Mr[t]=/HTMLUnknownElement/.test(e.toString())},I(rr.options.directives,Bo),I(rr.options.components,Qo),rr.prototype.__patch__=Q?Eo:R,rr.prototype.$mount=function(t,e){return function(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=mt),Fe(t,"beforeMount"),r=function(){t._update(t._render(),n)},new xn(t,r,R,{before:function(){t._isMounted&&!t._isDestroyed&&Fe(t,"beforeUpdate")}},!0),n=!1;var i=t._preWatchers;if(i)for(var o=0;o<i.length;o++)i[o].run();return null==t.$vnode&&(t._isMounted=!0,Fe(t,"mounted")),t}(this,t=t&&Q?Nr(t):void 0,e)},Q&&setTimeout((function(){H.devtools&&lt&&lt.emit("init",rr)}),0);var Xo=/\{\{((?:.|\r?\n)+?)\}\}/g,Zo=/[-.*+?^${}()|[\]\/\\]/g,ts=C((function(t){var e=t[0].replace(Zo,"\\$&"),n=t[1].replace(Zo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}));var es={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=bi(t,"class");n&&(t.staticClass=JSON.stringify(n.replace(/\s+/g," ").trim()));var r=_i(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:".concat(t.staticClass,",")),t.classBinding&&(e+="class:".concat(t.classBinding,",")),e}};var ns,rs={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=bi(t,"style");n&&(t.staticStyle=JSON.stringify(Vi(n)));var r=_i(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:".concat(t.staticStyle,",")),t.styleBinding&&(e+="style:(".concat(t.styleBinding,"),")),e}},is=function(t){return(ns=ns||document.createElement("div")).innerHTML=t,ns.textContent},os=_("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),ss=_("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),as=_("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),cs=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ls=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,us="[a-zA-Z_][\\-\\.0-9_a-zA-Z".concat(W.source,"]*"),fs="((?:".concat(us,"\\:)?").concat(us,")"),ds=new RegExp("^<".concat(fs)),hs=/^\s*(\/?)>/,ps=new RegExp("^<\\/".concat(fs,"[^>]*>")),vs=/^<!DOCTYPE [^>]+>/i,ms=/^<!\--/,gs=/^<!\[/,ys=_("script,style,textarea",!0),_s={},bs={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},ws=/&(?:lt|gt|quot|amp|#39);/g,ks=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,xs=_("pre,textarea",!0),Ss=function(t,e){return t&&xs(t)&&"\n"===e[0]};function Cs(t,e){var n=e?ks:ws;return t.replace(n,(function(t){return bs[t]}))}function Os(t,e){for(var n,r,i=[],o=e.expectHTML,s=e.isUnaryTag||D,a=e.canBeLeftOpenTag||D,c=0,l=function(){if(n=t,r&&ys(r)){var l=0,d=r.toLowerCase(),h=_s[d]||(_s[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i"));k=t.replace(h,(function(t,n,r){return l=r.length,ys(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ss(d,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-k.length,t=k,f(d,c-l,c)}else{var p=t.indexOf("<");if(0===p){if(ms.test(t)){var v=t.indexOf("--\x3e");if(v>=0)return e.shouldKeepComment&&e.comment&&e.comment(t.substring(4,v),c,c+v+3),u(v+3),"continue"}if(gs.test(t)){var m=t.indexOf("]>");if(m>=0)return u(m+2),"continue"}var g=t.match(vs);if(g)return u(g[0].length),"continue";var y=t.match(ps);if(y){var _=c;return u(y[0].length),f(y[1],_,c),"continue"}var b=function(){var e=t.match(ds);if(e){var n={tagName:e[1],attrs:[],start:c};u(e[0].length);for(var r=void 0,i=void 0;!(r=t.match(hs))&&(i=t.match(ls)||t.match(cs));)i.start=c,u(i[0].length),i.end=c,n.attrs.push(i);if(r)return n.unarySlash=r[1],u(r[0].length),n.end=c,n}}();if(b)return function(t){var n=t.tagName,c=t.unarySlash;o&&("p"===r&&as(n)&&f(r),a(n)&&r===n&&f(n));for(var l=s(n)||!!c,u=t.attrs.length,d=new Array(u),h=0;h<u;h++){var p=t.attrs[h],v=p[3]||p[4]||p[5]||"",m="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[h]={name:p[1],value:Cs(v,m)}}l||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:t.start,end:t.end}),r=n);e.start&&e.start(n,d,l,t.start,t.end)}(b),Ss(b.tagName,t)&&u(1),"continue"}var w=void 0,k=void 0,x=void 0;if(p>=0){for(k=t.slice(p);!(ps.test(k)||ds.test(k)||ms.test(k)||gs.test(k)||(x=k.indexOf("<",1))<0);)p+=x,k=t.slice(p);w=t.substring(0,p)}p<0&&(w=t),w&&u(w.length),e.chars&&w&&e.chars(w,c-w.length,c)}if(t===n)return e.chars&&e.chars(t),"break"};t;){if("break"===l())break}function u(e){c+=e,t=t.substring(e)}function f(t,n,o){var s,a;if(null==n&&(n=c),null==o&&(o=c),t)for(a=t.toLowerCase(),s=i.length-1;s>=0&&i[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var l=i.length-1;l>=s;l--)e.end&&e.end(i[l].tag,n,o);i.length=s,r=s&&i[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,n,o):"p"===a&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}f()}var Es,Ps,As,Ts,js,Ms,Is,Ns,Rs=/^@|^v-on:/,Ds=/^v-|^@|^:|^#/,Ls=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Bs=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,$s=/^\(|\)$/g,Fs=/^\[.*\]$/,qs=/:(.*)$/,Us=/^:|^\.|^v-bind:/,Vs=/\.[^.\]]+(?=[^\]]*$)/g,zs=/^v-slot(:|$)|^#/,Hs=/[\r\n]/,Ws=/[ \f\t\r\n]+/g,Ys=C(is),Gs="_empty_";function Js(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:na(e),rawAttrsMap:{},parent:n,children:[]}}function Ks(t,e){Es=e.warn||fi,Ms=e.isPreTag||D,Is=e.mustUseProp||D,Ns=e.getTagNamespace||D;var n=e.isReservedTag||D;(function(t){return!(!(t.component||t.attrsMap[":is"]||t.attrsMap["v-bind:is"])&&(t.attrsMap.is?n(t.attrsMap.is):n(t.tag)))}),As=di(e.modules,"transformNode"),Ts=di(e.modules,"preTransformNode"),js=di(e.modules,"postTransformNode"),Ps=e.delimiters;var r,i,o=[],s=!1!==e.preserveWhitespace,a=e.whitespace,c=!1,l=!1;function u(t){if(f(t),c||t.processed||(t=Qs(t,e)),o.length||t===r||r.if&&(t.elseif||t.else)&&Zs(r,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)s=t,a=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children),a&&a.if&&Zs(a,{exp:s.elseif,block:s});else{if(t.slotScope){var n=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=t}i.children.push(t),t.parent=i}var s,a;t.children=t.children.filter((function(t){return!t.slotScope})),f(t),t.pre&&(c=!1),Ms(t.tag)&&(l=!1);for(var u=0;u<js.length;u++)js[u](t,e)}function f(t){if(!l)for(var e=void 0;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return Os(t,{warn:Es,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,s,a,f){var d=i&&i.ns||Ns(t);Z&&"svg"===d&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];ra.test(r.name)||(r.name=r.name.replace(ia,""),e.push(r))}return e}(n));var h,p=Js(t,n,i);d&&(p.ns=d),"style"!==(h=p).tag&&("script"!==h.tag||h.attrsMap.type&&"text/javascript"!==h.attrsMap.type)||ct()||(p.forbidden=!0);for(var v=0;v<Ts.length;v++)p=Ts[v](p,e)||p;c||(!function(t){null!=bi(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(c=!0)),Ms(p.tag)&&(l=!0),c?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(p):p.processed||(Xs(p),function(t){var e=bi(t,"v-if");if(e)t.if=e,Zs(t,{exp:e,block:t});else{null!=bi(t,"v-else")&&(t.else=!0);var n=bi(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){var e=bi(t,"v-once");null!=e&&(t.once=!0)}(p)),r||(r=p),s?u(p):(i=p,o.push(p))},end:function(t,e,n){var r=o[o.length-1];o.length-=1,i=o[o.length-1],u(r)},chars:function(t,e,n){if(i&&(!Z||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,o=i.children;if(t=l||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:Ys(t):o.length?a?"condense"===a&&Hs.test(t)?"":" ":s?" ":"":""){l||"condense"!==a||(t=t.replace(Ws," "));var u=void 0,f=void 0;!c&&" "!==t&&(u=function(t,e){var n=e?ts(e):Xo;if(n.test(t)){for(var r,i,o,s=[],a=[],c=n.lastIndex=0;r=n.exec(t);){(i=r.index)>c&&(a.push(o=t.slice(c,i)),s.push(JSON.stringify(o)));var l=li(r[1].trim());s.push("_s(".concat(l,")")),a.push({"@binding":l}),c=i+r[0].length}return c<t.length&&(a.push(o=t.slice(c)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}(t,Ps))?f={type:2,expression:u.expression,tokens:u.tokens,text:t}:" "===t&&o.length&&" "===o[o.length-1].text||(f={type:3,text:t}),f&&o.push(f)}}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};0,i.children.push(r)}}}),r}function Qs(t,e){var n;!function(t){var e=_i(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=_i(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=bi(t,"scope"),t.slotScope=e||bi(t,"slot-scope")):(e=bi(t,"slot-scope"))&&(t.slotScope=e);var n=_i(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||pi(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot")));if("template"===t.tag){if(s=wi(t,zs)){0;var r=ta(s),i=r.name,o=r.dynamic;t.slotTarget=i,t.slotTargetDynamic=o,t.slotScope=s.value||Gs}}else{var s;if(s=wi(t,zs)){0;var a=t.scopedSlots||(t.scopedSlots={}),c=ta(s),l=c.name,u=(o=c.dynamic,a[l]=Js("template",[],t));u.slotTarget=l,u.slotTargetDynamic=o,u.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=u,!0})),u.slotScope=s.value||Gs,t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=_i(n,"name")),function(t){var e;(e=_i(t,"is"))&&(t.component=e);null!=bi(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<As.length;r++)t=As[r](t,e)||t;return function(t){var e,n,r,i,o,s,a,c,l=t.attrsList;for(e=0,n=l.length;e<n;e++){if(r=i=l[e].name,o=l[e].value,Ds.test(r))if(t.hasBindings=!0,(s=ea(r.replace(Ds,"")))&&(r=r.replace(Vs,"")),Us.test(r))r=r.replace(Us,""),o=li(o),(c=Fs.test(r))&&(r=r.slice(1,-1)),s&&(s.prop&&!c&&"innerHtml"===(r=E(r))&&(r="innerHTML"),s.camel&&!c&&(r=E(r)),s.sync&&(a=Si(o,"$event"),c?yi(t,'"update:"+('.concat(r,")"),a,null,!1,0,l[e],!0):(yi(t,"update:".concat(E(r)),a,null,!1,0,l[e]),T(r)!==E(r)&&yi(t,"update:".concat(T(r)),a,null,!1,0,l[e])))),s&&s.prop||!t.component&&Is(t.tag,t.attrsMap.type,r)?hi(t,r,o,l[e],c):pi(t,r,o,l[e],c);else if(Rs.test(r))r=r.replace(Rs,""),(c=Fs.test(r))&&(r=r.slice(1,-1)),yi(t,r,o,s,!1,0,l[e],c);else{var u=(r=r.replace(Ds,"")).match(qs),f=u&&u[1];c=!1,f&&(r=r.slice(0,-(f.length+1)),Fs.test(f)&&(f=f.slice(1,-1),c=!0)),mi(t,r,i,o,f,c,s,l[e])}else pi(t,r,JSON.stringify(o),l[e]),!t.component&&"muted"===r&&Is(t.tag,t.attrsMap.type,r)&&hi(t,r,"true",l[e])}}(t),t}function Xs(t){var e;if(e=bi(t,"v-for")){var n=function(t){var e=t.match(Ls);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace($s,""),i=r.match(Bs);i?(n.alias=r.replace(Bs,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&I(t,n)}}function Zs(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function ta(t){var e=t.name.replace(zs,"");return e||"#"!==t.name[0]&&(e="default"),Fs.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'.concat(e,'"'),dynamic:!1}}function ea(t){var e=t.match(Vs);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function na(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var ra=/^xmlns:NS\d+/,ia=/^NS\d+:/;function oa(t){return Js(t.tag,t.attrsList.slice(),t.parent)}var sa=[es,rs,{preTransformNode:function(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var r=void 0;if((n[":type"]||n["v-bind:type"])&&(r=_i(t,"type")),n.type||r||!n["v-bind"]||(r="(".concat(n["v-bind"],").type")),r){var i=bi(t,"v-if",!0),o=i?"&&(".concat(i,")"):"",s=null!=bi(t,"v-else",!0),a=bi(t,"v-else-if",!0),c=oa(t);Xs(c),vi(c,"type","checkbox"),Qs(c,e),c.processed=!0,c.if="(".concat(r,")==='checkbox'")+o,Zs(c,{exp:c.if,block:c});var l=oa(t);bi(l,"v-for",!0),vi(l,"type","radio"),Qs(l,e),Zs(c,{exp:"(".concat(r,")==='radio'")+o,block:l});var u=oa(t);return bi(u,"v-for",!0),vi(u,":type",r),Qs(u,e),Zs(c,{exp:i,block:u}),s?c.else=!0:a&&(c.elseif=a),c}}}}];var aa,ca,la={model:function(t,e,n){n;var r=e.value,i=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return xi(t,r,i),!1;if("select"===o)!function(t,e,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;'+"return ".concat(r?"_n(val)":"val","})"),o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",s="var $$selectedVal = ".concat(i,";");s="".concat(s," ").concat(Si(e,o)),yi(t,"change",s,null,!0)}(t,r,i);else if("input"===o&&"checkbox"===s)!function(t,e,n){var r=n&&n.number,i=_i(t,"value")||"null",o=_i(t,"true-value")||"true",s=_i(t,"false-value")||"false";hi(t,"checked","Array.isArray(".concat(e,")")+"?_i(".concat(e,",").concat(i,")>-1")+("true"===o?":(".concat(e,")"):":_q(".concat(e,",").concat(o,")"))),yi(t,"change","var $$a=".concat(e,",")+"$$el=$event.target,"+"$$c=$$el.checked?(".concat(o,"):(").concat(s,");")+"if(Array.isArray($$a)){"+"var $$v=".concat(r?"_n("+i+")":i,",")+"$$i=_i($$a,$$v);"+"if($$el.checked){$$i<0&&(".concat(Si(e,"$$a.concat([$$v])"),")}")+"else{$$i>-1&&(".concat(Si(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))"),")}")+"}else{".concat(Si(e,"$$c"),"}"),null,!0)}(t,r,i);else if("input"===o&&"radio"===s)!function(t,e,n){var r=n&&n.number,i=_i(t,"value")||"null";i=r?"_n(".concat(i,")"):i,hi(t,"checked","_q(".concat(e,",").concat(i,")")),yi(t,"change",Si(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type;0;var i=n||{},o=i.lazy,s=i.number,a=i.trim,c=!o&&"range"!==r,l=o?"change":"range"===r?ji:"input",u="$event.target.value";a&&(u="$event.target.value.trim()");s&&(u="_n(".concat(u,")"));var f=Si(e,u);c&&(f="if($event.target.composing)return;".concat(f));hi(t,"value","(".concat(e,")")),yi(t,l,f,null,!0),(a||s)&&yi(t,"blur","$forceUpdate()")}(t,r,i);else{if(!H.isReservedTag(o))return xi(t,r,i),!1}return!0},text:function(t,e){e.value&&hi(t,"textContent","_s(".concat(e.value,")"),e)},html:function(t,e){e.value&&hi(t,"innerHTML","_s(".concat(e.value,")"),e)}},ua={expectHTML:!0,modules:sa,directives:la,isPreTag:function(t){return"pre"===t},isUnaryTag:os,mustUseProp:pr,canBeLeftOpenTag:ss,isReservedTag:Tr,getTagNamespace:jr,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(sa)},fa=C((function(t){return _("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function da(t,e){t&&(aa=fa(e.staticKeys||""),ca=e.isReservedTag||D,ha(t),pa(t,!1))}function ha(t){if(t.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||b(t.tag)||!ca(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(aa)))}(t),1===t.type){if(!ca(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];ha(r),r.static||(t.static=!1)}if(t.ifConditions)for(e=1,n=t.ifConditions.length;e<n;e++){var i=t.ifConditions[e].block;ha(i),i.static||(t.static=!1)}}}function pa(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)pa(t.children[n],e||!!t.for);if(t.ifConditions)for(n=1,r=t.ifConditions.length;n<r;n++)pa(t.ifConditions[n].block,e)}}var va=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,ma=/\([^)]*?\);*$/,ga=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ya={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},_a={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},ba=function(t){return"if(".concat(t,")return null;")},wa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ba("$event.target !== $event.currentTarget"),ctrl:ba("!$event.ctrlKey"),shift:ba("!$event.shiftKey"),alt:ba("!$event.altKey"),meta:ba("!$event.metaKey"),left:ba("'button' in $event && $event.button !== 0"),middle:ba("'button' in $event && $event.button !== 1"),right:ba("'button' in $event && $event.button !== 2")};function ka(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var s=xa(t[o]);t[o]&&t[o].dynamic?i+="".concat(o,",").concat(s,","):r+='"'.concat(o,'":').concat(s,",")}return r="{".concat(r.slice(0,-1),"}"),i?n+"_d(".concat(r,",[").concat(i.slice(0,-1),"])"):n+r}function xa(t){if(!t)return"function(){}";if(Array.isArray(t))return"[".concat(t.map((function(t){return xa(t)})).join(","),"]");var e=ga.test(t.value),n=va.test(t.value),r=ga.test(t.value.replace(ma,""));if(t.modifiers){var i="",o="",s=[],a=function(e){if(wa[e])o+=wa[e],ya[e]&&s.push(e);else if("exact"===e){var n=t.modifiers;o+=ba(["ctrl","shift","alt","meta"].filter((function(t){return!n[t]})).map((function(t){return"$event.".concat(t,"Key")})).join("||"))}else s.push(e)};for(var c in t.modifiers)a(c);s.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+"".concat(t.map(Sa).join("&&"),")return null;")}(s)),o&&(i+=o);var l=e?"return ".concat(t.value,".apply(null, arguments)"):n?"return (".concat(t.value,").apply(null, arguments)"):r?"return ".concat(t.value):t.value;return"function($event){".concat(i).concat(l,"}")}return e||n?t.value:"function($event){".concat(r?"return ".concat(t.value):t.value,"}")}function Sa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!==".concat(e);var n=ya[t],r=_a[t];return"_k($event.keyCode,"+"".concat(JSON.stringify(t),",")+"".concat(JSON.stringify(n),",")+"$event.key,"+"".concat(JSON.stringify(r))+")"}var Ca={on:function(t,e){t.wrapListeners=function(t){return"_g(".concat(t,",").concat(e.value,")")}},bind:function(t,e){t.wrapData=function(n){return"_b(".concat(n,",'").concat(t.tag,"',").concat(e.value,",").concat(e.modifiers&&e.modifiers.prop?"true":"false").concat(e.modifiers&&e.modifiers.sync?",true":"",")")}},cloak:R},Oa=function(t){this.options=t,this.warn=t.warn||fi,this.transforms=di(t.modules,"transformCode"),this.dataGenFns=di(t.modules,"genData"),this.directives=I(I({},Ca),t.directives);var e=t.isReservedTag||D;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ea(t,e){var n=new Oa(e),r=t?"script"===t.tag?"null":Pa(t,n):'_c("div")';return{render:"with(this){return ".concat(r,"}"),staticRenderFns:n.staticRenderFns}}function Pa(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Aa(t,e);if(t.once&&!t.onceProcessed)return Ta(t,e);if(t.for&&!t.forProcessed)return Ia(t,e);if(t.if&&!t.ifProcessed)return ja(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=La(t,e),i="_t(".concat(n).concat(r?",function(){return ".concat(r,"}"):""),o=t.attrs||t.dynamicAttrs?Fa((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:E(t.name),value:t.value,dynamic:t.dynamic}}))):null,s=t.attrsMap["v-bind"];!o&&!s||r||(i+=",null");o&&(i+=",".concat(o));s&&(i+="".concat(o?"":",null",",").concat(s));return i+")"}(t,e);var n=void 0;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:La(e,n,!0);return"_c(".concat(t,",").concat(Na(e,n)).concat(r?",".concat(r):"",")")}(t.component,t,e);else{var r=void 0,i=e.maybeComponent(t);(!t.plain||t.pre&&i)&&(r=Na(t,e));var o=void 0,s=e.options.bindings;i&&s&&!1!==s.__isScriptSetup&&(o=function(t,e){var n=E(e),r=P(n),i=function(i){return t[e]===i?e:t[n]===i?n:t[r]===i?r:void 0},o=i("setup-const")||i("setup-reactive-const");if(o)return o;var s=i("setup-let")||i("setup-ref")||i("setup-maybe-ref");if(s)return s}(s,t.tag)),o||(o="'".concat(t.tag,"'"));var a=t.inlineTemplate?null:La(t,e,!0);n="_c(".concat(o).concat(r?",".concat(r):"").concat(a?",".concat(a):"",")")}for(var c=0;c<e.transforms.length;c++)n=e.transforms[c](t,n);return n}return La(t,e)||"void 0"}function Aa(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return ".concat(Pa(t,e),"}")),e.pre=n,"_m(".concat(e.staticRenderFns.length-1).concat(t.staticInFor?",true":"",")")}function Ta(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return ja(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o(".concat(Pa(t,e),",").concat(e.onceId++,",").concat(n,")"):Pa(t,e)}return Aa(t,e)}function ja(t,e,n,r){return t.ifProcessed=!0,Ma(t.ifConditions.slice(),e,n,r)}function Ma(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"(".concat(i.exp,")?").concat(o(i.block),":").concat(Ma(t,e,n,r)):"".concat(o(i.block));function o(t){return n?n(t,e):t.once?Ta(t,e):Pa(t,e)}}function Ia(t,e,n,r){var i=t.for,o=t.alias,s=t.iterator1?",".concat(t.iterator1):"",a=t.iterator2?",".concat(t.iterator2):"";return t.forProcessed=!0,"".concat(r||"_l","((").concat(i,"),")+"function(".concat(o).concat(s).concat(a,"){")+"return ".concat((n||Pa)(t,e))+"})"}function Na(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,o,s,a="directives:[",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],s=!0;var l=e.directives[o.name];l&&(s=!!l(t,o,e.warn)),s&&(c=!0,a+='{name:"'.concat(o.name,'",rawName:"').concat(o.rawName,'"').concat(o.value?",value:(".concat(o.value,"),expression:").concat(JSON.stringify(o.value)):"").concat(o.arg?",arg:".concat(o.isDynamicArg?o.arg:'"'.concat(o.arg,'"')):"").concat(o.modifiers?",modifiers:".concat(JSON.stringify(o.modifiers)):"","},"))}if(c)return a.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:".concat(t.key,",")),t.ref&&(n+="ref:".concat(t.ref,",")),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'.concat(t.tag,'",'));for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:".concat(Fa(t.attrs),",")),t.props&&(n+="domProps:".concat(Fa(t.props),",")),t.events&&(n+="".concat(ka(t.events,!1),",")),t.nativeEvents&&(n+="".concat(ka(t.nativeEvents,!0),",")),t.slotTarget&&!t.slotScope&&(n+="slot:".concat(t.slotTarget,",")),t.scopedSlots&&(n+="".concat(function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Ra(n)})),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==Gs||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var s=Object.keys(e).map((function(t){return Da(e[t],n)})).join(",");return"scopedSlots:_u([".concat(s,"]").concat(r?",null,true":"").concat(!r&&i?",null,false,".concat(function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(s)):"",")")}(t,t.scopedSlots,e),",")),t.model&&(n+="model:{value:".concat(t.model.value,",callback:").concat(t.model.callback,",expression:").concat(t.model.expression,"},")),t.inlineTemplate){var o=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var r=Ea(n,e.options);return"inlineTemplate:{render:function(){".concat(r.render,"},staticRenderFns:[").concat(r.staticRenderFns.map((function(t){return"function(){".concat(t,"}")})).join(","),"]}")}}(t,e);o&&(n+="".concat(o,","))}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b(".concat(n,',"').concat(t.tag,'",').concat(Fa(t.dynamicAttrs),")")),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ra(t){return 1===t.type&&("slot"===t.tag||t.children.some(Ra))}function Da(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return ja(t,e,Da,"null");if(t.for&&!t.forProcessed)return Ia(t,e,Da);var r=t.slotScope===Gs?"":String(t.slotScope),i="function(".concat(r,"){")+"return ".concat("template"===t.tag?t.if&&n?"(".concat(t.if,")?").concat(La(t,e)||"undefined",":undefined"):La(t,e)||"undefined":Pa(t,e),"}"),o=r?"":",proxy:true";return"{key:".concat(t.slotTarget||'"default"',",fn:").concat(i).concat(o,"}")}function La(t,e,n,r,i){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?e.maybeComponent(s)?",1":",0":"";return"".concat((r||Pa)(s,e)).concat(a)}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Ba(i)||i.ifConditions&&i.ifConditions.some((function(t){return Ba(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(o,e.maybeComponent):0,l=i||$a;return"[".concat(o.map((function(t){return l(t,e)})).join(","),"]").concat(c?",".concat(c):"")}}function Ba(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function $a(t,e){return 1===t.type?Pa(t,e):3===t.type&&t.isComment?function(t){return"_e(".concat(JSON.stringify(t.text),")")}(t):function(t){return"_v(".concat(2===t.type?t.expression:qa(JSON.stringify(t.text)),")")}(t)}function Fa(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=qa(i.value);i.dynamic?n+="".concat(i.name,",").concat(o,","):e+='"'.concat(i.name,'":').concat(o,",")}return e="{".concat(e.slice(0,-1),"}"),n?"_d(".concat(e,",[").concat(n.slice(0,-1),"])"):e}function qa(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Ua(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),R}}function Va(t){var e=Object.create(null);return function(n,r,i){(r=I({},r)).warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var s=t(n,r);var a={},c=[];return a.render=Ua(s.render,c),a.staticRenderFns=s.staticRenderFns.map((function(t){return Ua(t,c)})),e[o]=a}}var za,Ha,Wa=(za=function(t,e){var n=Ks(t.trim(),e);!1!==e.optimize&&da(n,e);var r=Ea(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(n)for(var s in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=I(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(r[s]=n[s]);r.warn=function(t,e,n){(n?o:i).push(t)};var a=za(e.trim(),r);return a.errors=i,a.tips=o,a}return{compile:e,compileToFunctions:Va(e)}}),Ya=Wa(ua).compileToFunctions;function Ga(t){return(Ha=Ha||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Ha.innerHTML.indexOf("&#10;")>0}var Ja=!!Q&&Ga(!1),Ka=!!Q&&Ga(!0),Qa=C((function(t){var e=Nr(t);return e&&e.innerHTML})),Xa=rr.prototype.$mount;rr.prototype.$mount=function(t,e){if((t=t&&Nr(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Qa(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){0;var i=Ya(r,{outputSourceRange:!1,shouldDecodeNewlines:Ja,shouldDecodeNewlinesForHref:Ka,delimiters:n.delimiters,comments:n.comments},this),o=i.render,s=i.staticRenderFns;n.render=o,n.staticRenderFns=s}}return Xa.call(this,t,e)},rr.compile=Ya}).call(this,n(171),n(782).setImmediate)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r.b})),n.d(e,"b",(function(){return r.c})),n.d(e,"k",(function(){return r.e})),n.d(e,"s",(function(){return r.f})),n.d(e,"d",(function(){return l})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"p",(function(){return f.c})),n.d(e,"v",(function(){return f.e})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return g})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return w})),n.d(e,"l",(function(){return k})),n.d(e,"o",(function(){return x})),n.d(e,"q",(function(){return S})),n.d(e,"r",(function(){return O})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return P}));var r=n(37),i=n(30),o=n(7),s=n(10);function a(t,e=null){return function(n,r){let{$from:s,$to:a}=n.selection,c=s.blockRange(a),l=!1,u=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(t)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;let t=n.doc.resolve(c.start-2);u=new o.NodeRange(t,t,c.depth),c.endIndex<c.parent.childCount&&(c=new o.NodeRange(s,n.doc.resolve(a.end(c.depth)),c.depth)),l=!0}let f=Object(i.i)(u,t,e,c);return!!f&&(r&&r(function(t,e,n,r,s){let a=o.Fragment.empty;for(let t=n.length-1;t>=0;t--)a=o.Fragment.from(n[t].type.create(n[t].attrs,a));t.step(new i.b(e.start-(r?2:0),e.end,e.start,e.end,new o.Slice(a,0,0),n.length,!0));let c=0;for(let t=0;t<n.length;t++)n[t].type==s&&(c=t+1);let l=n.length-c,u=e.start+n.length-(r?2:0),f=e.parent;for(let n=e.startIndex,r=e.endIndex,o=!0;n<r;n++,o=!1)!o&&Object(i.g)(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(n).nodeSize;return t}(n.tr,c,f,l,t).scrollIntoView()),!0)}}function c(t,e){return function(n,r){let{$from:a,$to:c,node:l}=n.selection;if(l&&l.isBlock||a.depth<2||!a.sameParent(c))return!1;let u=a.node(-1);if(u.type!=t)return!1;if(0==a.parent.content.size&&a.node(-1).childCount==a.indexAfter(-1)){if(3==a.depth||a.node(-3).type!=t||a.index(-2)!=a.node(-2).childCount-1)return!1;if(r){let e=o.Fragment.empty,i=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-i;t>=a.depth-3;t--)e=o.Fragment.from(a.node(t).copy(e));let c=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3;e=e.append(o.Fragment.from(t.createAndFill()));let l=a.before(a.depth-(i-1)),u=n.tr.replace(l,a.after(-c),new o.Slice(e,4-i,0)),f=-1;u.doc.nodesBetween(l,u.doc.content.size,((t,e)=>{if(f>-1)return!1;t.isTextblock&&0==t.content.size&&(f=e+1)})),f>-1&&u.setSelection(s.Selection.near(u.doc.resolve(f))),r(u.scrollIntoView())}return!0}let f=c.pos==a.end()?u.contentMatchAt(0).defaultType:null,d=n.tr.delete(a.pos,c.pos),h=f?[e?{type:t,attrs:e}:null,{type:f}]:void 0;return!!Object(i.g)(d.doc,a.pos,2,h)&&(r&&r(d.split(a.pos,2,h).scrollIntoView()),!0)}}function l(t){return function(e,n){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,(e=>e.childCount>0&&e.firstChild.type==t));return!!a&&(!n||(r.node(a.depth-1).type==t?function(t,e,n,r){let s=t.tr,a=r.end,c=r.$to.end(r.depth);a<c&&(s.step(new i.b(a-1,c,a,c,new o.Slice(o.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o.NodeRange(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const l=Object(i.k)(r);if(null==l)return!1;s.lift(r,l);let u=s.mapping.map(a,-1)-1;Object(i.f)(s.doc,u)&&s.join(u);return e(s.scrollIntoView()),!0}(e,n,t,a):function(t,e,n){let r=t.tr,s=n.parent;for(let t=n.end,e=n.endIndex-1,i=n.startIndex;e>i;e--)t-=s.child(e).nodeSize,r.delete(t-1,t+1);let a=r.doc.resolve(n.start),c=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let l=0==n.startIndex,u=n.endIndex==s.childCount,f=a.node(-1),d=a.index(-1);if(!f.canReplace(d+(l?0:1),d+1,c.content.append(u?o.Fragment.empty:o.Fragment.from(s))))return!1;let h=a.pos,p=h+c.nodeSize;return r.step(new i.b(h-(l?1:0),p+(u?1:0),h+1,p-1,new o.Slice((l?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))).append(u?o.Fragment.empty:o.Fragment.from(s.copy(o.Fragment.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}(e,n,a)))}}function u(t){return function(e,n){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,(e=>e.childCount>0&&e.firstChild.type==t));if(!a)return!1;let c=a.startIndex;if(0==c)return!1;let l=a.parent,u=l.child(c-1);if(u.type!=t)return!1;if(n){let r=u.lastChild&&u.lastChild.type==l.type,s=o.Fragment.from(r?t.create():null),c=new o.Slice(o.Fragment.from(t.create(null,o.Fragment.from(l.type.create(null,s)))),r?3:1,0),f=a.start,d=a.end;n(e.tr.step(new i.b(f-(r?3:1),d,f,d,c,1,!0)).scrollIntoView())}return!0}}var f=n(159),d=n(32);function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,n){var r=e.selection.$from.pos.pos;return n(e.tr.insertText(t,r)),!0}}function m(t,e,n){return new f.a(t,(function(t,r,i,o){var s=n instanceof Function?n(r):n,a=t.tr,c=r.length-1,l=o,u=i;if(r[c]){var f=i+r[0].indexOf(r[c-1]),d=f+r[c-1].length-1,p=f+r[c-1].lastIndexOf(r[c]),v=p+r[c].length,m=function(t,e,n){var r=[];return n.doc.nodesBetween(t,e,(function(t,e){r=[].concat(h(r),h(t.marks.map((function(n){return{start:e,end:e+t.nodeSize,mark:n}}))))})),r}(i,o,t).filter((function(t){return t.mark.type.excluded.find((function(t){return t.name===e.name}))})).filter((function(t){return t.end>f}));if(m.length)return!1;v<d&&a.delete(v,d),p>f&&a.delete(f,p),l=(u=f)+r[c].length}return a.addMark(u,l,e.create(s)),a.removeStoredMark(e),a}))}function g(t,e,n){return new f.a(t,(function(t,r,i,o){var s=n instanceof Function?n(r):n,a=t.tr;return r[0]&&a.replaceWith(i-1,o,e.create(s)),a}))}function y(t,e,n){var r=function r(i){var s=[];return i.forEach((function(i){if(i.isText){var o,a=i.text,c=0;do{if(o=t.exec(a)){var l=o.index,u=l+o[0].length,f=n instanceof Function?n(o[0]):n;l>0&&s.push(i.cut(c,l)),s.push(i.cut(l,u).mark(e.create(f).addToSet(i.marks))),c=u}}while(o);c<a.length&&s.push(i.cut(c))}else s.push(i.copy(r(i.content)))})),o.Fragment.fromArray(s)};return new s.Plugin({props:{transformPasted:function(t){return new o.Slice(r(t.content),t.openStart,t.openEnd)}}})}function _(t,e,n){var r=function r(i,s){var a=[];return i.forEach((function(i){if(i.isText){for(var o,c=i.text,l=0,u=!!i.marks.filter((function(t){return"link"===t.type.name}))[0];!u&&null!==(o=t.exec(c));)if(s&&s.type.allowsMarkType(e)&&o[1]){var f=o.index,d=f+o[0].length,h=f+o[0].indexOf(o[1]),p=h+o[1].length,v=n instanceof Function?n(o):n;f>0&&a.push(i.cut(l,f)),a.push(i.cut(h,p).mark(e.create(v).addToSet(i.marks))),l=d}l<c.length&&a.push(i.cut(l))}else a.push(i.copy(r(i.content,i)))})),o.Fragment.fromArray(a)};return new s.Plugin({props:{transformPasted:function(t){return new o.Slice(r(t.content),t.openStart,t.openEnd)}}})}function b(t){return function(e,n){var r=e.tr,i=e.selection,o=i.from,s=i.to,a=i.$from;if(i.empty){var c=Object(d.e)(a,t);o=c.from,s=c.to}return r.removeMark(o,s,t),n(r)}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.Fragment.empty;return function(i,o){var s=i.selection,a=s.$from,c=s.$to,l=a.index(),u=t?t.from:a.pos,f=t?t.to:c.pos;return!!a.parent.canReplaceWith(l,l,e)&&(o&&o(i.tr.replaceWith(u,f,e.create(n,r))),!0)}}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=n.selection.$from,o=i.index();return!!i.parent.canReplaceWith(o,o,t)&&(r&&r(n.tr.replaceSelectionWith(t.create(e))),!0)}}function x(t){return function(e,n){var r=e.selection,i=r.$from,s=r.$to,a=r.node;if(a&&a.isBlock||i.depth<2||!i.sameParent(s))return!1;var c=i.node(-1);if(c.type!=t)return!1;if(0==i.parent.content.size){if(2==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){for(var l=o.Fragment.empty,u=i.index(-1)>0,f=i.depth-(u?1:2);f>=i.depth-3;f--)l=o.Fragment.from(i.node(f).copy(l));l=l.append(o.Fragment.from(t.createAndFill()));var d=e.tr.replace(i.before(u?null:-1),i.after(-3),new o.Slice(l,u?3:2,2));d.setSelection(e.selection.constructor.near(d.doc.resolve(i.pos+(u?3:2)))),n(d.scrollIntoView())}return!0}var h=s.pos==i.end()?c.contentMatchAt(i.indexAfter(-1)).defaultType:null,p=e.tr.delete(i.pos,s.pos),v=h&&[{type:t},{type:h}];return v||(v=[{type:t},null]),!!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,c=n-2;a>o;a--,c--){var l=i.node(a),u=i.index(a);if(l.type.spec.isolating)return!1;var f=l.content.cutByIndex(u,l.childCount),d=r&&r[c]||l;if(d!=l&&(f=f.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(u+1,l.childCount))return!1}var h=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(h,h,p?p.type:i.node(o+1).type)}(p.doc,i.pos,2,v)&&(n&&n(p.split(i.pos,2,v).scrollIntoView()),!0)}}function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i,o,s){return Object(d.i)(i,t,n)?Object(r.e)(e)(i,o,s):Object(r.e)(t,n)(i,o,s)}}function C(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function O(t,e){return function(n,r,i){var o=n.schema,s=n.selection,c=s.$from,u=s.$to,f=c.blockRange(u);if(!f)return!1;var h=Object(d.c)((function(t){return C(t,o)}))(s);if(f.depth>=1&&h&&f.depth-h.depth<=1){if(h.node.type===t)return l(e)(n,r,i);if(C(h.node,o)&&t.validContent(h.node.content)){var p=n.tr;return p.setNodeMarkup(h.pos,t),r&&r(p),!1}}return a(t)(n,r,i)}}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i,o){return Object(d.i)(n,t,e)?Object(r.d)(n,i):Object(r.g)(t,e)(n,i,o)}}function P(t,e){return function(n,r){var i=n.tr,o=n.selection,s=n.doc,a=o.ranges;if(o.empty){var c=Object(d.e)(o.$from,t),l=c.from,u=c.to;s.rangeHasMark(l,u,t)&&i.removeMark(l,u,t),i.addMark(l,u,t.create(e))}else a.forEach((function(n){var r=n.$to,o=n.$from;s.rangeHasMark(o.pos,r.pos,t)&&i.removeMark(o.pos,r.pos,t),i.addMark(o.pos,r.pos,t.create(e))}));return r(i)}}},function(t,e,n){t.exports=n(490)},function(t,e,n){"use strict";var r=n(63),i=n(188),o=n(230),s=n(56),a=n(172).f,c=n(454),l=n(51),u=n(97),f=n(141),d=n(68),h=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,v,m,g,y,_,b,w=t.target,k=t.global,x=t.stat,S=t.proto,C=k?r:x?r[w]:(r[w]||{}).prototype,O=k?l:l[w]||f(l,w,{})[w],E=O.prototype;for(v in e)i=!(n=c(k?v:w+(x?".":"#")+v,t.forced))&&C&&d(C,v),g=O[v],i&&(y=t.dontCallGetSet?(b=a(C,v))&&b.value:C[v]),m=i&&y?y:e[v],i&&typeof g==typeof m||(_=t.bind&&i?u(m,r):t.wrap&&i?h(m):S&&s(m)?o(m):m,(t.sham||m&&m.sham||g&&g.sham)&&f(_,"sham",!0),f(O,v,_),S&&(d(l,p=w+"Prototype")||f(l,p,{}),f(l[p],v,m),t.real&&E&&(n||!E[v])&&f(E,v,m)))}},function(t,e,n){var r=n(361),i=n(278),o=n(364);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i(t,"prototype",{writable:!1}),e&&o(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(74).default,i=n(125);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(971)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){t.exports=n(933)},function(t,e,n){var r=n(879),i=n(884),o=n(484),s=n(893);t.exports=function(t){return r(t)||i(t)||o(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(960)},function(t,e,n){t.exports=n(956)},function(t,e,n){var r=n(894),i=n(895),o=n(484),s=n(902);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return U})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return E})),n.d(e,"k",(function(){return w})),n.d(e,"l",(function(){return A}));var r=n(7);const i=Math.pow(2,16);function o(t){return 65535&t}class s{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class a{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&a.empty)return a.empty}recover(t){let e=0,n=o(t);if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let l=this.ranges[c]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[c+o],f=this.ranges[c+a],d=l+u;if(t<=d){let o=l+r+((u?t==l?-1:t==d?1:e:e)<0?0:f);if(n)return o;let a=t==(e<0?l:d)?null:c/3+(t-l)*i,h=t==l?2:t==d?1:4;return(e<0?t!=l:t!=d)&&(h|=8),new s(o,h,a)}r+=f-u}return n?t+r:new s(t+r,0,null)}touches(t,e){let n=0,r=o(e),i=this.inverted?2:1,s=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let o=this.ranges[e]-(this.inverted?n:0);if(o>t)break;let a=this.ranges[e+i];if(t<=o+a&&e==3*r)return!0;n+=this.ranges[e+s]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[r+e],l=this.ranges[r+n];t(s,s+c,a,a+l),i+=l-c}}invert(){return new a(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])}}a.empty=new a([]);class c{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new c(this.maps,this.mirror,t,e)}copy(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new c;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(n);if(null!=e&&e>n&&e<this.to){n=e,t=this.maps[e].recover(i.recover);continue}}r|=i.delInfo,t=i.pos}return n?t:new s(t,r,null)}}const l=Object.create(null);class u{getMap(){return a.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=l[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in l)throw new RangeError("Duplicate use of step JSON ID "+t);return l[t]=e,e.prototype.jsonID=t,e}}class f{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new f(t,null)}static fail(t){return new f(null,t)}static fromReplace(t,e,n,i){try{return f.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.ReplaceError)return f.fail(t.message);throw t}}}function d(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(d(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return r.Fragment.fromArray(i)}class h extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r.Slice(d(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),i),e.openStart,e.openEnd);return f.fromReplace(t,this.from,this.to,o)}invert(){return new p(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new h(e.pos,n.pos,this.mark)}merge(t){return t instanceof h&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new h(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new h(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("addMark",h);class p extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.Slice(d(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return f.fromReplace(t,this.from,this.to,n)}invert(){return new h(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new p(e.pos,n.pos,this.mark)}merge(t){return t instanceof p&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new p(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("removeMark",p);class v extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return f.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return f.fromReplace(t,this.pos,this.pos+1,new r.Slice(r.Fragment.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new v(this.pos,e.marks[n]);return new v(this.pos,this.mark)}}return new m(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new v(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new v(e.pos,t.markFromJSON(e.mark))}}u.jsonID("addNodeMark",v);class m extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return f.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return f.fromReplace(t,this.pos,this.pos+1,new r.Slice(r.Fragment.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new v(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new m(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new m(e.pos,t.markFromJSON(e.mark))}}u.jsonID("removeNodeMark",m);class g extends u{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&_(t,this.from,this.to)?f.fail("Structure replace would overwrite content"):f.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new a([this.from,this.to-this.from,this.slice.size])}invert(t){return new g(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new g(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof g)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.Slice.empty:new r.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new g(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new g(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new g(e.from,e.to,r.Slice.fromJSON(t,e.slice),!!e.structure)}}u.jsonID("replace",g);class y extends u{constructor(t,e,n,r,i,o,s=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(t){if(this.structure&&(_(t,this.from,this.gapFrom)||_(t,this.gapTo,this.to)))return f.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return f.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?f.fromReplace(t,this.from,this.to,n):f.fail("Content does not fit in gap")}getMap(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new y(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new y(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new y(e.from,e.to,e.gapFrom,e.gapTo,r.Slice.fromJSON(t,e.slice),e.insert,!!e.structure)}}function _(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function b(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!b(r,i,o))break}return null}function k(t,e,n=null,r=t){let i=function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}(t,e),o=i&&function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let t=r;a&&t<i;t++)a=a.matchType(n.child(t).type);return a&&a.validEnd?s:null}(r,e);return o?i.map(x).concat({type:e,attrs:n}).concat(o.map(x)):null}function x(t){return{type:t,attrs:null}}function S(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=n-2;t>o;t--,e--){let n=i.node(t),o=i.index(t);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(o,n.childCount),a=r&&r[e+1];a&&(s=s.replaceChild(0,a.type.create(a.attrs)));let c=r&&r[e]||n;if(!n.canReplace(o+1,n.childCount)||!c.type.validContent(s))return!1}let a=i.indexAfter(o),c=r&&r[0];return i.node(o).canReplaceWith(a,a,c?c.type:i.node(o+1).type)}function C(t,e){let n=t.resolve(e),r=n.index();return O(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function O(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function E(t,e,n=-1){let r=t.resolve(e);for(let t=r.depth;;t--){let i,o,s=r.index(t);if(t==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(t+1),s++,o=r.node(t).maybeChild(s)):(i=r.node(t).maybeChild(s-1),o=r.node(t+1)),i&&!i.isTextblock&&O(i,o)&&r.node(t).canReplace(s,s+1))return e;if(0==t)break;e=n<0?r.before(t):r.after(t)}}function P(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let t=0;t<n.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=r.depth;e>=0;e--){let n=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,o=r.index(e)+(n>0?1:0),s=r.node(e),a=!1;if(1==t)a=s.canReplace(o,o,i);else{let t=s.contentMatchAt(o).findWrapping(i.firstChild.type);a=t&&s.canReplaceWith(o,o,t[0])}if(a)return 0==n?r.pos:n<0?r.before(e+1):r.after(e+1)}return null}function A(t,e,n=e,i=r.Slice.empty){if(e==n&&!i.size)return null;let o=t.resolve(e),s=t.resolve(n);return T(o,s,i)?new g(e,n,i):new j(o,s,i).fit()}function T(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}u.jsonID("replaceAround",y);class j{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.Fragment.empty;for(let e=0;e<=t.depth;e++){let n=t.node(e);this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=r.Fragment.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,s=n.depth,a=i.depth;for(;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;let c=new r.Slice(o,s,a);return t>-1?new y(n.pos,t,this.$to.pos,this.$to.end(),c,e):c.size||n.pos!=this.$to.pos?new g(n.pos,i.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let i=e.firstChild;if(e.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){t=n;break}e=i.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,i=null;n?(i=N(this.unplaced.content,n-1).firstChild,t=i.content):t=this.unplaced.content;let o=t.firstChild;for(let t=this.depth;t>=0;t--){let s,{type:a,match:c}=this.frontier[t],l=null;if(1==e&&(o?c.matchType(o.type)||(l=c.fillBefore(r.Fragment.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:t,parent:i,inject:l};if(2==e&&o&&(s=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:t,parent:i,wrap:s};if(i&&c.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=N(t,e);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.Slice(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=N(t,e);if(i.childCount<=1&&e>0){let o=t.size-e<=e+i.size;this.unplaced=new r.Slice(M(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new r.Slice(M(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let t=0;t<o.length;t++)this.openFrontierNode(o[t]);let s=this.unplaced,a=n?n.content:s.content,c=s.openStart-t,l=0,u=[],{match:f,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)u.push(i.child(t));f=f.matchFragment(i)}let h=a.size+t-(s.content.size-s.openEnd);for(;l<a.childCount;){let t=a.child(l),e=f.matchType(t.type);if(!e)break;l++,(l>1||0==c||t.content.size)&&(f=e,u.push(R(t.mark(d.allowedMarks(t.marks)),1==l?c:0,l==a.childCount?h:-1)))}let p=l==a.childCount;p||(h=-1),this.placed=I(this.placed,e,r.Fragment.from(u)),this.frontier[e].match=f,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=a;t<h;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=p?0==t?r.Slice.empty:new r.Slice(M(s.content,t-1,1),t-1,h<0?s.openEnd:t-1):new r.Slice(M(s.content,t,l),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!D(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=D(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=D(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=I(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=I(this.placed,this.depth,r.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);t.childCount&&(this.placed=I(this.placed,this.frontier.length,t))}}function M(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(M(t.firstChild.content,e-1,n)))}function I(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(I(t.lastChild.content,e-1,n)))}function N(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function R(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,R(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.Fragment.empty,!0)))),t.copy(i)}function D(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function L(t){return t.spec.defining||t.spec.definingForContent}function B(t,e,n,i,o){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(B(r.content,e+1,n,i,r)))}if(e>i){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.Fragment.empty,!0))}return t}function $(t,e){let n=[];for(let r=Math.min(t.depth,e.depth);r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class F extends u{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return f.fail("No node at attribute step's position");let n=Object.create(null);for(let t in e.attrs)n[t]=e.attrs[t];n[this.attr]=this.value;let i=e.type.create(n,null,e.marks);return f.fromReplace(t,this.pos,this.pos+1,new r.Slice(r.Fragment.from(i),0,e.isLeaf?0:1))}getMap(){return a.empty}invert(t){return new F(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new F(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new F(e.pos,e.attr,e.value)}}u.jsonID("attr",F);let q=class extends Error{};q=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(q.prototype=Object.create(Error.prototype)).constructor=q,q.prototype.name="TransformError";class U{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new c}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new q(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.Slice.empty){let i=A(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r.Slice(r.Fragment.from(n),0,0))}delete(t,e){return this.replace(t,e,r.Slice.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(T(o,s,i))return t.step(new g(e,n,i));let a=$(o,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let c=-(o.depth+1);a.unshift(c);for(let t=o.depth,e=o.pos-1;t>0;t--,e--){let n=o.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(t)>-1?c=t:o.before(t)==e&&a.splice(1,0,-t)}let l=a.indexOf(c),u=[],f=i.openStart;for(let t=i.content,e=0;;e++){let n=t.firstChild;if(u.push(n),e==i.openStart)break;t=n.content}for(let t=f-1;t>=0;t--){let e=u[t].type,n=L(e);if(n&&o.node(l).type!=e)f=t;else if(n||!e.isTextblock)break}for(let e=i.openStart;e>=0;e--){let c=(e+f+1)%(i.openStart+1),d=u[c];if(d)for(let e=0;e<a.length;e++){let u=a[(e+l)%a.length],f=!0;u<0&&(f=!1,u=-u);let h=o.node(u-1),p=o.index(u-1);if(h.canReplaceWith(p,p,d.type,d.marks))return t.replace(o.before(u),f?s.after(u):n,new r.Slice(B(i.content,0,i.openStart,c),c,i.openEnd))}}let d=t.steps.length;for(let r=a.length-1;r>=0&&(t.replace(e,n,i),!(t.steps.length>d));r--){let t=a[r];t<0||(e=o.before(t),n=s.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=function(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let t=r.depth-1;t>=0;t--){let e=r.index(t);if(r.node(t).canReplaceWith(e,e,n))return r.before(t+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let t=r.depth-1;t>=0;t--){let e=r.indexAfter(t);if(r.node(t).canReplaceWith(e,e,n))return r.after(t+1);if(e<r.node(t).childCount)return null}return null}(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.Slice(r.Fragment.from(i),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=$(r,i);for(let e=0;e<o.length;e++){let n=o[e],s=e==o.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return t.delete(r.start(n),i.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return t.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:i,$to:o,depth:s}=e,a=i.before(s+1),c=o.after(s+1),l=a,u=c,f=r.Fragment.empty,d=0;for(let t=s,e=!1;t>n;t--)e||i.index(t)>0?(e=!0,f=r.Fragment.from(i.node(t).copy(f)),d++):l--;let h=r.Fragment.empty,p=0;for(let t=s,e=!1;t>n;t--)e||o.after(t+1)<o.end(t)?(e=!0,h=r.Fragment.from(o.node(t).copy(h)),p++):u++;t.step(new y(l,u,a,c,new r.Slice(f.append(h),d,p),f.size-d,!0))}(this,t,e),this}join(t,e=1){return function(t,e,n){let i=new g(e-n,e+n,r.Slice.empty,!0);t.step(i)}(this,t,e),this}wrap(t,e){return function(t,e,n){let i=r.Fragment.empty;for(let t=n.length-1;t>=0;t--){if(i.size){let e=n[t].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.Fragment.from(n[t].type.create(n[t].attrs,i))}let o=e.start,s=e.end;t.step(new y(o,s,o,s,new r.Slice(i,0,0),n.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,i=null){return function(t,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(i,o)&&function(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(t.doc,t.mapping.slice(s).map(n),i)){t.clearIncompatible(t.mapping.slice(s).map(n,1),i);let a=t.mapping.slice(s),c=a.map(n,1),l=a.map(n+e.nodeSize,1);return t.step(new y(c,l,c+1,l-1,new r.Slice(r.Fragment.from(i.create(o,null,e.marks)),0,0),1,!0)),!1}}))}(this,t,e,n,i),this}setNodeMarkup(t,e,n=null,i){return function(t,e,n,i,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(i,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new y(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))}(this,t,e,n,i),this}setNodeAttribute(t,e,n){return this.step(new F(t,e,n)),this}addNodeMark(t,e){return this.step(new v(t,e)),this}removeNodeMark(t,e){if(!(e instanceof r.Mark)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(n.marks)))return this}return this.step(new m(t,e)),this}split(t,e=1,n){return function(t,e,n=1,i){let o=t.doc.resolve(e),s=r.Fragment.empty,a=r.Fragment.empty;for(let t=o.depth,e=o.depth-n,c=n-1;t>e;t--,c--){s=r.Fragment.from(o.node(t).copy(s));let e=i&&i[c];a=r.Fragment.from(e?e.type.create(e.attrs,a):o.node(t).copy(a))}t.step(new g(e,e,new r.Slice(s.append(a),n,n),!0))}(this,t,e,n),this}addMark(t,e,n){return function(t,e,n,r){let i,o,s=[],a=[];t.doc.nodesBetween(e,n,((t,c,l)=>{if(!t.isInline)return;let u=t.marks;if(!r.isInSet(u)&&l.type.allowsMarkType(r.type)){let l=Math.max(c,e),f=Math.min(c+t.nodeSize,n),d=r.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(d)||(i&&i.to==l&&i.mark.eq(u[t])?i.to=f:s.push(i=new p(l,f,u[t])));o&&o.to==l?o.to=f:a.push(o=new h(l,f,r))}})),s.forEach((e=>t.step(e))),a.forEach((e=>t.step(e)))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,i){let o=[],s=0;t.doc.nodesBetween(e,n,((t,a)=>{if(!t.isInline)return;s++;let c=null;if(i instanceof r.MarkType){let e,n=t.marks;for(;e=i.isInSet(n);)(c||(c=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(c=[i]):c=t.marks;if(c&&c.length){let r=Math.min(a+t.nodeSize,n);for(let t=0;t<c.length;t++){let n,i=c[t];for(let t=0;t<o.length;t++){let e=o[t];e.step==s-1&&i.eq(o[t].style)&&(n=e)}n?(n.to=r,n.step=s):o.push({style:i,from:Math.max(a,e),to:r,step:s})}}})),o.forEach((e=>t.step(new p(e.from,e.to,e.style))))}(this,t,e,n),this}clearIncompatible(t,e,n){return function(t,e,n,i=n.contentMatch){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let e=0;e<o.childCount;e++){let c=o.child(e),l=a+c.nodeSize,u=i.matchType(c.type);if(u){i=u;for(let e=0;e<c.marks.length;e++)n.allowsMarkType(c.marks[e].type)||t.step(new p(a,l,c.marks[e]));if(c.isText&&!n.spec.code){let t,e,i=/\r?\n|\r/g;for(;t=i.exec(c.text);)e||(e=new r.Slice(r.Fragment.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new g(a+t.index,a+t.index+t[0].length,e))}}else s.push(new g(a,l,r.Slice.empty));a=l}if(!i.validEnd){let e=i.fillBefore(r.Fragment.empty,!0);t.replace(a,a,new r.Slice(e,0,0))}for(let e=s.length-1;e>=0;e--)t.step(s[e])}(this,t,e,n),this}}},function(t,e,n){var r=n(1147),i=n(283),o=n(1154),s=n(1157);function a(){var e;"undefined"!=typeof Reflect&&r?(t.exports=a=i(e=r).call(e),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=a=function(t,e,n){var r=s(t,e);if(r){var i=o(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},t.exports.__esModule=!0,t.exports.default=t.exports);return a.apply(this,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return w}));var r=n(10);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){return e?t.createChecked(null,e):t.createAndFill()}function f(t,e,n,r,i){for(var o=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;var e={};return Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e}(t),s=[],a=[],c=0;c<n;c+=1){var l=u(o.cell,i);if(l&&a.push(l),r){var f=u(o.header_cell,i);f&&s.push(f)}}for(var d=[],h=0;h<e;h+=1)d.push(o.row.createChecked(null,r&&0===h?s:a));return o.table.createChecked(null,d)}function d(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');var n=[];return t.descendants((function(t,r){if(n.push({node:t,pos:r}),!e)return!1})),n}(t,n).filter((function(t){return e(t.node)}))}function h(t,e){return d(t,(function(t){return t.isBlock}),e)}function p(t){return function(e){return function(t,e){for(var n=t.depth;n>0;n-=1){var r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}(e.$from,t)}}function v(t){return function(e){if(function(t){return t instanceof r.NodeSelection}(e)){var n=e.node,i=e.$from;if(function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t}(t,n))return{node:n,pos:i.pos,depth:i.depth}}}}function m(t,e){var n=t.selection,r=n.from,i=n.to,o=[];t.doc.nodesBetween(r,i,(function(t){o=[].concat(c(o),c(t.marks))}));var s=o.find((function(t){return t.type.name===e.name}));return s?s.attrs:{}}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;var r=n.node.marks.find((function(t){return t.type===e}));if(!r)return!1;for(var i=t.index(),o=t.start()+n.offset,s=i+1,a=o+n.node.nodeSize;i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;s<t.parent.childCount&&r.isInSet(t.parent.child(s).marks);)a+=t.parent.child(s).nodeSize,s+=1;return{from:o,to:a}}function y(t,e){var n=t.selection,r=n.from,i=n.to,o=[];t.doc.nodesBetween(r,i,(function(t){o=[].concat(c(o),[t])}));var s=o.reverse().find((function(t){return t.type.name===e.name}));return s?s.attrs:{}}function _(t,e){var n=t.selection,r=n.from,i=n.$from,o=n.to;return n.empty?!!e.isInSet(t.storedMarks||i.marks()):!!t.doc.rangeHasMark(r,o,e)}function b(t){var e=t.types,n=t.node;return Array.isArray(e)&&e.includes(n.type)||n.type===e}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v(e)(t.selection)||p((function(t){return t.type===e}))(t.selection);return Object.keys(n).length&&r?r.node.hasMarkup(e,s(s({},r.node.attrs),n)):!!r}},function(t,e,n){t.exports=n(497)},function(t,e,n){t.exports=n(1085)},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u}));var r="sessionStorage",i="sessionStorage";function o(t,e){if(!t||!f(r))return!1;var n=window[r].getItem(t);if(!n)return!1;var i=JSON.parse(n);return!(!i||+i.id_quest!=+e)&&i}function s(t,e,n){t&&f(r)&&(e.id_quest=n,window[r].setItem(t,JSON.stringify(e)))}function a(t){t&&f(r)&&window[r].removeItem(t)}function c(t,e){if(!t||!f(i))return!1;var n=window[i].getItem(t);if(!n)return!1;var r=JSON.parse(n);return!(!r||+r.id_block!=+e)&&r}function l(t,e,n){t&&f(i)&&(e.id_block=n,window[i].setItem(t,JSON.stringify(e)))}function u(t){t&&f(i)&&window[i].removeItem(t)}function f(t){var e;try{if(!(e=window[t]))return!1;var n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return!1}}},function(t,e,n){var r=n(47);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w}));var r=n(30),i=n(7),o=n(10);const s=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function a(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}function c(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function l(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function u(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}function f(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const d=(t,e)=>{let{$from:n,$to:i}=t.selection,o=n.blockRange(i),s=o&&Object(r.k)(o);return null!=s&&(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)};function h(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const p=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=h(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,a.createAndFill());i.setSelection(o.Selection.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0};const v=(t,e)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof o.NodeSelection&&t.selection.node.isBlock)return!(!n.parentOffset||!Object(r.g)(t.doc,n.pos)||(e&&e(t.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(e){let s=i.parentOffset==i.parent.content.size,a=t.tr;(t.selection instanceof o.TextSelection||t.selection instanceof o.AllSelection)&&a.deleteSelection();let c=0==n.depth?null:h(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=m&&m(i.parent,s),u=l?[l]:s&&c?[{type:c}]:void 0,f=Object(r.g)(a.doc,a.mapping.map(n.pos),1,u);if(u||f||!Object(r.g)(a.doc,a.mapping.map(n.pos),1,c?[{type:c}]:void 0)||(c&&(u=[{type:c}]),f=!0),f&&(a.split(a.mapping.map(n.pos),1,u),!s&&!n.parentOffset&&n.parent.type!=c)){let t=a.mapping.map(n.before()),e=a.doc.resolve(t);c&&n.node(-1).canReplaceWith(e.index(),e.index()+1,c)&&a.setNodeMarkup(a.mapping.map(n.before()),c)}e(a.scrollIntoView())}return!0};var m;function g(t,e,n){let s,a,l=e.nodeBefore,u=e.nodeAfter;if(l.type.spec.isolating||u.type.spec.isolating)return!1;if(function(t,e,n){let i=e.nodeBefore,o=e.nodeAfter,s=e.index();return!(!(i&&o&&i.type.compatibleContent(o.type))||(!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(s,s+1)||!o.isTextblock&&!Object(r.f)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let f=e.parent.canReplace(e.index(),e.index()+1);if(f&&(s=(a=l.contentMatchAt(l.childCount)).findWrapping(u.type))&&a.matchType(s[0]||u.type).validEnd){if(n){let o=e.pos+u.nodeSize,a=i.Fragment.empty;for(let t=s.length-1;t>=0;t--)a=i.Fragment.from(s[t].create(null,a));a=i.Fragment.from(l.copy(a));let c=t.tr.step(new r.b(e.pos-1,o,e.pos,o,new i.Slice(a,1,0),s.length,!0)),f=o+2*s.length;Object(r.f)(c.doc,f)&&c.join(f),n(c.scrollIntoView())}return!0}let d=o.Selection.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&Object(r.k)(h);if(null!=p&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(f&&c(u,"start",!0)&&c(l,"end")){let o=l,s=[];for(;s.push(o),!o.isTextblock;)o=o.lastChild;let a=u,c=1;for(;!a.isTextblock;a=a.firstChild)c++;if(o.canReplace(o.childCount,o.childCount,a.content)){if(n){let o=i.Fragment.empty;for(let t=s.length-1;t>=0;t--)o=i.Fragment.from(s[t].copy(o));n(t.tr.step(new r.b(e.pos-s.length,e.pos+u.nodeSize,e.pos+c,e.pos+u.nodeSize-c,new i.Slice(o,s.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function y(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return!!i.node(s).isTextblock&&(n&&n(e.tr.setSelection(o.TextSelection.create(e.doc,t<0?i.start(s):i.end(s)))),!0)}}const _=y(-1),b=y(1);function w(t,e=null){return function(n,i){let{$from:o,$to:s}=n.selection,a=o.blockRange(s),c=a&&Object(r.i)(a,t,e);return!!c&&(i&&i(n.tr.wrap(a,c).scrollIntoView()),!0)}}function k(t,e=null){return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];n.doc.nodesBetween(o,s,((r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)i=!0;else{let e=n.doc.resolve(o),r=e.index();i=e.parent.canReplaceWith(r,r+1,t)}}))}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(o,s,t,e)}r(i.scrollIntoView())}return!0}}function x(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!function(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=0==i.depth&&t.inlineContent&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,o.pos,(t=>{if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return!0}return!1}(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let i=!1,o=n.tr;for(let e=0;!i&&e<s.length;e++){let{$from:r,$to:o}=s[e];i=n.doc.rangeHasMark(r.pos,o.pos,t)}for(let n=0;n<s.length;n++){let{$from:r,$to:a}=s[n];if(i)o.removeMark(r.pos,a.pos,t);else{let n=r.pos,i=a.pos,s=r.nodeAfter,c=a.nodeBefore,l=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=c&&c.isText?/\s*$/.exec(c.text)[0].length:0;n+l<i&&(n+=l,i-=u),o.addMark(n,i,t.create(e))}}r(o.scrollIntoView())}return!0}}function S(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let C=S(s,((t,e,n)=>{let s=a(t,n);if(!s)return!1;let u=l(s);if(!u){let n=s.blockRange(),i=n&&Object(r.k)(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let f=u.nodeBefore;if(!f.type.spec.isolating&&g(t,u,e))return!0;if(0==s.parent.content.size&&(c(f,"end")||o.NodeSelection.isSelectable(f))){let n=Object(r.l)(t.doc,s.before(),s.after(),i.Slice.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(c(f,"end")?o.Selection.findFrom(r.doc.resolve(r.mapping.map(u.pos,-1)),-1):o.NodeSelection.create(r.doc,u.pos-f.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!f.isAtom||u.depth!=s.depth-1)&&(e&&e(t.tr.delete(u.pos-f.nodeSize,u.pos).scrollIntoView()),!0)}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=l(r)}let a=s&&s.nodeBefore;return!(!a||!o.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(o.NodeSelection.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)})),O=S(s,((t,e,n)=>{let s=u(t,n);if(!s)return!1;let a=f(s);if(!a)return!1;let l=a.nodeAfter;if(g(t,a,e))return!0;if(0==s.parent.content.size&&(c(l,"start")||o.NodeSelection.isSelectable(l))){let n=Object(r.l)(t.doc,s.before(),s.after(),i.Slice.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(c(l,"start")?o.Selection.findFrom(r.doc.resolve(r.mapping.map(a.pos)),1):o.NodeSelection.create(r.doc,r.mapping.map(a.pos))),e(r.scrollIntoView())}return!0}}return!(!l.isAtom||a.depth!=s.depth-1)&&(e&&e(t.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0)}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=f(r)}let a=s&&s.nodeAfter;return!(!a||!o.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(o.NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)}));const E={Enter:S(((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),((t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof o.AllSelection||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=h(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(n,s.createAndFill());a.setSelection(o.TextSelection.create(a.doc,n+1)),e(a.scrollIntoView())}return!0}),((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Object(r.g)(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),o=i&&Object(r.k)(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}),v),"Mod-Enter":p,Backspace:C,"Mod-Backspace":C,"Shift-Backspace":C,Delete:O,"Mod-Delete":O,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new o.AllSelection(t.doc))),!0)},P={"Ctrl-h":E.Backspace,"Alt-Backspace":E["Mod-Backspace"],"Ctrl-d":E.Delete,"Ctrl-Alt-Backspace":E["Mod-Delete"],"Alt-Delete":E["Mod-Delete"],"Alt-d":E["Mod-Delete"],"Ctrl-a":_,"Ctrl-e":b};for(let t in E)P[t]=E[t];const A=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?P:E},function(t,e,n){"use strict";n.d(e,"a",(function(){return X})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return B})),n.d(e,"d",(function(){return F})),n.d(e,"e",(function(){return nt})),n.d(e,"f",(function(){return q})),n.d(e,"g",(function(){return Z})),n.d(e,"h",(function(){return V})),n.d(e,"i",(function(){return W})),n.d(e,"j",(function(){return rt})),n.d(e,"k",(function(){return tt})),n.d(e,"l",(function(){return G})),n.d(e,"m",(function(){return K})),n.d(e,"n",(function(){return J})),n.d(e,"o",(function(){return Q})),n.d(e,"p",(function(){return it})),n.d(e,"q",(function(){return et}));var r=n(17),i=n(19),o=n(371),s=n.n(o),a=n(64),c=n(32),l=n(7),u=n(10),f=n(67),d=n(30);class h{constructor(t,e,n){this.step=t,this.inverted=e,this.origin=n}}class p{constructor(t,e){this.version=t,this.unconfirmed=e}}const v=new u.PluginKey("collab");function m(t={}){let e={version:t.version||0,clientID:null==t.clientID?Math.floor(4294967295*Math.random()):t.clientID};return new u.Plugin({key:v,state:{init:()=>new p(e.version,[]),apply(t,e){let n=t.getMeta(v);return n||(t.docChanged?new p(e.version,e.unconfirmed.concat(function(t){let e=[];for(let n=0;n<t.steps.length;n++)e.push(new h(t.steps[n],t.steps[n].invert(t.docs[n]),t));return e}(t))):e)}},config:e,historyPreserveItems:!0})}function g(t,e,n,r={}){let i=v.getState(t),o=i.version+e.length,s=v.get(t).spec.config.clientID,a=0;for(;a<n.length&&n[a]==s;)++a;let c=i.unconfirmed.slice(a);if(!(e=a?e.slice(a):e).length)return t.tr.setMeta(v,new p(o,c));let l=c.length,f=t.tr;if(l)c=function(t,e,n){for(let e=t.length-1;e>=0;e--)n.step(t[e].inverted);for(let t=0;t<e.length;t++)n.step(e[t]);let r=[];for(let e=0,i=t.length;e<t.length;e++){let o=t[e].step.map(n.mapping.slice(i));i--,o&&!n.maybeStep(o).failed&&(n.mapping.setMirror(i,n.steps.length-1),r.push(new h(o,o.invert(n.docs[n.docs.length-1]),t[e].origin)))}return r}(c,e,f);else{for(let t=0;t<e.length;t++)f.step(e[t]);c=[]}let d=new p(o,c);return r&&r.mapSelectionBackward&&t.selection instanceof u.TextSelection&&(f.setSelection(u.TextSelection.between(f.doc.resolve(f.mapping.map(t.selection.anchor,-1)),f.doc.resolve(f.mapping.map(t.selection.head,-1)),-1)),f.updated&=-2),f.setMeta("rebased",l).setMeta("addToHistory",!1).setMeta(v,d)}var y=n(91);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(){b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,s=Object.create(o.prototype),a=new E(i||[]);return r(s,"_invoke",{value:x(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(P([])));g&&g!==e&&n.call(g,o)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function i(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==_(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(k.prototype),c(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function w(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||E(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return(e=M(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function j(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D(t);if(e){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}r.g;var L=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"bullet_list"}},{key:"schema",get:function(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}},{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(i.r)(e,n.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,n=t.schema;return{"Shift-Ctrl-8":Object(i.r)(e,n.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.v)(/^\s*([-+*])\s$/,e)]}}]),n}(r.g),B=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"code_block"}},{key:"schema",get:function(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}}},{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(i.q)(e,n.nodes.paragraph)}}},{key:"keys",value:function(t){var e=t.type;return{"Shift-Ctrl-\\":Object(i.k)(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.p)(/^```$/,e)]}}]),n}(r.g);function $(t){var e=t.doc,n=t.name,r=[],i=Object(c.b)(e).filter((function(t){return t.node.type.name===n})),o=function t(e){return e.reduce((function(e,n){return e.concat(Array.isArray(n)?t(n):n)}),[])};function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){var n=[].concat(O(e),O(t.properties?t.properties.className:[]));return t.children?l(t.children,n):{text:t.value,classes:n}}))}return i.forEach((function(t){var e=t.pos+1,n=s.a.highlightAuto(t.node.textContent).value;o(l(n)).map((function(t){var n=e,r=n+t.text.length;return e=r,S(S({},t),{},{from:n,to:r})})).forEach((function(t){var e=a.a.inline(t.from,t.to,{class:t.classes.join(" ")});r.push(e)}))})),a.b.create(e,r)}r.g;var F=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"hard_break"}},{key:"schema",get:function(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(i.a)(i.b,(function(t,n){return n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0}))}}},{key:"keys",value:function(t){var e=t.type,n=Object(i.a)(i.b,(function(t,n){return n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0}));return{"Mod-Enter":n,"Shift-Enter":n}}}]),n}(r.g),q=(r.g,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"horizontal_rule"}},{key:"schema",get:function(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return function(t,n){return n(t.tr.replaceSelectionWith(e.create()))}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.g)(/^(?:---|___\s|\*\*\*\s)$/,e)]}}]),n}(r.g)),U=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,V=(r.g,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"list_item"}},{key:"schema",get:function(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}}},{key:"keys",value:function(t){var e=t.type;return{Enter:Object(i.n)(e),Tab:Object(i.m)(e),"Shift-Tab":Object(i.d)(e)}}}]),n}(r.g));function z(t){var e=t.char,n=void 0===e?"@":e,r=t.allowSpaces,i=void 0!==r&&r,o=t.startOfLine,s=void 0!==o&&o;return function(t){if(t.depth<=0)return!1;for(var e,r="\\".concat(n),o=new RegExp("\\s".concat(r,"$")),a=s?"^":"",c=i?new RegExp("".concat(a).concat(r,".*?(?=\\s").concat(r,"|$)"),"gm"):new RegExp("".concat(a,"(?:^)?").concat(r,"[^\\s").concat(r,"]*"),"gm"),l=t.before(),u=t.end(),f=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"\0",s="",a=!0,c=null;return t.content.nodesBetween(e,n,(function(t,l){if(t.isText){if(c)return void(c=null);s+=t.text.slice(Math.max(e,l)-l,n-l),a=!r}else t.isLeaf&&o?(s+=o,a=!r):t.isInline&&!t.isLeaf?(s+=i,t.textContent&&(s+=t.textContent,c=t),s+=i,a=!a):!a&&t.isBlock&&(s+=r,a=!0)}),0),s}(t.doc,l,u,"\0","\0"),d=c.exec(f);null!==d;){var h=d.input.slice(Math.max(0,d.index-1),d.index);if(/^[\s\0]?$/.test(h)){var p=d.index+t.start(),v=p+d[0].length;i&&o.test(f.slice(v-1,v+1))&&(d[0]+=" ",v+=1),p<t.pos&&v>=t.pos&&(e={range:{from:p,to:v},query:d[0].slice(n.length),text:d[0]})}d=c.exec(f)}return e}}function H(t){var e=t.matcher,n=void 0===e?{char:"@",allowSpaces:!1,startOfLine:!1}:e,r=t.appendText,o=void 0===r?null:r,s=t.suggestionClass,c=void 0===s?"suggestion":s,l=t.command,f=void 0===l?function(){return!1}:l,d=t.items,h=void 0===d?[]:d,p=t.onEnter,v=void 0===p?function(){return!1}:p,m=t.onChange,g=void 0===m?function(){return!1}:m,y=t.onExit,_=void 0===y?function(){return!1}:y,k=t.onKeyDown,x=void 0===k?function(){return!1}:k,C=t.onFilter,O=void 0===C?function(t,e){return e?t.filter((function(t){return JSON.stringify(t).toLowerCase().includes(e.toLowerCase())})):t}:C;return new u.Plugin({key:new u.PluginKey("suggestions"),view:function(){var t,e,n=this;return{update:(t=b().mark((function t(e,r){var s,a,c,l,u,d,p,m,y,w,k,x,S;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.key.getState(r),a=n.key.getState(e.state),c=s.active&&a.active&&s.range.from!==a.range.from,l=!s.active&&a.active,u=s.active&&!a.active,d=!l&&!u&&s.query!==a.query,m=d&&!c,y=u||c,(p=l||c)||m||y){t.next=11;break}return t.abrupt("return");case 11:if(w=y?s:a,k=document.querySelector('[data-decoration-id="'.concat(w.decorationId,'"]')),x=k?{getBoundingClientRect:function(){return k.getBoundingClientRect()},clientWidth:k.clientWidth,clientHeight:k.clientHeight}:null,t.t0=e,t.t1=w.range,t.t2=w.query,t.t3=w.text,t.t4=k,t.t5=x,!m&&!p){t.next=36;break}if(t.t7=O,!Array.isArray(h)){t.next=26;break}t.t8=h,t.next=29;break;case 26:return t.next=28,h();case 28:t.t8=t.sent;case 29:return t.t9=t.t8,t.t10=w.query,t.next=33,(0,t.t7)(t.t9,t.t10);case 33:t.t6=t.sent,t.next=37;break;case 36:t.t6=[];case 37:t.t11=t.t6,t.t12=function(t){var n=t.range,r=t.attrs;f({range:n,attrs:r,schema:e.state.schema})(e.state,e.dispatch,e),o&&Object(i.c)(o)(e.state,e.dispatch,e)},S={view:t.t0,range:t.t1,query:t.t2,text:t.t3,decorationNode:t.t4,virtualNode:t.t5,items:t.t11,command:t.t12},y&&_(S),m&&g(S),p&&v(S);case 43:case"end":return t.stop()}}),t)})),e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){w(o,r,i,s,a,"next",t)}function a(t){w(o,r,i,s,a,"throw",t)}s(void 0)}))},function(t,n){return e.apply(this,arguments)})}},state:{init:function(){return{active:!1,range:{},query:null,text:null}},apply:function(t,e){var r=t.selection,i=S({},e);if(r.from===r.to){(r.from<e.range.from||r.from>e.range.to)&&(i.active=!1);var o=r.$from,s=z(n)(o),a=(Math.random()+1).toString(36).substr(2,5);s?(i.active=!0,i.decorationId=e.decorationId?e.decorationId:a,i.range=s.range,i.query=s.query,i.text=s.text):i.active=!1}else i.active=!1;return i.active||(i.decorationId=null,i.range={},i.query=null,i.text=null),i}},props:{handleKeyDown:function(t,e){var n=this.getState(t.state),r=n.active,i=n.range;return!!r&&x({view:t,event:e,range:i})},decorations:function(t){var e=this.getState(t),n=e.active,r=e.range,i=e.decorationId;return n?a.b.create(t.doc,[a.a.inline(r.from,r.to,{nodeName:"span",class:c,"data-decoration-id":i})]):null}}})}r.g;var W=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"ordered_list"}},{key:"schema",get:function(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}}},{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Object(i.r)(e,n.nodes.list_item)}}},{key:"keys",value:function(t){var e=t.type,n=t.schema;return{"Shift-Ctrl-9":Object(i.r)(e,n.nodes.list_item)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.v)(/^(\d+)\.\s$/,e,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))]}}]),n}(r.g),Y=Object(f.tableNodes)({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:function(t){return t.style.backgroundColor||null},setDOMAttr:function(t,e){if(t){var n={style:"".concat(e.style||"","background-color: ").concat(t,";")};Object.assign(e,n)}}}}}),G=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"table"}},{key:"defaultOptions",get:function(){return{resizable:!1}}},{key:"schema",get:function(){return Y.table}},{key:"commands",value:function(t){var e=t.schema;return{createTable:function(t){var n=t.rowsCount,r=t.colsCount,i=t.withHeaderRow;return function(t,o){var s=t.tr.selection.anchor+1,a=Object(c.a)(e,n,r,i),l=t.tr.replaceSelectionWith(a).scrollIntoView(),f=l.doc.resolve(s);l.setSelection(u.TextSelection.near(f)),o(l)}},addColumnBefore:function(){return f.addColumnBefore},addColumnAfter:function(){return f.addColumnAfter},deleteColumn:function(){return f.deleteColumn},addRowBefore:function(){return f.addRowBefore},addRowAfter:function(){return f.addRowAfter},deleteRow:function(){return f.deleteRow},deleteTable:function(){return f.deleteTable},toggleCellMerge:function(){return function(t,e){Object(f.mergeCells)(t,e)||Object(f.splitCell)(t,e)}},mergeCells:function(){return f.mergeCells},splitCell:function(){return f.splitCell},toggleHeaderColumn:function(){return f.toggleHeaderColumn},toggleHeaderRow:function(){return f.toggleHeaderRow},toggleHeaderCell:function(){return f.toggleHeaderCell},setCellAttr:function(t){var e=t.name,n=t.value;return Object(f.setCellAttr)(e,n)},fixTables:function(){return f.fixTables}}}},{key:"keys",value:function(){return{Tab:Object(f.goToNextCell)(1),"Shift-Tab":Object(f.goToNextCell)(-1)}}},{key:"plugins",get:function(){return[].concat(O(this.options.resizable?[Object(f.columnResizing)()]:[]),[Object(f.tableEditing)()])}}]),n}(r.g),J=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"table_header"}},{key:"schema",get:function(){return Y.table_header}}]),n}(r.g),K=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"table_cell"}},{key:"schema",get:function(){return Y.table_cell}}]),n}(r.g),Q=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"table_row"}},{key:"schema",get:function(){return Y.table_row}}]),n}(r.g),X=(r.g,r.g,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}}}},{key:"keys",value:function(t){var e=t.type;return{"Mod-b":Object(i.s)(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(i.s)(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.e)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(i.f)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}}]),n}(r.f)),Z=(r.f,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}},{key:"keys",value:function(t){var e=t.type;return{"Mod-i":Object(i.s)(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(i.s)(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.e)(/(?:^|[^_])(_([^_]+)_)$/,e),Object(i.e)(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(i.f)(/_([^_]+)_/g,e),Object(i.f)(/\*([^*]+)\*/g,e)]}}]),n}(r.f)),tt=(r.f,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"strike"}},{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(t){return"line-through"===t}}],toDOM:function(){return["s",0]}}}},{key:"keys",value:function(t){var e=t.type;return{"Mod-d":Object(i.s)(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(i.s)(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(i.e)(/~([^~]+)~$/,e)]}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(i.f)(/~([^~]+)~/g,e)]}}]),n}(r.f)),et=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(t){return"underline"===t}}],toDOM:function(){return["u",0]}}}},{key:"keys",value:function(t){var e=t.type;return{"Mod-u":Object(i.s)(e)}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(i.s)(e)}}}]),n}(r.f),nt=(r.e,r.e,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"history"}},{key:"defaultOptions",get:function(){return{depth:"",newGroupDelay:""}}},{key:"keys",value:function(){return{"Mod-z":y.d,"Mod-y":y.b,"Shift-Mod-z":y.b,"Mod-я":y.d,"Shift-Mod-я":y.b}}},{key:"plugins",get:function(){return[Object(y.a)({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}},{key:"commands",value:function(){return{undo:function(){return y.d},redo:function(){return y.b},undoDepth:function(){return y.e},redoDepth:function(){return y.c}}}}]),n}(r.e)),rt=function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"placeholder"}},{key:"defaultOptions",get:function(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}},{key:"plugins",get:function(){var t=this;return[new r.i({props:{decorations:function(e){var n=e.doc,r=e.plugins,i=e.selection,o=r.find((function(t){return t.key.startsWith("editable$")})).props.editable()||!t.options.showOnlyWhenEditable,s=i.anchor,c=[],l=0===n.textContent.length;return!!o&&(n.descendants((function(e,n){var r=s>=n&&s<=n+e.nodeSize,i=0===e.content.size;if((r||!t.options.showOnlyCurrent)&&i){var o=[t.options.emptyNodeClass];l&&o.push(t.options.emptyEditorClass);var u=a.a.node(n,n+e.nodeSize,{class:o.join(" "),"data-empty-text":"function"==typeof t.options.emptyNodeText?t.options.emptyNodeText(e):t.options.emptyNodeText});c.push(u)}return!1})),a.b.create(n,c))}}})]}}]),n}(r.e),it=(r.e,function(t){I(n,t);var e=R(n);function n(){return A(this,n),e.apply(this,arguments)}return j(n,[{key:"name",get:function(){return"trailing_node"}},{key:"defaultOptions",get:function(){return{node:"paragraph",notAfter:["paragraph"]}}},{key:"plugins",get:function(){var t=this,e=new r.j(this.name),n=Object.entries(this.editor.schema.nodes).map((function(t){return k(t,2)[1]})).filter((function(e){return t.options.notAfter.includes(e.name)}));return[new r.i({key:e,view:function(){return{update:function(n){var r=n.state;if(e.getState(r)){var i=r.doc,o=r.schema,s=r.tr,a=o.nodes[t.options.node],c=s.insert(i.content.size,a.create());n.dispatch(c)}}}},state:{init:function(t,e){var r=e.tr.doc.lastChild;return!Object(c.h)({node:r,types:n})},apply:function(t,e){if(!t.docChanged)return e;var r=t.doc.lastChild;return!Object(c.h)({node:r,types:n})}}})]}}]),n}(r.e))},function(t,e,n){"use strict";var r;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"h",(function(){return h}));var s=0,a=10,c=20,l=30,u=0,f=2,d=3,h=(o(r={},u,{type:u,title_text:"Залишити свій коментар:",send_btn:"Опублікувати коментар",fetch_new_btn:"Відкрити новіші коментарі",fetch_old_btn:"Відкрити наступні коментарі",go_to_start_btn:"Відкрити актуальні коментарі"}),o(r,1,{type:1,title_text:"Залишити свій відгук:",send_btn:"Опублікувати відгук",fetch_new_btn:"Відкрити новіші відгуки",fetch_old_btn:"Відкрити наступні відгуки"}),o(r,f,{type:f,title_text:"",send_btn:"Надіслати"}),o(r,d,{type:d,title_text:"Обговорення новини:",send_btn:"Написати"}),r)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports=n(514)},function(t,e,n){"use strict";n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return i})),n.d(e,"k",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return v}));var r=0,i=10,o=20,s="image/gif, image/jpg, image/jpeg, image/png, image/bmp, image/webp",a=["png","jpg","jpeg","gif","bmp","webp"],c="file",l="files",u="files_error",f="image",d="images",h="avatar",p="avatar_preview",v="custom"},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return s}));var r=1,i=2,o=3,s=2},function(t,e,n){t.exports=n(940)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(229),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"k",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"g",(function(){return h}));var r=0,i=1,o=2,s=0,a=1,c=2,l=3,u=5,f=6,d=7,h=10},function(t,e,n){"use strict";var r=n(48);t.exports=r({}.isPrototypeOf)},function(t,e,n){"use strict";t.exports={}},,function(t,e,n){t.exports=n(937)},function(t,e,n){"use strict";var r=function(){return(0,this._self._c)("span",{staticClass:"v-bar"})};r._withStripped=!0;var i={name:"Preloader"},o=n(0),s=Object(o.a)(i,r,[],!1,null,"0b7c342c",null);e.a=s.exports},function(t,e,n){var r=n(223)("wks"),i=n(180),o=n(40).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(451),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(51);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){t.exports=n(949)},function(t,e,n){t.exports=n(963)},function(t,e,n){"use strict";var r=n(63),i=n(208),o=n(68),s=n(268),a=n(206),c=n(452),l=r.Symbol,u=i("wks"),f=c?l.for||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:f("Symbol."+t)),u[t]}},function(t,e,n){t.exports=!n(46)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(129),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||this||Function("return this")()}).call(this,n(171))},function(t,e,n){"use strict";n.d(e,"a",(function(){return $e})),n.d(e,"b",(function(){return Ue})),n.d(e,"c",(function(){return fn}));var r=n(10),i=n(7),o=n(30);const s=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},a=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let c=null;const l=function(t,e,n){let r=c||(c=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},u=function(t,e,n,r){return n&&(d(t,e,n,r,-1)||d(t,e,n,r,1))},f=/^(img|br|input|textarea|hr)$/i;function d(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:h(t))){let n=t.parentNode;if(!n||1!=n.nodeType||p(t)||f.test(t.nodeName)||"false"==t.contentEditable)return!1;e=s(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?h(t):0}}}function h(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function p(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const v=function(t){return t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function m(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const g="undefined"!=typeof navigator?navigator:null,y="undefined"!=typeof document?document:null,_=g&&g.userAgent||"",b=/Edge\/(\d+)/.exec(_),w=/MSIE \d/.exec(_),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_),x=!!(w||k||b),S=w?document.documentMode:k?+k[1]:b?+b[1]:0,C=!x&&/gecko\/(\d+)/i.test(_);C&&(/Firefox\/(\d+)/.exec(_)||[0,0])[1];const O=!x&&/Chrome\/(\d+)/.exec(_),E=!!O,P=O?+O[1]:0,A=!x&&!!g&&/Apple Computer/.test(g.vendor),T=A&&(/Mobile\/\w+/.test(_)||!!g&&g.maxTouchPoints>2),j=T||!!g&&/Mac/.test(g.platform),M=!!g&&/Win/.test(g.platform),I=/Android \d/.test(_),N=!!y&&"webkitFontSmoothing"in y.documentElement.style,R=N?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function D(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function L(t,e){return"number"==typeof t?t:t[e]}function B(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function $(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=a(s)){if(1!=s.nodeType)continue;let t=s,n=t==o.body,a=n?D(o):B(t),c=0,l=0;if(e.top<a.top+L(r,"top")?l=-(a.top-e.top+L(i,"top")):e.bottom>a.bottom-L(r,"bottom")&&(l=e.bottom-e.top>a.bottom-a.top?e.top+L(i,"top")-a.top:e.bottom-a.bottom+L(i,"bottom")),e.left<a.left+L(r,"left")?c=-(a.left-e.left+L(i,"left")):e.right>a.right-L(r,"right")&&(c=e.right-a.right+L(i,"right")),c||l)if(n)o.defaultView.scrollBy(c,l);else{let n=t.scrollLeft,r=t.scrollTop;l&&(t.scrollTop+=l),c&&(t.scrollLeft+=c);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function F(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=a(r));return e}function q(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let U=null;function V(t,e){let n,r,i,o,s=2e8,a=0,c=e.top,u=e.top;for(let f=t.firstChild,d=0;f;f=f.nextSibling,d++){let t;if(1==f.nodeType)t=f.getClientRects();else{if(3!=f.nodeType)continue;t=l(f).getClientRects()}for(let l=0;l<t.length;l++){let h=t[l];if(h.top<=c&&h.bottom>=u){c=Math.max(h.bottom,c),u=Math.min(h.top,u);let t=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(t<s){n=f,s=t,r=t&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==f.nodeType&&t&&(a=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!i&&h.left<=e.left&&h.right>=e.left&&(i=f,o={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(a=d+1)}}return!n&&i&&(n=i,r=o,s=0),n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=G(r,1);if(n.top!=n.bottom&&z(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:t,offset:a}:V(n,r)}function z(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function H(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(z(e,i))return H(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function W(t,e){let n,r=t.dom.ownerDocument,i=0,o=function(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(t){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(r,e.left,e.top);o&&({node:n,offset:i}=o);let s,c=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!c||!t.dom.contains(1!=c.nodeType?c.parentNode:c)){let n=t.dom.getBoundingClientRect();if(!z(e,n))return null;if(c=H(t.dom,e,n),!c)return null}if(A)for(let t=c;n&&t;t=a(t))t.draggable&&(n=void 0);if(c=function(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(c,e),n){if(C&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(t,e,n,r){let i=-1;for(let n=e,o=!1;n!=t.dom;){let e=t.docView.nearestDesc(n,!0);if(!e)return null;if(1==e.dom.nodeType&&(e.node.isBlock&&e.parent&&!o||!e.contentDOM)){let t=e.dom.getBoundingClientRect();if(e.node.isBlock&&e.parent&&!o&&(o=!0,t.left>r.left||t.top>r.top?i=e.posBefore:(t.right<r.left||t.bottom<r.top)&&(i=e.posAfter)),!e.contentDOM&&i<0&&!e.node.isText)return(e.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?e.posBefore:e.posAfter}n=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}(t,n,i,e))}null==s&&(s=function(t,e,n){let{node:r,offset:i}=V(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}(t,c,e));let l=t.docView.nearestDesc(c,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Y(t){return t.top<t.bottom||t.left<t.right}function G(t,e){let n=t.getClientRects();if(n.length){let t=n[e<0?0:n.length-1];if(Y(t))return t}return Array.prototype.find.call(n,Y)||t.getBoundingClientRect()}const J=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function K(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=N||C;if(3==r.nodeType){if(!s||!J.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,Q(G(l(r,t,e),o),o<0)}{let t=G(l(r,i,i),n);if(C&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=G(l(r,i-1,i-1),-1);if(e.top==t.top){let n=G(l(r,i,i+1),-1);if(n.top!=t.top)return Q(n,n.left<e.left)}}return t}}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==h(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return X(t.getBoundingClientRect(),!1)}if(null==o&&i<h(r)){let t=r.childNodes[i];if(1==t.nodeType)return X(t.getBoundingClientRect(),!0)}return X(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==h(r))){let t=r.childNodes[i-1],e=3==t.nodeType?l(t,h(t)-(s?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return Q(G(e,1),!1)}if(null==o&&i<h(r)){let t=r.childNodes[i];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?l(t,0,s?0:1):1==t.nodeType?t:null:null;if(e)return Q(G(e,-1),!0)}return Q(G(3==r.nodeType?l(r):r,-n),n>=0)}function Q(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function X(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Z(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}const tt=/[\u0590-\u08ac]/;let et=null,nt=null,rt=!1;function it(t,e,n){return et==e&&nt==n?rt:(et=e,nt=n,rt="up"==n||"down"==n?function(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return Z(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.contentDOM||n.dom;break}e=n.dom.parentNode}let r=K(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=l(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return tt.test(r.parent.textContent)&&a.modify?Z(t,e,(()=>{let{focusNode:e,focusOffset:i,anchorNode:o,anchorOffset:s}=t.domSelectionRange(),c=a.caretBidiLevel;a.modify("move",n,"character");let l=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:u,focusOffset:f}=t.domSelectionRange(),d=u&&!l.contains(1==u.nodeType?u:u.parentNode)||e==u&&i==f;try{a.collapse(o,s),e&&(e!=o||i!=s)&&a.extend&&a.extend(e,i)}catch(t){}return null!=c&&(a.caretBidiLevel=c),d})):"left"==n||"backward"==n?o:s}(t,e,n))}class ot{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let e=0;n<this.children.length;n++){let i=this.children[n],o=e+i.size;if(o>t||i instanceof dt){r=t-e;break}e=o}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let t;n&&!(t=this.children[n-1]).size&&t instanceof st&&t.side>=0;n--);if(e<=0){let t,r=!0;for(;t=n?this.children[n-1]:null,t&&t.dom.parentNode!=this.contentDOM;n--,r=!1);return t&&e&&r&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?s(t.dom)+1:0}}{let t,r=!0;for(;t=n<this.children.length?this.children[n]:null,t&&t.dom.parentNode!=this.contentDOM;n++,r=!1);return t&&r&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?s(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],c=o+n.size;if(-1==r&&t<=c){let i=o+n.border;if(t>=i&&e<=c-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=s(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let s=0,a=0;s<this.children.length;s++){let c=this.children[s],l=a+c.size;if(i>a&&o<l)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=l}let a=this.domFromPos(t,t?-1:1),c=e==t?a:this.domFromPos(e,e?-1:1),l=n.getSelection(),f=!1;if((C||A)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(f=!(!e||"\n"!=t.nodeValue[e-1]),f&&e==t.nodeValue.length)for(let e,n=t;n;n=n.parentNode){if(e=n.nextSibling){"BR"==e.nodeName&&(a=c={node:e.parentNode,offset:s(e)+1});break}let t=n.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];f=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(C&&l.focusNode&&l.focusNode!=c.node&&1==l.focusNode.nodeType){let t=l.focusNode.childNodes[l.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||f&&A)&&u(a.node,a.offset,l.anchorNode,l.anchorOffset)&&u(c.node,c.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||t==e)&&!f){l.collapse(a.node,a.offset);try{t!=e&&l.extend(c.node,c.offset),d=!0}catch(t){}}if(!d){if(t>e){let t=a;a=c,c=t}let n=document.createRange();n.setEnd(c.node,c.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,s=o-i.border;if(t>=r&&e<=s)return this.dirty=t==n||e==o?2:1,void(t!=r||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class st extends ot{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class at extends ot{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class ct extends ot{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return s&&s.dom||(s=i.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e,n))),new ct(t,e,s.dom,s.contentDOM||s.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,n){let r=ct.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=Ct(i,e,o,n)),t>0&&(i=Ct(i,0,t,n));for(let t=0;t<i.length;t++)i[t].parent=r;return r.children=i,r}}class lt extends ot{constructor(t,e,n,r,i,o,s,a,c){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(t,e,n,r,o,s){let a,c=o.nodeViews[e.type.name],l=c&&c(e,o,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:s),n,r),u=l&&l.dom,f=l&&l.contentDOM;if(e.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(e.text);else u||({dom:u,contentDOM:f}=i.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e)));f||e.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));let d=u;return u=bt(u,n,e),l?a=new ht(t,e,n,r,u,f||null,d,l,o,s+1):e.isText?new ft(t,e,n,r,u,d,o):new lt(t,e,n,r,u,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i.Fragment.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&wt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,c=new xt(this,s&&s.node,t);!function(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let s=t.child(n);r(s,i,e.forChild(o,s),n),o+=s.nodeSize}return}let s=0,a=[],c=null;for(let l=0;;){if(s<i.length&&i[s].to==o){let t,e=i[s++];for(;s<i.length&&i[s].to==o;)(t||(t=[e])).push(i[s++]);if(t){t.sort(St);for(let e=0;e<t.length;e++)n(t[e],l,!!c)}else n(e,l,!!c)}let u,f;if(c)f=-1,u=c,c=null;else{if(!(l<t.childCount))break;f=l,u=t.child(l++)}for(let t=0;t<a.length;t++)a[t].to<=o&&a.splice(t--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let d=o+u.nodeSize;if(u.isText){let t=d;s<i.length&&i[s].from<t&&(t=i[s].from);for(let e=0;e<a.length;e++)a[e].to<t&&(t=a[e].to);t<d&&(c=u.cut(t-o),u=u.cut(0,t-o),d=t,f=-1)}r(u,u.isInline&&!u.isLeaf?a.filter((t=>!t.inline)):a.slice(),e.forChild(o,u),f),o=d}}(this.node,this.innerDeco,((e,o,s)=>{e.spec.marks?c.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!s&&c.syncToMarks(o==this.node.childCount?i.Mark.none:this.node.child(o).marks,n,t),c.placeWidget(e,t,r)}),((e,i,s,l)=>{let u;c.syncToMarks(e.marks,n,t),c.findNodeMatch(e,i,s,l)||a&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(u=c.findIndexWithChild(o.node))>-1&&c.updateNodeAt(e,i,s,u,t)||c.updateNextNode(e,i,s,t,l,r)||c.addNode(e,i,s,t,r),r+=e.nodeSize})),c.syncToMarks([],n,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),pt(this.contentDOM,this.children,t),T&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r.TextSelection)||n<e||i>e+this.node.content.size)return null;let o=t.domSelectionRange(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=h(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let t=s.nodeValue,r=function(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let c=s.text;for(;i<t.childCount;){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;c+=e.text}if(o>=n){let t=a<r?c.lastIndexOf(e,r-a-1):-1;if(t>=0&&t+e.length+a>=n)return a+t;if(n==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}(this.node.content,t,n-e,i-e);return r<0?null:{node:s,pos:r,text:t}}return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new at(this,i,e,r);t.input.compositionNodes.push(o),this.children=Ct(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(wt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=yt(this.dom,this.nodeDOM,gt(this.outerDeco,this.node,e),gt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function ut(t,e,n,r,i){bt(r,e,t);let o=new lt(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ft extends lt{constructor(t,e,n,r,i,o,s){super(t,e,n,r,i,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new ft(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class dt extends ot{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ht extends lt{constructor(t,e,n,r,i,o,s,a,c,l){super(t,e,n,r,i,o,s,c,l),this.spec=a}update(t,e,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function pt(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=kt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof ct){let e=r?r.previousSibling:t.lastChild;pt(s.contentDOM,s.children,n),r=e?e.nextSibling:t.firstChild}}for(;r;)r=kt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const vt=function(t){t&&(this.nodeName=t)};vt.prototype=Object.create(null);const mt=[new vt];function gt(t,e,n){if(0==t.length)return mt;let r=n?mt[0]:new vt,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new vt(s.nodeName));for(let t in s){let o=s[t];null!=o&&(n&&1==i.length&&i.push(r=new vt(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function yt(t,e,n,r){if(n==mt&&r==mt)return e;let i=e;for(let e=0;e<r.length;e++){let o=r[e],s=n[e];if(e){let e;s&&s.nodeName==o.nodeName&&i!=t&&(e=i.parentNode)&&e.nodeName.toLowerCase()==o.nodeName||(e=document.createElement(o.nodeName),e.pmIsDeco=!0,e.appendChild(i),s=mt[0]),i=e}_t(i,s||mt[0],o)}return i}function _t(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function bt(t,e,n){return yt(t,t,mt,gt(e,n,1!=t.nodeType))}function wt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xt{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];t:for(;i>0;){let a;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof ct)){a=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++){let n=this.top.children[e];if(n.matchesMark(t[i])&&!this.isLocked(n.dom)){r=e;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=ct.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(t,e,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof lt){let c=this.preMatch.matched.get(a);if(null!=c&&c!=i)return!1;let l,u=a.dom,f=this.isLocked(u)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&wt(e,a.outerDeco));if(!f&&a.update(t,e,n,r))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(l=this.recreateWrapper(a,t,e,n,r,o)))return this.top.children[this.index]=l,l.dirty=2,l.updateChildren(r,o+1),l.dirty=0,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,i,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content))return null;let s=lt.create(this.top,e,n,r,i,o);if(!s.contentDOM)return null;s.children=t.children,t.children=[],t.destroy();for(let t of s.children)t.parent=s;return s}addNode(t,e,n,r,i){let o=lt.create(this.top,t,e,n,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new st(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof ct;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof ft)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((A||E)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new dt(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function St(t,e){return t.type.side-e.type.side}function Ct(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let c=t[s],l=a,u=a+=c.size;l>=n||u<=e?o.push(c):(l<e&&o.push(c.slice(0,e-l,r)),i&&(o.push(i),i=void 0),u>n&&o.push(c.slice(n-l,c.size,r)))}return o}function Ot(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),a=o&&0==o.size,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let l,u,f=i.resolve(c);if(v(n)){for(l=f;o&&!o.node;)o=o.parent;let t=o.node;if(o&&t.isAtom&&r.NodeSelection.isSelectable(t)&&o.parent&&(!t.isInline||!function(t,e,n){for(let r=0==e,i=e==h(t);r||i;){if(t==n)return!0;let e=s(t);if(!(t=t.parentNode))return!1;r=r&&0==e,i=i&&e==h(t)}}(n.focusNode,n.focusOffset,o.dom))){let t=o.posBefore;u=new r.NodeSelection(c==t?f:i.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;l=i.resolve(e)}if(!u){u=Rt(t,l,f,"pointer"==e||t.state.selection.head<f.pos&&!a?1:-1)}return u}function Et(t){return t.editable?t.hasFocus():Lt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Pt(t,e=!1){let n=t.state.selection;if(It(t,n),Et(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&E){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&u(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&x&&S<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{let i,o,{anchor:s,head:a}=n;!At||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(i=Tt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Tt(t,n.to))),t.docView.setSelection(s,a,t.root,e),At&&(i&&Mt(i),o&&Mt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{Et(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const At=A||E&&P<63;function Tt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(A&&i&&"false"==i.contentEditable)return jt(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return jt(i);if(o)return jt(o)}}function jt(t){return t.contentEditable="true",A&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Mt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function It(t,e){if(e instanceof r.NodeSelection){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Nt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Nt(t)}function Nt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Rt(t,e,n,i){return t.someProp("createSelectionBetween",(r=>r(t,e,n)))||r.TextSelection.between(e,n,i)}function Dt(t){return!(t.editable&&!t.hasFocus())&&Lt(t)}function Lt(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Bt(t,e){let{$anchor:n,$head:i}=t.selection,o=e>0?n.max(i):n.min(i),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&r.Selection.findFrom(s,e)}function $t(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ft(t,e,n){let i=t.state.selection;if(!(i instanceof r.TextSelection)){if(i instanceof r.NodeSelection&&i.node.isInline)return $t(t,new r.TextSelection(e>0?i.$to:i.$from));{let n=Bt(t.state,e);return!!n&&$t(t,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let n=Bt(t.state,e);return!!(n&&n instanceof r.NodeSelection)&&$t(t,n)}if(!(j&&n.indexOf("m")>-1)){let n,o=i.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(n=t.docView.descAt(a))&&!n.contentDOM)&&(r.NodeSelection.isSelectable(s)?$t(t,new r.NodeSelection(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):!!N&&$t(t,new r.TextSelection(t.state.doc.resolve(e<0?a:a+s.nodeSize))))}}function qt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Ut(t){if("false"==t.contentEditable)return!0;let e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Vt(t,e){return e<0?function(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;C&&1==n.nodeType&&r<qt(n)&&Ut(n.childNodes[r])&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if(Ut(t))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(Ht(n))break;{let e=n.previousSibling;for(;e&&Ut(e);)i=n.parentNode,o=s(e),e=e.previousSibling;if(e)n=e,r=qt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Wt(t,n,r):i&&Wt(t,i,o)}(t):zt(t)}function zt(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=qt(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!Ut(n.childNodes[r]))break;i=n,o=++r}else{if(Ht(n))break;{let e=n.nextSibling;for(;e&&Ut(e);)i=e.parentNode,o=s(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=qt(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}i&&Wt(t,i,o)}function Ht(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Wt(t,e,n){if(3!=e.nodeType){let t,r;(r=function(t,e){for(;t&&e==t.childNodes.length&&!p(t);)e=s(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){if(3==(t=t.childNodes[e]).nodeType)return t;e=0}}(e,n))?(e=r,n=0):(t=function(t,e){for(;t&&!e&&!p(t);)e=s(t),t=t.parentNode;for(;t&&e;){if(3==(t=t.childNodes[e-1]).nodeType)return t;e=t.childNodes.length}}(e,n))&&(e=t,n=t.nodeValue.length)}let r=t.domSelection();if(v(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&Pt(t)}),50)}function Yt(t,e){let n=t.state.doc.resolve(e);if(!E&&!M&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let n=t.coordsAtPos(e-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(e<n.end()){let n=t.coordsAtPos(e+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function Gt(t,e,n){let i=t.state.selection;if(i instanceof r.TextSelection&&!i.empty||n.indexOf("s")>-1)return!1;if(j&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=i;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=Bt(t.state,e);if(n&&n instanceof r.NodeSelection)return $t(t,n)}if(!o.parent.inlineContent){let n=e<0?o:s,a=i instanceof r.AllSelection?r.Selection.near(n,e):r.Selection.findFrom(n,e);return!!a&&$t(t,a)}return!1}function Jt(t,e){if(!(t.state.selection instanceof r.TextSelection))return!0;let{$head:n,$anchor:i,empty:o}=t.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=t.state.tr;return e<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),t.dispatch(r),!0}return!1}function Kt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Qt(t,e){let n=e.keyCode,r=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);if(8==n||j&&72==n&&"c"==r)return Jt(t,-1)||Vt(t,-1);if(46==n&&!e.shiftKey||j&&68==n&&"c"==r)return Jt(t,1)||Vt(t,1);if(13==n||27==n)return!0;if(37==n||j&&66==n&&"c"==r){let e=37==n?"ltr"==Yt(t,t.state.selection.from)?-1:1:-1;return Ft(t,e,r)||Vt(t,e)}if(39==n||j&&70==n&&"c"==r){let e=39==n?"ltr"==Yt(t,t.state.selection.from)?1:-1:1;return Ft(t,e,r)||Vt(t,e)}return 38==n||j&&80==n&&"c"==r?Gt(t,-1,r)||Vt(t,-1):40==n||j&&78==n&&"c"==r?function(t){if(!A||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;Kt(t,n,"true"),setTimeout((()=>Kt(t,n,"false")),20)}return!1}(t)||Gt(t,1,r)||zt(t):r==(j?"m":"c")&&(66==n||73==n||89==n||90==n)}function Xt(t,e){t.someProp("transformCopied",(n=>{e=n(e,t)}));let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,s--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let a=t.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(t.state.schema),c=ce(),l=c.createElement("div");l.appendChild(a.serializeFragment(r,{document:c}));let u,f=l.firstChild,d=0;for(;f&&1==f.nodeType&&(u=se[f.nodeName.toLowerCase()]);){for(let t=u.length-1;t>=0;t--){let e=c.createElement(u[t]);for(;l.firstChild;)e.appendChild(l.firstChild);l.appendChild(e),d++}f=l.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:l,text:t.someProp("clipboardTextSerializer",(n=>n(e,t)))||e.content.textBetween(0,e.content.size,"\n\n")}}function Zt(t,e,n,r,o){let s,a,c=o.parent.type.spec.code;if(!n&&!e)return null;let l=e&&(r||c||!n);if(l){if(t.someProp("transformPastedText",(n=>{e=n(e,c||r,t)})),c)return e?new i.Slice(i.Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i.Slice.empty;let n=t.someProp("clipboardTextParser",(n=>n(e,o,r,t)));if(n)a=n;else{let n=o.marks(),{schema:r}=t.state,a=i.DOMSerializer.fromSchema(r);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=s.appendChild(document.createElement("p"));t&&e.appendChild(a.serializeNode(r.text(t,n)))}))}}else t.someProp("transformPastedHTML",(e=>{n=e(n,t)})),s=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=ce().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(n=i&&se[i[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join(""));if(r.innerHTML=t,n)for(let t=0;t<n.length;t++)r=r.querySelector(n[t])||r;return r}(n),N&&function(t){let e=t.querySelectorAll(E?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(s);let u=s&&s.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let t=+f[3];t>0;t--){let t=s.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;s=t}if(!a){let e=t.someProp("clipboardParser")||t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema);a=e.parseSlice(s,{preserveWhitespace:!(!l&&!f),context:o,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||te.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(f)a=function(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}let{content:o,openStart:s,openEnd:a}=t;for(let t=n.length-2;t>=0;t-=2){let e=r.nodes[n[t]];if(!e||e.hasRequiredAttrs())break;o=i.Fragment.from(e.create(n[t+1],o)),s++,a++}return new i.Slice(o,s,a)}(oe(a,+f[1],+f[2]),f[4]);else if(a=i.Slice.maxOpen(function(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,o=e.node(n).contentMatchAt(e.index(n)),s=[];if(t.forEach((t=>{if(!s)return;let e,n=o.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&r.length&&ne(n,r,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=re(s[s.length-1],r.length));let e=ee(t,n);s.push(e),o=o.matchType(e.type),r=n}})),s)return i.Fragment.from(s)}return t}(a.content,o),!0),a.openStart||a.openEnd){let t=0,e=0;for(let e=a.content.firstChild;t<a.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=a.content.lastChild;e<a.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);a=oe(a,t,e)}return t.someProp("transformPasted",(e=>{a=e(a,t)})),a}const te=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ee(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i.Fragment.from(t));return t}function ne(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=ne(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i.Fragment.from(ee(n,t,o+1))))}}function re(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,re(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.Fragment.empty,!0);return t.copy(n.append(r))}function ie(t,e,n,r,o,s){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(s=0),o<r-1&&(c=ie(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function oe(t,e,n){return e<t.openStart&&(t=new i.Slice(ie(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.Slice(ie(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const se={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ae=null;function ce(){return ae||(ae=document.implementation.createHTMLDocument("title"))}const le={},ue={},fe={touchstart:!0,touchmove:!0};class de{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function he(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function pe(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>ve(t,e))}))}function ve(t,e){return t.someProp("handleDOMEvents",(n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function me(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ge(t){return{left:t.clientX,top:t.clientY}}function ye(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(t.someProp(e,(e=>r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function _e(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function be(t,e,n,i,o){return ye(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(n=>n(t,e,i)))||(o?function(t,e){if(-1==e)return!1;let n,i,o=t.state.selection;o instanceof r.NodeSelection&&(n=o.node);let s=t.state.doc.resolve(e);for(let t=s.depth+1;t>0;t--){let e=t>s.depth?s.nodeAfter:s.node(t);if(r.NodeSelection.isSelectable(e)){i=n&&o.$from.depth>0&&t>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(t);break}}return null!=i&&(_e(t,r.NodeSelection.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.NodeSelection.isSelectable(i))&&(_e(t,new r.NodeSelection(n),"pointer"),!0)}(t,n))}function we(t,e,n,r){return ye(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(n=>n(t,e,r)))}function ke(t,e,n,i){return ye(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(n=>n(t,e,i)))||function(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(_e(t,r.TextSelection.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(e);for(let e=o.depth+1;e>0;e--){let n=e>o.depth?o.nodeAfter:o.node(e),s=o.before(e);if(n.inlineContent)_e(t,r.TextSelection.create(i,s+1,s+1+n.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(n))continue;_e(t,r.NodeSelection.create(i,s),"pointer")}return!0}}(t,n,i)}function xe(t){return Te(t)}ue.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Oe(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!I||!E||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!T||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||Qt(t,n)?n.preventDefault():he(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,m(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},ue.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},ue.keypress=(t,e)=>{let n=e;if(Oe(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||j&&n.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r.TextSelection&&i.$from.sameParent(i.$to))){let e=String.fromCharCode(n.charCode);/[\r\n]/.test(e)||t.someProp("handleTextInput",(n=>n(t,i.$from.pos,i.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const Se=j?"metaKey":"ctrlKey";le.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=xe(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[Se]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(ge(n));s&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Ce(t,s,n,!!r)):("doubleClick"==o?we:ke)(t,s.pos,s.inside,n)?n.preventDefault():he(t,"pointer"))};class Ce{constructor(t,e,n,i){let o,s;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[Se],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let n=t.state.doc.resolve(e.pos);o=n.parent,s=n.depth?n.before():0}const a=i?null:n.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c?c.dom:null;let{selection:l}=t.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof r.NodeSelection&&l.from<=s&&l.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!C||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),he(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Pt(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(ge(t))),this.updateAllowDefault(t),this.allowDefault||!e?he(this.view,"pointer"):be(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||A&&this.mightDrag&&!this.mightDrag.node.isAtom||E&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(_e(this.view,r.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):he(this.view,"pointer")}move(t){this.updateAllowDefault(t),he(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Oe(t,e){return!!t.composing||!!(A&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}le.touchstart=t=>{t.input.lastTouch=Date.now(),xe(t),he(t,"pointer")},le.touchmove=t=>{t.input.lastTouch=Date.now(),he(t,"pointer")},le.contextmenu=t=>xe(t);const Ee=I?5e3:-1;function Pe(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>Te(t)),e))}function Ae(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Te(t,e=!1){if(!(I&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Ae(t),e||t.docView&&t.docView.dirty){let e=Ot(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}ue.compositionstart=ue.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),Te(t,!0),t.markCursor=null;else if(Te(t),C&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){t.domSelection().collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}Pe(t,Ee)},ue.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then((()=>t.domObserver.flush())),t.input.compositionID++,Pe(t,20))};const je=x&&S<15||T&&R<604;function Me(t,e,n,r,o){let s=Zt(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,o,s||i.Slice.empty))))return!0;if(!s)return!1;let a=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(s),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}le.copy=ue.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=je?null:n.clipboardData,s=r.content(),{dom:a,text:c}=Xt(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):function(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ue.paste=(t,e)=>{let n=e;if(t.composing&&!I)return;let r=je?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&Me(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():function(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout((()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Me(t,r.value,null,i,e):Me(t,r.textContent,r.innerHTML,i,e)}),50)}(t,n)};class Ie{constructor(t,e){this.slice=t,this.move=e}}const Ne=j?"altKey":"ctrlKey";le.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(ge(n));if(s&&s.pos>=o.from&&s.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(r.NodeSelection.create(t.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&t.dispatch(t.state.tr.setSelection(r.NodeSelection.create(t.state.doc,e.posBefore)))}let a=t.state.selection.content(),{dom:c,text:l}=Xt(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(je?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",je||n.dataTransfer.setData("text/plain",l),t.dragging=new Ie(a,!n[Ne])},le.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},ue.dragover=ue.dragenter=(t,e)=>e.preventDefault(),ue.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let a=t.posAtCoords(ge(n));if(!a)return;let c=t.state.doc.resolve(a.pos),l=s&&s.slice;l?t.someProp("transformPasted",(e=>{l=e(l,t)})):l=Zt(t,n.dataTransfer.getData(je?"Text":"text/plain"),je?null:n.dataTransfer.getData("text/html"),!1,c);let u=!(!s||n[Ne]);if(t.someProp("handleDrop",(e=>e(t,n,l||i.Slice.empty,u))))return void n.preventDefault();if(!l)return;n.preventDefault();let f=l?Object(o.h)(t.state.doc,c.pos,l):c.pos;null==f&&(f=c.pos);let d=t.state.tr;u&&d.deleteSelection();let h=d.mapping.map(f),p=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,v=d.doc;if(p?d.replaceRangeWith(h,h,l.content.firstChild):d.replaceRange(h,h,l),d.doc.eq(v))return;let m=d.doc.resolve(h);if(p&&r.NodeSelection.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))d.setSelection(new r.NodeSelection(m));else{let e=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach(((t,n,r,i)=>e=i)),d.setSelection(Rt(t,m,d.doc.resolve(e)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},le.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Pt(t)}),20))},le.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},le.beforeinput=(t,e)=>{if(E&&I&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,m(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let t in ue)le[t]=ue[t];function Re(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class De{constructor(t,e){this.toDOM=t,this.spec=e||qe,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new $e(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof De&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Re(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Le{constructor(t,e){this.attrs=t,this.spec=e||qe}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new $e(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Le&&Re(this.attrs,t.attrs)&&Re(this.spec,t.spec)}static is(t){return t.type instanceof Le}destroy(){}}class Be{constructor(t,e){this.attrs=t,this.spec=e||qe}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new $e(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof Be&&Re(this.attrs,t.attrs)&&Re(this.spec,t.spec)}destroy(){}}class $e{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new $e(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new $e(t,t,new De(e,n))}static inline(t,e,n,r){return new $e(t,e,new Le(n,r))}static node(t,e,n,r){return new $e(t,e,new Be(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Le}}const Fe=[],qe={};class Ue{constructor(t,e){this.local=t.length?t:Fe,this.children=e.length?e:Fe}static create(t,e){return e.length?Ge(e,t,0,qe):Ve}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,e-s,n,r+s,i)}}map(t,e,n){return this==Ve||0==t.maps.length?this:this.mapInner(t,e,0,0,n||qe)}mapInner(t,e,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,i,o,s){let a=t.slice();for(let t=0,e=o;t<n.maps.length;t++){let r=0;n.maps[t].forEach(((t,n,o,s)=>{let c=s-o-(n-t);for(let s=0;s<a.length;s+=3){let l=a[s+1];if(l<0||t>l+e-r)continue;let u=a[s]+e-r;n>=u?a[s+1]=t<=u?-2:-1:o>=i&&c&&(a[s]+=c,a[s+1]+=c)}r+=c})),e=n.maps[t].map(e,-1)}let c=!1;for(let e=0;e<a.length;e+=3)if(a[e+1]<0){if(-2==a[e+1]){c=!0,a[e+1]=-1;continue}let l=n.map(t[e]+o),u=l-i;if(u<0||u>=r.content.size){c=!0;continue}let f=n.map(t[e+1]+o,-1)-i,{index:d,offset:h}=r.content.findIndex(u),p=r.maybeChild(d);if(p&&h==u&&h+p.nodeSize==f){let r=a[e+2].mapInner(n,p,l+1,t[e]+o+1,s);r!=Ve?(a[e]=u,a[e+1]=f,a[e+2]=r):(a[e+1]=-2,c=!0)}else c=!0}if(c){let c=function(t,e,n,r,i,o,s){function a(t,e){for(let o=0;o<t.local.length;o++){let a=t.local[o].map(r,i,e);a?n.push(a):s.onRemove&&s.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)a(t.children[n+2],t.children[n]+e+1)}for(let n=0;n<t.length;n+=3)-1==t[n+1]&&a(t[n+2],e[n]+o+1);return n}(a,t,e,n,i,o,s),l=Ge(c,r,0,s);e=l.local;for(let t=0;t<a.length;t+=3)a[t+1]<0&&(a.splice(t,3),t-=3);for(let t=0,e=0;t<l.children.length;t+=3){let n=l.children[t];for(;e<a.length&&a[e]<n;)e+=3;a.splice(e,0,l.children[t],l.children[t+1],l.children[t+2])}}return new Ue(e.sort(Je),a)}(this.children,o||[],t,e,n,r,i):o?new Ue(o.sort(Je),Fe):Ve}add(t,e){return e.length?this==Ve?Ue.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach(((t,o)=>{let s,a=o+n;if(s=We(e,t,a)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,s,a+1):r.splice(i,0,o,o+t.nodeSize,Ge(s,t,a+1,qe)),i+=3}}));let o=He(i?Ye(e):e,-n);for(let e=0;e<o.length;e++)o[e].type.valid(t,o[e])||o.splice(e--,1);return new Ue(o.length?this.local.concat(o).sort(Je):this.local,r||this.children)}remove(t){return 0==t.length||this==Ve?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+e,s=n[r+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<s&&(t[n]=null,(i||(i=[])).push(e));if(!i)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(i,o+1);a!=Ve?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<t.length;i++)if(n=t[i])for(let t=0;t<r.length;t++)r[t].eq(n,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ue(r,n):Ve}forChild(t,e){if(this==Ve)return this;if(e.isLeaf)return Ue.empty;let n,r;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}let i=t+1,o=i+e.content.size;for(let t=0;t<this.local.length;t++){let e=this.local[t];if(e.from<o&&e.to>i&&e.type instanceof Le){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let t=new Ue(r.sort(Je),Fe);return n?new ze([t,n]):t}return n||Ve}eq(t){if(this==t)return!0;if(!(t instanceof Ue)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Ke(this.localsInner(t))}localsInner(t){if(this==Ve)return Fe;if(t.inlineContent||!this.local.some(Le.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof Le||e.push(this.local[t]);return e}}Ue.empty=new Ue([],[]),Ue.removeOverlap=Ke;const Ve=Ue.empty;class ze{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,qe)));return ze.from(n)}forChild(t,e){if(e.isLeaf)return Ue.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=Ve&&(i instanceof ze?n=n.concat(i.members):n.push(i))}return ze.from(n)}eq(t){if(!(t instanceof ze)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?Ke(n?e:e.sort(Je)):Fe}static from(t){switch(t.length){case 0:return Ve;case 1:return t[0];default:return new ze(t.every((t=>t instanceof Ue))?t:t.reduce(((t,e)=>t.concat(e instanceof Ue?e:e.members)),[]))}}}function He(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new $e(i.from+e,i.to+e,i.type))}return n}function We(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let e,o=0;o<t.length;o++)(e=t[o])&&e.from>n&&e.to<r&&((i||(i=[])).push(e),t[o]=null);return i}function Ye(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Ge(t,e,n,r){let i=[],o=!1;e.forEach(((e,s)=>{let a=We(t,e,s+n);if(a){o=!0;let t=Ge(a,e,n+s+1,r);t!=Ve&&i.push(s,s+e.nodeSize,t)}}));let s=He(o?Ye(t):t,-n).sort(Je);for(let t=0;t<s.length;t++)s[t].type.valid(e,s[t])||(r.onRemove&&r.onRemove(s[t].spec),s.splice(t--,1));return s.length||i.length?new Ue(s,i):Ve}function Je(t,e){return t.from-e.from||t.to-e.to}function Ke(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Qe(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Qe(e,i+1,o.copy(r.to,o.to)))}}return e}function Qe(t,e,n){for(;e<t.length&&Je(n,t[e])>0;)e++;t.splice(e,0,n)}function Xe(t){let e=[];return t.someProp("decorations",(n=>{let r=n(t.state);r&&r!=Ve&&e.push(r)})),t.cursorWrapper&&e.push(Ue.create(t.state.doc,[t.cursorWrapper.deco])),ze.from(e)}const Ze={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},tn=x&&S<=11;class en{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class nn{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new en,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);x&&S<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),tn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ze)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Dt(this.view)){if(this.suppressingSelectionUpdates)return Pt(this.view);if(x&&S<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let e=t.focusNode;e;e=a(e))n.add(e);for(let r=t.anchorNode;r;r=a(r))if(n.has(r)){e=r;break}let r=e&&this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Dt(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,c=[];if(t.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],c);n&&(o=o<0?n.from:Math.min(n.from,o),s=s<0?n.to:Math.max(n.to,s),n.typeOver&&(a=!0))}if(C&&c.length>1){let t=c.filter((t=>"BR"==t.nodeName));if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}let l=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&v(n)&&(l=Ot(t))&&l.eq(r.Selection.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Pt(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),function(t){if(rn.has(t))return;if(rn.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)){if(t.requiresGeckoHackNode=C,on)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),on=!0}}(t)),this.handleDOMChange(o,s,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Pt(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(x&&S<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?s(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),c=i&&i.parentNode==t.target?s(i):t.target.childNodes.length;return{from:a,to:n.localPosFromDOM(t.target,c,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let rn=new WeakMap,on=!1;function sn(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(A&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||A&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const an=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function cn(t,e,n,o,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Ot(t,e);if(n&&!t.state.selection.eq(n)){if(E&&I&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",(e=>e(t,m(13,"Enter")))))return;let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),a&&r.setMeta("composition",a),t.dispatch(r)}return}let c=t.state.doc.resolve(e),l=c.sharedDepth(n);e=c.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u,f,d=t.state.selection,h=function(t,e,n){let r,{node:o,fromOffset:s,toOffset:a,from:c,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f=u.anchorNode;if(f&&t.dom.contains(1==f.nodeType?f:f.parentNode)&&(r=[{node:f,offset:u.anchorOffset}],v(u)||r.push({node:u.focusNode,offset:u.focusOffset})),E&&8===t.input.lastKeyCode)for(let t=a;t>s;t--){let e=o.childNodes[t-1],n=e.pmViewDesc;if("BR"==e.nodeName&&!n){a=t;break}if(!n||n.size)break}let d=t.state.doc,h=t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema),p=d.resolve(c),m=null,g=h.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:sn,context:p});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),m={anchor:t+c,head:e+c}}return{doc:g,sel:m,from:c,to:l}}(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(u=t.state.selection.to,f="end"):(u=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let y=function(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){r-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&t.size<e.size){o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o}else if(a<o){o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(g.content,h.doc.content,h.from,u,f);if((T&&t.input.lastIOSEnter>Date.now()-225||I)&&s.some((t=>1==t.nodeType&&!an.test(t.nodeName)))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",(e=>e(t,m(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!y){if(!(o&&d instanceof r.TextSelection&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let e=ln(t,t.state.doc,h.sel);if(e&&!e.eq(t.state.selection)){let n=t.state.tr.setSelection(e);a&&n.setMeta("composition",a),t.dispatch(n)}}return}y={start:d.from,endA:d.to,endB:d.to}}if(E&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor){let t=y.endB-y.start;h.sel={anchor:h.sel.anchor+t,head:h.sel.anchor+t}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof r.TextSelection&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),x&&S<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>h.from&&"  "==h.doc.textBetween(y.start-h.from-1,y.start-h.from+1)&&(y.start--,y.endA--,y.endB--);let _,b=h.doc.resolveNoCache(y.start-h.from),w=h.doc.resolveNoCache(y.endB-h.from),k=p.resolve(y.start),C=b.sameParent(w)&&b.parent.inlineContent&&k.end()>=y.endA;if((T&&t.input.lastIOSEnter>Date.now()-225&&(!C||s.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!C&&b.pos<h.doc.content.size&&!b.sameParent(w)&&(_=r.Selection.findFrom(h.doc.resolve(b.pos+1),1,!0))&&_.head==w.pos)&&t.someProp("handleKeyDown",(e=>e(t,m(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>y.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||un(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(un(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||un(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,y.start,y.endA,b,w)&&t.someProp("handleKeyDown",(e=>e(t,m(8,"Backspace")))))return void(I&&E&&t.domObserver.suppressSelectionUpdates());E&&I&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),I&&!C&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==y.endA&&(y.endB-=2,w=h.doc.resolveNoCache(y.endB-h.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,m(13,"Enter"))}))}),20));let O,P,A,j=y.start,M=y.endA;if(C)if(b.pos==w.pos)x&&S<=11&&0==b.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>Pt(t)),20)),O=t.state.tr.delete(j,M),P=p.resolve(y.start).marksAcross(p.resolve(y.endA));else if(y.endA==y.endB&&(A=function(t,e){let n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,c=s,l=a;for(let t=0;t<a.length;t++)c=a[t].removeFromSet(c);for(let t=0;t<s.length;t++)l=s[t].removeFromSet(l);if(1==c.length&&0==l.length)r=c[0],n="add",o=t=>t.mark(r.addToSet(t.marks));else{if(0!=c.length||1!=l.length)return null;r=l[0],n="remove",o=t=>t.mark(r.removeFromSet(t.marks))}let u=[];for(let t=0;t<e.childCount;t++)u.push(o(e.child(t)));if(i.Fragment.from(u).eq(t))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,y.endA-k.start()))))O=t.state.tr,"add"==A.type?O.addMark(j,M,A.mark):O.removeMark(j,M,A.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){let e=b.parent.textBetween(b.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",(n=>n(t,j,M,e))))return;O=t.state.tr.insertText(e,j,M)}if(O||(O=t.state.tr.replace(j,M,h.doc.slice(y.start-h.from,y.endB-h.from))),h.sel){let e=ln(t,O.doc,h.sel);e&&!(E&&I&&t.composing&&e.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==j||e.head==O.mapping.map(M)-1)||x&&e.empty&&e.head==j)&&O.setSelection(e)}P&&O.ensureMarks(P),a&&O.setMeta("composition",a),t.dispatch(O.scrollIntoView())}function ln(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Rt(t,e.resolve(n.anchor),e.resolve(n.head))}function un(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,i++}return i}class fn{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new de,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(mn),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=pn(this),hn(this),this.nodeViews=vn(this),this.docView=ut(this.state.doc,dn(this),Xe(this),this.dom,this),this.domObserver=new nn(this,((t,e,n,r)=>cn(this,t,e,n,r))),this.domObserver.start(),function(t){for(let e in le){let n=le[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!me(t,e)||ve(t,e)||!t.editable&&e.type in ue||n(t,e)},fe[e]?{passive:!0}:void 0)}A&&t.dom.addEventListener("input",(()=>null)),pe(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&pe(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(mn),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){let n=this.state,r=!1,i=!1;t.storedMarks&&this.composing&&(Ae(this),i=!0),this.state=t;let o=n.plugins!=t.plugins||this._props.plugins!=e.plugins;if(o||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=vn(this);(function(t,e){let n=0,r=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let t in e)r++;return n!=r})(t,this.nodeViews)&&(this.nodeViews=t,r=!0)}(o||e.handleDOMEvents!=this._props.handleDOMEvents)&&pe(this),this.editable=pn(this),hn(this);let s=Xe(this),a=dn(this),c=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",l=r||!this.docView.matchesNode(t.doc,a,s);!l&&t.selection.eq(n.selection)||(i=!0);let f="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=t.root.elementFromPoint(o,s);if(!r||r==t.dom||!t.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=i-20){e=r,n=a.top;break}}return{refDOM:e,refTop:n,stack:F(t.dom)}}(this);if(i){this.domObserver.stop();let e=l&&(x||E)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(n.selection,t.selection);if(l){let n=E?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(t.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ut(t.doc,a,s,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return u(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?Pt(this,e):(It(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():f&&function({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;q(n,0==r?0:r-e)}(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof r.NodeSelection){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&$(this,e.getBoundingClientRect(),t)}else $(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[t];if(null!=i&&(n=e?e(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[t];if(null!=o&&(n=e?e(o):o))return n}}hasFocus(){if(x){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(U)return t.focus(U);let e=F(t);t.focus(null==U?{get preventScroll(){return U={preventScroll:!0},!0}}:void 0),U||(U=!1,q(e,0))}(this.dom),Pt(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return t||document}posAtCoords(t){return W(this,t)}coordsAtPos(t,e=1){return K(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return it(this,e||this.state,t)}pasteHTML(t,e){return Me(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Me(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Xe(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){ve(t,e)||!le[e.type]||!t.editable&&e.type in ue||le[e.type](t,e)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return A&&11===this.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function(t){let e;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return u(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function dn(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t?e.class+=" "+n[t]:"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),e.translate||(e.translate="no"),[$e.node(0,t.state.doc.content.size,e)]}function hn(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$e.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pn(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function vn(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function mn(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},function(t,e,n){var r=n(36),i=n(403),o=n(137),s=Object.defineProperty;e.f=n(61)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(229),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(t,e,n){"use strict";n.r(e),n.d(e,"CellBookmark",(function(){return T})),n.d(e,"CellSelection",(function(){return A})),n.d(e,"ResizeState",(function(){return nt})),n.d(e,"TableMap",(function(){return u})),n.d(e,"TableView",(function(){return X})),n.d(e,"__clipCells",(function(){return L})),n.d(e,"__insertCells",(function(){return F})),n.d(e,"__pastedCells",(function(){return R})),n.d(e,"addColSpan",(function(){return E})),n.d(e,"addColumn",(function(){return ct})),n.d(e,"addColumnAfter",(function(){return ut})),n.d(e,"addColumnBefore",(function(){return lt})),n.d(e,"addRow",(function(){return pt})),n.d(e,"addRowAfter",(function(){return mt})),n.d(e,"addRowBefore",(function(){return vt})),n.d(e,"cellAround",(function(){return g})),n.d(e,"colCount",(function(){return S})),n.d(e,"columnIsHeader",(function(){return P})),n.d(e,"columnResizing",(function(){return et})),n.d(e,"columnResizingPluginKey",(function(){return tt})),n.d(e,"deleteColumn",(function(){return dt})),n.d(e,"deleteRow",(function(){return yt})),n.d(e,"deleteTable",(function(){return Tt})),n.d(e,"findCell",(function(){return x})),n.d(e,"fixTables",(function(){return N})),n.d(e,"fixTablesKey",(function(){return M})),n.d(e,"goToNextCell",(function(){return At})),n.d(e,"handlePaste",(function(){return Y})),n.d(e,"inSameTable",(function(){return k})),n.d(e,"isInTable",(function(){return y})),n.d(e,"mergeCells",(function(){return bt})),n.d(e,"moveCellForward",(function(){return w})),n.d(e,"nextCell",(function(){return C})),n.d(e,"pointsAtCell",(function(){return b})),n.d(e,"removeColSpan",(function(){return O})),n.d(e,"removeColumn",(function(){return ft})),n.d(e,"removeRow",(function(){return gt})),n.d(e,"rowIsHeader",(function(){return ht})),n.d(e,"selectedRect",(function(){return at})),n.d(e,"selectionCell",(function(){return _})),n.d(e,"setCellAttr",(function(){return xt})),n.d(e,"splitCell",(function(){return wt})),n.d(e,"splitCellWithType",(function(){return kt})),n.d(e,"tableEditing",(function(){return jt})),n.d(e,"tableEditingKey",(function(){return m})),n.d(e,"tableNodeTypes",(function(){return v})),n.d(e,"tableNodes",(function(){return p})),n.d(e,"toggleHeader",(function(){return Ct})),n.d(e,"toggleHeaderCell",(function(){return Pt})),n.d(e,"toggleHeaderColumn",(function(){return Et})),n.d(e,"toggleHeaderRow",(function(){return Ot})),n.d(e,"updateColumnsOnResize",(function(){return Z}));var r,i,o=n(10),s=n(7),a=n(64),c=n(126),l=n(30);if("undefined"!=typeof WeakMap){let t=new WeakMap;r=e=>t.get(e),i=(e,n)=>(t.set(e,n),n)}else{const t=[],e=10;let n=0;r=e=>{for(let n=0;n<t.length;n+=2)if(t[n]==e)return t[n+1]},i=(r,i)=>(n==e&&(n=0),t[n++]=r,t[n++]=i)}var u=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,s=i+1;for(let t=1;o<this.width&&this.map[e+t]==n;t++)o++;for(let t=1;s<this.height&&this.map[e+this.width*t]==n;t++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(t);return"horiz"==e?(n<0?0==r:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?0==o:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:s,right:a,top:c,bottom:l}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,c),right:Math.max(r,a),bottom:Math.max(o,l)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s||e.push(s))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let n=e+t*this.width;const r=(t+1)*this.width;for(;n<r&&this.map[n]<i;)n++;return n==r?o-1:this.map[n]}i=o}}static get(t){return r(t)||i(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);const e=function(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let e=0;e<r;e++){const n=t.child(e);for(let t=0;t<n.childCount;t++){const i=n.child(t);e+i.attrs.rowspan>r&&(o+=i.attrs.colspan)}}for(let t=0;t<i.childCount;t++){const e=i.child(t);o+=e.attrs.colspan,e.attrs.rowspan>1&&(n=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let t=0,i=e*n;t<i;t++)r[t]=0;for(let a=0,c=0;a<n;a++){const l=t.child(a);c++;for(let t=0;;t++){for(;i<r.length&&0!=r[i];)i++;if(t==l.childCount)break;const u=l.child(t),{colspan:f,rowspan:d,colwidth:h}=u.attrs;for(let t=0;t<d;t++){if(t+a>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:d-t});break}const l=i+t*e;for(let t=0;t<f;t++){0==r[l+t]?r[l+t]=c:(o||(o=[])).push({type:"collision",row:a,pos:c,n:f-t});const n=h&&h[t];if(n){const r=(l+t)%e*2,i=s[r];null==i||i!=n&&1==s[r+1]?(s[r]=n,s[r+1]=1):i==n&&s[r+1]++}}}i+=f,c+=u.nodeSize}const u=(a+1)*e;let f=0;for(;i<u;)0==r[i++]&&f++;f&&(o||(o=[])).push({type:"missing",row:a,n:f}),c++}const a=new u(e,n,r,o);let c=!1;for(let t=0;!c&&t<s.length;t+=2)null!=s[t]&&s[t+1]<n&&(c=!0);c&&function(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const c=s.attrs;for(let n=0;n<c.colspan;n++){const r=e[2*((i+n)%t.width)];null==r||c.colwidth&&c.colwidth[n]==r||((a||(a=f(c)))[n]=r)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}(a,s,t);return a}(t))}};function f(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function d(t,e){if("string"==typeof t)return{};const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((t=>Number(t))):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const n in e){const r=e[n].getFromDOM,i=r&&r(t);null!=i&&(o[n]=i)}return o}function h(t,e){const n={};1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function p(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const t in e)n[t]={default:e[t].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:t=>d(t,e)}],toDOM:t=>["td",h(t,e),0]},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:t=>d(t,e)}],toDOM:t=>["th",h(t,e),0]}}}function v(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var m=new o.PluginKey("selectingCells");function g(t){for(let e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function y(t){const e=t.selection.$head;for(let t=e.depth;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return!0;return!1}function _(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&"cell"==e.node.type.spec.tableRole)return e.$anchor;const n=g(e.$head)||function(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n-e.nodeSize)}}(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function b(t){return"row"==t.parent.type.spec.tableRole&&!!t.nodeAfter}function w(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function k(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function x(t){return u.get(t.node(-1)).findCell(t.pos-t.start(-1))}function S(t){return u.get(t.node(-1)).colCount(t.pos-t.start(-1))}function C(t,e,n){const r=t.node(-1),i=u.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return null==s?null:t.node(0).resolve(o+s)}function O(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((t=>t>0))||(r.colwidth=null)),r}function E(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let t=0;t<n;t++)r.colwidth.splice(e,0,0)}return r}function P(t,e,n){const r=v(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var A=class extends o.Selection{constructor(t,e=t){const n=t.node(-1),r=u.get(n),i=t.start(-1),s=r.rectBetween(t.pos-i,e.pos-i),a=t.node(0),c=r.cellsInRect(s).filter((t=>t!=e.pos-i));c.unshift(e.pos-i);const l=c.map((t=>{const e=n.nodeAt(t);if(!e)throw RangeError(`No cell with offset ${t} found`);const r=i+t+1;return new o.SelectionRange(a.resolve(r),a.resolve(r+e.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=t,this.$headCell=e}map(t,e){const n=t.resolve(e.map(this.$anchorCell.pos)),r=t.resolve(e.map(this.$headCell.pos));if(b(n)&&b(r)&&k(n,r)){const t=this.$anchorCell.node(-1)!=n.node(-1);return t&&this.isRowSelection()?A.rowSelection(n,r):t&&this.isColSelection()?A.colSelection(n,r):new A(n,r)}return o.TextSelection.between(n,r)}content(){const t=this.$anchorCell.node(-1),e=u.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let o=n*e.width+r.left,s=r.left;s<r.right;s++,o++){const n=e.map[o];if(i[n])continue;i[n]=!0;const s=e.findCell(n);let c=t.nodeAt(n);if(!c)throw RangeError(`No cell with offset ${n} found`);const l=r.left-s.left,u=s.right-r.right;if(l>0||u>0){let t=c.attrs;if(l>0&&(t=O(t,0,l)),u>0&&(t=O(t,t.colspan-u,u)),s.left<r.left){if(c=c.type.createAndFill(t),!c)throw RangeError(`Could not create cell with attrs ${JSON.stringify(t)}`)}else c=c.type.create(t,c.content)}if(s.top<r.top||s.bottom>r.bottom){const t={...c.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};c=s.top<r.top?c.type.createAndFill(t):c.type.create(t,c.content)}a.push(c)}o.push(t.child(n).copy(s.Fragment.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?t:o;return new s.Slice(s.Fragment.from(a),1,1)}replace(t,e=s.Slice.empty){const n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:o,$to:a}=r[i],c=t.mapping.slice(n);t.replace(c.map(o.pos),c.map(a.pos),i?s.Slice.empty:e)}const i=o.Selection.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new s.Slice(s.Fragment.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),n=u.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++)t(e.nodeAt(i[n]),r+i[n])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const n=t.node(-1),r=u.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),a=t.node(0);return o.top<=s.top?(o.top>0&&(t=a.resolve(i+r.map[o.left])),s.bottom<r.height&&(e=a.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(e=a.resolve(i+r.map[s.left])),o.bottom<r.height&&(t=a.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new A(t,e)}isRowSelection(){const t=this.$anchorCell.node(-1),e=u.get(t),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==e.width}eq(t){return t instanceof A&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const n=t.node(-1),r=u.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),a=t.node(0);return o.left<=s.left?(o.left>0&&(t=a.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(e=a.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(e=a.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(t=a.resolve(i+r.map[r.width*(o.top+1)-1]))),new A(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new A(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){return new A(t.resolve(e),t.resolve(n))}getBookmark(){return new T(this.$anchorCell.pos,this.$headCell.pos)}};A.prototype.visible=!1,o.Selection.jsonID("cell",A);var T=class{constructor(t,e){this.anchor=t,this.head=e}map(t){return new T(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&k(e,n)?new A(e,n):o.Selection.near(n,1)}};function j(t){if(!(t.selection instanceof A))return null;const e=[];return t.selection.forEachCell(((t,n)=>{e.push(a.a.node(n,n+t.nodeSize,{class:"selectedCell"}))})),a.b.create(t.doc,e)}var M=new o.PluginKey("fix-tables");function I(t,e,n,r){const i=t.childCount,o=e.childCount;t:for(let s=0,a=0;s<o;s++){const o=e.child(s);for(let e=a,r=Math.min(i,s+3);e<r;e++)if(t.child(e)==o){a=e+1,n+=o.nodeSize;continue t}r(o,n),a<i&&t.child(a).sameMarkup(o)?I(t.child(a),o,n+1,r):o.nodesBetween(0,o.content.size,r,n+1),n+=o.nodeSize}}function N(t,e){let n;const r=(e,r)=>{"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){const i=u.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let t=0;t<i.height;t++)o.push(0);for(let t=0;t<i.problems.length;t++){const s=i.problems[t];if("collision"==s.type){const t=e.nodeAt(s.pos);if(!t)continue;const i=t.attrs;for(let t=0;t<i.rowspan;t++)o[s.row+t]+=s.n;r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,O(i,i.colspan-s.n,s.n))}else if("missing"==s.type)o[s.row]+=s.n;else if("overlong_rowspan"==s.type){const t=e.nodeAt(s.pos);if(!t)continue;r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,{...t.attrs,rowspan:t.attrs.rowspan-s.n})}else if("colwidth mismatch"==s.type){const t=e.nodeAt(s.pos);if(!t)continue;r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,{...t.attrs,colwidth:s.colwidth})}}let s,a;for(let t=0;t<o.length;t++)o[t]&&(null==s&&(s=t),a=t);for(let c=0,l=n+1;c<i.height;c++){const n=e.child(c),i=l+n.nodeSize,u=o[c];if(u>0){let e="cell";n.firstChild&&(e=n.firstChild.type.spec.tableRole);const o=[];for(let n=0;n<u;n++){const n=v(t.schema)[e].createAndFill();n&&o.push(n)}const f=0!=c&&s!=c-1||a!=c?i-1:l+1;r.insert(r.mapping.map(f),o)}l=i}return r.setMeta(M,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&I(e.doc,t.doc,0,r):t.doc.descendants(r),n}function R(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;1==e.childCount&&(n>0&&r>0||"table"==e.child(0).type.spec.tableRole);)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,a=i.type.schema,c=[];if("row"==o)for(let t=0;t<e.childCount;t++){let i=e.child(t).content;const o=t?0:Math.max(0,n-1),l=t<e.childCount-1?0:Math.max(0,r-1);(o||l)&&(i=D(v(a).row,new s.Slice(i,o,l)).content),c.push(i)}else{if("cell"!=o&&"header_cell"!=o)return null;c.push(n||r?D(v(a).row,new s.Slice(e,n,r)).content:e)}return function(t,e){const n=[];for(let t=0;t<e.length;t++){const r=e[t];for(let e=r.childCount-1;e>=0;e--){const{rowspan:i,colspan:o}=r.child(e).attrs;for(let e=t;e<t+i;e++)n[e]=(n[e]||0)+o}}let r=0;for(let t=0;t<n.length;t++)r=Math.max(r,n[t]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(s.Fragment.empty),n[i]<r){const o=v(t).cell.createAndFill(),a=[];for(let t=n[i];t<r;t++)a.push(o);e[i]=e[i].append(s.Fragment.from(a))}return{height:e.length,width:r,rows:e}}(a,c)}function D(t,e){const n=t.createAndFill();return new l.e(n).replace(0,n.content.size,e).doc}function L({width:t,height:e,rows:n},r,i){if(t!=r){const e=[],i=[];for(let t=0;t<n.length;t++){const o=n[t],a=[];for(let n=e[t]||0,i=0;n<r;i++){let s=o.child(i%o.childCount);n+s.attrs.colspan>r&&(s=s.type.createChecked(O(s.attrs,s.attrs.colspan,n+s.attrs.colspan-r),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)e[t+n]=(e[t+n]||0)+s.attrs.colspan}i.push(s.Fragment.from(a))}n=i,t=r}if(e!=i){const t=[];for(let r=0,o=0;r<i;r++,o++){const a=[],c=n[o%e];for(let t=0;t<c.childCount;t++){let e=c.child(t);r+e.attrs.rowspan>i&&(e=e.type.create({...e.attrs,rowspan:Math.max(1,i-e.attrs.rowspan)},e.content)),a.push(e)}t.push(s.Fragment.from(a))}n=t,e=i}return{width:t,height:e,rows:n}}function B(t,e,n,r,i,o,s,a){if(0==s||s==e.height)return!1;let c=!1;for(let l=i;l<o;l++){const i=s*e.width+l,o=e.map[i];if(e.map[i-e.width]==o){c=!0;const i=n.nodeAt(o),{top:u,left:f}=e.findCell(o);t.setNodeMarkup(t.mapping.slice(a).map(o+r),null,{...i.attrs,rowspan:s-u}),t.insert(t.mapping.slice(a).map(e.positionAt(s,f,n)),i.type.createAndFill({...i.attrs,rowspan:u+i.attrs.rowspan-s})),l+=i.attrs.colspan-1}}return c}function $(t,e,n,r,i,o,s,a){if(0==s||s==e.width)return!1;let c=!1;for(let l=i;l<o;l++){const i=l*e.width+s,o=e.map[i];if(e.map[i-1]==o){c=!0;const i=n.nodeAt(o),u=e.colCount(o),f=t.mapping.slice(a).map(o+r);t.setNodeMarkup(f,null,O(i.attrs,s-u,i.attrs.colspan-(s-u))),t.insert(f+i.nodeSize,i.type.createAndFill(O(i.attrs,0,s-u))),l+=i.attrs.rowspan-1}}return c}function F(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let a=u.get(o);const{top:c,left:l}=r,f=l+i.width,d=c+i.height,h=t.tr;let p=0;function m(){if(o=n?h.doc.nodeAt(n-1):h.doc,!o)throw new Error("No table found");a=u.get(o),p=h.mapping.maps.length}(function(t,e,n,r,i,o,a){const c=v(t.doc.type.schema);let l,u;if(i>e.width)for(let o=0,s=0;o<e.height;o++){const f=n.child(o);s+=f.nodeSize;const d=[];let h;h=null==f.lastChild||f.lastChild.type==c.cell?l||(l=c.cell.createAndFill()):u||(u=c.header_cell.createAndFill());for(let t=e.width;t<i;t++)d.push(h);t.insert(t.mapping.slice(a).map(s-1+r),d)}if(o>e.height){const f=[];for(let t=0,r=(e.height-1)*e.width;t<Math.max(e.width,i);t++){const i=!(t>=e.width)&&n.nodeAt(e.map[r+t]).type==c.header_cell;f.push(i?u||(u=c.header_cell.createAndFill()):l||(l=c.cell.createAndFill()))}const d=c.row.create(null,s.Fragment.from(f)),h=[];for(let t=e.height;t<o;t++)h.push(d);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),h)}return!(!l&&!u)})(h,a,o,n,f,d,p)&&m(),B(h,a,o,n,l,f,c,p)&&m(),B(h,a,o,n,l,f,d,p)&&m(),$(h,a,o,n,c,d,l,p)&&m(),$(h,a,o,n,c,d,f,p)&&m();for(let t=c;t<d;t++){const e=a.positionAt(t,l,o),r=a.positionAt(t,f,o);h.replace(h.mapping.slice(p).map(e+n),h.mapping.slice(p).map(r+n),new s.Slice(i.rows[t-c],0,0))}m(),h.setSelection(new A(h.doc.resolve(n+a.positionAt(c,l,o)),h.doc.resolve(n+a.positionAt(d-1,f-1,o)))),e(h)}var q=Object(c.a)({ArrowLeft:V("horiz",-1),ArrowRight:V("horiz",1),ArrowUp:V("vert",-1),ArrowDown:V("vert",1),"Shift-ArrowLeft":z("horiz",-1),"Shift-ArrowRight":z("horiz",1),"Shift-ArrowUp":z("vert",-1),"Shift-ArrowDown":z("vert",1),Backspace:H,"Mod-Backspace":H,Delete:H,"Mod-Delete":H});function U(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function V(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof A)return U(n,r,o.Selection.near(s.$headCell,e));if("horiz"!=t&&!s.empty)return!1;const a=J(i,t,e);if(null==a)return!1;if("horiz"==t)return U(n,r,o.Selection.near(n.doc.resolve(s.head+e),e));{const i=n.doc.resolve(a),s=C(i,t,e);let c;return c=s?o.Selection.near(s,1):e<0?o.Selection.near(n.doc.resolve(i.before(-1)),-1):o.Selection.near(n.doc.resolve(i.after(-1)),1),U(n,r,c)}}}function z(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof A)s=o;else{const r=J(i,t,e);if(null==r)return!1;s=new A(n.doc.resolve(r))}const a=C(s.$headCell,t,e);return!!a&&U(n,r,new A(s.$anchorCell,a))}}function H(t,e){const n=t.selection;if(!(n instanceof A))return!1;if(e){const r=t.tr,i=v(t.schema).cell.createAndFill().content;n.forEachCell(((t,e)=>{t.content.eq(i)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new s.Slice(i,0,0))})),r.docChanged&&e(r)}return!0}function W(t,e){const n=g(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new A(n))),!0)}function Y(t,e,n){if(!y(t.state))return!1;let r=R(n);const i=t.state.selection;if(i instanceof A){r||(r={width:1,height:1,rows:[s.Fragment.from(D(v(t.state.schema).cell,n))]});const e=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=u.get(e).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=L(r,a.right-a.left,a.bottom-a.top),F(t.state,t.dispatch,o,a,r),!0}if(r){const e=_(t.state),n=e.start(-1);return F(t.state,t.dispatch,n,u.get(e.node(-1)).findCell(e.pos-n),r),!0}return!1}function G(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=K(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof A)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(i=g(t.state.selection.$anchor))&&(null==(n=Q(t,e))?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(e,n){let r=Q(t,n);const i=null==m.getState(t.state);if(!r||!k(e,r)){if(!i)return;r=e}const o=new A(e,r);if(i||!t.state.selection.eq(o)){const n=t.state.tr.setSelection(o);i&&n.setMeta(m,e.pos),t.dispatch(n)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),null!=m.getState(t.state)&&t.dispatch(t.state.tr.setMeta(m,-1))}function a(n){const i=n,a=m.getState(t.state);let c;if(null!=a)c=t.state.doc.resolve(a);else if(K(t,i.target)!=r&&(c=Q(t,e),!c))return s();c&&o(c,i)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function J(t,e,n){if(!(t.state.selection instanceof o.TextSelection))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){const o=r.before(i),s="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(s)?o:null}}return null}function K(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e;return null}function Q(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?g(t.state.doc.resolve(n.pos)):null}var X=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Z(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type==this.node.type&&(this.node=t,Z(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))}};function Z(t,e,n,r,i,o){var s;let a=0,c=!0,l=e.firstChild;const u=t.firstChild;if(u){for(let t=0,n=0;t<u.childCount;t++){const{colspan:s,colwidth:f}=u.child(t).attrs;for(let t=0;t<s;t++,n++){const s=i==n?o:f&&f[t],u=s?s+"px":"";a+=s||r,s||(c=!1),l?(l.style.width!=u&&(l.style.width=u),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=u}}for(;l;){const t=l.nextSibling;null==(s=l.parentNode)||s.removeChild(l),l=t}c?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var tt=new o.PluginKey("tableColumnResizing");function et({handleWidth:t=5,cellMinWidth:e=25,View:n=X,lastColumnResizable:r=!0}={}){const i=new o.Plugin({key:tt,state:{init:(t,r)=>(i.spec.props.nodeViews[v(r.schema).table.name]=(t,r)=>new n(t,e,r),new nt(-1,!1)),apply:(t,e)=>e.apply(t)},props:{attributes:t=>{const e=tt.getState(t);return e&&e.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(e,n)=>{!function(t,e,n,r,i){const o=tt.getState(t.state);if(!o)return;if(!o.dragging){const r=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target);let s=-1;if(r){const{left:i,right:o}=r.getBoundingClientRect();e.clientX-i<=n?s=rt(t,e,"left",n):o-e.clientX<=n&&(s=rt(t,e,"right",n))}if(s!=o.activeHandle){if(!i&&-1!==s){const e=t.state.doc.resolve(s),n=e.node(-1),r=u.get(n),i=e.start(-1);if(r.colCount(e.pos-i)+e.nodeAfter.attrs.colspan-1==r.width-1)return}ot(t,s)}}}(e,n,t,0,r)},mouseleave:t=>{!function(t){const e=tt.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&ot(t,-1)}(t)},mousedown:(t,n)=>{!function(t,e,n){const r=tt.getState(t.state);if(!r||-1==r.activeHandle||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),o=function(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let s=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let t=0;t<n;t++)r[t]&&(s-=r[t],a--);return s/a}(t,r.activeHandle,i.attrs);function s(e){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);const r=tt.getState(t.state);(null==r?void 0:r.dragging)&&(!function(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=u.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let t=0;t<o.height;t++){const e=t*o.width+a;if(t&&o.map[e]==o.map[e-o.width])continue;const r=o.map[e],l=i.nodeAt(r).attrs,u=1==l.colspan?0:a-o.colCount(r);if(l.colwidth&&l.colwidth[u]==n)continue;const f=l.colwidth?l.colwidth.slice():st(l.colspan);f[u]=n,c.setNodeMarkup(s+r,null,{...l,colwidth:f})}c.docChanged&&t.dispatch(c)}(t,r.activeHandle,it(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(tt,{setDragging:null})))}function a(e){if(!e.which)return s(e);const r=tt.getState(t.state);if(r&&r.dragging){const i=it(r.dragging,e,n);!function(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),a=u.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let c=t.domAtPos(i.start(-1)).node;for(;c&&"TABLE"!=c.nodeName;)c=c.parentNode;if(!c)return;Z(o,c.firstChild,c,r,a,n)}(t,r.activeHandle,i,n)}}t.dispatch(t.state.tr.setMeta(tt,{setDragging:{startX:e.clientX,startWidth:o}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault()}(t,n,e)}},decorations:t=>{const e=tt.getState(t);if(e&&e.activeHandle>-1)return function(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return a.b.empty;const o=u.get(i),s=r.start(-1),c=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let t=0;t<o.height;t++){const e=c+t*o.width-1;if(!(c!=o.width&&o.map[e]==o.map[e+1]||0!=t&&o.map[e]==o.map[e-o.width])){const t=o.map[e],r=s+t+i.nodeAt(t).nodeSize-1,c=document.createElement("div");c.className="column-resize-handle",n.push(a.a.widget(r,c))}}return a.b.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}});return i}var nt=class{constructor(t,e){this.activeHandle=t,this.dragging=e}apply(t){const e=this,n=t.getMeta(tt);if(n&&null!=n.setHandle)return new nt(n.setHandle,!1);if(n&&void 0!==n.setDragging)return new nt(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){let n=t.mapping.map(e.activeHandle,-1);return b(t.doc.resolve(n))||(n=-1),new nt(n,e.dragging)}return e}};function rt(t,e,n,r){const i="right"==n?-r:r,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:s}=o,a=g(t.state.doc.resolve(s));if(!a)return-1;if("right"==n)return a.pos;const c=u.get(a.node(-1)),l=a.start(-1),f=c.map.indexOf(a.pos-l);return f%c.width==0?-1:l+c.map[f-1]}function it(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function ot(t,e){t.dispatch(t.state.tr.setMeta(tt,{setHandle:e}))}function st(t){return Array(t).fill(0)}function at(t){const e=t.selection,n=_(t),r=n.node(-1),i=n.start(-1),o=u.get(r);return{...e instanceof A?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function ct(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;P(e,r,i+o)&&(o=0==i||i==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const o=e.map[a],c=r.nodeAt(o);t.setNodeMarkup(t.mapping.map(n+o),null,E(c.attrs,i-e.colCount(o))),s+=c.attrs.rowspan-1}else{const c=null==o?v(r.type.schema).cell:r.nodeAt(e.map[a+o]).type,l=e.positionAt(s,i,r);t.insert(t.mapping.map(n+l),c.createAndFill())}}return t}function lt(t,e){if(!y(t))return!1;if(e){const n=at(t);e(ct(t.tr,n,n.left))}return!0}function ut(t,e){if(!y(t))return!1;if(e){const n=at(t);e(ct(t.tr,n,n.right))}return!0}function ft(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+i,c=e.map[a],l=n.nodeAt(c),u=l.attrs;if(i>0&&e.map[a-1]==c||i<e.width-1&&e.map[a+1]==c)t.setNodeMarkup(t.mapping.slice(o).map(r+c),null,O(u,i-e.colCount(c)));else{const e=t.mapping.slice(o).map(r+c);t.delete(e,e+l.nodeSize)}s+=u.rowspan}}function dt(t,e){if(!y(t))return!1;if(e){const n=at(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let t=n.right-1;ft(r,n,t),t!=n.left;t--){const t=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!t)throw RangeError("No table found");n.table=t,n.map=u.get(t)}e(r)}return!0}function ht(t,e,n){var r;const i=v(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if((null==(r=e.nodeAt(t.map[o+n*t.width]))?void 0:r.type)!=i)return!1;return!0}function pt(t,{map:e,tableStart:n,table:r},i){var o;let s=n;for(let t=0;t<i;t++)s+=r.child(t).nodeSize;const a=[];let c=i>0?-1:0;ht(e,r,i+c)&&(c=0==i||i==e.height?null:0);for(let s=0,l=e.width*i;s<e.width;s++,l++)if(i>0&&i<e.height&&e.map[l]==e.map[l-e.width]){const i=e.map[l],o=r.nodeAt(i).attrs;t.setNodeMarkup(n+i,null,{...o,rowspan:o.rowspan+1}),s+=o.colspan-1}else{const t=null==c?v(r.type.schema).cell:null==(o=r.nodeAt(e.map[l+c*e.width]))?void 0:o.type,n=null==t?void 0:t.createAndFill();n&&a.push(n)}return t.insert(s,v(r.type.schema).row.create(null,a)),t}function vt(t,e){if(!y(t))return!1;if(e){const n=at(t);e(pt(t.tr,n,n.top))}return!0}function mt(t,e){if(!y(t))return!1;if(e){const n=at(t);e(pt(t.tr,n,n.bottom))}return!0}function gt(t,{map:e,table:n,tableStart:r},i){let o=0;for(let t=0;t<i;t++)o+=n.child(t).nodeSize;const s=o+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(o+r,s+r);for(let o=0,s=i*e.width;o<e.width;o++,s++){const c=e.map[s];if(i>0&&c==e.map[s-e.width]){const e=n.nodeAt(c).attrs;t.setNodeMarkup(t.mapping.slice(a).map(c+r),null,{...e,rowspan:e.rowspan-1}),o+=e.colspan-1}else if(i<e.width&&c==e.map[s+e.width]){const s=n.nodeAt(c),l=s.attrs,u=s.type.create({...l,rowspan:s.attrs.rowspan-1},s.content),f=e.positionAt(i+1,o,n);t.insert(t.mapping.slice(a).map(r+f),u),o+=l.colspan-1}}}function yt(t,e){if(!y(t))return!1;if(e){const n=at(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let t=n.bottom-1;gt(r,n,t),t!=n.top;t--){const t=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!t)throw RangeError("No table found");n.table=t,n.map=u.get(n.table)}e(r)}return!0}function _t(t){const e=t.content;return 1==e.childCount&&e.child(0).isTextblock&&0==e.child(0).childCount}function bt(t,e){const n=t.selection;if(!(n instanceof A)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=at(t),{map:i}=r;if(function({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,s=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let e=r.top;e<r.bottom;e++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[a]==n[a+1])return!0;o+=t,a+=t}for(let o=r.left;o<r.right;o++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}(i,r))return!1;if(e){const n=t.tr,o={};let a,c,l=s.Fragment.empty;for(let t=r.top;t<r.bottom;t++)for(let e=r.left;e<r.right;e++){const s=i.map[t*i.width+e],u=r.table.nodeAt(s);if(!o[s]&&u)if(o[s]=!0,null==a)a=s,c=u;else{_t(u)||(l=l.append(u.content));const t=n.mapping.map(s+r.tableStart);n.delete(t,t+u.nodeSize)}}if(null==a||null==c)return!0;if(n.setNodeMarkup(a+r.tableStart,null,{...E(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const t=a+1+c.content.size,e=_t(c)?a+1:t;n.replaceWith(e+r.tableStart,t+r.tableStart,l)}n.setSelection(new A(n.doc.resolve(a+r.tableStart))),e(n)}return!0}function wt(t,e){const n=v(t.schema);return kt((({node:t})=>n[t.type.spec.tableRole]))(t,e)}function kt(t){return(e,n)=>{var r;const i=e.selection;let o,s;if(i instanceof A){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(o=function(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(i.$from),!o)return!1;s=null==(r=g(i.$from))?void 0:r.pos}if(null==o||null==s)return!1;if(1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(n){let r=o.attrs;const a=[],c=r.colwidth;r.rowspan>1&&(r={...r,rowspan:1}),r.colspan>1&&(r={...r,colspan:1});const l=at(e),u=e.tr;for(let t=0;t<l.right-l.left;t++)a.push(c?{...r,colwidth:c&&c[t]?[c[t]]:null}:r);let f;for(let e=l.top;e<l.bottom;e++){let n=l.map.positionAt(e,l.left,l.table);e==l.top&&(n+=o.nodeSize);for(let r=l.left,i=0;r<l.right;r++,i++)r==l.left&&e==l.top||u.insert(f=u.mapping.map(n+l.tableStart,1),t({node:o,row:e,col:r}).createAndFill(a[i]))}u.setNodeMarkup(s,t({node:o,row:l.top,col:l.left}),a[0]),i instanceof A&&u.setSelection(new A(u.doc.resolve(i.$anchorCell.pos),f?u.doc.resolve(f):void 0)),n(u)}return!0}}function xt(t,e){return function(n,r){if(!y(n))return!1;const i=_(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof A?n.selection.forEachCell(((n,r)=>{n.attrs[t]!==e&&o.setNodeMarkup(r,null,{...n.attrs,[t]:e})})):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function St(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1});for(let t=0;t<r.length;t++){const i=e.table.nodeAt(r[t]);if(i&&i.type!==n.header_cell)return!1}return!0}function Ct(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!y(e))return!1;if(n){const r=v(e.schema),i=at(e),o=e.tr,s=i.map.cellsInRect("column"==t?{left:i.left,top:0,right:i.right,bottom:i.map.height}:"row"==t?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map((t=>i.table.nodeAt(t)));for(let t=0;t<s.length;t++)a[t].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[t],r.cell,a[t].attrs);if(0==o.steps.length)for(let t=0;t<s.length;t++)o.setNodeMarkup(i.tableStart+s[t],r.header_cell,a[t].attrs);n(o)}return!0}}(t):function(e,n){if(!y(e))return!1;if(n){const r=v(e.schema),i=at(e),o=e.tr,s=St("row",i,r),a=St("column",i,r),c=("column"===t?s:"row"===t&&a)?1:0,l="column"==t?{left:0,top:c,right:1,bottom:i.map.height}:"row"==t?{left:c,top:0,right:i.map.width,bottom:1}:i,u="column"==t?a?r.cell:r.header_cell:"row"==t?s?r.cell:r.header_cell:r.cell;i.map.cellsInRect(l).forEach((t=>{const e=t+i.tableStart,n=o.doc.nodeAt(e);n&&o.setNodeMarkup(e,u,n.attrs)})),n(o)}return!0}}var Ot=Ct("row",{useDeprecatedLogic:!0}),Et=Ct("column",{useDeprecatedLogic:!0}),Pt=Ct("cell",{useDeprecatedLogic:!0});function At(t){return function(e,n){if(!y(e))return!1;const r=function(t,e){if(e<0){const e=t.nodeBefore;if(e)return t.pos-e.nodeSize;for(let e=t.index(-1)-1,n=t.before();e>=0;e--){const r=t.node(-1).child(e),i=r.lastChild;if(i)return n-1-i.nodeSize;n-=r.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const e=t.node(-1);for(let n=t.indexAfter(-1),r=t.after();n<e.childCount;n++){const t=e.child(n);if(t.childCount)return r+1;r+=t.nodeSize}}return null}(_(e),t);if(null==r)return!1;if(n){const t=e.doc.resolve(r);n(e.tr.setSelection(o.TextSelection.between(t,w(t))).scrollIntoView())}return!0}}function Tt(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}function jt({allowTableNodeSelection:t=!1}={}){return new o.Plugin({key:m,state:{init:()=>null,apply(t,e){const n=t.getMeta(m);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;const{deleted:r,pos:i}=t.mapping.mapResult(e);return r?null:i}},props:{decorations:j,handleDOMEvents:{mousedown:G},createSelectionBetween:t=>null!=m.getState(t.state)?t.state.selection:null,handleTripleClick:W,handleKeyDown:q,handlePaste:Y},appendTransaction:(e,n,r)=>function(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,a;if(r instanceof o.NodeSelection&&(a=r.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)s=A.create(i,r.from);else if("row"==a){const t=i.resolve(r.from+1);s=A.rowSelection(t,t)}else if(!n){const t=u.get(r.node),e=r.from+1,n=e+t.map[t.width*t.height-1];s=A.create(i,e+1,n)}}else r instanceof o.TextSelection&&function({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let t=e.depth;t>=0&&!(e.before(t+1)>e.start(t));t--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}(r)?s=o.TextSelection.create(i,r.from):r instanceof o.TextSelection&&function({$from:t,$to:e}){let n,r;for(let e=t.depth;e>0;e--){const r=t.node(e);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let t=e.depth;t>0;t--){const n=e.node(t);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===e.parentOffset}(r)&&(s=o.TextSelection.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}(r,N(r,n),t)})}},function(t,e,n){"use strict";var r=n(48),i=n(101),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},function(t,e,n){"use strict";var r=n(51),i=n(68),o=n(273),s=n(113).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){"use strict";var r=n(294),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},function(t,e,n){t.exports=n(1158)},function(t,e,n){t.exports=n(512)},function(t,e,n){"use strict";var r=n(56),i=n(451),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(277),i=n(875);function o(e){return t.exports=o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));var r=n(1),i={methods:{fileUrl:function(t,e,n){return Object(r.u)(t,e,n)}}},o={methods:{avatarUrl:function(t,e,n){return Object(r.f)(t,e,n)}}},s={methods:{lazyInHtml:function(t){if("string"!=typeof t)return t;var e="".concat(vo.url_assets,"/img/preloader-mid.gif");return t.replace(/<img.*?src="(.*?)".*?>/g,(function(t,n){return/class="(.*?)"/.test(t)?t.replace(/src=".*?"/g,'src="'.concat(e,'" data-src="').concat(n,'"')).replace(/class="(.*?)"/g,'class="$1 lazyload"'):t.replace(/src=".*?"/g,'src="'.concat(e,'" data-src="').concat(n,'" class="lazyload"'))}))}}}},function(t,e,n){var r=n(138);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports=n(475)},function(t,e,n){"use strict";var r=n(56),i=n(191),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},function(t,e,n){t.exports=n(953)},function(t,e,n){t.exports=n(1117)},function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return u}));var r=n(5);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?(t+=t.length>=69?"...":"",e&&(t="«".concat(t,"»")),t):""}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"receiver";return{obj_type:t["".concat(e,"_type")],obj_id:t["".concat(e,"_id")],obj_sub_id:t["".concat(e,"_sub_id")]}}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"obj";return t&&t["".concat(e,"_type")]?[t["".concat(e,"_type")],t["".concat(e,"_id")],t["".concat(e,"_sub_id")]].join(r.DELIMITER_OBJ_KEY):null}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"receiver";return t["".concat(n,"_type")]===e["".concat(n,"_type")]&&t["".concat(n,"_id")]===e["".concat(n,"_id")]&&t["".concat(n,"_sub_id")]===e["".concat(n,"_sub_id")]}function u(t){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=[arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null].reduce((function(t,e){return e&&e.obj_type?[].concat(i(t),[e.obj_type,e.obj_id,e.obj_sub_id]):[].concat(i(t),[0,0,0])}),[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]),r=[].concat(i(n),[vo.user.user_type,vo.user.user_id]).map((function(t){return t.toString(36)})).join("~");return vo.url+"/go-to-object/"+r+(e?"-"+e:"")}},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r="user",i="pupil",o="anon",s="auth_mode"},function(t,e,n){"use strict";n.d(e,"p",(function(){return l})),n.d(e,"o",(function(){return u})),n.d(e,"q",(function(){return f})),n.d(e,"n",(function(){return d})),n.d(e,"m",(function(){return h})),n.d(e,"l",(function(){return p})),n.d(e,"t",(function(){return v})),n.d(e,"s",(function(){return m})),n.d(e,"r",(function(){return g})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return _})),n.d(e,"j",(function(){return b})),n.d(e,"k",(function(){return w})),n.d(e,"c",(function(){return k})),n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return S})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return O})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return P}));var r,i,o,s=n(1);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=1,u=2,f=3,d=6,h=7,p=15,v=[{value:l,title:"З однією правильною відповіддю",btn_class:"v-tests-page-types-btn-one",is_on:!0,is_poll:!0,is_premium:!1,componentEditor:"RadioBlock",componentView:"RadioTpl",componentTesting:"RadioBlock",isDescComponentView:!1,numb_question:{numb:"1",url_gif:""}},{value:u,title:"З кількома правильними відповідями",btn_class:"v-tests-page-types-btn-multiple",is_on:!0,is_poll:!0,is_premium:!1,componentEditor:"CheckboxBlock",componentView:"CheckboxTpl",componentTesting:"CheckboxBlock",isDescComponentView:!1,numb_question:{numb:"2",url_gif:""}},{value:f,title:"З полем для вводу відповіді",btn_class:"v-tests-page-types-btn-text",is_on:!0,is_poll:!0,is_premium:!1,componentEditor:"TextBlock",componentView:"TextTpl",componentTesting:"AnswerText",isDescComponentView:!1,numb_question:{numb:"3",url_gif:""}},{value:5,title:"З полем для вводу відповіді (множинний запис тексту, як у ЗНО)",btn_class:"v-tests-page-types-btn-text",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"TextMany",componentView:"TextManyTpl",componentTesting:"TextMany",isDescComponentView:!1,numb_question:{numb:"4",url_gif:""}},{value:4,title:"На встановлення відповідності",btn_class:"v-tests-page-types-btn-vibor",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"CrossBlock",componentView:"CrossTpl",componentTesting:"AnswerCross",isDescComponentView:!1,numb_question:{numb:"5",url_gif:""}},{value:d,title:"Із заповненням пропусків у тексті",btn_class:"v-tests-page-types-btn-propusk",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:!1,componentView:"FillTheGapTpl",componentTesting:"FillTheGap",isDescComponentView:!0,numb_question:{numb:"6",url_gif:""}},{value:h,title:"З вибором правильної відповіді у тексті",btn_class:"v-tests-page-types-btn-vidpov",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:!1,componentView:"FillTheGapTpl",componentTesting:"FillTheGap",isDescComponentView:!0,numb_question:{numb:"7",url_gif:""}},{value:8,title:"На встановлення послідовності",btn_class:"v-tests-page-types-btn-poslidovnist",is_on:!0,is_poll:!0,is_premium:!0,componentEditor:"QueueBlock",componentView:"QueueTpl",componentTesting:"Queue",isDescComponentView:!1,numb_question:{numb:"8",url_gif:""}},{value:9,title:"Пошук на зображенні",btn_class:"v-tests-page-types-btn-img",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"ImageAreaBlock",componentView:"ImageAreaTpl",componentTesting:"ImageArea",isDescComponentView:!1,numb_question:{numb:"9",url_gif:""}},{value:10,title:"Сортування по категоріях (перетягування в кошик)",btn_class:"v-tests-page-types-btn-word-basket",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"WordBasket",componentView:"WordBasketTpl",componentTesting:"WordBasket",isDescComponentView:!1,numb_question:{numb:"10",url_gif:""}},{value:11,title:"Пазл",btn_class:"v-tests-page-types-btn-puzzle",is_on:!0,is_poll:!1,is_premium:!0,is_beta:!1,componentEditor:"ImagePuzzle",componentView:"ImagePuzzle",componentTesting:"ImagePuzzle",isDescComponentView:!1,numb_question:{numb:"11",url_gif:""}},{value:12,title:"Вікторина (правда/неправда)",btn_class:"v-tests-page-types-btn-true-false",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"TrueFalse",componentView:"TrueFalse",componentTesting:"TrueFalse",isDescComponentView:!1,numb_question:{numb:"12",url_gif:""}},{value:13,title:"Впорядкувати слова",btn_class:"v-tests-page-types-btn-question_sentence",is_on:!0,is_poll:!1,is_premium:!0,componentEditor:"WordQueue",componentView:"WordQueueTpl",componentTesting:"WordQueue",isDescComponentView:!1,numb_question:{numb:"13",url_gif:""}},{value:14,title:"Філворд",btn_class:"v-tests-page-types-btn-type-fill-word",is_on:!0,is_poll:!1,is_premium:!0,is_beta:!1,componentEditor:"FillWord",componentView:"FillWord",componentTesting:"FillWord",isDescComponentView:!1,numb_question:{numb:"14",url_gif:""}},{value:p,title:"Кросворд",btn_class:"v-tests-page-types-btn-type-cross-word",is_on:!0,is_poll:!1,is_premium:!0,is_beta:!1,componentEditor:"FillWord",componentView:"FillWord",componentTesting:"FillWord",isDescComponentView:!1,numb_question:{numb:"15",url_gif:""}}];function m(t,e,n,r,i){if("image"!==t.type)return!1;var o=e.w;r&&((o-=Math.ceil(30/n))<20&&(o=20),o=Math.floor(o/2));var a=t.file_width*e.h/t.file_height;a>o&&(a=o);var c=Math.floor(a*n)-4;return c>150&&(c=150),i?Object(s.u)(t.file,c,0):{width:c+"px","max-width":c+"px"}}function g(t){return v.find((function(e){return e.value===t}))}var y=1,_=2,b=[_,y],w=(c(r={},y,{value:y,title:"Класичний",type_title:"Кросворд",desc:"Слова ідуть по горизонталі та вертикалі. Слова завжди перетинаються. Учень має вписувати букви власноруч."}),c(r,_,{value:_,title:"Філворд",type_title:"Філворд",desc:"Слова ідуть по горизонталі, вертикалі та діагоналі. Також слова можуть бути в зворотньому порядку. Слова можуть перетинатися. Учень виділяє потрібні слова на екрані."}),c(r,3,{value:3,title:"Філворд (угорський)",type_title:"Філворд",desc:'Слова ідуть "змійкою". по горизонталі, вертикалі та діагоналі. Також слова можуть бути в зворотньому порядку. Слова не можуть перетинатися. Учень виділяє потрібні слова на екрані.'}),r),k=1,x=[k,2],S=(c(i={},k,{value:k,title:"Українська",letters:"АБВГҐДЕЄЖЗИІЇЙКЛМНОПРСТУФХЦЧШЩЬЮЯ"}),c(i,2,{value:2,title:"Англійська",letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),i),C=1,O=3,E=[C,2,O,4,5,6,7,8],P=(c(o={},C,{value:C,title:"Горизонтально →",is_reverse:!1,nextFn:function(t,e,n){return{x:t+n,y:e}}}),c(o,2,{value:2,title:"Горизонтально в зворотньому порядку ←",is_reverse:!0,nextFn:function(t,e,n){return{x:t-n,y:e}}}),c(o,O,{value:O,title:"Вертикально ↓",is_reverse:!1,nextFn:function(t,e,n){return{x:t,y:e+n}}}),c(o,4,{value:4,title:"Вертикально в зворотньому порядку ↑",is_reverse:!0,nextFn:function(t,e,n){return{x:t,y:e-n}}}),c(o,5,{value:5,title:"Діагональ вниз ↘",is_reverse:!1,nextFn:function(t,e,n){return{x:t+n,y:e+n}}}),c(o,6,{value:6,title:"Діагональ вгору ↗",is_reverse:!0,nextFn:function(t,e,n){return{x:t+n,y:e-n}}}),c(o,7,{value:7,title:"Діагональ вниз в зворотньому порядку ↙",is_reverse:!0,nextFn:function(t,e,n){return{x:t-n,y:e+n}}}),c(o,8,{value:8,title:"Діагональ вгору в зворотньому порядку ↖",is_reverse:!0,nextFn:function(t,e,n){return{x:t-n,y:e-n}}}),o)},function(t,e,n){"use strict";var r=n(41);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){t.exports=n(1113)},function(t,e,n){t.exports=n(1122)},,,function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(51),i=n(63),o=n(56),s=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return x})),n.d(e,"e",(function(){return C}));var r=200,i=function(){};i.prototype.append=function(t){return t.length?(t=i.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},i.prototype.prepend=function(t){return t.length?i.from(t).append(this):this},i.prototype.appendInner=function(t){return new s(this,t)},i.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?i.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},i.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},i.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},i.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},i.from=function(t){return t instanceof i?t:t&&t.length?new o(t):i.empty};var o=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(i);i.empty=new o([]);var s=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(i),a=i,c=n(30),l=n(10);class u{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=t.tr,c=[],l=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void l.push(t);if(n){l.push(new f(t.map));let e,i=t.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],c.push(new f(e,void 0,void 0,c.length+l.length))),r--,e&&n.appendMap(e,r)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,s=new u(this.items.slice(0,i).append(l.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let n=0;n<t.steps.length;n++){let c,l=t.steps[n].invert(t.docs[n]),u=new f(t.mapping.maps[n],l,e);(c=a&&a.merge(u))&&(u=c,n?i.pop():s=s.slice(0,s.length-1)),i.push(u),e&&(o++,e=void 0),r||(a=u)}let c=o-n.depth;return c>h&&(s=function(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}(s,c),o-=c),new u(s.append(i),o)}remapping(t,e){let n=new c.a;return this.items.forEach(((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new u(this.items.append(t.map((t=>new f(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach((t=>{t.selection&&s--}),r);let a=e;this.items.forEach((e=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let c=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(i.slice(a+1,r));l&&s++,n.push(new f(c,o,l))}else n.push(new f(c))}),r);let c=[];for(let t=e;t<o;t++)c.push(new f(i.maps[t]));let l=this.items.slice(0,r).append(c).append(n),d=new u(l,s);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach(((o,s)=>{if(s>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),s=t&&t.getMap();if(n--,s&&e.appendMap(s,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&i++;let c,l=new f(s.invert(),t,a),u=r.length-1;(c=r.length&&r[u].merge(l))?r[u]=c:r.push(l)}}else o.map&&n--}),this.items.length,0),new u(a.from(r.reverse()),i)}}u.empty=new u(a.empty,0);class f{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new f(e.getMap().invert(),e,this.selection)}}}class d{constructor(t,e,n,r,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}const h=20;function p(t){let e=[];return t.forEach(((t,n,r,i)=>e.push(r,i))),e}function v(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function m(t,e,n,r){let i=_(e),o=b.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),l=new d(r?c:s.remaining,r?s.remaining:c,null,0,-1);n(s.transform.setSelection(a).setMeta(b,{redo:r,historyState:l}).scrollIntoView())}let g=!1,y=null;function _(t){let e=t.plugins;if(y!=e){g=!1,y=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){g=!0;break}}return g}const b=new l.PluginKey("history"),w=new l.PluginKey("closeHistory");function k(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new l.Plugin({key:b,state:{init:()=>new d(u.empty,u.empty,null,0,-1),apply:(e,n,r)=>function(t,e,n,r){let i,o=n.getMeta(b);if(o)return o.historyState;n.getMeta(w)&&(t=new d(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(b))return s.getMeta(b).redo?new d(t.done.addTransform(n,void 0,r,_(e)),t.undone,p(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new d(t.done,t.undone.addTransform(n,void 0,r,_(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new d(t.done.rebased(n,i),t.undone.rebased(n,i),v(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new d(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),v(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let i=n.getMeta("composition"),o=0==t.prevTime||!s&&t.prevComposition!=i&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),a=s?v(t.prevRanges,n.mapping):p(n.mapping.maps[n.steps.length-1]);return new d(t.done.addTransform(n,o?e.selection.getBookmark():void 0,r,_(e)),u.empty,a,n.time,null==i?t.prevComposition:i)}}(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?x:"historyRedo"==n?S:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const x=(t,e)=>{let n=b.getState(t);return!(!n||0==n.done.eventCount)&&(e&&m(n,t,e,!1),!0)},S=(t,e)=>{let n=b.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&m(n,t,e,!0),!0)};function C(t){let e=b.getState(t);return e?e.done.eventCount:0}function O(t){let e=b.getState(t);return e?e.undone.eventCount:0}},function(t,e,n){"use strict";n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return m})),n.d(e,"o",(function(){return g})),n.d(e,"n",(function(){return y})),n.d(e,"p",(function(){return _})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return w})),n.d(e,"j",(function(){return k})),n.d(e,"k",(function(){return x})),n.d(e,"q",(function(){return S})),n.d(e,"r",(function(){return C}));var r,i,o=n(1);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=0,l=1,u=2,f=3,d=4,h=5,p="",v=-1,m=-8,g=[v,-2,-3,-4,-5,-6,-7,m],y=(a(r={},v,{min:v,max:v,text:"Не атестований(а) (Н/А)",text_short:"Н/А",icon:'<span class="n-mark-icon pupils-violet">Н/А</span>',css_class:"pupils-violet"}),a(r,-2,{min:-2,max:-2,text:"Не оцінений(а) (Н/О)",text_short:"Н/О",icon:'<span class="n-mark-icon pupils-violet">Н/О</span>',css_class:"pupils-violet"}),a(r,-3,{min:-3,max:-3,text:"Звільнений(а)",text_short:"зв",icon:'<span class="n-mark-icon pupils-violet">зв</span>',css_class:"pupils-violet"}),a(r,-4,{min:-4,max:-4,text:"Вибув(ла)",text_short:"В",icon:'<span class="n-mark-icon pupils-violet first-latter">Вибув(ла)</span>',css_class:"pupils-violet"}),a(r,-5,{min:-5,max:-5,text:"Зараховано",text_short:"зар",icon:'<span class="n-mark-icon pupils-violet ">зар</span>',css_class:"pupils-violet"}),a(r,-6,{min:-6,max:-6,text:"√",text_short:"√",icon:'<span class="n-mark-icon pupils-violet">√</span>',css_class:"pupils-violet"}),a(r,-7,{min:-7,max:-7,text:"—",text_short:"—",icon:'<span class="n-mark-icon pupils-violet">—</span>',css_class:"pupils-violet"}),a(r,m,{min:m,max:m,text:"Фіксація дії без результату",text_short:" ",icon:'<span class="n-mark-icon pupils-violet"> </span>',css_class:"pupils-violet mark_type-8"}),r),_=(a(i={},c,{system_title:"Довільна",min_mark:"",max_mark:"",desc:"",mark_desc:[{min:null,max:null,text:"",text_short:"",icon:"",css_class:""}]}),a(i,l,{system_title:"Для учнів (12 балів)",min_mark:3,max_mark:12,desc:"",mark_desc:[{min:1,max:1,text:"1 бал",text_short:"1",icon:"1",css_class:"pupils-red"},{min:2,max:2,text:"2 бали",text_short:"2",icon:"2",css_class:"pupils-red"},{min:3,max:3,text:"3 бали",text_short:"3",icon:"3",css_class:"pupils-red"},{min:4,max:4,text:"4 бали",text_short:"4",icon:"4",css_class:"pupils-orange"},{min:5,max:5,text:"5 балів",text_short:"5",icon:"5",css_class:"pupils-orange"},{min:6,max:6,text:"6 балів",text_short:"6",icon:"6",css_class:"pupils-orange"},{min:7,max:7,text:"7 балів",text_short:"7",icon:"7",css_class:"pupils-blue"},{min:8,max:8,text:"8 балів",text_short:"8",icon:"8",css_class:"pupils-blue"},{min:9,max:9,text:"9 балів",text_short:"9",icon:"9",css_class:"pupils-blue"},{min:10,max:10,text:"10 балів",text_short:"10",icon:"10",css_class:"pupils-green"},{min:11,max:11,text:"11 балів",text_short:"11",icon:"11",css_class:"pupils-green"},{min:12,max:12,text:"12 балів",text_short:"12",icon:"12",css_class:"pupils-green"}]}),a(i,u,{system_title:"Для дошкільнят/Початкова освіта (без оцінок)",min_mark:0,max_mark:12,desc:'* учням в кінці буде показано текстову оцінку "Ти можеш краще!", "Ти йдеш до успіху!", "Це тріумф!"',mark_desc:[{min:1,max:5,text:"Ти можеш краще!",text_short:"Ти можеш краще!",icon:'<i class="vo-icon sun2"></i>',css_class:""},{min:5,max:10,text:"Ти йдеш до успіху!",text_short:"Ти йдеш до успіху!",icon:'<i class="vo-icon sun3"></i>',css_class:""},{min:10,max:12,text:"Це тріумф!",text_short:"Це тріумф!",icon:'<i class="vo-icon sun"></i>',css_class:""}]}),a(i,f,{system_title:"Для студентів (100 балів, A-Fx)",min_mark:60,max_mark:100,desc:"* учням в кінці буде показано кількість набраних балів та оцінку A-Fx",mark_desc:[{min:0,max:35,text:"F",text_short:"F",icon:"F",css_class:""},{min:35,max:60,text:"FX",text_short:"FX",icon:"FX",css_class:""},{min:60,max:64,text:"E",text_short:"E",icon:"E",css_class:""},{min:64,max:74,text:"D",text_short:"D",icon:"D",css_class:""},{min:74,max:82,text:"C",text_short:"C",icon:"C",css_class:""},{min:82,max:90,text:"B",text_short:"B",icon:"B",css_class:""},{min:90,max:100,text:"A",text_short:"A",icon:"A",css_class:""}]}),a(i,d,{system_title:"Зараховано/Не зараховано",min_mark:0,max_mark:1,desc:"",mark_desc:[{min:0,max:0,text:"Не зараховано",text_short:"Н/З",icon:'<span class="n-mark-icon">Н/З</span>',css_class:""},{min:1,max:1,text:"Зараховано",text_short:"ЗАРАХ",icon:'<span class="n-mark-icon n-small fs12">ЗАРАХ</span>',css_class:"small"}]}),a(i,h,{system_title:"Рівнева оцінка (НУШ, 3-4 класи)",min_mark:1,max_mark:12,desc:'* учням в кінці буде показано текстову оцінку "В", "Д", "С", "П"',mark_desc:[{min:1,max:4,text:"Початковий рівень",text_short:"П",icon:'<span class="n-mark-icon vo-color-red">П</span>',css_class:"vo-color-red"},{min:4,max:7,text:"Середній рівень",text_short:"С",icon:'<span class="n-mark-icon vo-color-orange">С</span>',css_class:"vo-color-orange"},{min:7,max:10,text:"Достатній рівень",text_short:"Д",icon:'<span class="n-mark-icon vo-color-blue">Д</span>',css_class:"vo-color-blue"},{min:10,max:12,text:"Високий рівень",text_short:"В",icon:'<span class="n-mark-icon vo-color-green">В</span>',css_class:"vo-color-green"}]}),i);function b(t){t=parseInt(t);var e=_[t];return e?Object.assign({},e):null}function w(t,e){t=parseInt(t),e=parseFloat(e||"0");var n=null;if(y.hasOwnProperty(e))return n=y[e],(n=Object.assign({},n)).pupil_mark=e,n;var r,i=_[t];if(!i||t===c)return{min:"",max:"",text:e,text_short:e,icon:e,css_class:"",pupil_mark:e};for(var o=i.mark_desc,s=0;s<o.length;s++)if(r=null,void 0!==o[s+1]&&(r=o[s+1],n=o[s+1]),e<o[s].max||!r||o[s].min===o[s].max&&o[s].min===e){n=o[s];break}return n||(n=o[0]),(n=Object.assign({},n)).pupil_mark=e,n.pupil_mark>n.max&&n.max?n.pupil_mark=n.max:n.pupil_mark<n.min&&n.min&&(n.pupil_mark=n.min),n.text||(n.text=n.pupil_mark),n}function k(t,e){return w(t,e).text}function x(t,e){var n=t.mark_system,r=t.mark,i=t.min_mark,s=t.max_mark;if(y[r])return y[r].text_short;var a=w(n,r),p="<ОПИС ОЦІНКИ ВІДСУТНІЙ>";switch(n){case c:if(e)return r;p=s?r+" з "+s+" "+Object(o.ab)(s,["бала","балів","балів"]):r+" "+Object(o.ab)(r,["бал","бали","балів"]);break;case l:if(e)return r;p=r+" "+Object(o.ab)(r,["бала","балів","балів"]);break;case u:if(p=a.text,e)return p;break;case f:if(p=a.text,e)return p;p+=" ("+r+" з "+s+" "+Object(o.ab)(s,["бала","балів","балів"]),p+=i?", "+(r>=i?"Зараховано":"Не зараховано")+")":")";break;case d:case h:if(p=a.text,e)return p}return i&&n!==f&&(p+=" ("+(r>=i?"Зараховано":"Не зараховано")+")"),p}function S(t,e){if(""===t)return 0;if(-1===(t=parseInt(t)))return t;switch(e){case h:case u:case l:return t>12?12:Math.max(t,1);case f:return t<0?0:Math.max(t,100);case d:return t>=1?1:0;default:return Math.max(t,0)}}function C(t,e){var n=w(e,t);switch(e){case h:case d:case u:return n.icon;default:return n.text_short}}},function(t,e,n){"use strict";var r=n(73),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(224),i=n(138);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(230),i=n(78),o=n(229),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=n(1080)},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n(94);const i="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),o=r.a.WebSocket||r.a.MozWebSocket,s=!0,a="arraybuffer"},,function(t,e,n){"use strict";var r=n(154),i=Object;t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";n(116);var r=n(854),i=n(63),o=n(155),s=n(141),a=n(212),c=n(60)("toStringTag");for(var l in r){var u=i[l],f=u&&u.prototype;f&&o(f)!==c&&s(f,c,l),a[l]=a.Array}},function(t,e,n){"use strict";var r=n(191);t.exports=function(t){if("object"==typeof t&&"size"in t&&"has"in t&&"get"in t&&"set"in t&&"delete"in t&&"entries"in t)return t;throw TypeError(r(t)+" is not a map")}},function(t,e,n){t.exports=n(925)},function(t,e,n){"use strict";n.d(e,"c",(function(){return q})),n.d(e,"b",(function(){return U})),n.d(e,"a",(function(){return V}));var r=function(){var t=this,e=t._self._c;return e("div",[e("span",{staticClass:"vo-icon close n-close",on:{click:function(e){return t.$emit("close")}}}),t._v(" "),t.isShowPreloader?e("Preloader"):t.step===t.STEP_FORM?e("FolderForm",{attrs:{folder:t.folder},on:{added:function(e){return t.$emit("added",e)},"go-back":function(e){t.close_on_go_back?t.$emit("close"):t.setStep(t.STEP_LIST)}}}):t.step===t.STEP_DELETE?e("FolderDelete",{attrs:{folder:t.folder},on:{deleted:function(e){return t.$emit("deleted",e)},"go-back":function(e){t.close_on_go_back?t.$emit("close"):t.setStep(t.STEP_LIST)}}}):t.step===t.STEP_SORTING?e("FolderSorting",{on:{"go-back":function(e){return t.setStep(t.STEP_LIST)}}}):e("FolderList",{on:{"change-sort":function(e){return t.setStep(t.STEP_SORTING)},add:function(e){return t.setStep(t.STEP_FORM,null)},del:function(e){return t.setStep(t.STEP_DELETE,e)},edit:function(e){return t.setStep(t.STEP_FORM,e)},"go-back":function(e){return t.$emit("close")}}})],1)};r._withStripped=!0;var i=n(54),o=function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"n-j-modal-title"},[t._v(t._s(t.folder?"Редагувати теку":"Створити нову теку"))]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                Назва\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{autocomplete:"off",type:"text"},domProps:{value:t.form.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                Стиль\n            ")]),t._v(" "),e("div",{staticClass:"t-teg-bloc-dostup"},[e("span",{staticClass:"vr-tag t-style-0",class:{active:0===t.form.style},on:{click:function(e){t.form.style=0}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №0")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-1",class:{active:1===t.form.style},on:{click:function(e){t.form.style=1}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №1")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-2",class:{active:2===t.form.style},on:{click:function(e){t.form.style=2}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №2")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-3",class:{active:3===t.form.style},on:{click:function(e){t.form.style=3}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №3")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-4",class:{active:4===t.form.style},on:{click:function(e){t.form.style=4}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №4")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-5",class:{active:5===t.form.style},on:{click:function(e){t.form.style=5}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №5")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-6",class:{active:6===t.form.style},on:{click:function(e){t.form.style=6}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №6")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-7",class:{active:7===t.form.style},on:{click:function(e){t.form.style=7}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №7")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-8",class:{active:8===t.form.style},on:{click:function(e){t.form.style=8}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №8")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-9",class:{active:9===t.form.style},on:{click:function(e){t.form.style=9}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №9")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-10",class:{active:10===t.form.style},on:{click:function(e){t.form.style=10}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №10")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-11",class:{active:11===t.form.style},on:{click:function(e){t.form.style=11}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №11")])]),t._v(" "),e("span",{staticClass:"vr-tag t-style-12",class:{active:12===t.form.style},on:{click:function(e){t.form.style=12}}},[e("span",{staticClass:"n-icon-con vo-noselect"},[t._v("Стиль №12")])])])])]),t._v(" "),e("p",{staticClass:"vo-text"},[t._v("\n        Попередній перегляд теки: "),e("span",{staticClass:"vr-tag",class:["t-style-".concat(t.form.style)]},[e("span",{staticClass:"n-icon-con"},[e("span",{staticClass:"vo-noselect"},[t._v(" "+t._s(t.form.title||"<НАЗВА_ТЕКИ>"))])])])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticStyle:{width:"100%"}},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                Додатковий опис (за необхідності)\n            ")]),t._v(" "),e("Editor",{attrs:{mode:"simple",height:100},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),t._m(0)],1)]),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-blue n-item-row",attrs:{type:"button"},on:{click:t.save}},[t._v("Зберегти")]),t._v(" "),e("button",{staticClass:"n-modal-btn-silver n-item-row",attrs:{type:"button"},on:{click:function(e){return t.$emit("go-back")}}},[t._v("Скасувати")])])])};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o._withStripped=!0;var u={name:"FolderForm",props:["folder"],components:{Editor:n(134).a},data:function(){var t,e,n;return{form:{title:(null===(t=this.folder)||void 0===t?void 0:t.title)||"",style:(null===(e=this.folder)||void 0===e?void 0:e.style)||0,description:(null===(n=this.folder)||void 0===n?void 0:n.description)||""}}},methods:{save:function(t){var e,n=this,r={event:t,form:{id_folder:null===(e=this.folder)||void 0===e?void 0:e.id,Folder:c({},this.form)}};this.$store.dispatch("Folder/save",r).then((function(t){n.$emit("added",t.folder),n.$emit("go-back")}))}}},f=n(0),d=Object(f.a)(u,o,[function(){var t=this._self._c;return t("p",[t("small",{staticClass:"vo-color-silver"},[this._v("Відображається на сторінці під час пошуку по теці.")])])}],!1,null,null,null).exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-j-search-modal"},[e("p",{staticClass:"n-j-modal-title"},[t._v("Менеджер тек")]),t._v(" "),e("div",{staticClass:"vo-flex-row gap1 wrap vo-mb1"},[t._e(),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"link-manager-folder",on:{click:function(e){return t.$emit("add")}}},[e("i",{staticClass:"vo-icon circle-plus"}),t._v("Створити нову теку")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"link-manager-folder",on:{click:function(e){t.isSearch=!t.isSearch}}},[e("i",{staticClass:"vo-icon search"}),t._v("Пошук по назві")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.is_search,expression:"is_search"}],staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input n-j-search-inpt"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],ref:"searchInput",attrs:{type:"text",autocomplete:"off",placeholder:"Пошук за назвою..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!!t.searchQuery,expression:"!!searchQuery"}],staticClass:"n-btn-del-search",on:{click:function(e){t.searchQuery=""}}},[t._v("+")])])]),t._v(" "),t.folders.length&&!t.showedId.length?e("div",[t._v('\n        По запиту "'),e("b",[t._v(t._s(t.filterTitle))]),t._v('" нічого не знайдено...\n    ')]):t._e(),t._v(" "),e("ul",{staticClass:"n-j-drag-list-wrap",attrs:{id:"vr-drag-list"}},t._l(t.folders,(function(n,r){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.showedId.indexOf(n.id)>=0,expression:"showedId.indexOf(folder.id) >= 0"}],key:n.id,staticClass:"vr-draggable n-j-drag-list-con column"},[e("span",{staticClass:"n-j-col-drag-list n-content-con wrap-md"},[e("span",[t._v(t._s(r+1)+".")]),t._v(" "),e("ListItem",{key:n.id,attrs:{folder:n}}),t._v(" "),e("span",{staticClass:"n-counter-pupils"},[t._v(t._s(t._f("plural")(n.cnt_item,["{n} елемент","{n} елементи","{n} елементів"])))]),t._v(" "),e("span",{staticClass:"right vo-flex-row vertical-center gap05"},[e("span",{staticClass:"link delete vo-color-red",attrs:{title:"Видалити"},on:{click:function(e){return t.$emit("del",n.id)}}},[e("i",{staticClass:"vo-icon delete"})]),t._v(" "),e("span",{staticClass:"link refactor vo-color-blue",attrs:{title:"Редагувати"},on:{click:function(e){return t.$emit("edit",n.id)}}},[e("i",{staticClass:"vo-icon pencil"})])])],1),t._v(" "),e("span",{staticClass:"vo-flex-row gap1 wrap vo-mt05"},[e("a",{directives:[{name:"show",rawName:"v-show",value:n.cnt_doc,expression:"folder.cnt_doc"}],staticClass:"vo-link-blue medium",attrs:{href:t.getUrlForObjType(t.OBJ_TYPE_LIBRARY,n.id),title:"К-ть документів"}},[t._v("\n                    "+t._s(t._f("plural")(n.cnt_doc,["{n} документ","{n} документи","{n} документів"]))+"\n                ")]),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:n.cnt_test,expression:"folder.cnt_test"}],staticClass:"vo-link-blue medium",attrs:{href:t.getUrlForObjType(t.OBJ_TYPE_TEST,n.id),title:"К-ть тестів"}},[t._v("\n                    "+t._s(t._f("plural")(n.cnt_test,["{n} тест","{n} тести","{n} тестів"]))+"\n                ")]),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:n.cnt_lesson,expression:"folder.cnt_lesson"}],staticClass:"vo-link-blue medium",attrs:{href:t.getUrlForObjType(t.OBJ_TYPE_LESSON,n.id),title:"К-ть уроків"}},[t._v("\n                    "+t._s(t._f("plural")(n.cnt_lesson,["{n} урок","{n} уроки","{n} уроків"]))+"\n                ")]),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:n.cnt_webquest,expression:"folder.cnt_webquest"}],staticClass:"vo-link-blue medium",attrs:{href:t.getUrlForObjType(t.OBJ_TYPE_WEBQUEST,n.id),title:"К-ть вебквестів"}},[t._v("\n                    "+t._s(t._f("plural")(n.cnt_webquest,["{n} вебквест","{n} вебквести","{n} вебквестів"]))+"\n                ")]),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:n.cnt_blog,expression:"folder.cnt_blog"}],staticClass:"vo-link-blue medium",attrs:{href:t.getUrlForObjType(t.OBJ_TYPE_BLOG,n.id),title:"К-ть записів в блозі"}},[t._v("\n                    "+t._s(t._f("plural")(n.cnt_blog,["{n} запис в блозі","{n} запити в блозі","{n} записів в блозі"]))+"\n                ")])])])})),0),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-silver n-item-row n-left",attrs:{type:"button"},on:{click:function(e){return t.$emit("go-back")}}},[t._v("Закрити вікно")])])])};h._withStripped=!0;var p=n(1),v=n(5),m=n(12),g=n(136),y=n(238);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={name:"FolderList",filters:{plural:p.ab},components:{ListItem:g.a},data:function(){return{OBJ_TYPE_LIBRARY:v.OBJ_TYPE_LIBRARY,OBJ_TYPE_TEST:v.OBJ_TYPE_TEST,OBJ_TYPE_LESSON:v.OBJ_TYPE_LESSON,OBJ_TYPE_WEBQUEST:v.OBJ_TYPE_WEBQUEST,OBJ_TYPE_BLOG:v.OBJ_TYPE_BLOG,inputTitle:"",filterTitle:"",is_delay:!1,is_search:!1}},computed:w(w({},Object(m.d)("Folder",["folders"])),{},{isSearch:{get:function(){return this.is_search},set:function(t){var e=this;this.is_search=t,t?this.$nextTick((function(){return e.$refs.searchInput.focus()})):this.searchQuery=""}},searchQuery:{get:function(){return this.inputTitle},set:function(t){var e=this;this.inputTitle=t,this.is_delay||(this.is_delay=!0,setTimeout((function(){e.filterTitle=e.inputTitle,e.is_delay=!1}),250))}},showedId:function(){var t=this.folders,e=String(this.filterTitle).toLowerCase().trim();if(e){var n=new RegExp(Object(p.q)(e),"i");t=t.filter((function(t){return t.title.match(n)}))}return t.map((function(t){return t.id}))}}),methods:{getUrlForObjType:y.a}},S=Object(f.a)(x,h,[],!1,null,"c5ce3e8c",null).exports,C=function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"n-j-modal-title"},[t._v("Сортування тек")]),t._v(" "),e("ul",{staticClass:"n-j-drag-list-wrap",attrs:{id:"vr-drag-list"}},[t._l(t.folders,(function(n,r){return[e("OrderItem",{key:n.id,attrs:{folder:n,idx:r},on:{"move-start":t.moveStart,"move-up":t.moveUp,"move-down":t.moveDown,"move-end":t.moveEnd}})]}))],2),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-silver n-item-row n-left",attrs:{type:"button"},on:{click:function(e){return t.$emit("go-back")}}},[t._v("Повернутися")])])])};C._withStripped=!0;var O=function(){var t=this,e=t._self._c;return e("li",{staticClass:"vr-draggable n-j-drag-list-con",attrs:{"data-id":t.folder.id}},[e("span",{staticClass:"n-j-col-drag-list n-content-con"},[e("span",[t._v(t._s(t.idx+1)+".")]),t._v(" "),e("i",{staticClass:"vo-icon arrow-cross"}),t._v(" "),e("ListItem",{attrs:{folder:t.folder}})],1),t._v(" "),e("span",{staticClass:"n-j-col-drag-list n-icons-con",on:{mousedown:function(t){t.stopPropagation()}}},[e("i",{staticClass:"vo-icon arrows-top-2",attrs:{title:"Перемістити в початок"},on:{click:function(e){return e.stopPropagation(),t.$emit("move-start",t.folder.id)}}}),t._v(" "),e("i",{staticClass:"vo-icon arrow-d n-rotate",attrs:{title:"Перемістити вище"},on:{click:function(e){return e.stopPropagation(),t.$emit("move-up",t.folder.id)}}}),t._v(" "),e("i",{staticClass:"vo-icon arrow-d",attrs:{title:"Перемістити нижче"},on:{click:function(e){return e.stopPropagation(),t.$emit("move-down",t.folder.id)}}}),t._v(" "),e("i",{staticClass:"vo-icon arrows-top-2 n-rotate",attrs:{title:"Перемістити в кінець"},on:{click:function(e){return e.stopPropagation(),t.$emit("move-end",t.folder.id)}}})])])};O._withStripped=!0;var E={name:"OrderItem",props:["folder","idx"],components:{ListItem:g.a}};function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===P(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M={name:"FolderSorting",components:{OrderItem:Object(f.a)(E,O,[],!1,null,"e4cba8fc",null).exports},mixins:[n(397).a],computed:T(T({},Object(m.d)("Folder",["folders"])),{},{sortableList:function(){return this.folders}}),methods:{hookChangeDirection:function(t,e,n){var r={event:null,form:{currentNodeId:t,targetNodeId:e,direction:n}};this.$store.dispatch("Folder/saveNewSort",r)}}},I=Object(f.a)(M,C,[],!1,null,"2c811c84",null).exports,N=function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"n-j-modal-title n-m-align-center"},[t._v("\n        Видалити текуу?\n    ")]),t._v(" "),e("p",{staticClass:"vo-text"},[e("b",{staticClass:"vo-color-red"},[t._v("Увага!")]),t._v(" Буде видалено теку "),e("ListItem",{attrs:{folder:t.folderCopy}}),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"vo-color-silver"},[t._v("теку буде видалено з усіх матеріалів.")])],1),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-blue n-item-row",attrs:{type:"button"},on:{click:t.del}},[t._v("Так")]),t._v(" "),e("button",{staticClass:"n-modal-btn-silver n-item-row",attrs:{type:"button"},on:{click:function(e){return t.$emit("go-back")}}},[t._v("Ні")])])])};N._withStripped=!0;var R={name:"FolderDelete",props:["folder"],components:{ListItem:g.a},data:function(){return{folderCopy:JSON.parse(JSON.stringify(this.folder))}},methods:{del:function(t){var e=this,n={event:t,form:{id_folder:this.folder.id}};this.$store.dispatch("Folder/delete",n).then((function(t){e.$emit("deleted",t.folder),e.$emit("go-back")}))}}},D=Object(f.a)(R,N,[],!1,null,"77193872",null).exports;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=0,U=1,V=3,z={name:"DlgManager",props:["active_id_folder","active_step","close_on_go_back"],components:{Preloader:i.a,FolderForm:d,FolderList:S,FolderSorting:I,FolderDelete:D},data:function(){return{STEP_LIST:q,STEP_FORM:U,STEP_SORTING:2,STEP_DELETE:V,step:this.active_step,id_folder:this.active_id_folder}},computed:$($({},Object(m.c)("Folder",["getFolderById","isNeedInit","isShowPreloader"])),{},{folder:function(){return this.getFolderById(this.id_folder)}}),methods:{setStep:function(t,e){switch(t){case 2:this.step=2,this.id_folder=null;break;case U:this.step=U,this.id_folder=e;break;case V:this.step=V,this.id_folder=e;break;default:this.step=q}}},beforeCreate:function(){this.isNeedInit&&this.$store.dispatch("Folder/init")}},H=Object(f.a)(z,r,[],!1,null,"96faf7d6",null);e.d=H.exports},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(65),i=n(165);t.exports=n(61)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(40),i=n(107),o=n(106),s=n(180)("src"),a=n(569),c="toString",l=(""+a).split(c);n(95).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||i(n,s,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var r=n(225),i=n(165),o=n(96),s=n(137),a=n(106),c=n(403),l=Object.getOwnPropertyDescriptor;e.f=n(61)?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(106),i=n(76),o=n(315)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(13),i=n(46),o=n(138),s=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){"use strict";t.exports=!0},function(t,e,n){"use strict";var r=n(84),i=n(453),o=n(455),s=n(93),a=n(267),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var r=u(t,e);r&&r[h]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(346);t.exports=function(t){return r(t.length)}},function(t,e,n){"use strict";var r=n(155),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){"use strict";var r=n(131),i=n(274),o=n(212),s=n(175),a=n(113).f,c=n(353),l=n(354),u=n(112),f=n(84),d="Array Iterator",h=s.set,p=s.getterFor(d);t.exports=c(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&f&&"values"!==v.name)try{a(v,"name",{value:"values"})}catch(t){}},function(t,e,n){"use strict";var r=n(97),i=n(66),o=n(93),s=n(191),a=n(482),c=n(114),l=n(50),u=n(356),f=n(276),d=n(481),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var m,g,y,_,b,w,k,x=n&&n.that,S=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),P=r(e,x),A=function(t){return m&&d(m,"normal",t),new p(!0,t)},T=function(t){return S?(o(t),E?P(t[0],t[1],A):P(t[0],t[1])):E?P(t,A):P(t)};if(C)m=t.iterator;else if(O)m=t;else{if(!(g=f(t)))throw h(s(t)+" is not iterable");if(a(g)){for(y=0,_=c(t);_>y;y++)if((b=T(t[y]))&&l(v,b))return b;return new p(!1)}m=u(t,g)}for(w=C?t.next:m.next;!(k=i(w,m)).done;){try{b=T(k.value)}catch(t){d(m,"throw",t)}if("object"==typeof b&&b&&l(v,b))return b}return new p(!1)}},function(t,e,n){t.exports=n(921)},function(t,e,n){t.exports=n(1126)},function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return O})),n.d(e,"g",(function(){return E})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return w}));const r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const i=Object.create(null);Object.keys(r).forEach((t=>{i[r[t]]=t}));const o={type:"error",data:"parser error"},s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,c=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,l=({type:t,data:e},n,i)=>s&&e instanceof Blob?n?i(e):u(e,i):a&&(e instanceof ArrayBuffer||c(e))?n?i(e):u(new Blob([e]),i):i(r[t]+(e||"")),u=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function f(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let d;const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)p[h.charCodeAt(t)]=t;const v="function"==typeof ArrayBuffer,m=(t,e)=>{if("string"!=typeof t)return{type:"message",data:y(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:g(t.substring(1),e)};return i[n]?t.length>1?{type:i[n],data:t.substring(1)}:{type:i[n]}:o},g=(t,e)=>{if(v){const n=(t=>{let e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);const l=new ArrayBuffer(s),u=new Uint8Array(l);for(e=0;e<a;e+=4)n=p[t.charCodeAt(e)],r=p[t.charCodeAt(e+1)],i=p[t.charCodeAt(e+2)],o=p[t.charCodeAt(e+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l})(t);return y(n,e)}return{base64:!0,data:t}},y=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,_=String.fromCharCode(30),b=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{l(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(_))}))}))},w=(t,e)=>{const n=t.split(_),r=[];for(let t=0;t<n.length;t++){const i=m(n[t],e);if(r.push(i),"error"===i.type)break}return r};function k(){return new TransformStream({transform(t,e){!function(t,e){s&&t.data instanceof Blob?t.data.arrayBuffer().then(f).then(e):a&&(t.data instanceof ArrayBuffer||c(t.data))?e(f(t.data)):l(t,!1,(t=>{d||(d=new TextEncoder),e(d.encode(t))}))}(t,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,r)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)}))}})}let x;function S(t){return t.reduce(((t,e)=>t+e.length),0)}function C(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function O(t,e){x||(x=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(0===r){if(S(n)<1)break;const t=C(n,1);s=128==(128&t[0]),i=127&t[0],r=i<126?3:126===i?1:2}else if(1===r){if(S(n)<2)break;const t=C(n,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(S(n)<8)break;const t=C(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),s=e.getUint32(0);if(s>Math.pow(2,21)-1){c.enqueue(o);break}i=s*Math.pow(2,32)+e.getUint32(4),r=3}else{if(S(n)<i)break;const t=C(n,i);c.enqueue(m(s?t:x.decode(t),e)),r=0}if(0===i||i>t){c.enqueue(o);break}}}})}const E=4},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s}));var r=0,i=1,o=2,s=3},function(t,e,n){var r=n(89);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}n.d(e,"a",(function(){return r})),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var r=n(94);function i(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const o=r.a.setTimeout,s=r.a.clearTimeout;function a(t,e){e.useNativeTimers?(t.setTimeoutFn=o.bind(r.a),t.clearTimeoutFn=s.bind(r.a)):(t.setTimeoutFn=r.a.setTimeout.bind(r.a),t.clearTimeoutFn=r.a.clearTimeout.bind(r.a))}const c=1.33;function l(t){return"string"==typeof t?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil((t.byteLength||t.size)*c)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=0;a<10;a++)r[48+a]=r[96+a]=String(a);for(a=1;a<=24;a++)r[a+111]="F"+a;for(a=65;a<=90;a++)r[a]=String.fromCharCode(a+32),i[a]=String.fromCharCode(a);for(var c in r)i.hasOwnProperty(c)||(i[c]=r[c]);var l=n(10);const u="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function f(t){let e,n,r,i,o=t.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let t=0;t<o.length-1;t++){let s=o[t];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);u?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function d(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function h(t){return new l.Plugin({props:{handleKeyDown:p(t)}})}function p(t){let e=function(t){let e=Object.create(null);for(let n in t)e[f(n)]=t[n];return e}(t);return function(t,n){let a,c=function(t){var e=!(o&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||s&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),l=e[d(c,n)];if(l&&l(t.state,t.dispatch,t))return!0;if(1==c.length&&" "!=c){if(n.shiftKey){let r=e[d(c,n,!1)];if(r&&r(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||c.charCodeAt(0)>127)&&(a=r[n.keyCode])&&a!=c){let r=e[d(a,n)];if(r&&r(t.state,t.dispatch,t))return!0}}return!1}}},,function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(46);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){"use strict";var r=n(266),i=n(154);t.exports=function(t){return r(i(t))}},function(t,e,n){t.exports=n(918)},function(t,e,n){t.exports=n(487)},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor",class:{"n-big":t.isBigIcon}},[e("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.commands,i=n.isActive;n.getNodeAttrs;return[e("div",{staticClass:"menubar"},[e("a",{staticClass:"menubar__button",on:{click:r.undo}},[e("i",{staticClass:"r-icon r-icon-z",attrs:{title:"ctrl+z"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.redo}},[e("i",{staticClass:"r-icon r-icon-x",attrs:{title:"ctrl+y"}})]),t._v(" "),"simple"!==t.mode?[e("a",{staticClass:"menubar__button",class:{"is-active":"left"===t.alignment},on:{click:function(e){t.alignment="left"}}},[e("i",{staticClass:"r-icon r-icon-left",attrs:{title:"Рівняємо по лівому краю"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"center"===t.alignment},on:{click:function(e){t.alignment="center"}}},[e("i",{staticClass:"r-icon r-icon-center",attrs:{title:"Рівняємо по центру"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"right"===t.alignment},on:{click:function(e){t.alignment="right"}}},[e("i",{staticClass:"r-icon r-icon-right",attrs:{title:"Рівняємо по правому краю"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"justify"===t.alignment},on:{click:function(e){t.alignment="justify"}}},[e("i",{staticClass:"r-icon r-icon-justify",attrs:{title:"Розтягнути на всю ширину"}})])]:t._e(),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.bold()},on:{click:r.bold}},[e("i",{staticClass:"r-icon r-icon-strong",attrs:{title:"Жирний текст"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.italic()},on:{click:r.italic}},[e("i",{staticClass:"r-icon r-icon-italik",attrs:{title:"Косий текст"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.strike()},on:{click:r.strike}},[e("i",{staticClass:"r-icon r-icon-through",attrs:{title:"Перекреслений текст"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.underline()},on:{click:r.underline}},[e("i",{staticClass:"r-icon r-icon-underline",attrs:{title:"Підкреслений текст"}})]),t._v(" "),"simple"!==t.mode?[e("a",{staticClass:"menubar__button",class:{"is-active":i.bullet_list()},on:{click:r.bullet_list}},[e("i",{staticClass:"r-icon r-icon-ul",attrs:{title:"Список"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.ordered_list()},on:{click:r.ordered_list}},[e("i",{staticClass:"r-icon r-icon-ol",attrs:{title:"Список"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.blockquote()},on:{click:r.blockquote}},[e("i",{staticClass:"r-icon r-icon-quote",attrs:{title:"Цитата"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.sub()},on:{click:r.sub}},[e("i",{staticClass:"r-icon r-icon-sub",attrs:{title:"Нижній індекс"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.sup()},on:{click:r.sup}},[e("i",{staticClass:"r-icon r-icon-sup",attrs:{title:"Верхній індекс"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.image()},on:{click:function(e){return t.imageDlg(r.image)}}},[e("i",{staticClass:"r-icon r-icon-img",attrs:{title:"Додати зображення"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.audio()},on:{click:function(e){return t.audioDlg()}}},[e("i",{staticClass:"r-icon r-icon-audio",attrs:{title:"Додати аудіо"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.file()},on:{click:function(e){return t.fileDlg()}}},[e("i",{staticClass:"r-icon r-icon-file",attrs:{title:"Додати файл"}})])]:t._e(),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.link()},on:{click:function(e){return t.linkDlg()}}},[e("i",{staticClass:"r-icon r-icon-url",attrs:{title:"Посилання"}})]),t._v(" "),"simple"!==t.mode?[e("a",{staticClass:"menubar__button",class:{"is-active":i.float()},on:{click:function(e){return t.floatDlg()}}},[e("i",{staticClass:"r-icon r-icon-url-blink",attrs:{title:"Додати повідомлення"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.iframe()},on:{click:function(e){return t.iframeDlg()}}},[e("i",{staticClass:"r-icon r-icon-video",attrs:{title:"Додати відео або код"}})]),t._v(" "),t.isTest?t._e():e("a",{staticClass:"menubar__button",class:{"is-active":i.test_embed()},on:{click:function(e){return t.testEmbedDlg()}}},[e("i",{staticClass:"r-icon r-icon-test",attrs:{title:"Додати тест"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":i.math()},on:{click:r.math}},[e("i",{staticClass:"r-icon r-icon-math",attrs:{title:"Формули"}})]),t._v(" "),"test-quest"!==t.mode?e("span",{staticClass:"n-editor__detail",class:{active:t.isHideBlock},attrs:{title:"Більше налаштувань"},on:{click:function(e){t.isHideBlock=!t.isHideBlock}}},[e("span",{staticClass:"n-arrow"})]):t._e(),t._v(" "),e("span",{staticClass:"a-br-span"}),t._v(" "),t.isHideBlock&&"test-quest"!==t.mode?e("div",{staticClass:"n-a-br-container-color-btn"},[e("div",{staticClass:"n-row-editor"},[e("div",{staticClass:"n-col-editor"},[e("a",{staticClass:"menubar__button r-style-text r-style-aa-marker-ellou",class:{"is-active":i.marker()},on:{click:r.marker}},[e("span",{attrs:{title:"Виділення маркером"}},[t._v("Маркер")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-bluy",class:{"is-active":"r-span2-bluу"===t.textSpanStyle2},on:{click:function(e){t.textSpanStyle2="r-span2-bluу"}}},[e("span",{attrs:{title:"Виділення блакитним фоном"}},[t._v("Блакитний")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-green",class:{"is-active":"r-span2-green"===t.textSpanStyle2},on:{click:function(e){t.textSpanStyle2="r-span2-green"}}},[e("span",{attrs:{title:"Виділення зеленим фоном"}},[t._v("Зелений")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-yellow",class:{"is-active":"r-span2-yellow"===t.textSpanStyle2},on:{click:function(e){t.textSpanStyle2="r-span2-yellow"}}},[e("span",{attrs:{title:"Виділення жовтим фоном"}},[t._v("Жовтий")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-violet",class:{"is-active":"r-span2-rtl-violet"===t.textSpanStyle2},on:{click:function(e){t.textSpanStyle2="r-span2-rtl-violet"}}},[e("span",{attrs:{title:"Виділення фіолетовим фоном"}},[t._v("Фіолетовий")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-red",class:{"is-active":"r-span2-q-red"===t.textSpanStyle2},on:{click:function(e){t.textSpanStyle2="r-span2-q-red"}}},[e("span",{attrs:{title:"Виділення червоним фоном"}},[t._v("Червоний")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-aa-pre",class:{"is-active":i.code_block()},on:{click:r.code_block}},[e("span",{attrs:{title:"Вставляємо текст у вигляді коду"}},[t._v("Тег CODE")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-hr",on:{click:r.horizontal_rule}},[e("span",{attrs:{title:"Додати горизонтальну лінію"}},[t._v("Лінія")])]),t._v(" "),e("a",{staticClass:"menubar__button r-style-text r-style-hr-trans",on:{click:r.horizontal_rule_trans}},[e("span",{attrs:{title:"Додати горизонтальний відступ"}},[t._v("Відступ")])]),t._v(" "),e("swatches",{staticClass:"menubar__button r-style-text a-color",attrs:{colors:t.SwatchesColors},model:{value:t.textColor,callback:function(e){t.textColor=e},expression:"textColor"}},[e("a",{staticClass:"menubar__button",attrs:{slot:"trigger"},slot:"trigger"},[e("span",{attrs:{title:"Задати колір тексту"}},[t._v("Колір")])])]),t._v(" "),e("swatches",{staticClass:"menubar__button r-style-text a-background",attrs:{colors:t.SwatchesColors},model:{value:t.backgroundColor,callback:function(e){t.backgroundColor=e},expression:"backgroundColor"}},[e("a",{staticClass:"menubar__button",attrs:{slot:"trigger"},slot:"trigger"},[e("span",{attrs:{title:"Задати колір фону"}},[t._v("Фон")])])]),t._v(" "),e("div",{staticClass:"n-col-editor"},[e("a",{staticClass:"menubar__button",on:{click:function(t){return r.createTable({rowsCount:3,colsCount:3,withHeaderRow:!1})}}},[e("i",{staticClass:"r-icon r-icon-table",attrs:{title:"Додати таблицю"}})]),t._v(" "),i.table()?e("span",{staticClass:"n-ed-con-modal-btn"},[e("a",{staticClass:"menubar__button",on:{click:r.deleteTable}},[e("i",{staticClass:"r-icon r-icon-delete_table",attrs:{title:"Видалити таблицю"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.addColumnBefore}},[e("i",{staticClass:"r-icon r-icon-add_col_before",attrs:{title:"Додати колонку позаду"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.addColumnAfter}},[e("i",{staticClass:"r-icon r-icon-add_col_after",attrs:{title:"Додати колонку попереду"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.deleteColumn}},[e("i",{staticClass:"r-icon r-icon-delete_col",attrs:{title:"Видалити колонку"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.addRowBefore}},[e("i",{staticClass:"r-icon r-icon-add_row_before",attrs:{title:"Додати рядок згори"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.addRowAfter}},[e("i",{staticClass:"r-icon r-icon-add_row_after",attrs:{title:"Додати рядок знизу"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.deleteRow}},[e("i",{staticClass:"r-icon r-icon-delete_row",attrs:{title:"Видалити рядок"}})]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.toggleCellMerge}},[e("i",{staticClass:"r-icon r-icon-combine_cells",attrs:{title:"Об'єднати/роз'єднати комірки"}})])]):t._e()])],1),t._v(" "),e("div",{staticClass:"n-col-editor n-justify-between"},[e("div",{staticClass:"n-col-editor"},[e("span",{staticClass:"a-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.textParagraph,expression:"textParagraph"}],staticClass:"r-select",class:[t.textParagraphClass],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.textParagraph=e.target.multiple?n:n[0]}}},[e("option",{staticClass:"op-style-p",attrs:{value:"0"}},[t._v("Заголовок 0")]),t._v(" "),e("option",{staticClass:"op-style-h2",attrs:{value:"2"}},[t._v("Заголовок 2")]),t._v(" "),e("option",{staticClass:"op-style-h3",attrs:{value:"3"}},[t._v("Заголовок 3")]),t._v(" "),e("option",{staticClass:"op-style-h4",attrs:{value:"4"}},[t._v("Заголовок 4")]),t._v(" "),e("option",{staticClass:"op-style-h5",attrs:{value:"5"}},[t._v("Заголовок 5")]),t._v(" "),e("option",{staticClass:"op-style-h6",attrs:{value:"6"}},[t._v("Заголовок 6")])])]),t._v(" "),e("span",{staticClass:"a-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.textFontSize,expression:"textFontSize"}],staticClass:"r-select",class:[t.textFontSizeClass],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.textFontSize=e.target.multiple?n:n[0]}}},[e("option",{staticClass:"op-style-f12",attrs:{value:"12"}},[t._v("12 px")]),t._v(" "),e("option",{staticClass:"op-style-f14",attrs:{value:"14"}},[t._v("14 px")]),t._v(" "),e("option",{staticClass:"op-style-f16",attrs:{value:"16"}},[t._v("16 px")]),t._v(" "),e("option",{staticClass:"op-style-f18",attrs:{value:"18"}},[t._v("18 px")]),t._v(" "),e("option",{staticClass:"op-style-f20",attrs:{value:"20"}},[t._v("20 px")]),t._v(" "),e("option",{staticClass:"op-style-f24",attrs:{value:"24"}},[t._v("24 px")]),t._v(" "),e("option",{staticClass:"op-style-f28",attrs:{value:"28"}},[t._v("28 px")]),t._v(" "),e("option",{staticClass:"op-style-f32",attrs:{value:"32"}},[t._v("32 px")]),t._v(" "),e("option",{staticClass:"op-style-f36",attrs:{value:"36"}},[t._v("36 px")]),t._v(" "),e("option",{staticClass:"op-style-f44",attrs:{value:"44"}},[t._v("44 px")]),t._v(" "),e("option",{staticClass:"op-style-f50",attrs:{value:"50"}},[t._v("50 px")]),t._v(" "),e("option",{staticClass:"op-style-f60",attrs:{value:"60"}},[t._v("60 px")])])]),t._v(" "),e("span",{staticClass:"a-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.textLoveTeacher,expression:"textLoveTeacher"}],staticClass:"r-select",class:[t.textLoveTeacher],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.textLoveTeacher=e.target.multiple?n:n[0]}}},[e("option",{staticClass:"r-style-aa-none",attrs:{value:"0"}},[t._v("Фон 0")]),t._v(" "),e("option",{staticClass:"r-style-aa-notebook-calligraphy-writing",attrs:{value:"r-style-notebook-calligraphy-writing"}},[t._v("Коса лінія(для каліграфічного письма)")]),t._v(" "),e("option",{staticClass:"r-style-aa-notebook",attrs:{value:"r-style-notebook"}},[t._v("Коса лінія")]),t._v(" "),e("option",{staticClass:"r-style-aa-square",attrs:{value:"r-style-square"}},[t._v("Клітинка")]),t._v(" "),e("option",{staticClass:"r-style-aa-line",attrs:{value:"r-style-line"}},[t._v("Лінія")]),t._v(" "),e("option",{staticClass:"r-style-aa-space",attrs:{value:"r-style-space"}},[t._v("Космічний")]),t._v(" "),e("option",{staticClass:"r-style-aa-bg_square",attrs:{value:"r-style-bg_square"}},[t._v("Фон клітинка")]),t._v(" "),e("option",{staticClass:"r-style-aa-bg_line",attrs:{value:"r-style-bg_line"}},[t._v("Фон лінія")]),t._v(" "),e("option",{staticClass:"r-style-aa-bg_note-style",attrs:{value:"r-style-bg_note-style"}},[t._v("Нотатки")]),t._v(" "),e("option",{staticClass:"r-style-aa-bg_ukrainian-flag",attrs:{value:"r-style-bg_ukrainian-flag"}},[t._v("Прапор")]),t._v(" "),e("option",{staticClass:"r-style-aa-loveteacher",attrs:{value:"r-style-loveteacher"}},[t._v("Фон 1")]),t._v(" "),e("option",{staticClass:"r-style-aa-rtl",attrs:{value:"r-style-rtl"}},[t._v("Фон 2")]),t._v(" "),e("option",{staticClass:"r-style-aa-rtl2",attrs:{value:"r-style-rtl2"}},[t._v("Фон 3")]),t._v(" "),e("option",{staticClass:"r-style-aa-q",attrs:{value:"r-style-q"}},[t._v("Фон 4")]),t._v(" "),e("option",{staticClass:"r-style-aa-cite",attrs:{value:"r-style-cite"}},[t._v("Фон 5")]),t._v(" "),e("option",{staticClass:"r-style-aa-ltr",attrs:{value:"r-style-ltr"}},[t._v("Фон 6")]),t._v(" "),e("option",{staticClass:"r-style-aa-del",attrs:{value:"r-style-del"}},[t._v("Фон 7")]),t._v(" "),e("option",{staticClass:"r-style-aa-marker",attrs:{value:"r-style-marker"}},[t._v("Фон 8 (ліворуч)")]),t._v(" "),e("option",{staticClass:"r-style-aa-ins2",attrs:{value:"r-style-ins2"}},[t._v("Фон 9 (ліворуч)")]),t._v(" "),e("option",{staticClass:"r-style-aa-ins",attrs:{value:"r-style-ins"}},[t._v("Фон 10 (ліворуч)")]),t._v(" "),e("option",{staticClass:"r-style-aa-var2",attrs:{value:"r-style-var2"}},[t._v("Фон 11 (праворуч)")]),t._v(" "),e("option",{staticClass:"r-style-aa-var",attrs:{value:"r-style-var"}},[t._v("Фон 12 (праворуч)")])])]),t._v(" "),e("span",{staticClass:"a-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.textSpanStyle,expression:"textSpanStyle"}],staticClass:"r-select",class:[t.textSpanStyle],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.textSpanStyle=e.target.multiple?n:n[0]}}},[e("option",{staticClass:"r-span-aa-none",attrs:{value:"0"}},[t._v("Стиль 0")]),t._v(" "),e("option",{staticClass:"r-span-aa-rutenia",attrs:{value:"r-span-rutenia"}},[t._v("Рутенія")]),t._v(" "),e("option",{staticClass:"r-span-aa-rutenia-arial",attrs:{value:"r-span-rutenia-arial"}},[t._v("Рутенія Аріал")]),t._v(" "),e("option",{staticClass:"r-span-aa-prescriptions",attrs:{value:"r-span-prescriptions"}},[t._v("Прописи")]),t._v(" "),e("option",{staticClass:"r-span-aa-paper",attrs:{value:"r-span-paper"}},[t._v("Піксель")]),t._v(" "),e("option",{staticClass:"r-span-aa-introicriptr-base",attrs:{value:"r-span-introicriptr-base"}},[t._v("Мак")]),t._v(" "),e("option",{staticClass:"r-span-aa-ukrainian-flag-text",attrs:{value:"r-span-ukrainian-flag-text"}},[t._v("Прапор")]),t._v(" "),t._e(),t._v(" "),e("option",{staticClass:"r-span-aa-cite-s",attrs:{value:"r-span-cite-s"}},[t._v("Стиль 1")]),t._v(" "),e("option",{staticClass:"r-span-aa-del-s",attrs:{value:"r-span-del-s"}},[t._v("Стиль 2")]),t._v(" "),e("option",{staticClass:"r-span-aa-q-s",attrs:{value:"r-span-q-s"}},[t._v("Стиль 3")]),t._v(" "),e("option",{staticClass:"r-span-aa-ins-s",attrs:{value:"r-span-ins-s"}},[t._v("Стиль 4")]),t._v(" "),e("option",{staticClass:"r-span-aa-rtl-s",attrs:{value:"r-span-rtl-s"}},[t._v("Стиль 5")]),t._v(" "),e("option",{staticClass:"r-span-aa-var-s",attrs:{value:"r-span-var-s"}},[t._v("Стиль 6")]),t._v(" "),e("option",{staticClass:"r-span-aa-ltr-s",attrs:{value:"r-span-ltr-s"}},[t._v("Стиль 7")]),t._v(" "),e("option",{staticClass:"r-span-aa-kbd-s",attrs:{value:"r-span-kbd-s"}},[t._v("Стиль 8")]),t._v(" "),e("option",{staticClass:"r-span-aa-samp-s",attrs:{value:"r-span-samp-s"}},[t._v("Стиль 9")]),t._v(" "),e("option",{staticClass:"r-span-aa-bluуton",attrs:{value:"r-span-aa-bluуton"}},[t._v("Кнопка 1")]),t._v(" "),e("option",{staticClass:"r-span-aa-greenton",attrs:{value:"r-span-aa-greenton"}},[t._v("Кнопка 2")]),t._v(" "),e("option",{staticClass:"r-span-aa-yellowton",attrs:{value:"r-span-aa-yellowton"}},[t._v("Кнопка 3")]),t._v(" "),e("option",{staticClass:"r-span-aa-bluу2ton",attrs:{value:"r-span-aa-bluу2ton"}},[t._v("Кнопка 4")]),t._v(" "),e("option",{staticClass:"r-span-aa-green2ton",attrs:{value:"r-span-aa-green2ton"}},[t._v("Кнопка 5")]),t._v(" "),e("option",{staticClass:"r-span-aa-orangeton",attrs:{value:"r-span-aa-orangeton"}},[t._v("Кнопка 6")]),t._v(" "),e("option",{staticClass:"r-span-aa-redton",attrs:{value:"r-span-aa-redton"}},[t._v("Кнопка 7")]),t._v(" "),e("option",{staticClass:"r-span-aa-purpleton",attrs:{value:"r-span-aa-purpleton"}},[t._v("Кнопка 8")]),t._v(" "),e("option",{staticClass:"r-span-aa-pinkton",attrs:{value:"r-span-aa-pinkton"}},[t._v("Кнопка 9")]),t._v(" "),e("option",{staticClass:"r-span-aa-bluу3ton",attrs:{value:"r-span-aa-bluу3ton"}},[t._v("Кнопка 10")])])]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:function(t){return r.change_case("uppercase")}}},[e("i",{staticClass:"r-icon r-icon-text-insert",attrs:{title:"Верхній регістр"}},[t._v("\n                                            AA\n                                        ")])]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:function(t){return r.change_case("lowercase")}}},[e("i",{staticClass:"r-icon r-icon-text-insert",attrs:{title:"Нижній регістр"}},[t._v("\n                                            aa\n                                        ")])]),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:r.clear_format}},[e("i",{staticClass:"r-icon r-icon-z",attrs:{title:"Очистити форматування"}})])]),t._v(" "),e("div",{staticClass:"vo-checkbox-silver"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isBigIcon,expression:"isBigIcon"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isBigIcon)?t._i(t.isBigIcon,null)>-1:t.isBigIcon},on:{change:function(e){var n=t.isBigIcon,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.isBigIcon=n.concat([null])):o>-1&&(t.isBigIcon=n.slice(0,o).concat(n.slice(o+1)))}else t.isBigIcon=i}}}),t._v(" "),e("div")])])])]):t._e(),t._v(" "),e("span",{staticClass:"a-br-span"}),t._v(" "),"test-input"===t.mode?e("a",{staticClass:"menubar__button r-col-blu-test n-none-resize",class:{"is-active":i.test_input()},on:{click:function(e){return t.testInputDlg()}}},[e("span",{staticClass:"icon-con"},[e("i",{staticClass:"icons-add-question i11"})]),t._v(" "),e("span",{staticClass:"a-lef-test",attrs:{title:"Додати запитання із заповненням пропусків у тексті"}},[t._v("Додати відповідь")])]):t._e(),t._v(" "),"test-select"===t.mode?e("a",{staticClass:"menubar__button r-col-blu-test n-none-resize",class:{"is-active":i.test_select()},on:{click:function(e){return t.testSelectDlg()}}},[e("span",{staticClass:"icon-con"},[e("i",{staticClass:"icons-add-question i12"})]),t._v(" "),e("span",{staticClass:"a-lef-test",attrs:{title:"Додати запитання з вибором правильної відповіді у тексті"}},[t._v("Додати відповідь")])]):t._e()]:t._e()],2)]}}])}),t._v(" "),e("editor-content",{staticClass:"editor__content",style:t.style,attrs:{editor:t.editor}})],1)};r._withStripped=!0;var i=n(17),o=n(126),s=n(91);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,n,r,i=u(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"name",get:function(){return"keymap"}},{key:"plugins",get:function(){return[Object(o.b)({"Mod-я":s.d,"Shift-Mod-я":s.b})]}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(i.e),h=n(9),p=n.n(h),v=n(14),m=n.n(v),g=n(16),y=n.n(g),_=n(74),b=n.n(_),w=n(26),k=n.n(w),x=n(29),S=n.n(x),C=n(3),O=n.n(C),E=n(4),P=n.n(E),A=n(146),T=n.n(A),j=n(8),M=n.n(j),I=n(132),N=n.n(I),R=n(118),D=n.n(R),L=n(15),B=n.n(L),$=n(104),F=n.n($),q=n(25),U=n.n(q),V=n(53),z=n.n(V),H=n(45),W=n.n(H),Y=n(20),G=n.n(Y),J=n(58),K=n.n(J),Q=n(79),X=n.n(Q),Z=n(28),tt=n.n(Z),et=n(27),nt=n.n(et),rt=n(59),it=n.n(rt),ot=n(160),st=n.n(ot);var at=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ct=Array.isArray,lt=n(70),ut=lt.a.Symbol,ft=Object.prototype,dt=ft.hasOwnProperty,ht=ft.toString,pt=ut?ut.toStringTag:void 0;var vt=function(t){var e=dt.call(t,pt),n=t[pt];try{t[pt]=void 0;var r=!0}catch(t){}var i=ht.call(t);return r&&(e?t[pt]=n:delete t[pt]),i},mt=Object.prototype.toString;var gt=function(t){return mt.call(t)},yt=ut?ut.toStringTag:void 0;var _t=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":yt&&yt in Object(t)?vt(t):gt(t)};var bt=function(t){return null!=t&&"object"==typeof t};var wt=function(t){return"symbol"==typeof t||bt(t)&&"[object Symbol]"==_t(t)},kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/;var St=function(t,e){if(ct(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!wt(t))||(xt.test(t)||!kt.test(t)||null!=e&&t in Object(e))};var Ct,Ot=function(t){if(!at(t))return!1;var e=_t(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Et=lt.a["__core-js_shared__"],Pt=(Ct=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+Ct:"";var At=function(t){return!!Pt&&Pt in t},Tt=Function.prototype.toString;var jt=function(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Mt=/^\[object .+?Constructor\]$/,It=Function.prototype,Nt=Object.prototype,Rt=It.toString,Dt=Nt.hasOwnProperty,Lt=RegExp("^"+Rt.call(Dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bt=function(t){return!(!at(t)||At(t))&&(Ot(t)?Lt:Mt).test(jt(t))};var $t=function(t,e){return null==t?void 0:t[e]};var Ft=function(t,e){var n=$t(t,e);return Bt(n)?n:void 0},qt=Ft(Object,"create");var Ut=function(){this.__data__=qt?qt(null):{},this.size=0};var Vt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zt=Object.prototype.hasOwnProperty;var Ht=function(t){var e=this.__data__;if(qt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return zt.call(e,t)?e[t]:void 0},Wt=Object.prototype.hasOwnProperty;var Yt=function(t){var e=this.__data__;return qt?void 0!==e[t]:Wt.call(e,t)};var Gt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qt&&void 0===e?"__lodash_hash_undefined__":e,this};function Jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jt.prototype.clear=Ut,Jt.prototype.delete=Vt,Jt.prototype.get=Ht,Jt.prototype.has=Yt,Jt.prototype.set=Gt;var Kt=Jt;var Qt=function(){this.__data__=[],this.size=0};var Xt=function(t,e){return t===e||t!=t&&e!=e};var Zt=function(t,e){for(var n=t.length;n--;)if(Xt(t[n][0],e))return n;return-1},te=Array.prototype.splice;var ee=function(t){var e=this.__data__,n=Zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():te.call(e,n,1),--this.size,!0)};var ne=function(t){var e=this.__data__,n=Zt(e,t);return n<0?void 0:e[n][1]};var re=function(t){return Zt(this.__data__,t)>-1};var ie=function(t,e){var n=this.__data__,r=Zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function oe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}oe.prototype.clear=Qt,oe.prototype.delete=ee,oe.prototype.get=ne,oe.prototype.has=re,oe.prototype.set=ie;var se=oe,ae=Ft(lt.a,"Map");var ce=function(){this.size=0,this.__data__={hash:new Kt,map:new(ae||se),string:new Kt}};var le=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ue=function(t,e){var n=t.__data__;return le(e)?n["string"==typeof e?"string":"hash"]:n.map};var fe=function(t){var e=ue(this,t).delete(t);return this.size-=e?1:0,e};var de=function(t){return ue(this,t).get(t)};var he=function(t){return ue(this,t).has(t)};var pe=function(t,e){var n=ue(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ve(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ve.prototype.clear=ce,ve.prototype.delete=fe,ve.prototype.get=de,ve.prototype.has=he,ve.prototype.set=pe;var me=ve;function ge(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ge.Cache||me),n}ge.Cache=me;var ye=ge;var _e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,be=/\\(\\)?/g,we=function(t){var e=ye(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(_e,(function(t,n,r,i){e.push(r?i.replace(be,"$1"):n||t)})),e}));var ke=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},xe=ut?ut.prototype:void 0,Se=xe?xe.toString:void 0;var Ce=function t(e){if("string"==typeof e)return e;if(ct(e))return ke(e,t)+"";if(wt(e))return Se?Se.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var Oe=function(t){return null==t?"":Ce(t)};var Ee=function(t,e){return ct(t)?t:St(t,e)?[t]:we(Oe(t))};var Pe=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Ae=function(t){if("string"==typeof t||wt(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var Te=function(t,e){for(var n=0,r=(e=Ee(e,t)).length;null!=t&&n<r;)t=t[Ae(e[n++])];return n&&n==r?t:void 0};var je=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o};var Me=function(t,e){return e.length<2?t:Te(t,je(e,0,-1))};var Ie=function(t,e){return e=Ee(e,t),null==(t=Me(t,e))||delete t[Ae(Pe(e))]};var Ne=function(t,e){return null==t||Ie(t,e)};var Re=function(t,e,n){var r=null==t?void 0:Te(t,e);return void 0===r?n:r};var De=function(){this.__data__=new se,this.size=0};var Le=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Be=function(t){return this.__data__.get(t)};var $e=function(t){return this.__data__.has(t)};var Fe=function(t,e){var n=this.__data__;if(n instanceof se){var r=n.__data__;if(!ae||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new me(r)}return n.set(t,e),this.size=n.size,this};function qe(t){var e=this.__data__=new se(t);this.size=e.size}qe.prototype.clear=De,qe.prototype.delete=Le,qe.prototype.get=Be,qe.prototype.has=$e,qe.prototype.set=Fe;var Ue=qe,Ve=function(){try{var t=Ft(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ze=function(t,e,n){"__proto__"==e&&Ve?Ve(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var He=function(t,e,n){(void 0!==n&&!Xt(t[e],n)||void 0===n&&!(e in t))&&ze(t,e,n)};var We=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}(),Ye=n(295),Ge=lt.a.Uint8Array;var Je=function(t){var e=new t.constructor(t.byteLength);return new Ge(e).set(new Ge(t)),e};var Ke=function(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Qe=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Xe=Object.create,Ze=function(){function t(){}return function(e){if(!at(e))return{};if(Xe)return Xe(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var tn=function(t,e){return function(n){return t(e(n))}},en=tn(Object.getPrototypeOf,Object),nn=Object.prototype;var rn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||nn)};var on=function(t){return"function"!=typeof t.constructor||rn(t)?{}:Ze(en(t))};var sn=function(t){return bt(t)&&"[object Arguments]"==_t(t)},an=Object.prototype,cn=an.hasOwnProperty,ln=an.propertyIsEnumerable,un=sn(function(){return arguments}())?sn:function(t){return bt(t)&&cn.call(t,"callee")&&!ln.call(t,"callee")},fn=un;var dn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var hn=function(t){return null!=t&&dn(t.length)&&!Ot(t)};var pn=function(t){return bt(t)&&hn(t)},vn=n(161),mn=Function.prototype,gn=Object.prototype,yn=mn.toString,_n=gn.hasOwnProperty,bn=yn.call(Object);var wn=function(t){if(!bt(t)||"[object Object]"!=_t(t))return!1;var e=en(t);if(null===e)return!0;var n=_n.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yn.call(n)==bn},kn={};kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Arguments]"]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object Boolean]"]=kn["[object DataView]"]=kn["[object Date]"]=kn["[object Error]"]=kn["[object Function]"]=kn["[object Map]"]=kn["[object Number]"]=kn["[object Object]"]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object WeakMap]"]=!1;var xn=function(t){return bt(t)&&dn(t.length)&&!!kn[_t(t)]};var Sn=function(t){return function(e){return t(e)}},Cn=n(162),On=Cn.a&&Cn.a.isTypedArray,En=On?Sn(On):xn;var Pn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},An=Object.prototype.hasOwnProperty;var Tn=function(t,e,n){var r=t[e];An.call(t,e)&&Xt(r,n)&&(void 0!==n||e in t)||ze(t,e,n)};var jn=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?ze(n,a,c):Tn(n,a,c)}return n};var Mn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},In=/^(?:0|[1-9]\d*)$/;var Nn=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&In.test(t))&&t>-1&&t%1==0&&t<e},Rn=Object.prototype.hasOwnProperty;var Dn=function(t,e){var n=ct(t),r=!n&&fn(t),i=!n&&!r&&Object(vn.a)(t),o=!n&&!r&&!i&&En(t),s=n||r||i||o,a=s?Mn(t.length,String):[],c=a.length;for(var l in t)!e&&!Rn.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Nn(l,c))||a.push(l);return a};var Ln=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Bn=Object.prototype.hasOwnProperty;var $n=function(t){if(!at(t))return Ln(t);var e=rn(t),n=[];for(var r in t)("constructor"!=r||!e&&Bn.call(t,r))&&n.push(r);return n};var Fn=function(t){return hn(t)?Dn(t,!0):$n(t)};var qn=function(t){return jn(t,Fn(t))};var Un=function(t,e,n,r,i,o,s){var a=Pn(t,n),c=Pn(e,n),l=s.get(c);if(l)He(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,f=void 0===u;if(f){var d=ct(c),h=!d&&Object(vn.a)(c),p=!d&&!h&&En(c);u=c,d||h||p?ct(a)?u=a:pn(a)?u=Qe(a):h?(f=!1,u=Object(Ye.a)(c,!0)):p?(f=!1,u=Ke(c,!0)):u=[]:wn(c)||fn(c)?(u=a,fn(a)?u=qn(a):at(a)&&!Ot(a)||(u=on(c))):f=!1}f&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),He(t,n,u)}};var Vn=function t(e,n,r,i,o){e!==n&&We(n,(function(s,a){if(o||(o=new Ue),at(s))Un(e,n,a,r,t,i,o);else{var c=i?i(Pn(e,a),s,a+"",e,n,o):void 0;void 0===c&&(c=s),He(e,a,c)}}),Fn)};var zn=function(t){return t};var Hn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Wn=Math.max;var Yn=function(t,e,n){return e=Wn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Wn(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Hn(t,this,a)}};var Gn=function(t){return function(){return t}},Jn=Ve?function(t,e){return Ve(t,"toString",{configurable:!0,enumerable:!1,value:Gn(e),writable:!0})}:zn,Kn=Date.now;var Qn=function(t){var e=0,n=0;return function(){var r=Kn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Xn=Qn(Jn);var Zn=function(t,e){return Xn(Yn(t,e,zn),t+"")};var tr=function(t,e,n){if(!at(n))return!1;var r=typeof e;return!!("number"==r?hn(n)&&Nn(e,n.length):"string"==r&&e in n)&&Xt(n[e],t)};var er=function(t){return Zn((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&tr(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))},nr=er((function(t,e,n){Vn(t,e,n)}));var rr=function(t,e,n,r){if(!at(t))return t;for(var i=-1,o=(e=Ee(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var c=Ae(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=at(u)?u:Nn(e[i+1])?[]:{})}Tn(a,c,l),a=a[c]}return t};var ir=function(t,e,n){return null==t?t:rr(t,e,n)};function or(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return sr(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ar=function(){function t(e){O()(this,t),this._styles={},this._styleProcessor=e}return P()(t,[{key:"isEmpty",get:function(){var t=T()(this._styles);return!M()(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(t){var e;this.clear();var n,r=or(M()(N()(e=function(t){var e=null,n=0,r=0,i=null,o=new G.a;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(var s=0;s<t.length;s++){var a=t.charAt(s);if(null===e)switch(a){case":":i||(i=t.substr(n,s-n),r=s+1);break;case'"':case"'":e=a;break;case";":var c=t.substr(r,s-r);i&&o.set(st()(i).call(i),st()(c).call(c)),i=null,n=s+1}else a===e&&(e=null)}return o}(t)).call(e)));try{for(r.s();!(n=r.n()).done;){var i=S()(n.value,2),o=i[0],s=i[1];this._styleProcessor.toNormalizedForm(o,s,this._styles)}}catch(t){r.e(t)}finally{r.f()}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles),n=D()(e).call(e,(function(e){return S()(e,1)[0]===t}));return B()(n)}},{key:"set",value:function(t,e){if(at(t))for(var n=0,r=T()(t);n<r.length;n++){var i=S()(r[n],2),o=i[0],s=i[1];this._styleProcessor.toNormalizedForm(o,s,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=lr(t);Ne(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){var t,e;return this.isEmpty?"":F()(t=U()(e=this._getStylesEntries()).call(e,(function(t){return t.join(":")}))).call(t).join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!at(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles),n=D()(e).call(e,(function(e){return S()(e,1)[0]===t}));return B()(n)?n[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty)return[];if(t)return this._styleProcessor.getStyleNames(this._styles);var e=this._getStylesEntries();return U()(e).call(e,(function(t){return S()(t,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){var t,e=[],n=or(z()(this._styles));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,k()(this._styleProcessor.getReducedForm(r,this._styles)))}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split(".");if(e.length>1){var n=W()(e).call(e,0,e.length-1).join("."),r=Re(this._styles,n);if(r)!M()(z()(r)).length&&this.remove(n)}}}]),t}(),cr=function(){function t(){O()(this,t),this._normalizers=new G.a,this._extractors=new G.a,this._reducers=new G.a,this._consumables=new G.a}return P()(t,[{key:"toNormalizedForm",value:function(t,e,n){if(at(e))ur(n,lr(t),e);else if(this._normalizers.has(t)){var r=this._normalizers.get(t)(e);ur(n,r.path,r.value)}else ur(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return nr({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var n=this._extractors.get(t);if("string"==typeof n)return Re(e,n);var r=n(t,e);if(r)return r}return Re(e,lr(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}},{key:"getStyleNames",value:function(t){var e,n,r,i=this,o=K()(e=M()(X()(n=this._consumables).call(n))).call(e,(function(e){var n=i.getNormalized(e,t);return n&&"object"==b()(n)?z()(n).length:n})),s=new tt.a(nt()(r=[]).call(r,k()(o),k()(z()(t))));return M()(it()(s).call(s))}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var n,r=or(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._mapStyleNames(i,[t])}}catch(t){r.e(t)}finally{r.f()}}},{key:"_mapStyleNames",value:function(t,e){var n;this._consumables.has(t)||this._consumables.set(t,[]),(n=this._consumables.get(t)).push.apply(n,k()(e))}}]),t}();function lr(t){return t.replace("-",".")}function ur(t,e,n){var r=n;at(n)&&(r=nr({},Re(t,e),n)),ir(t,e,r)}var fr=n(24),dr=n.n(fr),hr=n(2),pr=n(77),vr=n.n(pr),mr=n(6),gr=n.n(mr),yr=n(369),_r=n.n(yr),br=n(22),wr=n.n(br),kr=n(23),xr=n.n(kr),Sr=n(11),Cr=n.n(Sr),Or=n(42),Er=n.n(Or),Pr=n(98),Ar=n.n(Pr),Tr=n(34),jr=n.n(Tr),Mr=n(33),Ir=n.n(Mr),Nr=n(133),Rr=n.n(Nr),Dr=n(372),Lr=n.n(Dr);var Br,$r,Fr=function(){return function t(){t.called=!0}},qr=P()((function t(e,n){O()(this,t),this.source=e,this.name=n,this.path=[],this.stop=Fr(),this.off=Fr()})),Ur=n(178),Vr=n.n(Ur),zr=U()(Br=Vr()($r=new Array(256)).call($r)).call(Br,(function(t,e){var n;return p()(n="0"+e.toString(16)).call(n,-2)}));function Hr(){var t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+zr[t>>0&255]+zr[t>>8&255]+zr[t>>16&255]+zr[t>>24&255]+zr[e>>0&255]+zr[e>>8&255]+zr[e>>16&255]+zr[e>>24&255]+zr[n>>0&255]+zr[n>>8&255]+zr[n>>16&255]+zr[n>>24&255]+zr[r>>0&255]+zr[r>>8&255]+zr[r>>16&255]+zr[r>>24&255]}var Wr={get:function(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};n(197);function Yr(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Gr(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jr=m()("listeningTo"),Kr=m()("emitterId"),Qr={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,t,e,n)},once:function(t,e,n){var r=!1;this.listenTo(this,t,(function(t){if(!r){var n;r=!0,t.off();for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];e.call.apply(e,nt()(n=[this,t]).call(n,o))}}),n)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Jr]||(this[Jr]={});var s=this[Jr];ti(t)||Zr(t);var a=ti(t);(r=s[a])||(r=s[a]={emitter:t,callbacks:{}}),(i=r.callbacks[e])||(i=r.callbacks[e]=[]),i.push(n),function(t,e,n,r,i){e._addEventListener?e._addEventListener(n,r,i):t._addEventListener.call(e,n,r,i)}(this,t,e,n,o)},stopListening:function(t,e,n){var r=this[Jr],i=t&&ti(t),o=r&&i&&r[i],s=o&&e&&o.callbacks[e];if(!(!r||t&&!o||e&&!s))if(n)oi(this,t,e,n),-1!==Er()(s).call(s,n)&&(1===s.length?delete o.callbacks[e]:oi(this,t,e,n));else if(s){for(;n=s.pop();)oi(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[Jr]}},fire:function(t){try{var e=t instanceof qr?t:new qr(this,t),n=e.name,r=ri(this,n);e.path.push(this);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(r){var a,c=nt()(a=[e]).call(a,o);r=M()(r);for(var l=0;l<r.length&&(r[l].callback.apply(this,c),e.off.called&&(delete e.off.called,this._removeEventListener(n,r[l].callback)),!e.stop.called);l++);}if(this._delegations){var u=this._delegations.get(n),f=this._delegations.get("*");u&&ii(u,e,o),f&&ii(f,e,o)}return e.return}catch(t){hr.a.rethrowUnexpectedError(t,this)}},delegate:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{to:function(e,r){t._delegations||(t._delegations=new G.a),Ir()(n).call(n,(function(n){var i=t._delegations.get(n);i?i.set(e,r):t._delegations.set(n,new G.a([[e,r]]))}))}}},stopDelegating:function(t,e){if(this._delegations)if(t)if(e){var n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()},_addEventListener:function(t,e,n){!function(t,e){var n=ei(t);if(n[e])return;var r=e,i=null,o=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,Lr()(r).call(r,":"));if(""!==r){var s,a=Yr(o);try{for(a.s();!(s=a.n()).done;){var c;s.value.callbacks=p()(c=n[r].callbacks).call(c)}}catch(t){a.e(t)}finally{a.f()}n[r].childEvents.push(i)}}(this,t);var r,i=ni(this,t),o=Wr.get(n.priority),s={callback:e,priority:o},a=Yr(i);try{for(a.s();!(r=a.n()).done;){for(var c=r.value,l=!1,u=0;u<c.length;u++)if(c[u].priority<o){W()(c).call(c,u,0,s),l=!0;break}l||c.push(s)}}catch(t){a.e(t)}finally{a.f()}},_removeEventListener:function(t,e){var n,r=Yr(ni(this,t));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0;o<i.length;o++)i[o].callback==e&&(W()(i).call(i,o,1),o--)}catch(t){r.e(t)}finally{r.f()}}},Xr=Qr;function Zr(t,e){t[Kr]||(t[Kr]=e||Hr())}function ti(t){return t[Kr]}function ei(t){return t._events||Rr()(t,"_events",{value:{}}),t._events}function ni(t,e){var n=ei(t)[e];if(!n)return[];for(var r=[n.callbacks],i=0;i<n.childEvents.length;i++){var o=ni(t,n.childEvents[i]);r=nt()(r).call(r,o)}return r}function ri(t,e){var n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:Er()(e).call(e,":")>-1?ri(t,e.substr(0,Lr()(e).call(e,":"))):null}function ii(t,e,n){var r,i=Yr(t);try{for(i.s();!(r=i.n()).done;){var o,s=S()(r.value,2),a=s[0],c=s[1];c?"function"==typeof c&&(c=c(e.name)):c=e.name;var l=new qr(e.source,c);l.path=k()(e.path),a.fire.apply(a,nt()(o=[l]).call(o,k()(n)))}}catch(t){i.e(t)}finally{i.f()}}function oi(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}var si=n(537),ai=n.n(si),ci=n(538),li=n.n(ci),ui=n(539),fi=n.n(ui);function di(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Ir()(n).call(n,(function(e){var n,r;Ir()(n=nt()(r=ai()(e)).call(r,li()(e))).call(n,(function(n){if(!(n in t.prototype)){var r=fi()(e,n);r.enumerable=!1,Rr()(t.prototype,n,r)}}))}))}function hi(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var pi=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},vi=tn(Object.keys,Object),mi=Object.prototype.hasOwnProperty;var gi=function(t){if(!rn(t))return vi(t);var e=[];for(var n in Object(t))mi.call(t,n)&&"constructor"!=n&&e.push(n);return e};var yi=function(t){return hn(t)?Dn(t):gi(t)};var _i=function(t,e){return t&&jn(e,yi(e),t)};var bi=function(t,e){return t&&jn(e,Fn(e),t)};var wi=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o};var ki=function(){return[]},xi=Object.prototype.propertyIsEnumerable,Si=Object.getOwnPropertySymbols,Ci=Si?function(t){return null==t?[]:(t=Object(t),wi(Si(t),(function(e){return xi.call(t,e)})))}:ki;var Oi=function(t,e){return jn(t,Ci(t),e)};var Ei=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Pi=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ei(e,Ci(t)),t=en(t);return e}:ki;var Ai=function(t,e){return jn(t,Pi(t),e)};var Ti=function(t,e,n){var r=e(t);return ct(t)?r:Ei(r,n(t))};var ji=function(t){return Ti(t,yi,Ci)};var Mi=function(t){return Ti(t,Fn,Pi)},Ii=Ft(lt.a,"DataView"),Ni=Ft(lt.a,"Promise"),Ri=Ft(lt.a,"Set"),Di=Ft(lt.a,"WeakMap"),Li="[object Map]",Bi="[object Promise]",$i="[object Set]",Fi="[object WeakMap]",qi="[object DataView]",Ui=jt(Ii),Vi=jt(ae),zi=jt(Ni),Hi=jt(Ri),Wi=jt(Di),Yi=_t;(Ii&&Yi(new Ii(new ArrayBuffer(1)))!=qi||ae&&Yi(new ae)!=Li||Ni&&Yi(Ni.resolve())!=Bi||Ri&&Yi(new Ri)!=$i||Di&&Yi(new Di)!=Fi)&&(Yi=function(t){var e=_t(t),n="[object Object]"==e?t.constructor:void 0,r=n?jt(n):"";if(r)switch(r){case Ui:return qi;case Vi:return Li;case zi:return Bi;case Hi:return $i;case Wi:return Fi}return e});var Gi=Yi,Ji=Object.prototype.hasOwnProperty;var Ki=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ji.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var Qi=function(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Xi=/\w*$/;var Zi=function(t){var e=new t.constructor(t.source,Xi.exec(t));return e.lastIndex=t.lastIndex,e},to=ut?ut.prototype:void 0,eo=to?to.valueOf:void 0;var no=function(t){return eo?Object(eo.call(t)):{}};var ro=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Je(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Qi(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ke(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Zi(t);case"[object Symbol]":return no(t)}};var io=function(t){return bt(t)&&"[object Map]"==Gi(t)},oo=Cn.a&&Cn.a.isMap,so=oo?Sn(oo):io;var ao=function(t){return bt(t)&&"[object Set]"==Gi(t)},co=Cn.a&&Cn.a.isSet,lo=co?Sn(co):ao,uo="[object Arguments]",fo="[object Function]",ho="[object Object]",po={};po[uo]=po["[object Array]"]=po["[object ArrayBuffer]"]=po["[object DataView]"]=po["[object Boolean]"]=po["[object Date]"]=po["[object Float32Array]"]=po["[object Float64Array]"]=po["[object Int8Array]"]=po["[object Int16Array]"]=po["[object Int32Array]"]=po["[object Map]"]=po["[object Number]"]=po[ho]=po["[object RegExp]"]=po["[object Set]"]=po["[object String]"]=po["[object Symbol]"]=po["[object Uint8Array]"]=po["[object Uint8ClampedArray]"]=po["[object Uint16Array]"]=po["[object Uint32Array]"]=!0,po["[object Error]"]=po[fo]=po["[object WeakMap]"]=!1;var mo=function t(e,n,r,i,o,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),void 0!==a)return a;if(!at(e))return e;var f=ct(e);if(f){if(a=Ki(e),!c)return Qe(e,a)}else{var d=Gi(e),h=d==fo||"[object GeneratorFunction]"==d;if(Object(vn.a)(e))return Object(Ye.a)(e,c);if(d==ho||d==uo||h&&!o){if(a=l||h?{}:on(e),!c)return l?Ai(e,bi(a,e)):Oi(e,_i(a,e))}else{if(!po[d])return o?e:{};a=ro(e,d,c)}}s||(s=new Ue);var p=s.get(e);if(p)return p;s.set(e,a),lo(e)?e.forEach((function(i){a.add(t(i,n,r,i,e,s))})):so(e)&&e.forEach((function(i,o){a.set(o,t(i,n,r,o,e,s))}));var v=f?void 0:(u?l?Mi:ji:l?Fn:yi)(e);return pi(v||e,(function(i,o){v&&(i=e[o=i]),Tn(a,o,t(i,n,r,o,e,s))})),a};var go=function(t){return mo(t,4)},yo=function(){function t(e){O()(this,t),this.document=e,this.parent=null}return P()(t,[{key:"index",get:function(){var t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new hr.a("view-node-not-found-in-parent",this);return t}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.index),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=hi(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}},{key:"toJSON",value:function(){var t=go(this);return delete t.parent,t}},{key:"is",value:function(t){return"node"===t||"view:node"===t}}]),t}();function _o(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}di(yo,Xr);var bo=function(t){wr()(n,t);var e=_o(n);function n(t,r){var i;return O()(this,n),(i=e.call(this,t))._textData=r,i}return P()(n,[{key:"is",value:function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}},{key:"isSimilar",value:function(t){return t instanceof n&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}}]),n}(yo),wo=function(){function t(e,n,r){if(O()(this,t),this.textNode=e,n<0||n>e.data.length)throw new hr.a("view-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.data.length)throw new hr.a("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}return P()(t,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"is",value:function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this.textNode:this.parent;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}]),t}();function ko(t){return!(!t||!y()(t))}function xo(t){return ko(t)?new G.a(t):function(t){var e=new G.a;for(var n in t)e.set(n,t[n]);return e}(t)}function So(t){return B()(t)?t:[t]}function Co(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Oo(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eo=function(){function t(){O()(this,t),this._patterns=[],this.add.apply(this,arguments)}return P()(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];("string"==typeof o||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}}},{key:"match",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o,s=i[r],a=Co(this._patterns);try{for(a.s();!(o=a.n()).done;){var c=o.value,l=Po(s,c);if(l)return{element:s,pattern:c,match:l}}}catch(t){a.e(t)}finally{a.f()}}return null}},{key:"matchAll",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s,a=o[i],c=Co(this._patterns);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=Po(a,l);u&&t.push({element:a,pattern:l,match:u})}}catch(t){c.e(t)}finally{c.f()}}return t.length>0?t:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}]),t}();function Po(t,e){if("function"==typeof e)return e(t);var n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return!!e.match(t);return t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){var n=new tt.a(e.getAttributeKeys());wn(t)?(void 0!==t.style&&Object(hr.b)("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&Object(hr.b)("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class"));return Ao(t,n,(function(t){return e.getAttribute(t)}))}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){return Ao(t,e.getClassNames())}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){return Ao(t,e.getStyleNames(!0),(function(t){return e.getStyle(t)}))}(e.styles,t),!n.styles))&&n)}function Ao(t,e,n){var r=function(t){if(B()(t))return U()(t).call(t,(function(t){return wn(t)?(void 0!==t.key&&void 0!==t.value||Object(hr.b)("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]}));if(wn(t))return T()(t);return[[t,!0]]}(t),i=M()(e),o=[];return Ir()(r).call(r,(function(t){var e=S()(t,2),r=e[0],s=e[1];Ir()(i).call(i,(function(t){(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(r,t)&&function(t,e,n){if(!0===t)return!0;var r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}(s,t,n)&&o.push(t)}))})),!r.length||o.length<r.length?null:o}function To(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return jo(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mo(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Io=function(t){wr()(n,t);var e=Mo(n);function n(t,r,i,o){var s;if(O()(this,n),(s=e.call(this,t)).name=r,s._attrs=function(t){t=xo(t);var e,n=To(t);try{for(n.s();!(e=n.n()).done;){var r=S()(e.value,2),i=r[0],o=r[1];null===o?t.delete(i):"string"!=typeof o&&t.set(i,String(o))}}catch(t){n.e(t)}finally{n.f()}return t}(i),s._children=[],o&&s._insertChild(0,o),s._classes=new tt.a,s._attrs.has("class")){var a=s._attrs.get("class");No(s._classes,a),s._attrs.delete("class")}return s._styles=new ar(s.document.stylesProcessor),s._attrs.has("style")&&(s._styles.setTo(s._attrs.get("style")),s._attrs.delete("style")),s._customProperties=new G.a,s._isAllowedInsideAttributeElement=!1,s._unsafeAttributesToRender=[],s}return P()(n,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"isAllowedInsideAttributeElement",get:function(){return this._isAllowedInsideAttributeElement}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){var e;return Er()(e=this._children).call(e,t)}},{key:"getChildren",value:function(){return Ar()(this._children)}},{key:"getAttributeKeys",value:dr.a.mark((function t(){var e;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._classes.size>0)){t.next=3;break}return t.next=3,"class";case 3:if(this._styles.isEmpty){t.next=6;break}return t.next=6,"style";case 6:return t.delegateYield(X()(e=this._attrs).call(e),"t0",7);case 7:case"end":return t.stop()}}),t,this)}))},{key:"getAttributes",value:dr.a.mark((function t(){var e;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(N()(e=this._attrs).call(e),"t0",1);case 1:if(!(this._classes.size>0)){t.next=4;break}return t.next=4,["class",this.getAttribute("class")];case 4:if(this._styles.isEmpty){t.next=7;break}return t.next=7,["style",this.getAttribute("style")];case 7:case"end":return t.stop()}}),t,this)}))},{key:"getAttribute",value:function(t){if("class"==t)return this._classes.size>0?k()(this._classes).join(" "):void 0;if("style"==t){var e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof n))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var e,r=To(this._attrs);try{for(r.s();!(e=r.n()).done;){var i=S()(e.value,2),o=i[0],s=i[1];if(!t._attrs.has(o)||t._attrs.get(o)!==s)return!1}}catch(t){r.e(t)}finally{r.f()}var a,c=To(this._classes);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(!t._classes.has(l))return!1}}catch(t){c.e(t)}finally{c.f()}var u,f=To(this._styles.getStyleNames());try{for(f.s();!(u=f.n()).done;){var d=u.value;if(!t._styles.has(d)||t._styles.getAsString(d)!==this._styles.getAsString(d))return!1}}catch(t){f.e(t)}finally{f.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){var t;return X()(t=this._classes).call(t)}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._styles.getStyleNames(t)}},{key:"hasStyle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=_r()(Eo,e),i=this.parent;i;){if(r.match(i))return i;i=i.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:dr.a.mark((function t(){var e;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(N()(e=this._customProperties).call(e),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"getIdentity",value:function(){var t,e,n,r=F()(t=M()(this._classes)).call(t).join(","),i=this._styles.toString(),o=F()(e=U()(n=M()(this._attrs)).call(n,(function(t){var e;return nt()(e="".concat(t[0],'="')).call(e,t[1],'"')}))).call(e).join(" ");return this.name+(""==r?"":' class="'.concat(r,'"'))+(i?' style="'.concat(i,'"'):"")+(""==o?"":" ".concat(o))}},{key:"shouldRenderUnsafeAttribute",value:function(t){var e;return jr()(e=this._unsafeAttributesToRender).call(e,t)}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];if(t){var n,r=To(this.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;e.push(i._clone(t))}}catch(t){r.e(t)}finally{r.f()}}var o=new this.constructor(this.document,this.name,this._attrs,e);return o._classes=new tt.a(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new G.a(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,o}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,i=function(t,e){var n;if("string"==typeof e)return[new bo(t,e)];ko(e)||(e=[e]);return U()(n=M()(e)).call(n,(function(e){return"string"==typeof e?new bo(t,e):e instanceof wo?new bo(t,e.data):e}))}(this.document,e),o=To(i);try{for(o.s();!(n=o.n()).done;){var s,a=n.value;null!==a.parent&&a._remove(),a.parent=this,a.document=this.document,W()(s=this._children).call(s,t,0,a),t++,r++}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var r=t;r<t+n;r++)this._children[r].parent=null;return W()(e=this._children).call(e,t,n)}},{key:"_setAttribute",value:function(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?No(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){this._fireChange("attributes",this);var e,n=To(So(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._classes.add(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_removeClass",value:function(t){this._fireChange("attributes",this);var e,n=To(So(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._classes.delete(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_setStyle",value:function(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}},{key:"_removeStyle",value:function(t){this._fireChange("attributes",this);var e,n=To(So(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._styles.remove(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_setCustomProperty",value:function(t,e){this._customProperties.set(t,e)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}}]),n}(yo);function No(t,e){var n=e.split(/\s+/);t.clear(),Ir()(n).call(n,(function(e){return t.add(e)}))}var Ro=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(O()(this,e),!t.boundaries&&!t.startPosition)throw new hr.a("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new hr.a("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=fs._createAt(t.startPosition):this.position=fs._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return P()(e,[{key:t,value:function(){return this}},{key:"skip",value:function(t){var e,n,r;do{r=this.position;var i=this.next();e=i.done,n=i.value}while(!e&&t(n));e||(this.position=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&e.offset===r.childCount)return{done:!0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};if(r instanceof bo){if(e.isAtEnd)return this.position=fs._createAfter(r),this._next();t=r.data[e.offset]}else t=r.getChild(e.offset);if(t instanceof Io)return this.shallow?e.offset++:e=new fs(t,0),this.position=e,this._formatReturnValue("elementStart",t,n,e,1);if(t instanceof bo){if(this.singleCharacters)return e=new fs(t,0),this.position=e,this._next();var i,o=t.data.length;return t==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new wo(t,0,o),e=fs._createAfter(i)):(i=new wo(t,0,t.data.length),e.offset++),this.position=e,this._formatReturnValue("text",i,n,e,o)}if("string"==typeof t){var s;if(this.singleCharacters)s=1;else s=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;var a=new wo(r,e.offset,s);return e.offset+=s,this.position=e,this._formatReturnValue("text",a,n,e,s)}return e=fs._createAfter(r),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}},{key:"_previous",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&0===e.offset)return{done:!0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};if(r instanceof bo){if(e.isAtStart)return this.position=fs._createBefore(r),this._previous();t=r.data[e.offset-1]}else t=r.getChild(e.offset-1);if(t instanceof Io)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",t,n,e,1)):(e=new fs(t,t.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",t,n,e));if(t instanceof bo){if(this.singleCharacters)return e=new fs(t,t.data.length),this.position=e,this._previous();var i,o=t.data.length;if(t==this._boundaryStartParent){var s=this.boundaries.start.offset;o=(i=new wo(t,s,t.data.length-s)).data.length,e=fs._createBefore(i)}else i=new wo(t,0,t.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",i,n,e,o)}if("string"==typeof t){var a;if(this.singleCharacters)a=1;else{var c=r===this._boundaryStartParent?this.boundaries.start.offset:0;a=e.offset-c}e.offset-=a;var l=new wo(r,e.offset,a);return this.position=e,this._formatReturnValue("text",l,n,e,a)}return e=fs._createBefore(r),this.position=e,this._formatReturnValue("elementStart",r,n,e,1)}},{key:"_formatReturnValue",value:function(t,e,n,r,i){return e instanceof wo&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=fs._createAfter(e.textNode):(r=fs._createAfter(e.textNode),this.position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=fs._createBefore(e.textNode):(r=fs._createBefore(e.textNode),this.position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}}]),e}(vr.a),Do=n(125),Lo=n.n(Do),Bo=n(72),$o=n.n(Bo);function Fo(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return qo(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function qo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uo(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Vo=function(t){wr()(n,t);var e=Uo(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o)).getFillerOffset=zo,s}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}]),n}(Io);function zo(){var t=k()(this.getChildren()),e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;var n,r=Fo(t);try{for(r.s();!(n=r.n()).done;){if(!n.value.is("uiElement"))return null}}catch(t){r.e(t)}finally{r.f()}return this.childCount}var Ho=n(144),Wo=n.n(Ho),Yo=er((function(t,e){jn(e,Fn(e),t)}));function Go(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Jo(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Jo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ko=m()("observableProperties"),Qo=m()("boundObservables"),Xo=m()("boundProperties"),Zo=m()("decoratedMethods"),ts=m()("decoratedOriginal"),es={set:function(t,e){var n=this;if(at(t)){var r;Ir()(r=z()(t)).call(r,(function(e){n.set(e,t[e])}),this)}else{rs(this);var i=this[Ko];if(t in this&&!i.has(t))throw new hr.a("observable-set-cannot-override",this);Rr()(this,t,{enumerable:!0,configurable:!0,get:function(){return i.get(t)},set:function(e){var n=i.get(t),r=this.fire("set:"+t,t,e,n);void 0===r&&(r=e),n===r&&i.has(t)||(i.set(t,r),this.fire("change:"+t,t,r,n))}}),this[t]=e}},bind:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!ss(n))throw new hr.a("observable-bind-wrong-properties",this);if(new tt.a(n).size!==n.length)throw new hr.a("observable-bind-duplicate-properties",this);rs(this);var i=this[Xo];Ir()(n).call(n,(function(e){if(i.has(e))throw new hr.a("observable-bind-rebind",t)}));var o=new G.a;return Ir()(n).call(n,(function(t){var e={property:t,to:[]};i.set(t,e),o.set(t,e)})),{to:is,toMany:os,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var t=this;if(this[Ko]){for(var e=this[Xo],n=this[Qo],r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length){if(!ss(i))throw new hr.a("observable-unbind-wrong-properties",this);Ir()(i).call(i,(function(r){var i,o,s,a,c,l=e.get(r);l&&(Ir()(i=l.to).call(i,(function(e){o=e[0],s=e[1],a=n.get(o),(c=a[s]).delete(l),c.size||delete a[s],z()(a).length||(n.delete(o),t.stopListening(o,"change"))})),e.delete(r))}))}else Ir()(n).call(n,(function(e,n){t.stopListening(n,"change")})),n.clear(),e.clear()}},decorate:function(t){var e=this,n=this[t];if(!n)throw new hr.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(function(t,r){t.return=n.apply(e,r)})),this[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.fire(t,n)},this[t][ts]=n,this[Zo]||(this[Zo]=[]),this[Zo].push(t)}};Yo(es,Xr),es.stopListening=function(t,e,n){if(!t&&this[Zo]){var r,i=Go(this[Zo]);try{for(i.s();!(r=i.n()).done;){var o=r.value;this[o]=this[o][ts]}}catch(t){i.e(t)}finally{i.f()}delete this[Zo]}Xr.stopListening.call(this,t,e,n)};var ns=es;function rs(t){t[Ko]||(Rr()(t,Ko,{value:new G.a}),Rr()(t,Qo,{value:new G.a}),Rr()(t,Xo,{value:new G.a}))}function is(){var t,e,n,r,i,o,s,a,c=this,l=as.apply(void 0,arguments),u=M()(X()(t=this._bindings).call(t)),f=u.length;if(!l.callback&&l.to.length>1)throw new hr.a("observable-bind-to-no-callback",this);if(f>1&&l.callback)throw new hr.a("observable-bind-to-extra-callback",this);Ir()(e=l.to).call(e,(function(t){if(t.properties.length&&t.properties.length!==f)throw new hr.a("observable-bind-to-properties-length",c);t.properties.length||(t.properties=c._bindProperties)})),this._to=l.to,l.callback&&(this._bindings.get(u[0]).callback=l.callback),r=this._observable,i=this._to,Ir()(i).call(i,(function(t){var e,n=r[Qo];n.get(t.observable)||r.listenTo(t.observable,"change",(function(i,o){(e=n.get(t.observable)[o])&&Ir()(e).call(e,(function(t){cs(r,t.property)}))}))})),o=this,Ir()(s=o._bindings).call(s,(function(t,e){var n;Ir()(n=o._to).call(n,(function(n){var r;a=n.properties[t.callback?0:Er()(r=o._bindProperties).call(r,e)],t.to.push([n.observable,a]),function(t,e,n,r){var i=t[Qo],o=i.get(n),s=o||{};s[r]||(s[r]=new tt.a),s[r].add(e),o||i.set(n,s)}(o._observable,t,n.observable,a)}))})),Ir()(n=this._bindProperties).call(n,(function(t){cs(c._observable,t)}))}function os(t,e,n){var r;if(this._bindings.size>1)throw new hr.a("observable-bind-to-many-not-one-binding",this);this.to.apply(this,nt()(r=k()(function(t,e){var n=U()(t).call(t,(function(t){return[t,e]}));return nt()(Array.prototype).apply([],n)}(t,e))).call(r,[n]))}function ss(t){return Wo()(t).call(t,(function(t){return"string"==typeof t}))}function as(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new hr.a("observable-bind-to-parse-error",null);var r,i={to:[]};return"function"==typeof e[e.length-1]&&(i.callback=e.pop()),Ir()(e).call(e,(function(t){if("string"==typeof t)r.properties.push(t);else{if("object"!=b()(t))throw new hr.a("observable-bind-to-parse-error",null);r={observable:t,properties:[]},i.to.push(r)}})),i}function cs(t,e){var n,r,i=t[Xo].get(e);i.callback?n=i.callback.apply(t,U()(r=i.to).call(r,(function(t){return t[0][t[1]]}))):n=(n=i.to[0])[0][n[1]];Object.prototype.hasOwnProperty.call(t,e)?t[e]=n:t.set(e,n)}function ls(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var us=function(t){wr()(n,t);var e=ls(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o)).set("isReadOnly",!1),s.set("isFocused",!1),$o()(s).call(s,"isReadOnly").to(t),$o()(s).call(s,"isFocused").to(t,"isFocused",(function(e){return e&&t.selection.editableElement==Lo()(s)})),s.listenTo(t.selection,"change",(function(){s.isFocused=t.isFocused&&t.selection.editableElement==Lo()(s)})),s}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"destroy",value:function(){this.stopListening()}}]),n}(Vo);di(us,ns);var fs=function(){function t(e,n){O()(this,t),this.parent=e,this.offset=n}return P()(t,[{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var t=this.parent;!(t instanceof us);){if(!t.parent)return null;t=t.parent}return t}},{key:"getShiftedBy",value:function(e){var n=t._createAt(this),r=n.offset+e;return n.offset=r<0?0:r,n}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new Ro(e);return n.skip(t),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),r=0;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}},{key:"is",value:function(t){return"position"===t||"view:position"===t}},{key:"isEqual",value:function(t){return this.parent==t.parent&&this.offset==t.offset}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"compareWith",value:function(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";var e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);var r=hi(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.startPosition=this,new Ro(t)}},{key:"clone",value:function(){return new t(this.parent,this.offset)}}],[{key:"_createAt",value:function(e,n){if(e instanceof t)return new this(e.parent,e.offset);var r=e;if("end"==n)n=r.is("$text")?r.data.length:r.childCount;else{if("before"==n)return this._createBefore(r);if("after"==n)return this._createAfter(r);if(0!==n&&!n)throw new hr.a("view-createpositionat-offset-required",r)}return new t(r,n)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new t(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new hr.a("view-position-after-root",e,{root:e});return new t(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new t(e.textNode,e.offsetInText);if(!e.parent)throw new hr.a("view-position-before-root",e,{root:e});return new t(e.parent,e.index)}}]),t}();function ds(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return hs(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ps=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;O()(this,e),this.start=t.clone(),this.end=n?n.clone():t.clone()}return P()(e,[{key:t,value:dr.a.mark((function t(){return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new Ro({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(vs,{direction:"backward"}),n=this.end.getLastMatchingPosition(vs);return t.parent.is("$text")&&t.isAtStart&&(t=fs._createBefore(t.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=fs._createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(vs);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var n=this.end.getLastMatchingPosition(vs,{direction:"backward"}),r=t.nodeAfter,i=n.nodeBefore;return r&&r.is("$text")&&(t=new fs(r,0)),i&&i.is("$text")&&(n=new fs(i,i.data.length)),new e(t,n)}},{key:"isEqual",value:function(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new Ro(t)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr.a.mark((function n(){var r,i,o,s;return dr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.boundaries=t,e.ignoreElementEnd=!0,r=new Ro(e),i=ds(r),n.prev=4,i.s();case 6:if((o=i.n()).done){n.next=12;break}return s=o.value,n.next=10,s.item;case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),i.e(n.t0);case 17:return n.prev=17,i.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))()}},{key:"getPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr.a.mark((function n(){var r,i,o,s;return dr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.boundaries=t,r=new Ro(e),n.next=4,r.position;case 4:i=ds(r),n.prev=5,i.s();case 7:if((o=i.n()).done){n.next=13;break}return s=o.value,n.next=11,s.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"is",value:function(t){return"range"===t||"view:range"===t}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}}],[{key:"_createFromParentsAndOffsets",value:function(t,e,n,r){return new this(new fs(t,e),new fs(n,r))}},{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}},{key:"_createOn",value:function(t){var e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(fs._createBefore(t),e)}}]),e}(vr.a);function vs(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function ms(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return gs(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ys(t){var e,n=0,r=ms(t);try{for(r.s();!(e=r.n()).done;){e.value;n++}}catch(t){r.e(t)}finally{r.f()}return n}function _s(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return bs(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function bs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ws=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;O()(this,t),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,n,r)}return P()(t,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:dr.a.mark((function t(){var e,n,r;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=_s(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.clone();case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var t,e=null,n=_s(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var t,e=null,n=_s(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"isEqual",value:function(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=_s(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=!1,s=_s(t._ranges);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(i.isEqual(a)){o=!0;break}}}catch(t){s.e(t)}finally{s.f()}if(!o)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"isSimilar",value:function(t){if(this.isBackward!=t.isBackward)return!1;var e=ys(this.getRanges());if(e!=ys(t.getRanges()))return!1;if(0==e)return!0;var n,r=_s(this.getRanges());try{for(r.s();!(n=r.n()).done;){var i=n.value;i=i.getTrimmed();var o,s=!1,a=_s(t.getRanges());try{for(a.s();!(o=a.n()).done;){var c=o.value;if(c=c.getTrimmed(),i.start.isEqual(c.start)&&i.end.isEqual(c.end)){s=!0;break}}}catch(t){a.e(t)}finally{a.f()}if(!s)return!1}}catch(t){r.e(t)}finally{r.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]),this._setFakeOptions(n);else if(e instanceof t||e instanceof ks)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof ps)this._setRanges([e],n&&n.backward),this._setFakeOptions(n);else if(e instanceof fs)this._setRanges([new ps(e)]),this._setFakeOptions(n);else if(e instanceof yo){var i,o=!!r&&!!r.backward;if(void 0===n)throw new hr.a("view-selection-setto-required-second-parameter",this);i="in"==n?ps._createIn(e):"on"==n?ps._createOn(e):new ps(fs._createAt(e,n)),this._setRanges([i],o),this._setFakeOptions(r)}else{if(!ko(e))throw new hr.a("view-selection-setto-not-selectable",this);this._setRanges(e,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new hr.a("view-selection-setfocus-no-ranges",this);var n=fs._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new ps(n,r),!0):this._addRange(new ps(r,n)),this.fire("change")}}},{key:"is",value:function(t){return"selection"===t||"view:selection"===t}},{key:"_setRanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=M()(t),this._ranges=[];var n,r=_s(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._addRange(i)}}catch(t){r.e(t)}finally{r.f()}this._lastRangeBackward=!!e}},{key:"_setFakeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}},{key:"_addRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t instanceof ps))throw new hr.a("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}},{key:"_pushRange",value:function(t){var e,n=_s(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.isIntersecting(r))throw new hr.a("view-selection-range-intersects",this,{addedRange:t,intersectingRange:r})}}catch(t){n.e(t)}finally{n.f()}this._ranges.push(new ps(t.start,t.end))}}]),t}();di(ws,Xr);var ks=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;O()(this,t),this._selection=new ws,this._selection.delegate("change").to(this),this._selection.setTo(e,n,r)}return P()(t,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:dr.a.mark((function t(){return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(t){return this._selection.isEqual(t)}},{key:"isSimilar",value:function(t){return this._selection.isSimilar(t)}},{key:"is",value:function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}}]),t}();di(ks,Xr);var xs=n(85),Ss=n.n(xs),Cs=n(80),Os=n.n(Cs);function Es(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ps(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ps(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var As=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O()(this,e);var r=ko(t);if(r||(n=t),this._items=[],this._itemMap=new G.a,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new Ss.a,this._bindToInternalToExternalMap=new Ss.a,this._skippedIndexesFromExternal=[],r){var i,o=Es(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}}catch(t){o.e(t)}finally{o.f()}}}return P()(e,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(t,e){return this.addMany([t],e)}},{key:"addMany",value:function(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new hr.a("collection-add-item-invalid-index",this);for(var n=0;n<t.length;n++){var r,i=t[n],o=this._getItemIdBeforeAdding(i),s=e+n;W()(r=this._items).call(r,s,0,i),this._itemMap.set(o,i),this.fire("add",i,s)}return this.fire("change",{added:t,removed:[],index:e}),this}},{key:"get",value:function(t){var e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new hr.a("collection-get-invalid-arg",this);e=this._items[t]}return e||null}},{key:"has",value:function(t){if("string"==typeof t)return this._itemMap.has(t);var e=t[this._idProperty];return this._itemMap.has(e)}},{key:"getIndex",value:function(t){var e,n;return n="string"==typeof t?this._itemMap.get(t):t,Er()(e=this._items).call(e,n)}},{key:"remove",value:function(t){var e=this._remove(t),n=S()(e,2),r=n[0],i=n[1];return this.fire("change",{added:[],removed:[r],index:i}),r}},{key:"map",value:function(t,e){var n;return U()(n=this._items).call(n,t,e)}},{key:"find",value:function(t,e){var n;return D()(n=this._items).call(n,t,e)}},{key:"filter",value:function(t,e){var n;return K()(n=this._items).call(n,t,e)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var t=M()(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}},{key:"bindTo",value:function(t){var e=this;if(this._bindToCollection)throw new hr.a("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:function(t){e._setUpBindToBinding((function(e){return new t(e)}))},using:function(t){"function"==typeof t?e._setUpBindToBinding((function(e){return t(e)})):e._setUpBindToBinding((function(e){return e[t]}))}}}},{key:"_setUpBindToBinding",value:function(t){var e,n=this,r=this._bindToCollection,i=function(e,i,o){var s=r._bindToCollection==n,a=r._bindToInternalToExternalMap.get(i);if(s&&a)n._bindToExternalToInternalMap.set(i,a),n._bindToInternalToExternalMap.set(a,i);else{var c=t(i);if(!c)return void n._skippedIndexesFromExternal.push(o);var l,u=o,f=Es(n._skippedIndexesFromExternal);try{for(f.s();!(l=f.n()).done;){o>l.value&&u--}}catch(t){f.e(t)}finally{f.f()}var d,h=Es(r._skippedIndexesFromExternal);try{for(h.s();!(d=h.n()).done;){u>=d.value&&u++}}catch(t){h.e(t)}finally{h.f()}n._bindToExternalToInternalMap.set(i,c),n._bindToInternalToExternalMap.set(c,i),n.add(c,u);for(var p=0;p<r._skippedIndexesFromExternal.length;p++)u<=r._skippedIndexesFromExternal[p]&&r._skippedIndexesFromExternal[p]++}},o=Es(r);try{for(o.s();!(e=o.n()).done;){var s=e.value;i(0,s,r.getIndex(s))}}catch(t){o.e(t)}finally{o.f()}this.listenTo(r,"add",i),this.listenTo(r,"remove",(function(t,e,r){var i,o=n._bindToExternalToInternalMap.get(e);o&&n.remove(o),n._skippedIndexesFromExternal=Os()(i=n._skippedIndexesFromExternal).call(i,(function(t,e){return r<e&&t.push(e-1),r>e&&t.push(e),t}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(t){var e,n=this._idProperty;if(n in t){if("string"!=typeof(e=t[n]))throw new hr.a("collection-add-invalid-id",this);if(this.get(e))throw new hr.a("collection-add-item-already-exists",this)}else t[n]=e=Hr();return e}},{key:"_remove",value:function(t){var e,n,r,i,o,s=!1,a=this._idProperty;if("string"==typeof t)r=t,s=!(i=this._itemMap.get(r)),i&&(n=Er()(o=this._items).call(o,i));else if("number"==typeof t)n=t,s=!(i=this._items[n]),i&&(r=i[a]);else{var c;r=(i=t)[a],s=-1==(n=Er()(c=this._items).call(c,i))||!this._itemMap.get(r)}if(s)throw new hr.a("collection-remove-404",this);W()(e=this._items).call(e,n,1),this._itemMap.delete(r);var l=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(l),this.fire("remove",i,n),[i,n]}},{key:t,value:function(){return Ar()(this._items)}}]),e}(vr.a);di(As,Xr);var Ts=n(296),js=n.n(Ts);function Ms(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Is=function(t){wr()(n,t);var e=Ms(n);function n(t,r,i){var o;return O()(this,n),(o=e.call(this,t,r)).startRange=i,o._eventPhase="none",o._currentTarget=null,o}return P()(n,[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}]),n}(qr);function Ns(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Rs(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ds=m()("bubbling contexts"),Ls={fire:function(t){try{var e,n,r=t instanceof qr?t:new qr(this,t),i=Us(this);if(!i.size)return;$s(r,"capturing",this);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(Fs.apply(void 0,nt()(e=[i,"$capture",r]).call(e,s)))return r.return;var c=r.startRange||this.selection.getFirstRange(),l=c?c.getContainedElement():null,u=!!l&&Boolean(qs(i,l)),f=l||function(t){if(!t)return null;var e=t.start.parent,n=t.end.parent,r=e.getPath(),i=n.getPath();return r.length>i.length?e:n}(c);if($s(r,"atTarget",f),!u){var d;if(Fs.apply(void 0,nt()(d=[i,"$text",r]).call(d,s)))return r.return;$s(r,"bubbling",f)}for(;f;){var h,p;if(f.is("rootElement")){if(Fs.apply(void 0,nt()(p=[i,"$root",r]).call(p,s)))return r.return}else if(f.is("element")){var v;if(Fs.apply(void 0,nt()(v=[i,f.name,r]).call(v,s)))return r.return}if(Fs.apply(void 0,nt()(h=[i,f,r]).call(h,s)))return r.return;$s(r,"bubbling",f=f.parent)}return $s(r,"bubbling",this),Fs.apply(void 0,nt()(n=[i,"$document",r]).call(n,s)),r.return}catch(t){hr.a.rethrowUnexpectedError(t,this)}},_addEventListener:function(t,e,n){var r,i=So(n.context||"$document"),o=Us(this),s=Ns(i);try{for(s.s();!(r=s.n()).done;){var a=r.value,c=o.get(a);c||(c=js()(Xr),o.set(a,c)),this.listenTo(c,t,e,n)}}catch(t){s.e(t)}finally{s.f()}},_removeEventListener:function(t,e){var n,r=Us(this),i=Ns(it()(r).call(r));try{for(i.s();!(n=i.n()).done;){var o=n.value;this.stopListening(o,t,e)}}catch(t){i.e(t)}finally{i.f()}}},Bs=Ls;function $s(t,e,n){t instanceof Is&&(t._eventPhase=e,t._currentTarget=n)}function Fs(t,e,n){var r,i="string"==typeof e?t.get(e):qs(t,e);if(!i)return!1;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i.fire.apply(i,nt()(r=[n]).call(r,s)),n.stop.called}function qs(t,e){var n,r=Ns(t);try{for(r.s();!(n=r.n()).done;){var i=S()(n.value,2),o=i[0],s=i[1];if("function"==typeof o&&o(e))return s}}catch(t){r.e(t)}finally{r.f()}return null}function Us(t){return t[Ds]||(t[Ds]=new G.a),t[Ds]}function Vs(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return zs(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zs(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hs=function(){function t(e){O()(this,t),this.selection=new ks,this.roots=new As({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new tt.a}return P()(t,[{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"destroy",value:function(){var t;U()(t=this.roots).call(t,(function(t){return t.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=Vs(this._postFixers);try{for(r.s();!(n=r.n()).done;){if(e=(0,n.value)(t))break}}catch(t){r.e(t)}finally{r.f()}}while(e)}}]),t}();di(Hs,Bs),di(Hs,ns);var Ws,Ys,Gs=function(){function t(){O()(this,t)}return P()(t,[{key:"getHtml",value:function(t){var e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}]),t}(),Js=n(177),Ks=n.n(Js),Qs=n(86),Xs=n.n(Qs),Zs=n(119),ta=n.n(Zs),ea=n(297),na=n.n(ea),ra=n(298),ia=n.n(ra),oa=navigator.userAgent.toLowerCase(),sa={isMac:aa(oa),isWindows:(Ws=oa,Er()(Ws).call(Ws,"windows")>-1),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(oa),isSafari:function(t){return Er()(t).call(t," applewebkit/")>-1&&-1===Er()(t).call(t,"chrome")}(oa),isiOS:function(t){return!!t.match(/iphone|ipad/i)||aa(t)&&navigator.maxTouchPoints>0}(oa),isAndroid:function(t){return Er()(t).call(t,"android")>-1}(oa),isBlink:function(t){return Er()(t).call(t,"chrome/")>-1&&Er()(t).call(t,"edge/")<0}(oa),features:{isRegExpUnicodePropertySupported:function(){var t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};function aa(t){return Er()(t).call(t,"macintosh")>-1}function ca(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return la(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return la(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function la(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ua=function(){for(var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},e=65;e<=90;e++){t[String.fromCharCode(e).toLowerCase()]=e}for(var n=48;n<=57;n++)t[n-48]=n;for(var r=112;r<=123;r++)t["f"+(r-111)]=r;var i,o=ca("`-=[];',./\\");try{for(o.s();!(i=o.n()).done;){var s=i.value;t[s]=s.charCodeAt(0)}}catch(t){o.e(t)}finally{o.f()}return t}();na()(U()(Ys=T()(ua)).call(Ys,(function(t){var e=S()(t,2),n=e[0];return[e[1],n.charAt(0).toUpperCase()+p()(n).call(n,1)]})));function fa(t){var e;if("string"==typeof t){if(!(e=ua[t.toLowerCase()]))throw new hr.a("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?ua.alt:0)+(t.ctrlKey?ua.ctrl:0)+(t.shiftKey?ua.shift:0)+(t.metaKey?ua.cmd:0);return e}function da(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ha(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ha(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ha(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pa(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var va=function(t){wr()(n,t);var e=pa(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o))._isAllowedInsideAttributeElement=!0,s.getFillerOffset=ga,s}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof yo||M()(e).length>0))throw new hr.a("view-uielement-cannot-add",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var e,n=t.createElement(this.name),r=da(this.getAttributeKeys());try{for(r.s();!(e=r.n()).done;){var i=e.value;n.setAttribute(i,this.getAttribute(i))}}catch(t){r.e(t)}finally{r.f()}return n}}]),n}(Io);function ma(t){t.document.on("arrowKey",(function(e,n){return function(t,e,n){if(e.keyCode==ua.arrowright){var r=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==r.rangeCount&&r.getRangeAt(0).collapsed;if(i||e.shiftKey){var o=r.focusNode,s=r.focusOffset,a=n.domPositionToView(o,s);if(null===a)return;var c=!1,l=a.getLastMatchingPosition((function(t){return t.item.is("uiElement")&&(c=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))}));if(c){var u=n.viewPositionToDom(l);i?r.collapse(u.parent,u.offset):r.extend(u.parent,u.offset)}}}}(0,n,t.domConverter)}),{priority:"low"})}function ga(){return null}function ya(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return _a(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ba=function(t){function e(t,n){O()(this,e),this.document=t,this._children=[],n&&this._insertChild(0,n)}return P()(e,[{key:t,value:function(){return Ar()(this._children)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(t){return"documentFragment"===t||"view:documentFragment"===t}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){var e;return Er()(e=this._children).call(e,t)}},{key:"getChildren",value:function(){return Ar()(this._children)}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,i=function(t,e){var n;if("string"==typeof e)return[new bo(t,e)];ko(e)||(e=[e]);return U()(n=M()(e)).call(n,(function(e){return"string"==typeof e?new bo(t,e):e instanceof wo?new bo(t,e.data):e}))}(this.document,e),o=ya(i);try{for(o.s();!(n=o.n()).done;){var s,a=n.value;null!==a.parent&&a._remove(),a.parent=this,W()(s=this._children).call(s,t,0,a),t++,r++}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var r=t;r<t+n;r++)this._children[r].parent=null;return W()(e=this._children).call(e,t,n)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e)}}]),e}(vr.a);di(ba,Xr);var wa=n(198),ka=n.n(wa);function xa(t){return"[object Text]"==Object.prototype.toString.call(t)}var Sa=function(t){return t.createTextNode(" ")},Ca=function(t){var e=t.createElement("span");return e.dataset.ckeFiller=!0,e.innerHTML=" ",e},Oa=function(t){var e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Ea=7,Pa=ka()("⁠").call("⁠",Ea);function Aa(t){return xa(t)&&t.data.substr(0,Ea)===Pa}function Ta(t){return t.data.length==Ea&&Aa(t)}function ja(t){var e;return Aa(t)?p()(e=t.data).call(e,Ea):t.data}function Ma(t,e){if(e.keyCode==ua.arrowleft){var n=e.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var r=n.getRangeAt(0).startContainer,i=n.getRangeAt(0).startOffset;Aa(r)&&i<=Ea&&n.collapse(r,0)}}}var Ia={window:window,document:document};function Na(t){for(var e=0;t.previousSibling;)t=t.previousSibling,e++;return e}function Ra(t){for(var e=[];t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function Da(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return La(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return La(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function La(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ba=Oa(document),$a=Sa(document),Fa=Ca(document),qa="data-ck-unsafe-attribute-",Ua="data-ck-unsafe-element",Va=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O()(this,t),this.document=e,this.renderingMode=n.renderingMode||"editing",this.blockFillerMode=n.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new Ss.a,this._viewToDomMapping=new Ss.a,this._fakeSelectionMapping=new Ss.a,this._rawContentElementMatcher=new Eo,this._encounteredRawContentDomNodes=new Ks.a}return P()(t,[{key:"bindFakeSelection",value:function(t,e){this._fakeSelectionMapping.set(t,new ws(e))}},{key:"fakeSelectionToView",value:function(t){return this._fakeSelectionMapping.get(t)}},{key:"bindElements",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"unbindDomElement",value:function(t){var e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);var n,r=Da(t.childNodes);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.unbindDomElement(i)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"bindDocumentFragments",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"shouldRenderAttribute",value:function(t,e,n){return"data"===this.renderingMode||(t=t.toLowerCase(),!Xs()(t).call(t,"on")&&(("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||("source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i)))))}},{key:"setContentOf",value:function(t,e){if("data"!==this.renderingMode){for(var n=(new DOMParser).parseFromString(e,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;i.length>0;)r.appendChild(i[0]);for(var o,s=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),a=[];o=s.nextNode();)a.push(o);for(var c=0,l=a;c<l.length;c++){var u,f=l[c],d=Da(f.getAttributeNames());try{for(d.s();!(u=d.n()).done;){var h=u.value;this.setDomElementAttribute(f,h,f.getAttribute(h))}}catch(t){d.e(t)}finally{d.f()}var p=f.tagName.toLowerCase();this._shouldRenameElement(p)&&(Object(hr.b)("domconverter-unsafe-element-detected",{unsafeElement:f}),f.replaceWith(this._createReplacementDomElement(p,f)))}for(;t.firstChild;)t.firstChild.remove();t.append(r)}else t.innerHTML=e}},{key:"viewToDom",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.is("$text")){var i=this._processDataFromViewText(t);return e.createTextNode(i)}if(this.mapViewToDom(t))return this.mapViewToDom(t);if(t.is("documentFragment"))n=e.createDocumentFragment(),$o()(r)&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n="$comment"===t.name?e.createComment(t.getCustomProperty("$rawContent")):t.render(e,this),$o()(r)&&this.bindElements(n,t),n;this._shouldRenameElement(t.name)?(Object(hr.b)("domconverter-unsafe-element-detected",{unsafeElement:t}),n=this._createReplacementDomElement(t.name)):n=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(n,this),$o()(r)&&this.bindElements(n,t);var o,s=Da(t.getAttributeKeys());try{for(s.s();!(o=s.n()).done;){var a=o.value;this.setDomElementAttribute(n,a,t.getAttribute(a),t)}}catch(t){s.e(t)}finally{s.f()}}if(!1!==r.withChildren){var c,l=Da(this.viewChildrenToDom(t,e,r));try{for(l.s();!(c=l.n()).done;){var u=c.value;n.appendChild(u)}}catch(t){l.e(t)}finally{l.f()}}return n}},{key:"setDomElementAttribute",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(e);i||Object(hr.b)("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!i?t.removeAttribute(e):t.hasAttribute(qa+e)&&i&&t.removeAttribute(qa+e),t.setAttribute(i?e:qa+e,n)}},{key:"removeDomElementAttribute",value:function(t,e){e!=Ua&&(t.removeAttribute(e),t.removeAttribute(qa+e))}},{key:"viewChildrenToDom",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return dr.a.mark((function i(){var o,s,a,c,l;return dr.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=t.getFillerOffset&&t.getFillerOffset(),s=0,a=Da(t.getChildren()),i.prev=3,a.s();case 5:if((c=a.n()).done){i.next=15;break}if(l=c.value,o!==s){i.next=10;break}return i.next=10,n._getBlockFiller(e);case 10:return i.next=12,n.viewToDom(l,e,r);case 12:s++;case 13:i.next=5;break;case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(3),a.e(i.t0);case 20:return i.prev=20,a.f(),i.finish(20);case 23:if(o!==s){i.next=26;break}return i.next=26,n._getBlockFiller(e);case 26:case"end":return i.stop()}}),i,null,[[3,17,20,23]])}))()}},{key:"viewRangeToDom",value:function(t){var e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=document.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}},{key:"viewPositionToDom",value:function(t){var e,n,r,i=t.parent;if(i.is("$text")){var o=this.findCorrespondingDomText(i);if(!o)return null;var s=t.offset;return Aa(o)&&(s+=Ea),{parent:o,offset:s}}if(0===t.offset){if(!(e=this.mapViewToDom(i)))return null;r=e.childNodes[0]}else{var a=t.nodeBefore;if(!(n=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(t.nodeBefore)))return null;e=n.parentNode,r=n.nextSibling}return xa(r)&&Aa(r)?{parent:r,offset:Ea}:{parent:e,offset:n?Na(n)+1:0}}},{key:"domToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(t))return null;var n,r=this.getHostViewElement(t);if(r)return r;if(this.isComment(t)&&e.skipComments)return null;if(xa(t)){if(Ta(t))return null;var i=this._processDataFromDomText(t);return""===i?null:new bo(this.document,i)}if(this.mapDomToView(t))return this.mapDomToView(t);if(this.isDocumentFragment(t))n=new ba(this.document),$o()(e)&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),$o()(e)&&this.bindElements(t,n);var o=t.attributes;if(o)for(var s=o.length-1;s>=0;s--)n._setAttribute(o[s].name,o[s].value);if(this._isViewElementWithRawContent(n,e)||this.isComment(t)){var a=this.isComment(t)?t.data:t.innerHTML;return n._setCustomProperty("$rawContent",a),this._encounteredRawContentDomNodes.add(t),n}}if(!1!==e.withChildren){var c,l=Da(this.domChildrenToView(t,e));try{for(l.s();!(c=l.n()).done;){var u=c.value;n._appendChild(u)}}catch(t){l.e(t)}finally{l.f()}}return n}},{key:"domChildrenToView",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return dr.a.mark((function r(){var i,o,s;return dr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.childNodes.length)){r.next=10;break}if(o=t.childNodes[i],null===(s=e.domToView(o,n))){r.next=7;break}return r.next=7,s;case 7:i++,r.next=1;break;case 10:case"end":return r.stop()}}),r)}))()}},{key:"domSelectionToView",value:function(t){if(1===t.rangeCount){var e=t.getRangeAt(0).startContainer;xa(e)&&(e=e.parentNode);var n=this.fakeSelectionToView(e);if(n)return n}for(var r=this.isDomSelectionBackward(t),i=[],o=0;o<t.rangeCount;o++){var s=t.getRangeAt(o),a=this.domRangeToView(s);a&&i.push(a)}return new ws(i,{backward:r})}},{key:"domRangeToView",value:function(t){var e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ps(e,n):null}},{key:"domPositionToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Na(t));var n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return fs._createBefore(n);if(xa(t)){if(Ta(t))return this.domPositionToView(t.parentNode,Na(t));var r=this.findCorrespondingViewText(t),i=e;return r?(Aa(t)&&(i=(i-=Ea)<0?0:i),new fs(r,i)):null}if(0===e){var o=this.mapDomToView(t);if(o)return new fs(o,0)}else{var s=t.childNodes[e-1],a=xa(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(a&&a.parent)return new fs(a.parent,a.index+1)}return null}},{key:"mapDomToView",value:function(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}},{key:"findCorrespondingViewText",value:function(t){if(Ta(t))return null;var e=this.getHostViewElement(t);if(e)return e;var n=t.previousSibling;if(n){if(!this.isElement(n))return null;var r=this.mapDomToView(n);if(r)return r.nextSibling instanceof bo?r.nextSibling:null}else{var i=this.mapDomToView(t.parentNode);if(i){var o=i.getChild(0);return o instanceof bo?o:null}}return null}},{key:"mapViewToDom",value:function(t){return this._viewToDomMapping.get(t)}},{key:"findCorrespondingDomText",value:function(t){var e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}},{key:"focus",value:function(t){var e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){var n=Ia.window,r=n.scrollX,i=n.scrollY,o=[];za(e,(function(t){var e=t.scrollLeft,n=t.scrollTop;o.push([e,n])})),e.focus(),za(e,(function(t){var e=o.shift(),n=S()(e,2),r=n[0],i=n[1];t.scrollLeft=r,t.scrollTop=i})),Ia.window.scrollTo(r,i)}}},{key:"isElement",value:function(t){return t&&t.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(t){return t&&t.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(t){return"br"==this.blockFillerMode?t.isEqualNode(Ba):!("BR"!==t.tagName||!Ha(t,this.blockElements)||1!==t.parentNode.childNodes.length)||(t.isEqualNode(Fa)||function(t,e){var n=t.isEqualNode($a);return n&&Ha(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements))}},{key:"isDomSelectionBackward",value:function(t){if(t.isCollapsed)return!1;var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;return e.detach(),n}},{key:"getHostViewElement",value:function(t){var e=Ra(t);for(e.pop();e.length;){var n=e.pop(),r=this._domToViewMapping.get(n);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}},{key:"isDomSelectionCorrect",value:function(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}},{key:"registerRawContentMatcher",value:function(t){this._rawContentElementMatcher.add(t)}},{key:"_getBlockFiller",value:function(t){switch(this.blockFillerMode){case"nbsp":return Sa(t);case"markedNbsp":return Ca(t);case"br":return Oa(t)}}},{key:"_isDomSelectionPositionCorrect",value:function(t,e){if(xa(t)&&Aa(t)&&e<Ea)return!1;if(this.isElement(t)&&Aa(t.childNodes[e]))return!1;var n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(t){var e,n=this,r=t.data;if(ta()(e=t.getAncestors()).call(e,(function(t){var e;return jr()(e=n.preElements).call(e,t.name)})))return r;if(" "==r.charAt(0)){var i=this._getTouchingInlineViewNode(t,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(r=" "+r.substr(1))}if(" "==r.charAt(r.length-1)){var o=this._getTouchingInlineViewNode(t,!0),s=o&&o.is("$textProxy")&&" "==o.data.charAt(0);" "!=r.charAt(r.length-2)&&o&&!s||(r=r.substr(0,r.length-1)+" ")}return r.replace(/ {2}/g,"  ")}},{key:"_nodeEndsWithSpace",value:function(t){var e,n=this;if(ta()(e=t.getAncestors()).call(e,(function(t){var e;return jr()(e=n.preElements).call(e,t.name)})))return!1;var r=this._processDataFromViewText(t);return" "==r.charAt(r.length-1)}},{key:"_processDataFromDomText",value:function(t){var e=t.data;if(function(t,e){var n=Ra(t);return ta()(n).call(n,(function(t){return t.tagName&&jr()(e).call(e,t.tagName.toLowerCase())}))}(t,this.preElements))return ja(t);e=e.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(t,!1),r=this._getTouchingInlineDomNode(t,!0),i=this._checkShouldLeftTrimDomText(t,n),o=this._checkShouldRightTrimDomText(t,r);i&&(e=e.replace(/^ /,"")),o&&(e=e.replace(/ $/,"")),e=(e=ja(new Text(e))).replace(/ \u00A0/g,"  ");var s=r&&this.isElement(r)&&"BR"!=r.tagName,a=r&&xa(r)&&" "==r.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!r||s||a)&&(e=e.replace(/\u00A0$/," ")),(i||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}},{key:"_checkShouldLeftTrimDomText",value:function(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}},{key:"_checkShouldRightTrimDomText",value:function(t,e){return!e&&!Aa(t)}},{key:"_getTouchingInlineViewNode",value:function(t,e){var n,r=Da(new Ro({startPosition:e?fs._createAfter(t):fs._createBefore(t),direction:e?"forward":"backward"}));try{for(r.s();!(n=r.n()).done;){var i,o=n.value;if(o.item.is("element")&&jr()(i=this.inlineObjectElements).call(i,o.item.name))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(t,e){if(!t.parentNode)return null;var n=e?"firstChild":"lastChild",r=e?"nextSibling":"previousSibling",i=!0;do{if(!i&&t[n]?t=t[n]:t[r]?(t=t[r],i=!1):(t=t.parentNode,i=!0),!t||this._isBlockElement(t))return null}while(!xa(t)&&"BR"!=t.tagName&&!this._isInlineObjectElement(t));return t}},{key:"_isBlockElement",value:function(t){var e;return this.isElement(t)&&jr()(e=this.blockElements).call(e,t.tagName.toLowerCase())}},{key:"_isInlineObjectElement",value:function(t){var e;return this.isElement(t)&&jr()(e=this.inlineObjectElements).call(e,t.tagName.toLowerCase())}},{key:"_createViewElement",value:function(t,e){if(this.isComment(t))return new va(this.document,"$comment");var n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Io(this.document,n)}},{key:"_isViewElementWithRawContent",value:function(t,e){return!1!==e.withChildren&&this._rawContentElementMatcher.match(t)}},{key:"_shouldRenameElement",value:function(t){return"editing"==this.renderingMode&&"script"==t.toLowerCase()}},{key:"_createReplacementDomElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("span");if(n.setAttribute(Ua,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);var r,i=Da(e.getAttributeNames());try{for(i.s();!(r=i.n()).done;){var o=r.value;n.setAttribute(o,e.getAttribute(o))}}catch(t){i.e(t)}finally{i.f()}}return n}}]),t}();function za(t,e){for(;t&&t!=Ia.document;)e(t),t=t.parentNode}function Ha(t,e){var n=t.parentNode;return n&&n.tagName&&jr()(e).call(e,n.tagName.toLowerCase())}var Wa=function(){function t(e){O()(this,t),this.domParser=new DOMParser,this.domConverter=new Va(e,{renderingMode:"data"}),this.htmlWriter=new Gs}return P()(t,[{key:"toData",value:function(t){var e=this.domConverter.viewToDom(t,document);return this.htmlWriter.getHtml(e)}},{key:"toView",value:function(t){var e=this._toDom(t);return this.domConverter.domToView(e)}},{key:"registerRawContentMatcher",value:function(t){this.domConverter.registerRawContentMatcher(t)}},{key:"useFillerType",value:function(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(t){for(var e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.firstChild;!r.isSameNode(e.documentElement);){var i=r;r=r.nextSibling,i.nodeType==Node.COMMENT_NODE&&n.appendChild(i)}for(var o=e.body.childNodes;o.length>0;)n.appendChild(o[0]);return n}}]),t}(),Ya=n(163),Ga=n.n(Ya);n(1146);new Ss.a;function Ja(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ka=m()("rootName"),Qa=function(t){wr()(n,t);var e=Ja(n);function n(t,r){var i;return O()(this,n),(i=e.call(this,t,r)).rootName="main",i}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"rootName",get:function(){return this.getCustomProperty(Ka)},set:function(t){this._setCustomProperty(Ka,t)}},{key:"_name",set:function(t){this.name=t}}]),n}(us),Xa=n(31),Za=n.n(Xa);function tc(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var ec=function(t){wr()(n,t);var e=tc(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o)).getFillerOffset=nc,s._priority=10,s._id=null,s._clonesGroup=null,s}return P()(n,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new hr.a("attribute-element-get-elements-with-same-id-no-id",this);return new tt.a(this._clonesGroup)}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return null!==this.id||null!==t.id?this.id===t.id:Za()(Cr()(n.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var e=Za()(Cr()(n.prototype),"_clone",this).call(this,t);return e._priority=this._priority,e._id=this._id,e}}]),n}(Io);function nc(){if(rc(this))return null;for(var t=this.parent;t&&t.is("attributeElement");){if(rc(t)>1)return null;t=t.parent}return!t||rc(t)>1?null:this.childCount}function rc(t){var e;return K()(e=M()(t.getChildren())).call(e,(function(t){return!t.is("uiElement")})).length}function ic(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}ec.DEFAULT_PRIORITY=10;var oc=function(t){wr()(n,t);var e=ic(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o))._isAllowedInsideAttributeElement=!0,s.getFillerOffset=sc,s}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof yo||M()(e).length>0))throw new hr.a("view-emptyelement-cannot-add",[this,e])}}]),n}(Io);function sc(){return null}function ac(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var cc=function(t){wr()(n,t);var e=ac(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,t,r,i,o))._isAllowedInsideAttributeElement=!0,s.getFillerOffset=lc,s}return P()(n,[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof yo||M()(e).length>0))throw new hr.a("view-rawelement-cannot-add",[this,e])}}]),n}(Io);function lc(){return null}function uc(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return fc(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dc=function(){function t(e){O()(this,t),this.document=e,this._cloneGroups=new G.a}return P()(t,[{key:"setSelection",value:function(t,e,n){this.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this.document.selection._setFocus(t,e)}},{key:"createDocumentFragment",value:function(t){return new ba(this.document,t)}},{key:"createText",value:function(t){return new bo(this.document,t)}},{key:"createAttributeElement",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new ec(this.document,t,e);("number"==typeof r.priority&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes)&&(n=i._unsafeAttributesToRender).push.apply(n,k()(r.renderUnsafeAttributes));return i}},{key:"createContainerElement",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Vo(this.document,t,e);(void 0!==r.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),r.renderUnsafeAttributes)&&(n=i._unsafeAttributesToRender).push.apply(n,k()(r.renderUnsafeAttributes));return i}},{key:"createEditableElement",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new us(this.document,t,e);(i._document=this.document,r.renderUnsafeAttributes)&&(n=i._unsafeAttributesToRender).push.apply(n,k()(r.renderUnsafeAttributes));return i}},{key:"createEmptyElement",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new oc(this.document,t,e);(void 0!==r.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),r.renderUnsafeAttributes)&&(n=i._unsafeAttributesToRender).push.apply(n,k()(r.renderUnsafeAttributes));return i}},{key:"createUIElement",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new va(this.document,t,e);return n&&(i.render=n),void 0!==r.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),i}},{key:"createRawElement",value:function(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new cc(this.document,t,e);(o.render=n||function(){},void 0!==i.isAllowedInsideAttributeElement&&(o._isAllowedInsideAttributeElement=i.isAllowedInsideAttributeElement),i.renderUnsafeAttributes)&&(r=o._unsafeAttributesToRender).push.apply(r,k()(i.renderUnsafeAttributes));return o}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){wn(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"breakAttributes",value:function(t){return t instanceof fs?this._breakAttributes(t):this._breakAttributesRange(t)}},{key:"breakContainer",value:function(t){var e=t.parent;if(!e.is("containerElement"))throw new hr.a("view-writer-break-non-container-element",this.document);if(!e.parent)throw new hr.a("view-writer-break-root",this.document);if(t.isAtStart)return fs._createBefore(e);if(!t.isAtEnd){var n=e._clone(!1);this.insert(fs._createAfter(e),n);var r=new ps(t,fs._createAt(e,"end")),i=new fs(n,0);this.move(r,i)}return fs._createAfter(e)}},{key:"mergeAttributes",value:function(t){var e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,i=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new fs(r,i))}var o=n.getChild(e-1),s=n.getChild(e);if(!o||!s)return t;if(o.is("$text")&&s.is("$text"))return gc(o,s);if(o.is("attributeElement")&&s.is("attributeElement")&&o.isSimilar(s)){var a=o.childCount;return o._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new fs(o,a))}return t}},{key:"mergeContainers",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new hr.a("view-writer-merge-containers-invalid-position",this.document);var r=e.getChild(e.childCount-1),i=r instanceof bo?fs._createAt(r,"end"):fs._createAt(e,"end");return this.move(ps._createIn(n),fs._createAt(e,"end")),this.remove(ps._createOn(n)),i}},{key:"insert",value:function(t,e){yc(e=ko(e)?k()(e):[e],this.document);var n,r=Os()(e).call(e,(function(t,e){var n=t[t.length-1],r=!(e.is("uiElement")&&e.isAllowedInsideAttributeElement);return n&&n.breakAttributes==r?n.nodes.push(e):t.push({breakAttributes:r,nodes:[e]}),t}),[]),i=null,o=t,s=uc(r);try{for(s.s();!(n=s.n()).done;){var a=n.value,c=a.nodes,l=a.breakAttributes,u=this._insertNodes(o,c,l);i||(i=u.start),o=u.end}}catch(t){s.e(t)}finally{s.f()}return i?new ps(i,o):new ps(t)}},{key:"remove",value:function(t){var e=t instanceof ps?t:ps._createOn(t);if(wc(e,this.document),e.isCollapsed)return new ba(this.document);var n,r=this._breakAttributesRange(e,!0),i=r.start,o=r.end,s=i.parent,a=o.offset-i.offset,c=s._removeChildren(i.offset,a),l=uc(c);try{for(l.s();!(n=l.n()).done;){var u=n.value;this._removeFromClonedElementsGroup(u)}}catch(t){l.e(t)}finally{l.f()}var f=this.mergeAttributes(i);return e.start=f,e.end=f.clone(),new ba(this.document,c)}},{key:"clear",value:function(t,e){wc(t,this.document);var n,r=uc(t.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.item,s=void 0;if(o.is("element")&&e.isSimilar(o))s=ps._createOn(o);else if(!i.nextPosition.isAfter(t.start)&&o.is("$textProxy")){var a,c=D()(a=o.getAncestors()).call(a,(function(t){return t.is("element")&&e.isSimilar(t)}));c&&(s=ps._createIn(c))}s&&(s.end.isAfter(t.end)&&(s.end=t.end),s.start.isBefore(t.start)&&(s.start=t.start),this.remove(s))}}catch(t){r.e(t)}finally{r.f()}}},{key:"move",value:function(t,e){var n;if(e.isAfter(t.end)){var r=(e=this._breakAttributes(e,!0)).parent,i=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-i}else n=this.remove(t);return this.insert(e,n)}},{key:"wrap",value:function(t,e){if(!(e instanceof ec))throw new hr.a("view-writer-wrap-invalid-attribute",this.document);if(wc(t,this.document),t.isCollapsed){var n=t.start;n.parent.is("element")&&(i=n.parent,!ta()(o=M()(i.getChildren())).call(o,(function(t){return!t.is("uiElement")})))&&(n=n.getLastMatchingPosition((function(t){return t.item.is("uiElement")}))),n=this._wrapPosition(n,e);var r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new ps(n)}return this._wrapRange(t,e);var i,o}},{key:"unwrap",value:function(t,e){if(!(e instanceof ec))throw new hr.a("view-writer-unwrap-invalid-attribute",this.document);if(wc(t,this.document),t.isCollapsed)return t;var n=this._breakAttributesRange(t,!0),r=n.start,i=n.end,o=r.parent,s=this._unwrapChildren(o,r.offset,i.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;var c=this.mergeAttributes(s.end);return new ps(a,c)}},{key:"rename",value:function(t,e){var n=new Vo(this.document,t,e.getAttributes());return this.insert(fs._createAfter(e),n),this.move(ps._createIn(e),fs._createAt(n,0)),this.remove(ps._createOn(e)),n}},{key:"clearClonedElementsGroup",value:function(t){this._cloneGroups.delete(t)}},{key:"createPositionAt",value:function(t,e){return fs._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return fs._createAfter(t)}},{key:"createPositionBefore",value:function(t){return fs._createBefore(t)}},{key:"createRange",value:function(t,e){return new ps(t,e)}},{key:"createRangeOn",value:function(t){return ps._createOn(t)}},{key:"createRangeIn",value:function(t){return ps._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new ws(t,e,n)}},{key:"_insertNodes",value:function(t,e,n){var r,i;if(!(r=n?hc(t):t.parent.is("$text")?t.parent.parent:t.parent))throw new hr.a("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(t,!0):t.parent.is("$text")?mc(t):t;var o,s=r._insertChild(i.offset,e),a=uc(e);try{for(a.s();!(o=a.n()).done;){var c=o.value;this._addToClonedElementsGroup(c)}}catch(t){a.e(t)}finally{a.f()}var l=i.getShiftedBy(s),u=this.mergeAttributes(i);u.isEqual(i)||l.offset--;var f=this.mergeAttributes(l);return new ps(u,f)}},{key:"_wrapChildren",value:function(t,e,n,r){for(var i=e,o=[];i<n;){var s=t.getChild(i),a=s.is("$text"),c=s.is("attributeElement"),l=s.isAllowedInsideAttributeElement;if(c&&this._wrapAttributeElement(r,s))o.push(new fs(t,i));else if(a||l||c&&pc(r,s)){var u=r._clone();s._remove(),u._appendChild(s),t._insertChild(i,u),this._addToClonedElementsGroup(u),o.push(new fs(t,i))}else c&&this._wrapChildren(s,0,s.childCount,r);i++}for(var f=0,d=0,h=o;d<h.length;d++){var p=h[d];if(p.offset-=f,p.offset!=e)this.mergeAttributes(p).isEqual(p)||(f++,n--)}return ps._createFromParentsAndOffsets(t,e,t,n)}},{key:"_unwrapChildren",value:function(t,e,n,r){for(var i=e,o=[];i<n;){var s=t.getChild(i);if(s.is("attributeElement"))if(s.isSimilar(r)){var a=s.getChildren(),c=s.childCount;s._remove(),t._insertChild(i,a),this._removeFromClonedElementsGroup(s),o.push(new fs(t,i),new fs(t,i+c)),i+=c,n+=c-1}else this._unwrapAttributeElement(r,s)?(o.push(new fs(t,i),new fs(t,i+1)),i++):(this._unwrapChildren(s,0,s.childCount,r),i++);else i++}for(var l=0,u=0,f=o;u<f.length;u++){var d=f[u];if(d.offset-=l,d.offset!=e&&d.offset!=n)this.mergeAttributes(d).isEqual(d)||(l++,n--)}return ps._createFromParentsAndOffsets(t,e,t,n)}},{key:"_wrapRange",value:function(t,e){var n=this._breakAttributesRange(t,!0),r=n.start,i=n.end,o=r.parent,s=this._wrapChildren(o,r.offset,i.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;var c=this.mergeAttributes(s.end);return new ps(a,c)}},{key:"_wrapPosition",value:function(t,e){if(e.isSimilar(t.parent))return vc(t.clone());t.parent.is("$text")&&(t=mc(t));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},t.parent._insertChild(t.offset,n);var r=new ps(t,t.getShiftedBy(1));this.wrap(r,e);var i=new fs(n.parent,n.index);n._remove();var o=i.nodeBefore,s=i.nodeAfter;return o instanceof bo&&s instanceof bo?gc(o,s):vc(i)}},{key:"_wrapAttributeElement",value:function(t,e){if(!kc(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=uc(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&(e.hasAttribute(i)&&e.getAttribute(i)!==t.getAttribute(i)))return!1}}catch(t){r.e(t)}finally{r.f()}var o,s=uc(t.getStyleNames());try{for(s.s();!(o=s.n()).done;){var a=o.value;if(e.hasStyle(a)&&e.getStyle(a)!==t.getStyle(a))return!1}}catch(t){s.e(t)}finally{s.f()}var c,l=uc(t.getAttributeKeys());try{for(l.s();!(c=l.n()).done;){var u=c.value;"class"!==u&&"style"!==u&&(e.hasAttribute(u)||this.setAttribute(u,t.getAttribute(u),e))}}catch(t){l.e(t)}finally{l.f()}var f,d=uc(t.getStyleNames());try{for(d.s();!(f=d.n()).done;){var h=f.value;e.hasStyle(h)||this.setStyle(h,t.getStyle(h),e)}}catch(t){d.e(t)}finally{d.f()}var p,v=uc(t.getClassNames());try{for(v.s();!(p=v.n()).done;){var m=p.value;e.hasClass(m)||this.addClass(m,e)}}catch(t){v.e(t)}finally{v.f()}return!0}},{key:"_unwrapAttributeElement",value:function(t,e){if(!kc(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=uc(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&(!e.hasAttribute(i)||e.getAttribute(i)!==t.getAttribute(i)))return!1}}catch(t){r.e(t)}finally{r.f()}if(!e.hasClass.apply(e,k()(t.getClassNames())))return!1;var o,s=uc(t.getStyleNames());try{for(s.s();!(o=s.n()).done;){var a=o.value;if(!e.hasStyle(a)||e.getStyle(a)!==t.getStyle(a))return!1}}catch(t){s.e(t)}finally{s.f()}var c,l=uc(t.getAttributeKeys());try{for(l.s();!(c=l.n()).done;){var u=c.value;"class"!==u&&"style"!==u&&this.removeAttribute(u,e)}}catch(t){l.e(t)}finally{l.f()}return this.removeClass(M()(t.getClassNames()),e),this.removeStyle(M()(t.getStyleNames()),e),!0}},{key:"_breakAttributesRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.start,r=t.end;if(wc(t,this.document),t.isCollapsed){var i=this._breakAttributes(t.start,e);return new ps(i,i)}var o=this._breakAttributes(r,e),s=o.parent.childCount,a=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-s,new ps(a,o)}},{key:"_breakAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new hr.a("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new hr.a("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new hr.a("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&bc(r.parent))return t.clone();if(bc(r))return t.clone();if(r.is("$text"))return this._breakAttributes(mc(t),e);if(n==r.childCount){var i=new fs(r.parent,r.index+1);return this._breakAttributes(i,e)}if(0===n){var o=new fs(r.parent,r.index);return this._breakAttributes(o,e)}var s=r.index+1,a=r._clone();r.parent._insertChild(s,a),this._addToClonedElementsGroup(a);var c=r.childCount-n,l=r._removeChildren(n,c);a._appendChild(l);var u=new fs(r.parent,s);return this._breakAttributes(u,e)}},{key:"_addToClonedElementsGroup",value:function(t){if(t.root.is("rootElement")){if(t.is("element")){var e,n=uc(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._addToClonedElementsGroup(r)}}catch(t){n.e(t)}finally{n.f()}}var i=t.id;if(i){var o=this._cloneGroups.get(i);o||(o=new tt.a,this._cloneGroups.set(i,o)),o.add(t),t._clonesGroup=o}}}},{key:"_removeFromClonedElementsGroup",value:function(t){if(t.is("element")){var e,n=uc(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeFromClonedElementsGroup(r)}}catch(t){n.e(t)}finally{n.f()}}var i=t.id;if(i){var o=this._cloneGroups.get(i);o&&o.delete(t)}}}]),t}();function hc(t){for(var e=t.parent;!bc(e);){if(!e)return;e=e.parent}return e}function pc(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function vc(t){var e=t.nodeBefore;if(e&&e.is("$text"))return new fs(e,e.data.length);var n=t.nodeAfter;return n&&n.is("$text")?new fs(n,0):t}function mc(t){var e,n;if(t.offset==t.parent.data.length)return new fs(t.parent.parent,t.parent.index+1);if(0===t.offset)return new fs(t.parent.parent,t.parent.index);var r=p()(e=t.parent.data).call(e,t.offset);return t.parent._data=p()(n=t.parent.data).call(n,0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new bo(t.root.document,r)),new fs(t.parent.parent,t.parent.index+1)}function gc(t,e){var n=t.data.length;return t._data+=e.data,e._remove(),new fs(t,n)}function yc(t,e){var n,r=uc(t);try{var i=function(){var t=n.value;if(!ta()(_c).call(_c,(function(e){return t instanceof e})))throw new hr.a("view-writer-insert-invalid-node-type",e);t.is("$text")||yc(t.getChildren(),e)};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}var _c=[bo,ec,Vo,oc,cc,va];function bc(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function wc(t,e){var n=hc(t.start),r=hc(t.end);if(!n||!r||n!==r)throw new hr.a("view-writer-invalid-range-container",e)}function kc(t,e){return null===t.id&&null===e.id}var xc=n(71),Sc=n.n(xc),Cc=n(145),Oc=n.n(Cc);function Ec(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(t,e){return t===e},B()(t)||(t=p()(Array.prototype).call(t)),B()(e)||(e=p()(Array.prototype).call(e));var i=function(t,e,n){var r=Pc(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var i=Ac(t,r),o=Ac(e,r),s=Pc(i,o,n),a=t.length-s,c=e.length-s;return{firstIndex:r,lastIndexOld:a,lastIndexNew:c}}(t,e,n);return r?function(t,e){var n,r=t.firstIndex,i=t.lastIndexOld,o=t.lastIndexNew;if(-1===r)return Vr()(n=Array(e)).call(n,"equal");var s,a,c,l,u=[];r>0&&(u=nt()(u).call(u,Vr()(s=Array(r)).call(s,"equal")));o-r>0&&(u=nt()(u).call(u,Vr()(a=Array(o-r)).call(a,"insert")));i-r>0&&(u=nt()(u).call(u,Vr()(c=Array(i-r)).call(c,"delete")));o<e&&(u=nt()(u).call(u,Vr()(l=Array(e-o)).call(l,"equal")));return u}(i,e.length):function(t,e){var n=[],r=e.firstIndex,i=e.lastIndexOld,o=e.lastIndexNew;o-r>0&&n.push({index:r,type:"insert",values:p()(t).call(t,r,o)});i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r});return n}(e,i)}function Pc(t,e,n){for(var r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function Ac(t,e){var n;return Oc()(n=p()(t).call(t,e)).call(n)}function Tc(t,e,n){var r;n=n||function(t,e){return t===e};var i,o,s=t.length,a=e.length;if(s>200||a>200||s+a>300)return Tc.fastDiff(t,e,n,!0);if(a<s){var c=t;t=e,e=c,i="delete",o="insert"}else i="insert",o="delete";var l=t.length,u=e.length,f=u-l,d={},h={};function v(r){var s,a=(void 0!==h[r-1]?h[r-1]:-1)+1,c=void 0!==h[r+1]?h[r+1]:-1,f=a>c?-1:1;d[r+f]&&(d[r]=p()(s=d[r+f]).call(s,0));d[r]||(d[r]=[]),d[r].push(a>c?i:o);for(var v=Math.max(a,c),m=v-r;m<l&&v<u&&n(t[m],e[v]);)m++,v++,d[r].push("equal");return v}var m,g=0;do{for(m=-g;m<f;m++)h[m]=v(m);for(m=f+g;m>f;m--)h[m]=v(m);h[f]=v(f),g++}while(h[f]!==u);return p()(r=d[f]).call(r,1)}function jc(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Mc(t){var e=t.parentNode;e&&e.removeChild(t)}function Ic(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}Tc.fastDiff=Ec;n(1162);function Nc(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Rc(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Rc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dc=function(){function t(e,n){var r=this;O()(this,t),this.domDocuments=new tt.a,this.domConverter=e,this.markedAttributes=new tt.a,this.markedChildren=new tt.a,this.markedTexts=new tt.a,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),sa.isBlink&&!sa.isAndroid&&this.on("change:isSelecting",(function(){r.isSelecting||r.render()})),this._inlineFiller=null,this._fakeSelectionContainer=null}return P()(t,[{key:"markToSync",value:function(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new hr.a("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}},{key:"render",value:function(){var t,e,n=!(sa.isBlink&&!sa.isAndroid)||!this.isSelecting,r=Nc(this.markedChildren);try{for(r.s();!(e=r.n()).done;){var i=e.value;this._updateChildrenMappings(i)}}catch(t){r.e(t)}finally{r.f()}n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller));var o,s=Nc(this.markedAttributes);try{for(s.s();!(o=s.n()).done;){var a=o.value;this._updateAttrs(a)}}catch(t){s.e(t)}finally{s.f()}var c,l=Nc(this.markedChildren);try{for(l.s();!(c=l.n()).done;){var u=c.value;this._updateChildren(u,{inlineFillerPosition:t})}}catch(t){l.e(t)}finally{l.f()}var f,d=Nc(this.markedTexts);try{for(d.s();!(f=d.n()).done;){var h=f.value;!this.markedChildren.has(h.parent)&&this.domConverter.mapViewToDom(h.parent)&&this._updateText(h,{inlineFillerPosition:t})}}catch(t){d.e(t)}finally{d.f()}if(n)if(t){var p=this.domConverter.viewPositionToDom(t),v=p.parent.ownerDocument;Aa(p.parent)?this._inlineFiller=p.parent:this._inlineFiller=Lc(v,p.parent,p.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n=M()(this.domConverter.mapViewToDom(t).childNodes),r=M()(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,r),o=this._findReplaceActions(i,n,r);if(-1!==Er()(o).call(o,"replace")){var s,a={equal:0,insert:0,delete:0},c=Nc(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if("replace"===l){var u=a.equal+a.insert,f=a.equal+a.delete,d=t.getChild(u);!d||d.is("uiElement")||d.is("rawElement")||this._updateElementMappings(d,n[f]),Mc(r[u]),a.equal++}else a[l]++}}catch(t){c.e(t)}finally{c.f()}}}}},{key:"_updateElementMappings",value:function(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}},{key:"_getInlineFillerPosition",value:function(){var t=this.selection.getFirstPosition();return t.parent.is("$text")?fs._createBefore(this.selection.getFirstPosition().parent):t}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&xa(e.parent)&&Aa(e.parent))}},{key:"_removeInlineFiller",value:function(){var t=this._inlineFiller;if(!Aa(t))throw new hr.a("view-renderer-filler-was-lost",this);Ta(t)?t.remove():t.data=t.data.substr(Ea),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;var e=t.findAncestor((function(t){return t.hasAttribute("contenteditable")}));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;var r=t.nodeBefore,i=t.nodeAfter;return!(r instanceof bo||i instanceof bo)}},{key:"_updateText",value:function(t,e){var n=this.domConverter.findCorrespondingDomText(t),r=this.domConverter.viewToDom(t,n.ownerDocument),i=n.data,o=r.data,s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(o=Pa+o),i!=o){var a,c=Nc(Ec(i,o));try{for(c.s();!(a=c.n()).done;){var l=a.value;"insert"===l.type?n.insertData(l.index,it()(l).join("")):n.deleteData(l.index,l.howMany)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"_updateAttrs",value:function(t){var e,n=this.domConverter.mapViewToDom(t);if(n){var r,i=U()(e=M()(n.attributes)).call(e,(function(t){return t.name})),o=Nc(t.getAttributeKeys());try{for(o.s();!(r=o.n()).done;){var s=r.value;this.domConverter.setDomElementAttribute(n,s,t.getAttribute(s),t)}}catch(t){o.e(t)}finally{o.f()}var a,c=Nc(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;t.hasAttribute(l)||this.domConverter.removeDomElementAttribute(n,l)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"_updateChildren",value:function(t,e){var n=this.domConverter.mapViewToDom(t);if(n){var r=e.inlineFillerPosition,i=this.domConverter.mapViewToDom(t).childNodes,o=M()(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0}));r&&r.parent===t&&Lc(n.ownerDocument,o,r.offset);var s,a=this._diffNodeLists(i,o),c=0,l=new tt.a,u=Nc(a);try{for(u.s();!(s=u.n()).done;){var f=s.value;"delete"===f?(l.add(i[c]),Mc(i[c])):"equal"===f&&c++}}catch(t){u.e(t)}finally{u.f()}c=0;var d,h=Nc(a);try{for(h.s();!(d=h.n()).done;){var p=d.value;"insert"===p?(jc(n,c,o[c]),c++):"equal"===p&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++)}}catch(t){h.e(t)}finally{h.f()}var v,m=Nc(l);try{for(m.s();!(v=m.n()).done;){var g=v.value;g.parentNode||this.domConverter.unbindDomElement(g)}}catch(t){m.e(t)}finally{m.f()}}}},{key:"_diffNodeLists",value:function(t,e){return Tc(t=function(t,e){var n=M()(t);if(0==n.length||!e)return n;n[n.length-1]==e&&n.pop();return n}(t,this._fakeSelectionContainer),e,$o()($c).call($c,null,this.domConverter))}},{key:"_findReplaceActions",value:function(t,e,n){var r;if(-1===Er()(t).call(t,"insert")||-1===Er()(t).call(t,"delete"))return t;var i,o=[],s=[],a=[],c={equal:0,insert:0,delete:0},l=Nc(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;if("insert"===u)a.push(n[c.equal+c.insert]);else if("delete"===u)s.push(e[c.equal+c.delete]);else{var f;(o=nt()(o).call(o,U()(f=Tc(s,a,Bc)).call(f,(function(t){return"equal"===t?"replace":t})))).push("equal"),s=[],a=[]}c[u]++}}catch(t){l.e(t)}finally{l.f()}return nt()(o).call(o,U()(r=Tc(s,a,Bc)).call(r,(function(t){return"equal"===t?"replace":t})))}},{key:"_markDescendantTextToSync",value:function(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element")){var e,n=Nc(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._markDescendantTextToSync(r)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(!sa.isBlink||sa.isAndroid||!this.isSelecting||this.markedChildren.size){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}}},{key:"_updateFakeSelection",value:function(t){var e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){var e=t.createElement("div");return e.className="ck-fake-selection-container",Sc()(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(t)){n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";var r=e.getSelection(),i=e.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}}},{key:"_updateDomSelection",value:function(t){var e=t.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(e)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(r.parent,r.offset),sa.isGecko&&function(t,e){var n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;var r=n.childNodes[t.offset];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}(r,e)}}},{key:"_domSelectionNeedsUpdate",value:function(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;var e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(t){var e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||(n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel)}},{key:"_removeDomSelection",value:function(){var t,e=Nc(this.domDocuments);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.getSelection().rangeCount){var r=n.activeElement,i=this.domConverter.mapDomToView(r);r&&i&&n.getSelection().removeAllRanges()}}}catch(t){e.e(t)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var t=this._fakeSelectionContainer;t&&t.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}]),t}();function Lc(t,e,n){var r=e instanceof Array?e:e.childNodes,i=r[n];if(xa(i))return i.data=Pa+i.data,i;var o=t.createTextNode(Pa);return B()(e)?W()(r).call(r,n,0,o):jc(e,n,o),o}function Bc(t,e){return Ic(t)&&Ic(e)&&!xa(t)&&!xa(e)&&t.nodeType!==Node.COMMENT_NODE&&e.nodeType!==Node.COMMENT_NODE&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function $c(t,e,n){return e===n||(xa(e)&&xa(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}function Fc(t){var e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}function qc(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Uc(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(Dc,ns);var Vc=Yo({},Xr,{listenTo:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Ic(t)||Fc(t)){var i={capture:!!r.useCapture,passive:!!r.usePassive},o=this._getProxyEmitter(t,i)||new Hc(t,i);this.listenTo(o,e,n,r)}else Xr.listenTo.call(this,t,e,n,r)},stopListening:function(t,e,n){if(Ic(t)||Fc(t)){var r,i=qc(this._getAllProxyEmitters(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.stopListening(o,e,n)}}catch(t){i.e(t)}finally{i.f()}}else Xr.stopListening.call(this,t,e,n)},_getProxyEmitter:function(t,e){return n=this,r=Wc(t,e),n[Jr]&&n[Jr][r]?n[Jr][r].emitter:null;var n,r},_getAllProxyEmitters:function(t){var e,n,r=this;return K()(e=U()(n=[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}]).call(n,(function(e){return r._getProxyEmitter(t,e)}))).call(e,(function(t){return!!t}))}}),zc=Vc,Hc=P()((function t(e,n){O()(this,t),Zr(this,Wc(e,n)),this._domNode=e,this._options=n}));function Wc(t,e){var n,r,i=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Hr())}(t),o=qc(F()(n=z()(e)).call(n));try{for(o.s();!(r=o.n()).done;){var s=r.value;e[s]&&(i+="-"+s)}}catch(t){o.e(t)}finally{o.f()}return i}Yo(Hc.prototype,Xr,{attach:function(t){if(!this._domListeners||!this._domListeners[t]){var e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}},detach:function(t){var e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_addEventListener:function(t,e,n){this.attach(t),Xr._addEventListener.call(this,t,e,n)},_removeEventListener:function(t,e){Xr._removeEventListener.call(this,t,e),this.detach(t)},_createDomListener:function(t){var e=this,n=function(n){e.fire(t,n)};return n.removeListener=function(){e._domNode.removeEventListener(t,n,e._options),delete e._domListeners[t]},n}});var Yc=function(){function t(e){O()(this,t),this.view=e,this.document=e.document,this.isEnabled=!1}return P()(t,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]),t}();di(Yc,zc);var Gc=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Jc=function(t){return this.__data__.has(t)};function Kc(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new me;++e<n;)this.add(t[e])}Kc.prototype.add=Kc.prototype.push=Gc,Kc.prototype.has=Jc;var Qc=Kc;var Xc=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Zc=function(t,e){return t.has(e)};var tl=function(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var f=-1,d=!0,h=2&n?new Qc:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var p=t[f],v=e[f];if(r)var m=s?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!Xc(e,(function(t,e){if(!Zc(h,e)&&(p===t||i(p,t,n,r,o)))return h.push(e)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d};var el=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var nl=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},rl=ut?ut.prototype:void 0,il=rl?rl.valueOf:void 0;var ol=function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Ge(t),new Ge(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=el;case"[object Set]":var c=1&r;if(a||(a=nl),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;r|=2,s.set(t,e);var u=tl(a(t),a(e),r,i,o,s);return s.delete(t),u;case"[object Symbol]":if(il)return il.call(t)==il.call(e)}return!1},sl=Object.prototype.hasOwnProperty;var al=function(t,e,n,r,i,o){var s=1&n,a=ji(t),c=a.length;if(c!=ji(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:sl.call(e,u)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var v=t[u=a[l]],m=e[u];if(r)var g=s?r(m,v,u,e,t,o):r(v,m,u,t,e,o);if(!(void 0===g?v===m||i(v,m,n,r,o):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(h=!1)}return o.delete(t),o.delete(e),h},cl="[object Arguments]",ll="[object Array]",ul="[object Object]",fl=Object.prototype.hasOwnProperty;var dl=function(t,e,n,r,i,o){var s=ct(t),a=ct(e),c=s?ll:Gi(t),l=a?ll:Gi(e),u=(c=c==cl?ul:c)==ul,f=(l=l==cl?ul:l)==ul,d=c==l;if(d&&Object(vn.a)(t)){if(!Object(vn.a)(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Ue),s||En(t)?tl(t,e,n,r,i,o):ol(t,e,c,n,r,i,o);if(!(1&n)){var h=u&&fl.call(t,"__wrapped__"),p=f&&fl.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,m=p?e.value():e;return o||(o=new Ue),i(v,m,n,r,o)}}return!!d&&(o||(o=new Ue),al(t,e,n,r,i,o))};var hl=function t(e,n,r,i,o){return e===n||(null==e||null==n||!bt(e)&&!bt(n)?e!=e&&n!=n:dl(e,n,r,i,t,o))};var pl=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?hl(t,e,void 0,n):!!r};function vl(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ml(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ml(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ml(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var yl=function(t){wr()(n,t);var e=gl(n);function n(t){var r,i;return O()(this,n),(i=e.call(this,t))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},i.domConverter=t.domConverter,i.renderer=t._renderer,i._domElements=[],i._mutationObserver=new window.MutationObserver($o()(r=i._onMutations).call(r,Lo()(i))),i}return P()(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){Za()(Cr()(n.prototype),"enable",this).call(this);var t,e=vl(this._domElements);try{for(e.s();!(t=e.n()).done;){var r=t.value;this._mutationObserver.observe(r,this._config)}}catch(t){e.e(t)}finally{e.f()}}},{key:"disable",value:function(){Za()(Cr()(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){Za()(Cr()(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(0!==t.length){var e,n=this.domConverter,r=new G.a,i=new tt.a,o=vl(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;if("childList"===s.type){var a=n.mapDomToView(s.target);if(a&&(a.is("uiElement")||a.is("rawElement")))continue;a&&!this._isBogusBrMutation(s)&&i.add(a)}}}catch(t){o.e(t)}finally{o.f()}var c,l=vl(t);try{for(l.s();!(c=l.n()).done;){var u=c.value,f=n.mapDomToView(u.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&"characterData"===u.type){var d=n.findCorrespondingViewText(u.target);d&&!i.has(d.parent)?r.set(d,{type:"text",oldText:d.data,newText:ja(u.target),node:d}):!d&&Aa(u.target)&&i.add(n.mapDomToView(u.target.parentNode))}}}catch(t){l.e(t)}finally{l.f()}var h,p=[],v=vl(it()(r).call(r));try{for(v.s();!(h=v.n()).done;){var m=h.value;this.renderer.markToSync("text",m.node),p.push(m)}}catch(t){v.e(t)}finally{v.f()}var g,y=vl(i);try{for(y.s();!(g=y.n()).done;){var _=g.value,b=n.mapViewToDom(_),w=M()(_.getChildren()),k=M()(n.domChildrenToView(b,{withChildren:!1}));pl(w,k,E)||(this.renderer.markToSync("children",_),p.push({type:"children",oldChildren:w,newChildren:k,node:_}))}}catch(t){y.e(t)}finally{y.f()}var x=t[0].target.ownerDocument.getSelection(),S=null;if(x&&x.anchorNode){var C=n.domPositionToView(x.anchorNode,x.anchorOffset),O=n.domPositionToView(x.focusNode,x.focusOffset);C&&O&&(S=new ws(C)).setFocus(O)}p.length&&(this.document.fire("mutations",p,S),this.view.forceRender())}function E(t,e){if(!B()(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}}},{key:"_isBogusBrMutation",value:function(t){var e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}]),n}(Yc),_l=function(){function t(e,n,r){O()(this,t),this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,Yo(this,r)}return P()(t,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),t}();function bl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var wl=function(t){wr()(n,t);var e=bl(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).useCapture=!1,r}return P()(n,[{key:"observe",value:function(t){var e=this,n="string"==typeof this.domEventType?[this.domEventType]:this.domEventType;Ir()(n).call(n,(function(n){e.listenTo(t,n,(function(t,n){e.isEnabled&&!e.checkShouldIgnoreEventFromTarget(n.target)&&e.onDomEvent(n)}),{useCapture:e.useCapture})}))}},{key:"fire",value:function(t,e,n){this.isEnabled&&this.document.fire(t,new _l(this.view,e,n))}}]),n}(Yc);function kl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var xl=function(t){wr()(n,t);var e=kl(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).domEventType=["keydown","keyup"],r}return P()(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return fa(this)}})}}]),n}(wl),Sl=function(){return lt.a.Date.now()},Cl=/\s/;var Ol=function(t){for(var e=t.length;e--&&Cl.test(t.charAt(e)););return e},El=/^\s+/;var Pl=function(t){return t?t.slice(0,Ol(t)+1).replace(El,""):t},Al=/^[-+]0x[0-9a-f]+$/i,Tl=/^0b[01]+$/i,jl=/^0o[0-7]+$/i,Ml=parseInt;var Il=function(t){if("number"==typeof t)return t;if(wt(t))return NaN;if(at(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=at(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Pl(t);var n=Tl.test(t);return n||jl.test(t)?Ml(t.slice(2),n?2:8):Al.test(t)?NaN:+t},Nl=Math.max,Rl=Math.min;var Dl=function(t,e,n){var r,i,o,s,a,c,l=0,u=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function p(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=o}function v(){var t=Sl();if(p(t))return m(t);a=setTimeout(v,function(t){var n=e-(t-c);return f?Rl(n,o-(t-l)):n}(t))}function m(t){return a=void 0,d&&r?h(t):(r=i=void 0,s)}function g(){var t=Sl(),n=p(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(v,e),u?h(t):s}(c);if(f)return clearTimeout(a),a=setTimeout(v,e),h(c)}return void 0===a&&(a=setTimeout(v,e)),s}return e=Il(e)||0,at(n)&&(u=!!n.leading,o=(f="maxWait"in n)?Nl(Il(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=i=a=void 0},g.flush=function(){return void 0===a?s:m(Sl())},g};function Ll(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Bl=function(t){wr()(n,t);var e=Ll(n);function n(t){var r;return O()(this,n),(r=e.call(this,t))._fireSelectionChangeDoneDebounced=Dl((function(t){return r.document.fire("selectionChangeDone",t)}),200),r}return P()(n,[{key:"observe",value:function(){var t=this,e=this.document;e.on("arrowKey",(function(n,r){e.selection.isFake&&t.isEnabled&&r.preventDefault()}),{context:"$capture"}),e.on("arrowKey",(function(n,r){e.selection.isFake&&t.isEnabled&&t._handleSelectionMove(r.keyCode)}),{priority:"lowest"})}},{key:"destroy",value:function(){Za()(Cr()(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var e=this.document.selection,n=new ws(e.getRanges(),{backward:e.isBackward,fake:!1});t!=ua.arrowleft&&t!=ua.arrowup||n.setTo(n.getFirstPosition()),t!=ua.arrowright&&t!=ua.arrowdown||n.setTo(n.getLastPosition());var r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}]),n}(Yc),$l=n(540),Fl=n.n($l);function ql(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ul=function(t){wr()(n,t);var e=ql(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).mutationObserver=t.getObserver(yl),r.selection=r.document.selection,r.domConverter=t.domConverter,r._documents=new Ks.a,r._fireSelectionChangeDoneDebounced=Dl((function(t){return r.document.fire("selectionChangeDone",t)}),200),r._clearInfiniteLoopInterval=Fl()((function(){return r._clearInfiniteLoop()}),1e3),r._documentIsSelectingInactivityTimeoutDebounced=Dl((function(){return r.document.isSelecting=!1}),5e3),r._loopbackCounter=0,r}return P()(n,[{key:"observe",value:function(t){var e=this,n=t.ownerDocument,r=function(){e.document.isSelecting=!1,e._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(t,"selectstart",(function(){e.document.isSelecting=!0,e._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",r,{priority:"highest"}),this.listenTo(t,"keyup",r,{priority:"highest"}),this._documents.has(n)||(this.listenTo(n,"mouseup",r,{priority:"highest"}),this.listenTo(n,"selectionchange",(function(t,r){e._handleSelectionChange(r,n),e._documentIsSelectingInactivityTimeoutDebounced()})),this._documents.add(n))}},{key:"destroy",value:function(){Za()(Cr()(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t,e){if(this.isEnabled){var n=e.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(n.anchorNode)){this.mutationObserver.flush();var r=this.domConverter.domSelectionToView(n);if(0!=r.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(r))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:r,domSelection:n};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}(Yc),Vl=n(199),zl=n.n(Vl);function Hl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Wl=function(t){wr()(n,t);var e=Hl(n);function n(t){var r;O()(this,n),(r=e.call(this,t)).domEventType=["focus","blur"],r.useCapture=!0;var i=r.document;return i.on("focus",(function(){i.isFocused=!0,r._renderTimeoutId=zl()((function(){return t.change((function(){}))}),50)})),i.on("blur",(function(e,n){var r=i.selection.editableElement;null!==r&&r!==n.target||(i.isFocused=!1,t.change((function(){})))})),r}return P()(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),Za()(Cr()(n.prototype),"destroy",this).call(this)}}]),n}(wl);function Yl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Gl=function(t){wr()(n,t);var e=Yl(n);function n(t){var r;O()(this,n),(r=e.call(this,t)).domEventType=["compositionstart","compositionupdate","compositionend"];var i=r.document;return i.on("compositionstart",(function(){i.isComposing=!0})),i.on("compositionend",(function(){i.isComposing=!1})),r}return P()(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(wl);function Jl(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Kl=function(t){wr()(n,t);var e=Jl(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).domEventType=["beforeinput"],r}return P()(n,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),n}(wl);function Ql(t){return"[object Range]"==Object.prototype.toString.apply(t)}var Xl=function(t){return bt(t)&&1===t.nodeType&&!wn(t)};function Zl(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return tu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eu=["top","right","bottom","left","width","height"],nu=function(){function t(e){O()(this,t);var n=Ql(e);if(Rr()(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Xl(e)||n)if(n){var r=t.getDomRangeRects(e);ru(this,t.getBoundingRect(r))}else ru(this,e.getBoundingClientRect());else if(Fc(e)){var i=e.innerWidth,o=e.innerHeight;ru(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else ru(this,e)}return P()(t,[{key:"clone",value:function(){return new t(this)}},{key:"moveTo",value:function(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}},{key:"moveBy",value:function(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}},{key:"getIntersection",value:function(e){var n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new t(n)}},{key:"getIntersectionArea",value:function(t){var e=this.getIntersection(t);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,n=this.clone();if(!iu(e))for(var r=e.parentNode||e.commonAncestorContainer;r&&!iu(r);){var i=new t(r),o=n.getIntersection(i);if(!o)return null;o.getArea()<n.getArea()&&(n=o),r=r.parentNode}return n}},{key:"isEqual",value:function(t){for(var e=0,n=eu;e<n.length;e++){var r=n[e];if(this[r]!==t[r])return!1}return!0}},{key:"contains",value:function(t){var e=this.getIntersection(t);return!(!e||!e.isEqual(t))}},{key:"excludeScrollbarsAndBorders",value:function(){var t,e,n,r,i,o=this._source;if(Fc(o))t=o.innerWidth-o.document.documentElement.clientWidth,e=o.innerHeight-o.document.documentElement.clientHeight,n=o.getComputedStyle(o.document.documentElement).direction;else{var s=(r=this._source,i=r.ownerDocument.defaultView.getComputedStyle(r),{top:Ga()(i.borderTopWidth,10),right:Ga()(i.borderRightWidth,10),bottom:Ga()(i.borderBottomWidth,10),left:Ga()(i.borderLeftWidth,10)});t=o.offsetWidth-o.clientWidth-s.left-s.right,e=o.offsetHeight-o.clientHeight-s.top-s.bottom,n=o.ownerDocument.defaultView.getComputedStyle(o).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===n?this.right-=t:this.left+=t,this.height-=e,this.bottom-=e,this}}],[{key:"getDomRangeRects",value:function(e){var n=[],r=M()(e.getClientRects());if(r.length){var i,o=Zl(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.push(new t(s))}}catch(t){o.e(t)}finally{o.f()}}else{var a=e.startContainer;xa(a)&&(a=a.parentNode);var c=new t(a.getBoundingClientRect());c.right=c.left,c.width=0,n.push(c)}return n}},{key:"getBoundingRect",value:function(e){var n,r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},i=0,o=Zl(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;i++,r.left=Math.min(r.left,s.left),r.top=Math.min(r.top,s.top),r.right=Math.max(r.right,s.right),r.bottom=Math.max(r.bottom,s.bottom)}}catch(t){o.e(t)}finally{o.f()}return 0==i?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new t(r))}}]),t}();function ru(t,e){var n,r=Zl(eu);try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i]=e[i]}}catch(t){r.e(t)}finally{r.f()}}function iu(t){return!!Xl(t)&&t===t.ownerDocument.body}function ou(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return su(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return su(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function su(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var au=function(){function t(e,n){O()(this,t),t._observerInstance||t._createObserver(),this._element=e,this._callback=n,t._addElementCallback(e,n),t._observerInstance.observe(e)}return P()(t,[{key:"destroy",value:function(){t._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,n){t._elementCallbacks||(t._elementCallbacks=new G.a);var r=t._elementCallbacks.get(e);r||(r=new tt.a,t._elementCallbacks.set(e,r)),r.add(n)}},{key:"_deleteElementCallback",value:function(e,n){var r=t._getElementCallbacks(e);r&&(r.delete(n),r.size||(t._elementCallbacks.delete(e),t._observerInstance.unobserve(e))),t._elementCallbacks&&!t._elementCallbacks.size&&(t._observerInstance=null,t._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return t._elementCallbacks?t._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e="function"==typeof Ia.window.ResizeObserver?Ia.window.ResizeObserver:cu,t._observerInstance=new e((function(e){var n,r=ou(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t._getElementCallbacks(i.target);if(o){var s,a=ou(o);try{for(a.s();!(s=a.n()).done;){(0,s.value)(i)}}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}}))}}]),t}();au._observerInstance=null,au._elementCallbacks=null;var cu=function(){function t(e){O()(this,t),this._callback=e,this._elements=new tt.a,this._previousRects=new G.a,this._periodicCheckTimeout=null}return P()(t,[{key:"observe",value:function(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var t=this;this.listenTo(Ia.window,"resize",(function(){t._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=zl()((function e(){t._checkElementRectsAndExecuteCallback(),t._periodicCheckTimeout=zl()(e,100)}),100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var t,e=[],n=ou(this._elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._hasRectChanged(r)&&e.push({target:r,contentRect:this._previousRects.get(r)})}}catch(t){n.e(t)}finally{n.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(t){if(!t.ownerDocument.body.contains(t))return!1;var e=new nu(t),n=this._previousRects.get(t),r=!n||!n.isEqual(e);return this._previousRects.set(t,e),r}}]),t}();di(cu,zc);window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var lu=function(){function t(){O()(this,t),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new tt.a,this._nextEventLoopTimeout=null}return P()(t,[{key:"add",value:function(t){var e=this;if(this._elements.has(t))throw new hr.a("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(function(){return e._focus(t)}),{useCapture:!0}),this.listenTo(t,"blur",(function(){return e._blur()}),{useCapture:!0}),this._elements.add(t)}},{key:"remove",value:function(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}},{key:"_blur",value:function(){var t=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=zl()((function(){t.focusedElement=null,t.isFocused=!1}),0)}}]),t}();di(lu,zc),di(lu,ns);function uu(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var fu=function(t){wr()(n,t);var e=uu(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).document.on("keydown",(function(t,e){if(r.isEnabled&&((i=e.keyCode)==ua.arrowright||i==ua.arrowleft||i==ua.arrowup||i==ua.arrowdown)){var n=new Is(r.document,"arrowKey",r.document.selection.getFirstRange());r.document.fire(n,e),n.stop.called&&t.stop()}var i})),r}return P()(n,[{key:"observe",value:function(){}}]),n}(Yc);function du(t){for(var e=t.target,n=t.viewportOffset,r=void 0===n?0:n,i=_u(e),o=i,s=null;o;){pu(bu(o==i?e:s),(function(){return wu(e,o)}));var a=wu(e,o);if(hu(o,a,r),o.parent!=o){if(s=o.frameElement,o=o.parent,!s)return}else o=null}}function hu(t,e,n){var r=e.clone().moveBy(0,n),i=e.clone().moveBy(0,-n),o=new nu(t).excludeScrollbarsAndBorders(),s=[i,r];if(!Wo()(s).call(s,(function(t){return o.contains(t)}))){var a=t.scrollX,c=t.scrollY;mu(i,o)?c-=o.top-e.top+n:vu(r,o)&&(c+=e.bottom-o.bottom+n),gu(e,o)?a-=o.left-e.left+n:yu(e,o)&&(a+=e.right-o.right+n),t.scrollTo(a,c)}}function pu(t,e){for(var n,r,i=_u(t);t!=i.document.body;)r=e(),(n=new nu(t).excludeScrollbarsAndBorders()).contains(r)||(mu(r,n)?t.scrollTop-=n.top-r.top:vu(r,n)&&(t.scrollTop+=r.bottom-n.bottom),gu(r,n)?t.scrollLeft-=n.left-r.left:yu(r,n)&&(t.scrollLeft+=r.right-n.right)),t=t.parentNode}function vu(t,e){return t.bottom>e.bottom}function mu(t,e){return t.top<e.top}function gu(t,e){return t.left<e.left}function yu(t,e){return t.right>e.right}function _u(t){return Ql(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function bu(t){if(Ql(t)){var e=t.commonAncestorContainer;return xa(e)&&(e=e.parentNode),e}return t.parentNode}function wu(t,e){var n=_u(t),r=new nu(t);if(n===e)return r;for(var i=n;i!=e;){var o=i.frameElement,s=new nu(o).excludeScrollbarsAndBorders();r.moveBy(s.left,s.top),i=i.parent}return r}function ku(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return xu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function xu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Sc()({},{scrollViewportToShowTarget:du,scrollAncestorsToShowTarget:function(t){pu(bu(t),(function(){return new nu(t)}))}});var Su=function(){function t(e){var n,r=this;O()(this,t),this.document=new Hs(e),this.domConverter=new Va(this.document),this.domRoots=new G.a,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Dc(this.domConverter,this.document.selection),$o()(n=this._renderer).call(n,"isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new Ss.a,this._observers=new G.a,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new dc(this.document),this.addObserver(yl),this.addObserver(Ul),this.addObserver(Wl),this.addObserver(xl),this.addObserver(Bl),this.addObserver(Gl),this.addObserver(fu),sa.isAndroid&&this.addObserver(Kl),this.document.on("arrowKey",Ma,{priority:"low"}),ma(this),this.on("render",(function(){r._render(),r.document.fire("layoutChanged"),r._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){r._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(function(){r._hasChangedSinceTheLastRendering=!0}))}return P()(t,[{key:"attachDomRoot",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=this.document.getRoot(r);i._name=t.tagName.toLowerCase();for(var o={},s=0,a=M()(t.attributes);s<a.length;s++){var c=a[s],l=c.name,u=c.value;o[l]=u,"class"===l?this._writer.addClass(u.split(" "),i):this._writer.setAttribute(l,u,i)}this._initialDomRootAttributes.set(t,o);var f=function(){n._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?n._writer.addClass("ck-read-only",i):n._writer.removeClass("ck-read-only",i)};f(),this.domRoots.set(r,t),this.domConverter.bindElements(t,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(t.ownerDocument),i.on("change:children",(function(t,e){return n._renderer.markToSync("children",e)})),i.on("change:attributes",(function(t,e){return n._renderer.markToSync("attributes",e)})),i.on("change:text",(function(t,e){return n._renderer.markToSync("text",e)})),i.on("change:isReadOnly",(function(){return n.change(f)})),i.on("change",(function(){n._hasChangedSinceTheLastRendering=!0}));var d,h=ku(it()(e=this._observers).call(e));try{for(h.s();!(d=h.n()).done;){d.value.observe(t,r)}}catch(t){h.e(t)}finally{h.f()}}},{key:"detachDomRoot",value:function(t){var e,n=this.domRoots.get(t);Ir()(e=M()(n.attributes)).call(e,(function(t){var e=t.name;return n.removeAttribute(e)}));var r=this._initialDomRootAttributes.get(n);for(var i in r)n.setAttribute(i,r[i]);this.domRoots.delete(t),this.domConverter.unbindDomElement(n)}},{key:"getDomRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(t)}},{key:"addObserver",value:function(t){var e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);var n,r=ku(this.domRoots);try{for(r.s();!(n=r.n()).done;){var i=S()(n.value,2),o=i[0],s=i[1];e.observe(s,o)}}catch(t){r.e(t)}finally{r.f()}return e.enable(),e}},{key:"getObserver",value:function(t){return this._observers.get(t)}},{key:"disableObservers",value:function(){var t,e,n=ku(it()(t=this._observers).call(t));try{for(n.s();!(e=n.n()).done;){e.value.disable()}}catch(t){n.e(t)}finally{n.f()}}},{key:"enableObservers",value:function(){var t,e,n=ku(it()(t=this._observers).call(t));try{for(n.s();!(e=n.n()).done;){e.value.enable()}}catch(t){n.e(t)}finally{n.f()}}},{key:"scrollToTheSelection",value:function(){var t=this.document.selection.getFirstRange();t&&du({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}},{key:"change",value:function(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new hr.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;var e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){hr.a.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var t,e,n=ku(it()(t=this._observers).call(t));try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(t){n.e(t)}finally{n.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(t,e){return fs._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return fs._createAfter(t)}},{key:"createPositionBefore",value:function(t){return fs._createBefore(t)}},{key:"createRange",value:function(t,e){return new ps(t,e)}},{key:"createRangeOn",value:function(t){return ps._createOn(t)}},{key:"createRangeIn",value:function(t){return ps._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new ws(t,e,n)}},{key:"_disableRendering",value:function(t){this._renderingDisabled=t,0==t&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),t}();di(Su,ns);var Cu=function(){function t(e){O()(this,t),this.parent=null,this._attrs=xo(e)}return P()(t,[{key:"index",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new hr.a("model-node-not-found-in-parent",this);return t}},{key:"startOffset",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new hr.a("model-node-not-found-in-parent",this);return t}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=hi(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){var t;return N()(t=this._attrs).call(t)}},{key:"getAttributeKeys",value:function(){var t;return X()(t=this._attrs).call(t)}},{key:"toJSON",value:function(){var t,e={};this._attrs.size&&(e.attributes=Os()(t=M()(this._attrs)).call(t,(function(t,e){return t[e[0]]=e[1],t}),{}));return e}},{key:"is",value:function(t){return"node"===t||"model:node"===t}},{key:"_clone",value:function(){return new t(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(t,e){this._attrs.set(t,e)}},{key:"_setAttributesTo",value:function(t){this._attrs=xo(t)}},{key:"_removeAttribute",value:function(t){return this._attrs.delete(t)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),t}();function Ou(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Eu=function(t){wr()(n,t);var e=Ou(n);function n(t,r){var i;return O()(this,n),(i=e.call(this,r))._data=t||"",i}return P()(n,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(t){return new n(t.data,t.attributes)}}]),n}(Cu),Pu=function(){function t(e,n,r){if(O()(this,t),this.textNode=e,n<0||n>e.offsetSize)throw new hr.a("model-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.offsetSize)throw new hr.a("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}return P()(t,[{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}},{key:"getPath",value:function(){var t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"hasAttribute",value:function(t){return this.textNode.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.textNode.getAttribute(t)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),t}();function Au(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Tu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ju=function(t){function e(t){O()(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return P()(e,[{key:t,value:function(){return Ar()(this._nodes)}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){var t;return Os()(t=this._nodes).call(t,(function(t,e){return t+e.offsetSize}),0)}},{key:"getNode",value:function(t){return this._nodes[t]||null}},{key:"getNodeIndex",value:function(t){var e,n=Er()(e=this._nodes).call(e,t);return-1==n?null:n}},{key:"getNodeStartOffset",value:function(t){var e,n,r=this.getNodeIndex(t);return null===r?null:Os()(e=p()(n=this._nodes).call(n,0,r)).call(e,(function(t,e){return t+e.offsetSize}),0)}},{key:"indexToOffset",value:function(t){if(t==this._nodes.length)return this.maxOffset;var e=this._nodes[t];if(!e)throw new hr.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(t){var e,n=0,r=Au(this._nodes);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(t>=n&&t<n+i.offsetSize)return this.getNodeIndex(i);n+=i.offsetSize}}catch(t){r.e(t)}finally{r.f()}if(n!=t)throw new hr.a("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}},{key:"_insertNodes",value:function(t,e){var n,r,i,o=Au(e);try{for(o.s();!(i=o.n()).done;){if(!(i.value instanceof Cu))throw new hr.a("model-nodelist-insertnodes-not-node",this)}}catch(t){o.e(t)}finally{o.f()}W()(n=this._nodes).apply(n,nt()(r=[t,0]).call(r,k()(e)))}},{key:"_removeNodes",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return W()(e=this._nodes).call(e,t,n)}},{key:"toJSON",value:function(){var t;return U()(t=this._nodes).call(t,(function(t){return t.toJSON()}))}}]),e}(vr.a);function Mu(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Iu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Iu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nu(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ru=function(t){wr()(n,t);var e=Nu(n);function n(t,r,i){var o;return O()(this,n),(o=e.call(this,r)).name=t,o._children=new ju,i&&o._insertChild(0,i),o}return P()(n,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return Ar()(this._children)}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var e,n=this,r=Mu(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=n.getChild(n.offsetToIndex(i))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"findAncestor",value:function(t){for(var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1}).includeSelf?this:this.parent;e;){if(e.name===t)return e;e=e.parent}return null}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var e,r=Mu(this._children);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.children.push(i.toJSON())}}catch(t){r.e(t)}finally{r.f()}}return t}},{key:"_clone",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?U()(t=M()(this._children)).call(t,(function(t){return t._clone(!0)})):null;return new n(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=function(t){var e;if("string"==typeof t)return[new Eu(t)];ko(t)||(t=[t]);return U()(e=M()(t)).call(e,(function(t){return"string"==typeof t?new Eu(t):t instanceof Pu?new Eu(t.data,t.getAttributes()):t}))}(e),i=Mu(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(t){i.e(t)}finally{i.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),i=Mu(r);try{for(i.s();!(e=i.n()).done;){e.value.parent=null}}catch(t){i.e(t)}finally{i.f()}return r}}],[{key:"fromJSON",value:function(t){var e=null;if(t.children){e=[];var r,i=Mu(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.name?e.push(n.fromJSON(o)):e.push(Eu.fromJSON(o))}}catch(t){i.e(t)}finally{i.f()}}return new n(t.name,t.attributes,e)}}]),n}(Cu);var Du=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(O()(this,e),!t.boundaries&&!t.startPosition)throw new hr.a("model-tree-walker-no-start-position",null);var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new hr.a("model-tree-walker-unknown-direction",t,{direction:n});this.direction=n,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=Bu._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return P()(e,[{key:t,value:function(){return this}},{key:"skip",value:function(t){var e,n,r,i;do{r=this.position,i=this._visitedParent;var o=this.next();e=o.done,n=o.value}while(!e&&t(n));e||(this.position=r,this._visitedParent=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var r=e.parent,i=$u(e,r),o=i||Fu(e,r,i);if(o instanceof Ru)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=o),this.position=e,Lu("elementStart",o,t,e,1);if(o instanceof Eu){var s;if(this.singleCharacters)s=1;else{var a=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<a&&(a=this.boundaries.end.offset),s=a-e.offset}var c=e.offset-o.startOffset,l=new Pu(o,c,s);return e.offset+=s,this.position=e,Lu("text",l,t,e,s)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Lu("elementEnd",n,t,e)}},{key:"_previous",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var r=e.parent,i=$u(e,r),o=i||qu(e,r,i);if(o instanceof Ru)return e.offset--,this.shallow?(this.position=e,Lu("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this.position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():Lu("elementEnd",o,t,e));if(o instanceof Eu){var s;if(this.singleCharacters)s=1;else{var a=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>a&&(a=this.boundaries.start.offset),s=e.offset-a}var c=e.offset-o.startOffset,l=new Pu(o,c-s,s);return e.offset-=s,this.position=e,Lu("text",l,t,e,s)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Lu("elementStart",n,t,e,1)}}]),e}(vr.a);function Lu(t,e,n,r,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}var Bu=function(){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(O()(this,t),!e.is("element")&&!e.is("documentFragment"))throw new hr.a("model-position-root-invalid",e);if(!(n instanceof Array)||0===n.length)throw new hr.a("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=p()(n).call(n):(n=nt()(r=[]).call(r,k()(e.getPath()),k()(n)),e=e.root);this.root=e,this.path=n,this.stickiness=i}return P()(t,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(t){this.path[this.path.length-1]=t}},{key:"parent",get:function(){for(var t=this.root,e=0;e<this.path.length-1;e++)if(!(t=t.getChild(t.offsetToIndex(this.path[e]))))throw new hr.a("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new hr.a("model-position-path-incorrect",this,{position:this});return t}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return $u(this,this.parent)}},{key:"nodeAfter",get:function(){var t=this.parent;return Fu(this,t,$u(this,t))}},{key:"nodeBefore",get:function(){var t=this.parent;return qu(this,t,$u(this,t))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(t){if(this.root!=t.root)return"different";var e=hi(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new Du(e);return n.skip(t),n.position}},{key:"getParentPath",value:function(){var t;return p()(t=this.path).call(t,0,-1)}},{key:"getAncestors",value:function(){var t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(t){var e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(t){var e;if(this.root!=t.root)return[];var n=hi(this.path,t.path),r="string"==typeof n?Math.min(this.path.length,t.path.length):n;return p()(e=this.path).call(e,0,r)}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),r=0;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}},{key:"getShiftedBy",value:function(t){var e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isEqual",value:function(t){return"same"==this.compareWith(t)}},{key:"isTouching",value:function(e){var n=null,r=null;switch(this.compareWith(e)){case"same":return!0;case"before":n=t._createAt(this),r=t._createAt(e);break;case"after":n=t._createAt(e),r=t._createAt(this);break;default:return!1}for(var i=n.parent;n.path.length+r.path.length;){if(n.isEqual(r))return!0;if(n.path.length>r.path.length){var o;if(n.offset!==i.maxOffset)return!1;n.path=p()(o=n.path).call(o,0,-1),i=i.parent,n.offset++}else{var s;if(0!==r.offset)return!1;r.path=p()(s=r.path).call(s,0,-1)}}}},{key:"is",value:function(t){return"position"===t||"model:position"===t}},{key:"hasSameParentAs",value:function(t){return this.root===t.root&&"same"==hi(this.getParentPath(),t.getParentPath())}},{key:"getTransformedByOperation",value:function(e){var n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=t._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(t){return this._getTransformedByInsertion(t.position,t.howMany)}},{key:"_getTransformedByMoveOperation",value:function(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var n,r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?t._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==hi(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;r.offset-=n}}else if("prefix"==hi(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+n>this.path[i])return null;r.path[i]-=n}}return r}},{key:"_getTransformedByInsertion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==hi(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=n);else if("prefix"==hi(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;e.offset<=this.path[i]&&(r.path[i]+=n)}return r}},{key:"_getTransformedByMove",value:function(e,n,r){if(n=n._getTransformedByDeletion(e,r),e.isEqual(n))return t._createAt(this);var i=this._getTransformedByDeletion(e,r);return null===i||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(r).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,n):i._getTransformedByInsertion(n,r)}},{key:"_getCombined",value:function(e,n){var r,i,o=e.path.length-1,s=t._createAt(n);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[o]-e.offset,s.path=nt()(r=[]).call(r,k()(s.path),k()(p()(i=this.path).call(i,o+1))),s}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:M()(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof t)return new t(e.root,e.path,e.stickiness);var i=e;if("end"==n)n=i.maxOffset;else{if("before"==n)return this._createBefore(i,r);if("after"==n)return this._createAfter(i,r);if(0!==n&&!n)throw new hr.a("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new hr.a("model-position-parent-incorrect",[this,e]);var o=i.getPath();return o.push(n),new this(i.root,o,r)}},{key:"_createAfter",value:function(t,e){if(!t.parent)throw new hr.a("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}},{key:"_createBefore",value:function(t,e){if(!t.parent)throw new hr.a("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}},{key:"fromJSON",value:function(e,n){if("$graveyard"===e.root){var r=new t(n.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!n.getRoot(e.root))throw new hr.a("model-position-fromjson-no-root",n,{rootName:e.root});return new t(n.getRoot(e.root),e.path,e.stickiness)}}]),t}();function $u(t,e){var n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function Fu(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function qu(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function Uu(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Vu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zu=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;O()(this,e),this.start=Bu._createAt(t),this.end=n?Bu._createAt(n):Bu._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return P()(e,[{key:t,value:dr.a.mark((function t(){return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new Du({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==hi(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"containsItem",value:function(t){var e=Bu._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}},{key:"getJoined",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.isIntersecting(t);if(r||(r=this.start.isBefore(t.start)?n?this.end.isTouching(t.start):this.end.isEqual(t.start):n?t.end.isTouching(this.start):t.end.isEqual(this.start)),!r)return null;var i=this.start,o=this.end;return t.start.isBefore(i)&&(i=t.start),t.end.isAfter(o)&&(o=t.end),new e(i,o)}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,r=Bu._createAt(this.start),i=r.parent;r.path.length>n+1;){var o,s=i.maxOffset-r.offset;0!==s&&t.push(new e(r,r.getShiftedBy(s))),r.path=p()(o=r.path).call(o,0,-1),r.offset++,i=i.parent}for(;r.path.length<=this.end.path.length;){var a=this.end.path[r.path.length-1],c=a-r.offset;0!==c&&t.push(new e(r,r.getShiftedBy(c))),r.offset=a,r.path.push(0)}return t}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new Du(t)}},{key:"getItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr.a.mark((function n(){var r,i,o,s;return dr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.boundaries=t,e.ignoreElementEnd=!0,r=new Du(e),i=Uu(r),n.prev=4,i.s();case 6:if((o=i.n()).done){n.next=12;break}return s=o.value,n.next=10,s.item;case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),i.e(n.t0);case 17:return n.prev=17,i.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))()}},{key:"getPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dr.a.mark((function n(){var r,i,o,s;return dr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.boundaries=t,r=new Du(e),n.next=4,r.position;case 4:i=Uu(r),n.prev=5,i.s();case 7:if((o=i.n()).done){n.next=13;break}return s=o.value,n.next=11,s.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n,r=[new e(this.start,this.end)],i=Uu(t);try{for(i.s();!(n=i.n()).done;)for(var o=n.value,s=0;s<r.length;s++){var a,c=r[s].getTransformedByOperation(o);W()(r).apply(r,nt()(a=[s,1]).call(a,k()(c))),s+=c.length-1}}catch(t){i.e(t)}finally{i.f()}for(var l=0;l<r.length;l++)for(var u=r[l],f=l+1;f<r.length;f++){var d=r[f];(u.containsRange(d)||d.containsRange(u)||u.isEqual(d))&&W()(r).call(r,f,1)}return r}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,r=t.howMany,i=t.targetPosition;return this._getTransformedByMove(n,i,r,e)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),r=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(r=this.end.getShiftedBy(1)),n.root!=r.root&&(r=this.end.getShiftedBy(-1)),new e(n,r)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),r=this.end._getTransformedByMergeOperation(t);return n.root!=r.root&&(r=this.end.getShiftedBy(-1)),n.isAfter(r)?(t.sourcePosition.isBefore(t.targetPosition)?(n=Bu._createAt(r)).offset=0:(t.deletionPosition.isEqual(n)||(r=t.deletionPosition),n=t.targetPosition),new e(n,r)):new e(n,r)}},{key:"_getTransformedByInsertion",value:function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var r=new e(this.start,this.end);return r.start=r.start._getTransformedByInsertion(t,n),r.end=r.end._getTransformedByInsertion(t,n),[r]}},{key:"_getTransformedByMove",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed)return[new e(this.start._getTransformedByMove(t,n,r))];var o,s=e._createFromPositionAndShift(t,r),a=n._getTransformedByDeletion(t,r);if(this.containsPosition(n)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end)))return[new e(this.start._getTransformedByMove(t,n,r),this.end._getTransformedByMove(t,n,r))];var c=this.getDifference(s),l=null,u=this.getIntersection(s);if(1==c.length?l=new e(c[0].start._getTransformedByDeletion(t,r),c[0].end._getTransformedByDeletion(t,r)):2==c.length&&(l=new e(this.start,this.end._getTransformedByDeletion(t,r))),o=l?l._getTransformedByInsertion(a,r,null!==u||i):[],u){var f=new e(u.start._getCombined(s.start,a),u.end._getCombined(s.start,a));2==o.length?W()(o).call(o,1,0,f):o.push(f)}return o}},{key:"_getTransformedByDeletion",value:function(t,n){var r=this.start._getTransformedByDeletion(t,n),i=this.end._getTransformedByDeletion(t,n);return null==r&&null==i?null:(null==r&&(r=t),null==i&&(i=t),new e(r,i))}}],[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return new this(Bu._createAt(t,0),Bu._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(Bu._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new hr.a("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];F()(t).call(t,(function(t,e){return t.start.isAfter(e.start)?1:-1}));var n=Er()(t).call(t,e),r=new this(e.start,e.end);if(n>0)for(var i=n-1;t[i].end.isEqual(r.start);i++)r.start=Bu._createAt(t[i].start);for(var o=n+1;o<t.length&&t[o].start.isEqual(r.end);o++)r.end=Bu._createAt(t[o].end);return r}},{key:"fromJSON",value:function(t,e){return new this(Bu.fromJSON(t.start,e),Bu.fromJSON(t.end,e))}}]),e}(vr.a);function Hu(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Wu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Wu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yu=function(){function t(){var e=this;O()(this,t),this._modelToViewMapping=new Ss.a,this._viewToModelMapping=new Ss.a,this._viewToModelLengthCallbacks=new G.a,this._markerNameToElements=new G.a,this._elementToMarkerNames=new G.a,this._unboundMarkerNames=new tt.a,this.on("modelToViewPosition",(function(t,n){if(!n.viewPosition){var r=e._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=e.findPositionIn(r,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(t,n){if(!n.modelPosition){var r=e.findMappedViewAncestor(n.viewPosition),i=e._viewToModelMapping.get(r),o=e._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=Bu._createAt(i,o)}}),{priority:"low"})}return P()(t,[{key:"bindElements",value:function(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}},{key:"unbindViewElement",value:function(t){var e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t)){var n,r=Hu(this._elementToMarkerNames.get(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;this._unboundMarkerNames.add(i)}}catch(t){r.e(t)}finally{r.f()}}this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}},{key:"unbindModelElement",value:function(t){var e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}},{key:"bindElementToMarker",value:function(t,e){var n=this._markerNameToElements.get(e)||new tt.a;n.add(t);var r=this._elementToMarkerNames.get(t)||new tt.a;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}},{key:"unbindElementFromMarkerName",value:function(t,e){var n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));var r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}},{key:"flushUnboundMarkerNames",value:function(){var t=M()(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}},{key:"clearBindings",value:function(){this._modelToViewMapping=new Ss.a,this._viewToModelMapping=new Ss.a,this._markerNameToElements=new G.a,this._elementToMarkerNames=new G.a,this._unboundMarkerNames=new tt.a}},{key:"toModelElement",value:function(t){return this._viewToModelMapping.get(t)}},{key:"toViewElement",value:function(t){return this._modelToViewMapping.get(t)}},{key:"toModelRange",value:function(t){return new zu(this.toModelPosition(t.start),this.toModelPosition(t.end))}},{key:"toViewRange",value:function(t){return new ps(this.toViewPosition(t.start),this.toViewPosition(t.end))}},{key:"toModelPosition",value:function(t){var e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(t){var e={modelPosition:t,mapper:this,isPhantom:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1}).isPhantom};return this.fire("modelToViewPosition",e),e.viewPosition}},{key:"markerNameToElements",value:function(t){var e=this._markerNameToElements.get(t);if(!e)return null;var n,r=new tt.a,i=Hu(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is("attributeElement")){var s,a=Hu(o.getElementsWithSameId());try{for(a.s();!(s=a.n()).done;){var c=s.value;r.add(c)}}catch(t){a.e(t)}finally{a.f()}}else r.add(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"registerViewToModelLength",value:function(t,e){this._viewToModelLengthCallbacks.set(t,e)}},{key:"findMappedViewAncestor",value:function(t){for(var e=t.parent;!this._viewToModelMapping.has(e);)e=e.parent;return e}},{key:"_toModelOffset",value:function(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;for(var r=0,i=0;i<e;i++)r+=this.getModelLength(t.getChild(i));return r}},{key:"getModelLength",value:function(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;var e,n=0,r=Hu(t.getChildren());try{for(r.s();!(e=r.n()).done;){var i=e.value;n+=this.getModelLength(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"findPositionIn",value:function(t,e){var n,r=0,i=0,o=0;if(t.is("$text"))return new fs(t,e);for(;i<e;)n=t.getChild(o),i+=r=this.getModelLength(n),o++;return i==e?this._moveViewPositionToTextNode(new fs(t,o)):this.findPositionIn(n,e-(i-r))}},{key:"_moveViewPositionToTextNode",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;return e instanceof bo?new fs(e,e.data.length):n instanceof bo?new fs(n,0):t}}]),t}();di(Yu,Xr);var Gu=function(){function t(){O()(this,t),this._consumable=new G.a,this._textProxyRegistry=new G.a}return P()(t,[{key:"add",value:function(t,e){e=Ju(e),t instanceof Pu&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new G.a),this._consumable.get(t).set(e,!0)}},{key:"consume",value:function(t,e){return e=Ju(e),t instanceof Pu&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}},{key:"test",value:function(t,e){e=Ju(e),t instanceof Pu&&(t=this._getSymbolForTextProxy(t));var n=this._consumable.get(t);if(void 0===n)return null;var r=n.get(e);return void 0===r?null:r}},{key:"revert",value:function(t,e){e=Ju(e),t instanceof Pu&&(t=this._getSymbolForTextProxy(t));var n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(t){var e=null,n=this._textProxyRegistry.get(t.startOffset);if(n){var r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}},{key:"_addSymbolForTextProxy",value:function(t,e,n){var r,i,o=m()("textProxySymbol");return(r=this._textProxyRegistry.get(t))||(r=new G.a,this._textProxyRegistry.set(t,r)),(i=r.get(e))||(i=new G.a,r.set(e,i)),i.set(n,o),o}}]),t}();function Ju(t){var e=t.split(":");return"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}function Ku(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Qu(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xu=function(){function t(e){O()(this,t),this.conversionApi=Sc()({dispatcher:this},e),this._reconversionEventsMapping=new G.a}return P()(t,[{key:"convertChanges",value:function(t,e,n){var r,i=Ku(t.getMarkersToRemove());try{for(i.s();!(r=i.n()).done;){var o=r.value;this.convertMarkerRemove(o.name,o.range,n)}}catch(t){i.e(t)}finally{i.f()}var s,a=Ku(this._mapChangesWithAutomaticReconversion(t));try{for(a.s();!(s=a.n()).done;){var c=s.value;"insert"===c.type?this.convertInsert(zu._createFromPositionAndShift(c.position,c.length),n):"remove"===c.type?this.convertRemove(c.position,c.length,c.name,n):"reconvert"===c.type?this.reconvertElement(c.element,n):this.convertAttribute(c.range,c.attributeKey,c.attributeOldValue,c.attributeNewValue,n)}}catch(t){a.e(t)}finally{a.f()}var l,u=Ku(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(u.s();!(l=u.n()).done;){var f=l.value,d=e.get(f).getRange();this.convertMarkerRemove(f,d,n),this.convertMarkerAdd(f,d,n)}}catch(t){u.e(t)}finally{u.f()}var h,p=Ku(t.getMarkersToAdd());try{for(p.s();!(h=p.n()).done;){var v=h.value;this.convertMarkerAdd(v.name,v.range,n)}}catch(t){p.e(t)}finally{p.f()}}},{key:"convertInsert",value:function(t,e){var n;this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);var r,i=Ku(U()(n=M()(t)).call(n,tf));try{for(i.s();!(r=i.n()).done;){var o=r.value;this._convertInsertWithAttributes(o)}}catch(t){i.e(t)}finally{i.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(t,e,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(t,e,n,r,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:".concat(e));var o,s=Ku(t);try{for(s.s();!(o=s.n()).done;){var a=o.value,c={item:a.item,range:zu._createFromPositionAndShift(a.previousPosition,a.length),attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:".concat(e),c)}}catch(t){s.e(t)}finally{s.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(t,e){var n=zu._createOn(t);this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);var r=this.conversionApi.mapper,i=r.toViewElement(t);e.remove(i),this._convertInsertWithAttributes({item:t,range:n});var o,s=r.toViewElement(t),a=Ku(zu._createIn(t));try{for(a.s();!(o=a.n()).done;){var c=o.value,l=c.item,u=ef(l,r);u?u.root!==s.root&&e.move(e.createRangeOn(u),r.toViewPosition(Bu._createBefore(l))):this._convertInsertWithAttributes(tf(c))}}catch(t){a.e(t)}finally{a.f()}r.unbindViewElement(i),this._clearConversionApi()}},{key:"convertSelection",value:function(t,e,n){var r=M()(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,r),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){var i,o=Ku(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.getRange();if(Zu(t.getFirstPosition(),s,this.conversionApi.mapper)){var c={item:t,markerName:s.name,markerRange:a};this.conversionApi.consumable.test(t,"addMarker:"+s.name)&&this.fire("addMarker:"+s.name,c,this.conversionApi)}}}catch(t){o.e(t)}finally{o.f()}var l,u=Ku(t.getAttributeKeys());try{for(u.s();!(l=u.n()).done;){var f=l.value,d={item:t,range:t.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:t.getAttribute(f)};this.conversionApi.consumable.test(t,"attribute:"+d.attributeKey)&&this.fire("attribute:"+d.attributeKey+":$text",d,this.conversionApi)}}catch(t){u.e(t)}finally{u.f()}this._clearConversionApi()}else this._clearConversionApi()}},{key:"convertMarkerAdd",value:function(t,e,n){if("$graveyard"!=e.root.rootName){this.conversionApi.writer=n;var r="addMarker:"+t,i=new Gu;if(i.add(e,r),this.conversionApi.consumable=i,this.fire(r,{markerName:t,markerRange:e},this.conversionApi),i.test(e,r)){this.conversionApi.consumable=this._createConsumableForRange(e,r);var o,s=Ku(e.getItems());try{for(s.s();!(o=s.n()).done;){var a=o.value;if(this.conversionApi.consumable.test(a,r)){var c={item:a,range:zu._createOn(a),markerName:t,markerRange:e};this.fire(r,c,this.conversionApi)}}}catch(t){s.e(t)}finally{s.f()}this._clearConversionApi()}else this._clearConversionApi()}}},{key:"convertMarkerRemove",value:function(t,e,n){"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(t,e){this._reconversionEventsMapping.set(e,t)}},{key:"_createInsertConsumable",value:function(t){var e,n=new Gu,r=Ku(t);try{for(r.s();!(e=r.n()).done;){var i=e.value.item;n.add(i,"insert");var o,s=Ku(i.getAttributeKeys());try{for(s.s();!(o=s.n()).done;){var a=o.value;n.add(i,"attribute:"+a)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"_createConsumableForRange",value:function(t,e){var n,r=new Gu,i=Ku(t.getItems());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.add(o,e)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"_createSelectionConsumable",value:function(t,e){var n=new Gu;n.add(t,"selection");var r,i=Ku(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.add(t,"addMarker:"+o.name)}}catch(t){i.e(t)}finally{i.f()}var s,a=Ku(t.getAttributeKeys());try{for(a.s();!(s=a.n()).done;){var c=s.value;n.add(t,"attribute:"+c)}}catch(t){a.e(t)}finally{a.f()}return n}},{key:"_testAndFire",value:function(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(function(t,e){var n,r=e.item.name||"$text";return nt()(n="".concat(t,":")).call(n,r)}(t,e),e,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(t){this._testAndFire("insert",t);var e,n=Ku(t.item.getAttributeKeys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.attributeKey=r,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(r),this._testAndFire("attribute:".concat(r),t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(t){var e,n=new tt.a,r=[],i=Ku(t.getChanges());try{for(i.s();!(e=i.n()).done;){var o=e.value,s=o.position||o.range.start,a=s.parent;if($u(s,a))r.push(o);else{var c="attribute"===o.type?Fu(s,a,null):a;if(c.is("$text"))r.push(o);else{var l,u,f=void 0;if("attribute"===o.type)f=nt()(l="attribute:".concat(o.attributeKey,":")).call(l,c.name);else f=nt()(u="".concat(o.type,":")).call(u,o.name);if(this._isReconvertTriggerEvent(f,c.name)){if(n.has(c))continue;n.add(c),r.push({type:"reconvert",element:c})}else r.push(o)}}}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"_isReconvertTriggerEvent",value:function(t,e){return this._reconversionEventsMapping.get(t)===e}}]),t}();function Zu(t,e,n){var r=e.getRange(),i=M()(t.getAncestors());return i.shift(),Oc()(i).call(i),!ta()(i).call(i,(function(t){if(r.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")}))}function tf(t){return{item:t.item,range:zu._createFromPositionAndShift(t.previousPosition,t.length)}}function ef(t,e){if(t.is("textProxy")){var n=e.toViewPosition(Bu._createBefore(t)).parent;return n.is("$text")?n:null}return e.toViewElement(t)}function nf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return rf(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(Xu,Xr);var of=function(){function t(e,n,r){O()(this,t),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new G.a,e&&this.setTo(e,n,r)}return P()(t,[{key:"anchor",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=nf(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=!1,s=nf(t._ranges);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(i.isEqual(a)){o=!0;break}}}catch(t){s.e(t)}finally{s.f()}if(!o)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"getRanges",value:dr.a.mark((function t(){var e,n,r;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=nf(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,new zu(r.start,r.end);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var t,e=null,n=nf(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?new zu(e.start,e.end):null}},{key:"getLastRange",value:function(){var t,e=null,n=nf(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?new zu(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]);else if(e instanceof t)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof zu)this._setRanges([e],!!n&&!!n.backward);else if(e instanceof Bu)this._setRanges([new zu(e)]);else if(e instanceof Cu){var i,o=!!r&&!!r.backward;if("in"==n)i=zu._createIn(e);else if("on"==n)i=zu._createOn(e);else{if(void 0===n)throw new hr.a("model-selection-setto-required-second-parameter",[this,e]);i=new zu(Bu._createAt(e,n))}this._setRanges([i],o)}else{if(!ko(e))throw new hr.a("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,n&&!!n.backward)}}},{key:"_setRanges",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=M()(t);var r=ta()(t).call(t,(function(n){var r;if(!(n instanceof zu))throw new hr.a("model-selection-set-ranges-not-range",[e,t]);return Wo()(r=e._ranges).call(r,(function(t){return!t.isEqual(n)}))}));if(t.length!==this._ranges.length||r){this._removeAllRanges();var i,o=nf(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._pushRange(s)}}catch(t){o.e(t)}finally{o.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new hr.a("model-selection-setfocus-no-ranges",[this,t]);var n=Bu._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new zu(n,r)),this._lastRangeBackward=!0):(this._pushRange(new zu(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){var t;return N()(t=this._attrs).call(t)}},{key:"getAttributeKeys",value:function(){var t;return X()(t=this._attrs).call(t)}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"removeAttribute",value:function(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"setAttribute",value:function(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(t){return"selection"===t||"model:selection"===t}},{key:"getSelectedBlocks",value:dr.a.mark((function t(){var e,n,r,i,o,s,a,c,l,u;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=new Ks.a,n=nf(this.getRanges()),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=35;break}if(i=r.value,!(o=cf(i.start,e))||!lf(o,i)){t.next=10;break}return t.next=10,o;case 10:s=nf(i.getWalker()),t.prev=11,s.s();case 13:if((a=s.n()).done){t.next=21;break}if(c=a.value,l=c.item,"elementEnd"!=c.type||!af(l,e,i)){t.next=19;break}return t.next=19,l;case 19:t.next=13;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(11),s.e(t.t0);case 26:return t.prev=26,s.f(),t.finish(26);case 29:if(!(u=cf(i.end,e))||i.end.isTouching(Bu._createAt(u,0))||!lf(u,i)){t.next=33;break}return t.next=33,u;case 33:t.next=4;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(2),n.e(t.t1);case 40:return t.prev=40,n.f(),t.finish(40);case 43:case"end":return t.stop()}}),t,this,[[2,37,40,43],[11,23,26,29]])}))},{key:"containsEntireContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,e=Bu._createAt(t,0),n=Bu._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(t){this._checkRange(t),this._ranges.push(new zu(t.start,t.end))}},{key:"_checkRange",value:function(t){for(var e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new hr.a("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),t}();function sf(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function af(t,e,n){return sf(t,e)&&lf(t,n)}function cf(t,e){var n=t.parent.root.document.model.schema,r=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,o=D()(r).call(r,(function(t){return!i&&(!(i=n.isLimit(t))&&sf(t,e))}));return Ir()(r).call(r,(function(t){return e.add(t)})),o}function lf(t,e){var n=function(t){var e=t.root.document.model.schema,n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(zu._createOn(n),!0)}function uf(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}di(of,Xr);var ff=function(t){wr()(n,t);var e=uf(n);function n(t,r){var i;return O()(this,n),i=e.call(this,t,r),df.call(Lo()(i)),i}return P()(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}},{key:"toRange",value:function(){return new zu(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new n(t.start,t.end)}}]),n}(zu);function df(){var t=this;this.listenTo(this.root.document.model,"applyOperation",(function(e,n){var r=n[0];r.isDocumentOperation&&hf.call(t,r)}),{priority:"low"})}function hf(t){var e=this.getTransformedByOperation(t),n=zu._createFromRanges(e),r=!n.isEqual(this),i=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t),o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);var s=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",s,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}function pf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return vf(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function vf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mf(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}di(ff,Xr);var gf="selection:",yf=function(){function t(e){O()(this,t),this._selection=new _f(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return P()(t,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(t){return this._selection.containsEntireContent(t)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(t){return this._selection.getAttribute(t)}},{key:"hasAttribute",value:function(t){return this._selection.hasAttribute(t)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(t){this._selection.observeMarkers(t)}},{key:"is",value:function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setAttribute",value:function(t,e){this._selection.setAttribute(t,e)}},{key:"_removeAttribute",value:function(t){this._selection.removeAttribute(t)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(t){this._selection.restoreGravity(t)}}],[{key:"_getStoreAttributeKey",value:function(t){return gf+t}},{key:"_isStoreAttributeKey",value:function(t){return Xs()(t).call(t,gf)}}]),t}();di(yf,Xr);var _f=function(t){wr()(n,t);var e=mf(n);function n(t){var r;return O()(this,n),(r=e.call(this)).markers=new As({idProperty:"name"}),r._model=t.model,r._document=t,r._attributePriority=new G.a,r._selectionRestorePosition=null,r._hasChangedRange=!1,r._overriddenGravityRegister=new tt.a,r._observedMarkers=new tt.a,r.listenTo(r._model,"applyOperation",(function(t,e){var n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==r._ranges.length&&r._selectionRestorePosition&&r._fixGraveyardSelection(r._selectionRestorePosition),r._selectionRestorePosition=null,r._hasChangedRange&&(r._hasChangedRange=!1,r.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),r.on("change:range",(function(){var t,e=pf(r.getRanges());try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!r._document._validateSelectionRange(n))throw new hr.a("document-selection-wrong-position",Lo()(r),{range:n})}}catch(t){e.e(t)}finally{e.f()}})),r.listenTo(r._model.markers,"update",(function(t,e,n,i){r._updateMarker(e,i)})),r.listenTo(r._document,"change",(function(t,e){!function(t,e){var n,r=pf(t.document.differ.getChanges());try{var i=function(){var r=n.value;if("insert"!=r.type)return"continue";var i=r.position.parent;r.length===i.maxOffset&&t.enqueueChange(e,(function(t){var e,n,r=K()(e=M()(i.getAttributeKeys())).call(e,(function(t){return Xs()(t).call(t,gf)})),o=pf(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;t.removeAttribute(s,i)}}catch(t){o.e(t)}finally{o.f()}}))};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}(r._model,e)})),r}return P()(n,[{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:Za()(Cr()(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return Za()(Cr()(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return Za()(Cr()(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:dr.a.mark((function t(){return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._ranges.length){t.next=4;break}return t.delegateYield(Za()(Cr()(n.prototype),"getRanges",this).call(this),"t0",2);case 2:t.next=6;break;case 4:return t.next=6,this._document._getDefaultRange();case 6:case"end":return t.stop()}}),t,this)}))},{key:"getFirstRange",value:function(){return Za()(Cr()(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return Za()(Cr()(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,e,r){Za()(Cr()(n.prototype),"setTo",this).call(this,t,e,r),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,e){Za()(Cr()(n.prototype),"setFocus",this).call(this,t,e),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,e){if(this._setAttribute(t,e)){var n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=Hr();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new hr.a("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(t){this._observedMarkers.add(t),this._updateMarkers()}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var e=this._prepareRange(t);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(t){var e=this;if(this._checkRange(t),t.root!=this._document.graveyard){var n=ff.fromRange(t);return n.on("change:range",(function(t,r,i){if(e._hasChangedRange=!0,n.root==e._document.graveyard){var o,s;e._selectionRestorePosition=i.deletionPosition;var a=Er()(o=e._ranges).call(o,n);W()(s=e._ranges).call(s,a,1),n.detach()}})),n}}},{key:"_updateMarkers",value:function(){if(this._observedMarkers.size){var t,e=[],n=!1,r=pf(this._model.markers);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.name.split(":",1)[0];if(this._observedMarkers.has(o)){var s,a=i.getRange(),c=pf(this.getRanges());try{for(c.s();!(s=c.n()).done;){var l=s.value;a.containsRange(l,!l.isCollapsed)&&e.push(i)}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){r.e(t)}finally{r.f()}for(var u=M()(this.markers),f=0,d=e;f<d.length;f++){var h=d[f];this.markers.has(h)||(this.markers.add(h),n=!0)}for(var p=0,v=M()(this.markers);p<v.length;p++){var m=v[p];jr()(e).call(e,m)||(this.markers.remove(m),n=!0)}n&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}}},{key:"_updateMarker",value:function(t,e){var n=t.name.split(":",1)[0];if(this._observedMarkers.has(n)){var r=!1,i=M()(this.markers),o=this.markers.has(t);if(e){var s,a=!1,c=pf(this.getRanges());try{for(c.s();!(s=c.n()).done;){var l=s.value;if(e.containsRange(l,!l.isCollapsed)){a=!0;break}}}catch(t){c.e(t)}finally{c.f()}a&&!o?(this.markers.add(t),r=!0):!a&&o&&(this.markers.remove(t),r=!0)}else o&&(this.markers.remove(t),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}}},{key:"_updateAttributes",value:function(t){var e=xo(this._getSurroundingAttributes()),n=xo(this.getAttributes());if(t)this._attributePriority=new G.a,this._attrs=new G.a;else{var r,i=pf(this._attributePriority);try{for(i.s();!(r=i.n()).done;){var o=S()(r.value,2),s=o[0];"low"==o[1]&&(this._attrs.delete(s),this._attributePriority.delete(s))}}catch(t){i.e(t)}finally{i.f()}}this._setAttributesTo(e);var a,c=[],l=pf(this.getAttributes());try{for(l.s();!(a=l.n()).done;){var u=S()(a.value,2),f=u[0],d=u[1];n.has(f)&&n.get(f)===d||c.push(f)}}catch(t){l.e(t)}finally{l.f()}var h,p=pf(n);try{for(p.s();!(h=p.n()).done;){var v=S()(h.value,1)[0];this.hasAttribute(v)||c.push(v)}}catch(t){p.e(t)}finally{p.f()}c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}},{key:"_setAttribute",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&(Za()(Cr()(n.prototype),"getAttribute",this).call(this,t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,r),!0))}},{key:"_removeAttribute",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"normal":"low";return("low"!=e||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,e),!!Za()(Cr()(n.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var e,n=new tt.a,r=pf(this.getAttributes());try{for(r.s();!(e=r.n()).done;){var i=S()(e.value,2),o=i[0],s=i[1];t.get(o)!==s&&this._removeAttribute(o,!1)}}catch(t){r.e(t)}finally{r.f()}var a,c=pf(t);try{for(c.s();!(a=c.n()).done;){var l=S()(a.value,2),u=l[0],f=l[1];this._setAttribute(u,f,!1)&&n.add(u)}}catch(t){c.e(t)}finally{c.f()}return n}},{key:"_getStoredAttributes",value:dr.a.mark((function t(){var e,n,r,i,o;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getFirstPosition().parent,!this.isCollapsed||!e.isEmpty){t.next=21;break}n=pf(e.getAttributeKeys()),t.prev=3,n.s();case 5:if((r=n.n()).done){t.next=13;break}if(i=r.value,!Xs()(i).call(i,gf)){t.next=11;break}return o=i.substr(10),t.next=11,[o,e.getAttribute(i)];case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),e=this._model.schema,n=null;if(this.isCollapsed){var r=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=bf(r)),n||(n=bf(i)),!this.isGravityOverridden&&!n)for(var o=r;o&&!e.isInline(o)&&!n;)n=bf(o=o.previousSibling);if(!n)for(var s=i;s&&!e.isInline(s)&&!n;)n=bf(s=s.nextSibling);n||(n=this._getStoredAttributes())}else{var a,c=pf(this.getFirstRange());try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l.item.is("element")&&e.isObject(l.item))break;if("text"==l.type){n=l.item.getAttributes();break}}}catch(t){c.e(t)}finally{c.f()}}return n}},{key:"_fixGraveyardSelection",value:function(t){var e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}]),n}(of);function bf(t){return t instanceof Pu||t instanceof Eu?t.getAttributes():null}function wf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return kf(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(147);function xf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Sf(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Sf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cf(t){var e,n=t.model,r=n.schema,i=n.document,o=xf(i.getRootNames());try{for(o.s();!(e=o.n()).done;){var s=e.value,a=i.getRoot(s);if(a.isEmpty&&!r.checkChild(a,"$text")&&r.checkChild(a,"paragraph"))return t.insertElement("paragraph",a),!0}}catch(t){o.e(t)}finally{o.f()}return!1}function Of(t,e,n){var r=n.createContext(t);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),e)}function Ef(t,e){var n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}function Pf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Af(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Af(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Af(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(function(){function t(e,n){var r=this;O()(this,t),this.model=e,this.view=new Su(n),this.mapper=new Yu,this.downcastDispatcher=new Xu({mapper:this.mapper,schema:e.schema});var i=this.model.document,o=i.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){r.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){r.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(i,"change",(function(){r.view.change((function(t){r.downcastDispatcher.convertChanges(i.differ,s,t),r.downcastDispatcher.convertSelection(o,s,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return function(n,r){var i,o=r.newSelection,s=[],a=Pf(o.getRanges());try{for(a.s();!(i=a.n()).done;){var c=i.value;s.push(e.toModelRange(c))}}catch(t){a.e(t)}finally{a.f()}var l=t.createSelection(s,{backward:o.isBackward});l.isEqual(t.document.selection)||t.change((function(t){t.setSelection(l)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(t,e,n){if(n.consumable.consume(e.item,"insert")){var r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(t,e,n){var r,i=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),s=n.mapper.toViewPosition(o,{isPhantom:!0}),a=n.writer.createRange(i,s),c=n.writer.remove(a.getTrimmed()),l=wf(n.writer.createRangeIn(c).getItems());try{for(l.s();!(r=l.n()).done;){var u=r.value;n.mapper.unbindViewElement(u)}}catch(t){l.e(t)}finally{l.f()}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(t,e,n){var r,i=n.writer,o=wf(i.document.selection.getRanges());try{for(o.s();!(r=o.n()).done;){var s=r.value;s.isCollapsed&&s.end.parent.isAttached()&&n.writer.mergeAttributes(s.start)}}catch(t){o.e(t)}finally{o.f()}i.setSelection(null)}),{priority:"high"}),this.downcastDispatcher.on("selection",(function(t,e,n){var r=e.selection;if(!r.isCollapsed&&n.consumable.consume(r,"selection")){var i,o=[],s=wf(r.getRanges());try{for(s.s();!(i=s.n()).done;){var a=i.value,c=n.mapper.toViewRange(a);o.push(c)}}catch(t){s.e(t)}finally{s.f()}n.writer.setSelection(o,{backward:r.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(t,e,n){var r=e.selection;if(r.isCollapsed&&n.consumable.consume(r,"selection")){var i=n.writer,o=r.getFirstPosition(),s=n.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(t){if("$graveyard"==t.rootName)return null;var e=new Qa(r.view.document,t.name);return e.rootName=t.rootName,r.mapper.bindElements(t,e),e}))}return P()(t,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),t}(),ns);var Tf=n(541),jf=n.n(Tf);function Mf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return If(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return If(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function If(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nf=function(){function t(){O()(this,t),this._consumables=new G.a}return P()(t,[{key:"add",value:function(t,e){var n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Rf(t),this._consumables.set(t,n)),n.add(e))}},{key:"test",value:function(t,e){var n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}},{key:"consume",value:function(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}},{key:"revert",value:function(t,e){var n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}}],[{key:"consumablesFromElement",value:function(t){var e,n={element:t,name:!0,attributes:[],classes:[],styles:[]},r=Mf(t.getAttributeKeys());try{for(r.s();!(e=r.n()).done;){var i=e.value;"style"!=i&&"class"!=i&&n.attributes.push(i)}}catch(t){r.e(t)}finally{r.f()}var o,s=Mf(t.getClassNames());try{for(s.s();!(o=s.n()).done;){var a=o.value;n.classes.push(a)}}catch(t){s.e(t)}finally{s.f()}var c,l=Mf(t.getStyleNames());try{for(l.s();!(c=l.n()).done;){var u=c.value;n.styles.push(u)}}catch(t){l.e(t)}finally{l.f()}return n}},{key:"createFrom",value:function(e,n){if(n||(n=new t(e)),e.is("$text"))return n.add(e),n;e.is("element")&&n.add(e,t.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);var r,i=Mf(e.getChildren());try{for(i.s();!(r=i.n()).done;){var o=r.value;n=t.createFrom(o,n)}}catch(t){i.e(t)}finally{i.f()}return n}}]),t}(),Rf=function(){function t(e){O()(this,t),this.element=e,this._canConsumeName=null,this._consumables={attributes:new G.a,styles:new G.a,classes:new G.a}}return P()(t,[{key:"add",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._add(e,t[e])}},{key:"test",value:function(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var e in this._consumables)if(e in t){var n=this._test(e,t[e]);if(!0!==n)return n}return!0}},{key:"consume",value:function(t){for(var e in t.name&&(this._canConsumeName=!1),this._consumables)e in t&&this._consume(e,t[e])}},{key:"revert",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._revert(e,t[e])}},{key:"_add",value:function(t,e){var n,r=ct(e)?e:[e],i=this._consumables[t],o=Mf(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("attributes"===t&&("class"===s||"style"===s))throw new hr.a("viewconsumable-invalid-attribute",this);if(i.set(s,!0),"styles"===t){var a,c=Mf(this.element.document.stylesProcessor.getRelatedStyles(s));try{for(c.s();!(a=c.n()).done;){var l=a.value;i.set(l,!0)}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){o.e(t)}finally{o.f()}}},{key:"_test",value:function(t,e){var n,r=ct(e)?e:[e],i=this._consumables[t],o=Mf(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("attributes"!==t||"class"!==s&&"style"!==s){var a=i.get(s);if(void 0===a)return null;if(!a)return!1}else{var c,l="class"==s?"classes":"styles",u=this._test(l,k()(X()(c=this._consumables[l]).call(c)));if(!0!==u)return u}}}catch(t){o.e(t)}finally{o.f()}return!0}},{key:"_consume",value:function(t,e){var n,r=ct(e)?e:[e],i=this._consumables[t],o=Mf(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("attributes"!==t||"class"!==s&&"style"!==s){if(i.set(s,!1),"styles"==t){var a,c=Mf(this.element.document.stylesProcessor.getRelatedStyles(s));try{for(c.s();!(a=c.n()).done;){var l=a.value;i.set(l,!1)}}catch(t){c.e(t)}finally{c.f()}}}else{var u,f="class"==s?"classes":"styles";this._consume(f,k()(X()(u=this._consumables[f]).call(u)))}}}catch(t){o.e(t)}finally{o.f()}}},{key:"_revert",value:function(t,e){var n,r=ct(e)?e:[e],i=this._consumables[t],o=Mf(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("attributes"!==t||"class"!==s&&"style"!==s){!1===i.get(s)&&i.set(s,!0)}else{var a,c="class"==s?"classes":"styles";this._revert(c,k()(X()(a=this._consumables[c]).call(a)))}}}catch(t){o.e(t)}finally{o.f()}}}]),t}(),Df=dr.a.mark(td),Lf=dr.a.mark(ed);function Bf(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return $f(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function $f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ff=function(){function t(){var e=this;O()(this,t),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(t,e){e[0]=new qf(e[0])}),{priority:"highest"}),this.on("checkChild",(function(t,n){n[0]=new qf(n[0]),n[1]=e.getDefinition(n[1])}),{priority:"highest"})}return P()(t,[{key:"register",value:function(t,e){if(this._sourceDefinitions[t])throw new hr.a("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Sc()({},e)],this._clearCache()}},{key:"extend",value:function(t,e){if(!this._sourceDefinitions[t])throw new hr.a("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Sc()({},e)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(t){var e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}},{key:"isRegistered",value:function(t){return!!this.getDefinition(t)}},{key:"isBlock",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(t){var e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}},{key:"isInline",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isInline)}},{key:"isSelectable",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}},{key:"isContent",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}},{key:"checkChild",value:function(t,e){return!!e&&this._checkContextMatch(e,t)}},{key:"checkAttribute",value:function(t,e){var n,r=this.getDefinition(t.last);return!!r&&jr()(n=r.allowAttributes).call(n,e)}},{key:"checkMerge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t instanceof Bu){var n=t.nodeBefore,r=t.nodeAfter;if(!(n instanceof Ru))throw new hr.a("schema-check-merge-no-element-before",this);if(!(r instanceof Ru))throw new hr.a("schema-check-merge-no-element-after",this);return this.checkMerge(n,r)}var i,o=Bf(e.getChildren());try{for(o.s();!(i=o.n()).done;){var s=i.value;if(!this.checkChild(t,s))return!1}}catch(t){o.e(t)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(t){this.on("checkChild",(function(e,n){var r=S()(n,2),i=r[0],o=r[1];if(o){var s=t(i,o);"boolean"==typeof s&&(e.stop(),e.return=s)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(t){this.on("checkAttribute",(function(e,n){var r=S()(n,2),i=r[0],o=r[1],s=t(i,o);"boolean"==typeof s&&(e.stop(),e.return=s)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(t,e){this._attributeProperties[t]=Sc()(this.getAttributeProperties(t),e)}},{key:"getAttributeProperties",value:function(t){return this._attributeProperties[t]||{}}},{key:"getLimitElement",value:function(t){var e;if(t instanceof Bu)e=t.parent;else{var n=t instanceof zu?[t]:M()(t.getRanges());e=Os()(n).call(n,(function(t,e){var n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}},{key:"checkAttributeInSelection",value:function(t,e){if(t.isCollapsed){var n,r=t.getFirstPosition(),i=nt()(n=[]).call(n,k()(r.getAncestors()),[new Eu("",t.getAttributes())]);return this.checkAttribute(i,e)}var o,s=Bf(t.getRanges());try{for(s.s();!(o=s.n()).done;){var a,c=Bf(o.value);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(this.checkAttribute(l.item,e))return!0}}catch(t){c.e(t)}finally{c.f()}}}catch(t){s.e(t)}finally{s.f()}return!1}},{key:"getValidRanges",value:dr.a.mark((function t(e,n){var r,i,o;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ed(e),r=Bf(e),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=9;break}return o=i.value,t.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:t.next=4;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(t){var e,n,r,i,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(t,"$text"))return new zu(t);var a=D()(e=Oc()(n=t.getAncestors()).call(n)).call(e,(function(t){return o.isLimit(t)}))||t.root;"both"!=s&&"backward"!=s||(r=new Du({boundaries:zu._createIn(a),startPosition:t,direction:"backward"})),"both"!=s&&"forward"!=s||(i=new Du({boundaries:zu._createIn(a),startPosition:t}));var c,l=Bf(td(r,i));try{for(l.s();!(c=l.n()).done;){var u=c.value,f=u.walker==r?"elementEnd":"elementStart",d=u.value;if(d.type==f&&this.isObject(d.item))return zu._createOn(d.item);if(this.checkChild(d.nextPosition,"$text"))return new zu(d.nextPosition)}}catch(t){l.e(t)}finally{l.f()}return null}},{key:"findAllowedParent",value:function(t,e){for(var n=t.parent;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(t,e){var n,r=Bf(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is("$text"))nd(this,i,e);else{var o,s=Bf(zu._createIn(i).getPositions());try{for(s.s();!(o=s.n()).done;){var a=o.value;nd(this,a.nodeBefore||a.parent,e)}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){r.e(t)}finally{r.f()}}},{key:"createContext",value:function(t){return new qf(t)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){var t,e={},n=this._sourceDefinitions,r=z()(n),i=Bf(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;e[o]=Uf(n[o],o)}}catch(t){i.e(t)}finally{i.f()}var s,a=Bf(r);try{for(a.s();!(s=a.n()).done;){Vf(e,s.value)}}catch(t){a.e(t)}finally{a.f()}var c,l=Bf(r);try{for(l.s();!(c=l.n()).done;){zf(e,c.value)}}catch(t){l.e(t)}finally{l.f()}var u,f=Bf(r);try{for(f.s();!(u=f.n()).done;){Hf(e,u.value)}}catch(t){f.e(t)}finally{f.f()}var d,h=Bf(r);try{for(h.s();!(d=h.n()).done;){var p=d.value;Wf(e,p),Yf(e,p)}}catch(t){h.e(t)}finally{h.f()}var v,m=Bf(r);try{for(m.s();!(v=m.n()).done;){var g=v.value;Gf(e,g),Jf(e,g),Kf(e,g)}}catch(t){m.e(t)}finally{m.f()}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1,i=e.getItem(r);if(jr()(n=t.allowIn).call(n,i.name)){if(0==r)return!0;var o=this.getDefinition(i);return this._checkContextMatch(o,e,r-1)}return!1}},{key:"_getValidRangesForRange",value:dr.a.mark((function t(e,n){var r,i,o,s,a;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.start,i=e.start,o=Bf(e.getItems({shallow:!0})),t.prev=3,o.s();case 5:if((s=o.n()).done){t.next=17;break}if(!(a=s.value).is("element")){t.next=9;break}return t.delegateYield(this._getValidRangesForRange(zu._createIn(a),n),"t0",9);case 9:if(this.checkAttribute(a,n)){t.next=14;break}if(r.isEqual(i)){t.next=13;break}return t.next=13,new zu(r,i);case 13:r=Bu._createAfter(a);case 14:i=Bu._createAfter(a);case 15:t.next=5;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(3),o.e(t.t1);case 22:return t.prev=22,o.f(),t.finish(22);case 25:if(r.isEqual(i)){t.next=28;break}return t.next=28,new zu(r,i);case 28:case"end":return t.stop()}}),t,this,[[3,19,22,25]])}))}]),t}();di(Ff,ns);var qf=function(t){function e(t){if(O()(this,e),t instanceof e)return t;"string"==typeof t?t=[t]:B()(t)||(t=t.getAncestors({includeSelf:!0})),this._items=U()(t).call(t,Zf)}return P()(e,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:t,value:function(){return Ar()(this._items)}},{key:"push",value:function(t){var n,r=new e([t]);return r._items=nt()(n=[]).call(n,k()(this._items),k()(r._items)),r}},{key:"getItem",value:function(t){return this._items[t]}},{key:"getNames",value:dr.a.mark((function t(){var e;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(U()(e=this._items).call(e,(function(t){return t.name})),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"endsWith",value:function(t){var e;return ia()(e=M()(this.getNames()).join(" ")).call(e,t)}},{key:"startsWith",value:function(t){var e;return Xs()(e=M()(this.getNames()).join(" ")).call(e,t)}}]),e}(vr.a);function Uf(t,e){var n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){var n,r=Bf(t);try{for(r.s();!(n=r.n()).done;){var i,o,s=n.value,a=K()(i=z()(s)).call(i,(function(t){return Xs()(t).call(t,"is")})),c=Bf(a);try{for(c.s();!(o=c.n()).done;){var l=o.value;e[l]=s[l]}}catch(t){c.e(t)}finally{c.f()}}}catch(t){r.e(t)}finally{r.f()}}(t,n),Qf(t,n,"allowIn"),Qf(t,n,"allowContentOf"),Qf(t,n,"allowWhere"),Qf(t,n,"allowAttributes"),Qf(t,n,"allowAttributesOf"),Qf(t,n,"allowChildren"),Qf(t,n,"inheritTypesFrom"),function(t,e){var n,r=Bf(t);try{for(r.s();!(n=r.n()).done;){var i=n.value.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}catch(t){r.e(t)}finally{r.f()}}(t,n),n}function Vf(t,e){var n,r=t[e],i=Bf(r.allowChildren);try{for(i.s();!(n=i.n()).done;){var o=t[n.value];o&&o.allowIn.push(e)}}catch(t){i.e(t)}finally{i.f()}r.allowChildren.length=0}function zf(t,e){var n,r=Bf(t[e].allowContentOf);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t[i]){var o=Xf(t,i);Ir()(o).call(o,(function(t){t.allowIn.push(e)}))}}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowContentOf}function Hf(t,e){var n,r=Bf(t[e].allowWhere);try{for(r.s();!(n=r.n()).done;){var i=t[n.value];if(i){var o,s=i.allowIn;(o=t[e].allowIn).push.apply(o,k()(s))}}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowWhere}function Wf(t,e){var n,r=Bf(t[e].allowAttributesOf);try{for(r.s();!(n=r.n()).done;){var i=t[n.value];if(i){var o,s=i.allowAttributes;(o=t[e].allowAttributes).push.apply(o,k()(s))}}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowAttributesOf}function Yf(t,e){var n,r=t[e],i=Bf(r.inheritTypesFrom);try{for(i.s();!(n=i.n()).done;){var o=t[n.value];if(o){var s,a,c=K()(s=z()(o)).call(s,(function(t){return Xs()(t).call(t,"is")})),l=Bf(c);try{for(l.s();!(a=l.n()).done;){var u=a.value;u in r||(r[u]=o[u])}}catch(t){l.e(t)}finally{l.f()}}}}catch(t){i.e(t)}finally{i.f()}delete r.inheritTypesFrom}function Gf(t,e){var n,r=t[e],i=K()(n=r.allowIn).call(n,(function(e){return t[e]}));r.allowIn=M()(new tt.a(i))}function Jf(t,e){var n,r=Bf(t[e].allowIn);try{for(r.s();!(n=r.n()).done;){t[n.value].allowChildren.push(e)}}catch(t){r.e(t)}finally{r.f()}}function Kf(t,e){var n=t[e];n.allowAttributes=M()(new tt.a(n.allowAttributes))}function Qf(t,e,n){var r,i=Bf(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("string"==typeof o[n])e[n].push(o[n]);else if(B()(o[n])){var s;(s=e[n]).push.apply(s,k()(o[n]))}}}catch(t){i.e(t)}finally{i.f()}}function Xf(t,e){var n,r,i,o=t[e];return K()((r=t,n=U()(i=z()(r)).call(i,(function(t){return r[t]})))).call(n,(function(t){var e;return jr()(e=t.allowIn).call(e,o.name)}))}function Zf(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",getAttributeKeys:dr.a.mark((function t(){return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:dr.a.mark((function e(){return dr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return e.stop()}}),e)})),getAttribute:function(e){return t.getAttribute(e)}}}function td(t,e){var n,r,i;return dr.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=!1;case 1:if(n){o.next=17;break}if(n=!0,!t){o.next=9;break}if((r=t.next()).done){o.next=9;break}return n=!1,o.next=9,{walker:t,value:r.value};case 9:if(!e){o.next=15;break}if((i=e.next()).done){o.next=15;break}return n=!1,o.next=15,{walker:e,value:i.value};case 15:o.next=1;break;case 17:case"end":return o.stop()}}),Df)}function ed(t){var e,n,r;return dr.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=Bf(t),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),e.e(i.t1);case 13:return i.prev=13,e.f(),i.finish(13);case 16:case"end":return i.stop()}}),Lf,null,[[1,10,13,16]])}function nd(t,e,n){var r,i=Bf(e.getAttributeKeys());try{for(i.s();!(r=i.n()).done;){var o=r.value;t.checkAttribute(e,o)||n.removeAttribute(o,e)}}catch(t){i.e(t)}finally{i.f()}}function rd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return id(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return id(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function id(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var od=function(){function t(){var e,n,r,i,o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O()(this,t),this._splitParts=new G.a,this._cursorParents=new G.a,this._modelCursor=null,this.conversionApi=Sc()({},a),this.conversionApi.convertItem=$o()(e=this._convertItem).call(e,this),this.conversionApi.convertChildren=$o()(n=this._convertChildren).call(n,this),this.conversionApi.safeInsert=$o()(r=this._safeInsert).call(r,this),this.conversionApi.updateConversionResult=$o()(i=this._updateConversionResult).call(i,this),this.conversionApi.splitToAllowedParent=$o()(o=this._splitToAllowedParent).call(o,this),this.conversionApi.getSplitParts=$o()(s=this._getSplitParts).call(s,this)}return P()(t,[{key:"convert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",t),this._modelCursor=function(t,e){var n,r,i=rd(new qf(t));try{for(i.s();!(r=i.n()).done;){var o,s=r.value,a={},c=rd(s.getAttributeKeys());try{for(c.s();!(o=c.n()).done;){var l=o.value;a[l]=s.getAttribute(l)}}catch(t){c.e(t)}finally{c.f()}var u=e.createElement(s.name,a);n&&e.append(u,n),n=Bu._createAt(u,0)}}catch(t){i.e(t)}finally{i.f()}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Nf.createFrom(t),this.conversionApi.store={};var r=this._convertItem(t,this._modelCursor).modelRange,i=e.createDocumentFragment();if(r){this._removeEmptyElements();for(var o=0,s=M()(this._modelCursor.parent.getChildren());o<s.length;o++){var a=s[o];e.append(a,i)}i.markers=function(t,e){var n,r=new tt.a,i=new G.a,o=rd(zu._createIn(t).getItems());try{for(o.s();!(n=o.n()).done;){var s=n.value;"$marker"==s.name&&r.add(s)}}catch(t){o.e(t)}finally{o.f()}var a,c=rd(r);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=l.getAttribute("data-name"),f=e.createPositionBefore(l);i.has(u)?i.get(u).end=f.clone():i.set(u,new zu(f.clone())),e.remove(l)}}catch(t){c.e(t)}finally{c.f()}return i}(i,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}},{key:"_convertItem",value:function(t,e){var n=Sc()({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof zu))throw new hr.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(t,e){for(var n=e.is("position")?e:Bu._createAt(e,0),r=new zu(n),i=0,o=M()(t.getChildren());i<o.length;i++){var s=o[i],a=this._convertItem(s,n);a.modelRange instanceof zu&&(r.end=a.modelRange.end,n=a.modelCursor)}return{modelRange:r,modelCursor:n}}},{key:"_safeInsert",value:function(t,e){var n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}},{key:"_updateConversionResult",value:function(t,e){var n=this._getSplitParts(t),r=this.conversionApi.writer;e.modelRange||(e.modelRange=r.createRange(r.createPositionBefore(t),r.createPositionAfter(n[n.length-1])));var i=this._cursorParents.get(t);e.modelCursor=i?r.createPositionAt(i,0):e.modelRange.end}},{key:"_splitToAllowedParent",value:function(t,e){var n=this.conversionApi,r=n.schema,i=n.writer,o=r.findAllowedParent(e,t);if(o){var s;if(o===e.parent)return{position:e};jr()(s=this._modelCursor.parent.getAncestors()).call(s,o)&&(o=null)}if(!o)return Of(e,t,r)?{position:Ef(e,i)}:null;var a,c=this.conversionApi.writer.split(e,o),l=[],u=rd(c.range.getWalker());try{for(u.s();!(a=u.n()).done;){var f=a.value;if("elementEnd"==f.type)l.push(f.item);else{var d=l.pop(),h=f.item;this._registerSplitPair(d,h)}}}catch(t){u.e(t)}finally{u.f()}var p=c.range.end.parent;return this._cursorParents.set(t,p),{position:c.position,cursorParent:p}}},{key:"_registerSplitPair",value:function(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);var n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}},{key:"_getSplitParts",value:function(t){return this._splitParts.has(t)?this._splitParts.get(t):[t]}},{key:"_removeEmptyElements",value:function(){var t,e,n=!1,r=rd(X()(t=this._splitParts).call(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),n=!0)}}catch(t){r.e(t)}finally{r.f()}n&&this._removeEmptyElements()}}]),t}();function sd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ad(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ad(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ad(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(od,Xr);var cd=function(){function t(e,n){var r=this;O()(this,t),this.model=e,this.mapper=new Yu,this.downcastDispatcher=new Xu({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(function(t,e,n){if(n.consumable.consume(e.item,"insert")){var r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)}}),{priority:"lowest"}),this.upcastDispatcher=new od({schema:e.schema}),this.viewDocument=new Hs(n),this.stylesProcessor=n,this.htmlProcessor=new Wa(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new dc(this.viewDocument),this.upcastDispatcher.on("text",(function(t,e,n){var r=n.schema,i=n.consumable,o=n.writer,s=e.modelCursor;if(i.test(e.viewItem)){if(!r.checkChild(s,"$text")){if(!Of(s,"$text",r))return;s=Ef(s,o)}i.consume(e.viewItem);var a=o.createText(e.viewItem.data);o.insert(a,s),e.modelRange=o.createRange(s,s.getShiftedBy(a.offsetSize)),e.modelCursor=e.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var r=n.convertChildren(e.viewItem,e.modelCursor),i=r.modelRange,o=r.modelCursor;e.modelRange=i,e.modelCursor=o}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var r=n.convertChildren(e.viewItem,e.modelCursor),i=r.modelRange,o=r.modelCursor;e.modelRange=i,e.modelCursor=o}}),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",(function(){r.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){r.model.enqueueChange("transparent",Cf)}),{priority:"lowest"})}return P()(t,[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rootName,n=void 0===e?"main":e,r=st()(t),i=void 0===r?"empty":r;if(!this._checkIfRootsExists([n]))throw new hr.a("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==i||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}},{key:"stringify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(t,e);return this.processor.toData(n)}},{key:"toView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();var i=zu._createIn(t),o=new ba(n);this.mapper.bindElements(t,o),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(i,r);var s,a=t.is("documentFragment")?M()(t.markers):function(t){var e=[],n=t.root.document;if(!n)return[];var r,i=zu._createIn(t),o=sd(n.model.markers);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.getRange(),c=a.isCollapsed,l=a.start.isEqual(i.start)||a.end.isEqual(i.end);if(c&&l)e.push([s.name,a]);else{var u=i.getIntersection(a);u&&e.push([s.name,u])}}}catch(t){o.e(t)}finally{o.f()}return F()(e).call(e,(function(t,e){var n=S()(t,2),r=n[0],i=n[1],o=S()(e,2),s=o[0],a=o[1];if("after"!==i.end.compareWith(a.start))return 1;if("before"!==i.start.compareWith(a.end))return-1;switch(i.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(i.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return s.localeCompare(r)}}}))}(t),c=sd(a);try{for(c.s();!(s=c.n()).done;){var l=S()(s.value,2),u=l[0],f=l[1];this.downcastDispatcher.convertMarkerAdd(u,f,r)}}catch(t){c.e(t)}finally{c.f()}return delete this.downcastDispatcher.conversionApi.options,o}},{key:"init",value:function(t){var e=this;if(this.model.document.version)throw new hr.a("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(z()(n)))throw new hr.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",(function(t){for(var r=0,i=z()(n);r<i.length;r++){var o=i[r],s=e.model.document.getRoot(o);t.insert(e.parse(n[o],s),s,0)}})),jf.a.resolve()}},{key:"set",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof t?r.main=t:r=t,!this._checkIfRootsExists(z()(r)))throw new hr.a("datacontroller-set-non-existent-root",this);var i=n.batchType||"default";this.model.enqueueChange(i,(function(t){t.setSelection(null),t.removeSelectionAttribute(e.model.document.selection.getAttributeKeys());for(var n=0,i=z()(r);n<i.length;n++){var o=i[n],s=e.model.document.getRoot(o);t.remove(t.createRangeIn(s)),t.insert(e.parse(r[o],s),s,0)}}))}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(r){return e.upcastDispatcher.convert(t,r,n)}))}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var e,n=sd(t);try{for(n.s();!(e=n.n()).done;){var r,i=e.value;if(!jr()(r=this.model.document.getRootNames()).call(r,i))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}}]),t}();di(cd,ns);var ld=function(){function t(e){O()(this,t),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return P()(t,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var t=Sc()({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(t){return new this(t.baseVersion)}}]),t}();function ud(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return fd(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function fd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dd=function(t){function e(t){O()(this,e),this.markers=new G.a,this._children=new ju,t&&this._insertChild(0,t)}return P()(e,[{key:t,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(t){return"documentFragment"===t||"model:documentFragment"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return Ar()(this._children)}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(t){var e,n=this,r=ud(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=n.getChild(n.offsetToIndex(i))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"toJSON",value:function(){var t,e=[],n=ud(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r.toJSON())}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=function(t){var e;if("string"==typeof t)return[new Eu(t)];ko(t)||(t=[t]);return U()(e=M()(t)).call(e,(function(t){return"string"==typeof t?new Eu(t):t instanceof Pu?new Eu(t.data,t.getAttributes()):t}))}(e),i=ud(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(t){i.e(t)}finally{i.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),i=ud(r);try{for(i.s();!(e=i.n()).done;){e.value.parent=null}}catch(t){i.e(t)}finally{i.f()}return r}}],[{key:"fromJSON",value:function(t){var n,r=[],i=ud(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.name?r.push(Ru.fromJSON(o)):r.push(Eu.fromJSON(o))}}catch(t){i.e(t)}finally{i.f()}return new e(r)}}]),e}(vr.a);function hd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return pd(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vd(t,e){e=yd(e);var n=Os()(e).call(e,(function(t,e){return t+e.offsetSize}),0),r=t.parent;bd(t);var i=t.index;return r._insertChild(i,e),_d(r,i+e.length),_d(r,i),new zu(t,t.getShiftedBy(n))}function md(t){if(!t.isFlat)throw new hr.a("operation-utils-remove-range-not-flat",this);var e=t.start.parent;bd(t.start),bd(t.end);var n=e._removeChildren(t.start.index,t.end.index-t.start.index);return _d(e,t.start.index),n}function gd(t,e){if(!t.isFlat)throw new hr.a("operation-utils-move-range-not-flat",this);var n=md(t);return vd(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function yd(t){var e=[];t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new Eu(t[n]));else if(t[n]instanceof Pu)e.push(new Eu(t[n].data,t[n].getAttributes()));else if(t[n]instanceof dd||t[n]instanceof ju){var r,i=hd(t[n]);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.push(o)}}catch(t){i.e(t)}finally{i.f()}}else t[n]instanceof Cu&&e.push(t[n]);for(var s=1;s<e.length;s++){var a=e[s],c=e[s-1];a instanceof Eu&&c instanceof Eu&&wd(a,c)&&(W()(e).call(e,s-1,2,new Eu(c.data+a.data,c.getAttributes())),s--)}return e}function _d(t,e){var n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&wd(n,r)){var i=new Eu(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function bd(t){var e=t.textNode,n=t.parent;if(e){var r=t.offset-e.startOffset,i=e.index;n._removeChildren(i,1);var o=new Eu(e.data.substr(0,r),e.getAttributes()),s=new Eu(e.data.substr(r),e.getAttributes());n._insertChild(i,[o,s])}}function wd(t,e){var n,r=t.getAttributes(),i=e.getAttributes(),o=hd(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}}catch(t){o.e(t)}finally{o.f()}return i.next().done}function kd(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var xd=function(t){wr()(n,t);var e=kd(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,o)).sourcePosition=t.clone(),s.sourcePosition.stickiness="toNext",s.howMany=r,s.targetPosition=i.clone(),s.targetPosition.stickiness="toNone",s}return P()(n,[{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new hr.a("move-operation-nodes-do-not-exist",this);if(t===e&&n<r&&r<n+this.howMany)throw new hr.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==hi(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=n&&this.targetPosition.path[i]<n+this.howMany)throw new hr.a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){gd(zu._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(t,e){var n=Bu.fromJSON(t.sourcePosition,e),r=Bu.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}}]),n}(ld);function Sd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Cd(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Cd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Od(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ed=function(t){wr()(n,t);var e=Od(n);function n(t,r,i){var o;return O()(this,n),(o=e.call(this,i)).position=t.clone(),o.position.stickiness="toNone",o.nodes=new ju(yd(r)),o.shouldReceiveAttributes=!1,o}return P()(n,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var t,e=new ju(U()(t=k()(this.nodes)).call(t,(function(t){return t._clone(!0)}))),r=new n(this.position,e,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,e=new Bu(t,[0]);return new xd(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new hr.a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var t,e=this.nodes;this.nodes=new ju(U()(t=k()(e)).call(t,(function(t){return t._clone(!0)}))),vd(this.position,e)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(t,e){var r,i=[],o=Sd(t.nodes);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.name?i.push(Ru.fromJSON(s)):i.push(Eu.fromJSON(s))}}catch(t){o.e(t)}finally{o.f()}var a=new n(Bu.fromJSON(t.position,e),i,t.baseVersion);return a.shouldReceiveAttributes=t.shouldReceiveAttributes,a}}]),n}(ld);function Pd(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ad=function(t){wr()(n,t);var e=Pd(n);function n(t,r,i,o,s,a){var c;return O()(this,n),(c=e.call(this,a)).name=t,c.oldRange=r?r.clone():null,c.newRange=i?i.clone():null,c.affectsData=s,c._markers=o,c}return P()(n,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(t,e){return new n(t.name,t.oldRange?zu.fromJSON(t.oldRange,e):null,t.newRange?zu.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}]),n}(ld);var Td=function(t,e){return hl(t,e)};function jd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Md(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Md(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Md(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Id(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Nd=function(t){wr()(n,t);var e=Id(n);function n(t,r,i,o,s){var a;return O()(this,n),(a=e.call(this,s)).range=t.clone(),a.key=r,a.oldValue=void 0===i?null:i,a.newValue=void 0===o?null:o,a}return P()(n,[{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new hr.a("attribute-operation-range-not-flat",this);var t,e=jd(this.range.getItems({shallow:!0}));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==this.oldValue&&!Td(n.getAttribute(this.key),this.oldValue))throw new hr.a("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new hr.a("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_execute",value:function(){Td(this.oldValue,this.newValue)||function(t,e,n){bd(t.start),bd(t.end);var r,i=hd(t.getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.is("$textProxy")?o.textNode:o;null!==n?s._setAttribute(e,n):s._removeAttribute(e),_d(s.parent,s.index)}}catch(t){i.e(t)}finally{i.f()}_d(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(t,e){return new n(zu.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),n}(ld);function Rd(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Dd=function(t){wr()(n,t);var e=Rd(n);function n(){return O()(this,n),e.apply(this,arguments)}return P()(n,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(ld);function Ld(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Bd=function(t){wr()(n,t);var e=Ld(n);function n(t,r,i,o){var s;return O()(this,n),(s=e.call(this,o)).position=t,s.position.stickiness="toNext",s.oldName=r,s.newName=i,s}return P()(n,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof Ru))throw new hr.a("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new hr.a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(t,e){return new n(Bu.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}]),n}(ld);function $d(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Fd=function(t){wr()(n,t);var e=$d(n);function n(t,r,i,o,s){var a;return O()(this,n),(a=e.call(this,s)).root=t,a.key=r,a.oldValue=i,a.newValue=o,a}return P()(n,[{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new hr.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new hr.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new hr.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(t,e){if(!e.getRoot(t.root))throw new hr.a("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new n(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),n}(ld);function qd(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var Ud=function(t){wr()(n,t);var e=qd(n);function n(t,r,i,o,s){var a;return O()(this,n),(a=e.call(this,s)).sourcePosition=t.clone(),a.sourcePosition.stickiness="toPrevious",a.howMany=r,a.targetPosition=i.clone(),a.targetPosition.stickiness="toNext",a.graveyardPosition=o.clone(),a}return P()(n,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){var t;return new Bu(this.sourcePosition.root,p()(t=this.sourcePosition.path).call(t,0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zu(this.sourcePosition,t)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t,e=this.targetPosition._getTransformedByMergeOperation(this),n=p()(t=this.sourcePosition.path).call(t,0,-1),r=new Bu(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new zd(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new hr.a("merge-operation-source-position-invalid",this);if(!e.parent)throw new hr.a("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new hr.a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;gd(zu._createIn(t),this.targetPosition),gd(zu._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(t,e){var n=Bu.fromJSON(t.sourcePosition,e),r=Bu.fromJSON(t.targetPosition,e),i=Bu.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,i,t.baseVersion)}}]),n}(ld);function Vd(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var zd=function(t){wr()(n,t);var e=Vd(n);function n(t,r,i,o,s){var a;return O()(this,n),(a=e.call(this,s)).splitPosition=t.clone(),a.splitPosition.stickiness="toNext",a.howMany=r,a.insertionPosition=i,a.graveyardPosition=o?o.clone():null,a.graveyardPosition&&(a.graveyardPosition.stickiness="toNext"),a}return P()(n,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t,e=p()(t=this.insertionPosition.path).call(t);return e.push(0),new Bu(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zu(this.splitPosition,t)}},{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,e=new Bu(t,[0]);return new Ud(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new hr.a("split-operation-position-invalid",this);if(!t.parent)throw new hr.a("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new hr.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new hr.a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)gd(zu._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var e=t._clone();vd(this.insertionPosition,e)}gd(new zu(Bu._createAt(t,this.splitPosition.offset),Bu._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(t){var e,n=p()(e=t.path).call(e,0,-1);return n[n.length-1]++,new Bu(t.root,n,"toPrevious")}},{key:"fromJSON",value:function(t,e){var n=Bu.fromJSON(t.splitPosition,e),r=Bu.fromJSON(t.insertionPosition,e),i=t.graveyardPosition?Bu.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,r,i,t.baseVersion)}}]),n}(ld),Hd={};Hd[Nd.className]=Nd,Hd[Ed.className]=Ed,Hd[Ad.className]=Ad,Hd[xd.className]=xd,Hd[Dd.className]=Dd,Hd[ld.className]=ld,Hd[Bd.className]=Bd,Hd[Fd.className]=Fd,Hd[zd.className]=zd,Hd[Ud.className]=Ud;var Wd=function(){function t(){O()(this,t)}return P()(t,null,[{key:"fromJSON",value:function(t,e){return Hd[t.__className].fromJSON(t,e)}}]),t}();function Yd(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Gd(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Gd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jd=new G.a;function Kd(t,e,n){var r=Jd.get(t);r||(r=new G.a,Jd.set(t,r)),r.set(e,n)}function Qd(t,e,n){var r=t.nodes.getNode(0).getAttribute(e);if(r==n)return null;var i=new zu(t.position,t.position.getShiftedBy(t.howMany));return new Nd(i,e,r,n,0)}function Xd(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Zd(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=new xd(i.start,i.end.offset-i.start.offset,e,0);n.push(o);for(var s=r+1;s<t.length;s++)t[s]=t[s]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}function th(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}Kd(Nd,Nd,(function(t,e,n){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var r,i=U()(r=t.range.getDifference(e.range)).call(r,(function(e){return new Nd(e,t.key,t.oldValue,t.newValue,0)})),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&i.push(new Nd(o,e.key,e.newValue,t.newValue,0)),0==i.length?[new Dd(0)]:i}return[t]})),Kd(Nd,Ed,(function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes),r=U()(n).call(n,(function(e){return new Nd(e,t.key,t.oldValue,t.newValue,t.baseVersion)}));if(e.shouldReceiveAttributes){var i=Qd(e,t.key,t.oldValue);i&&r.unshift(i)}return r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),Kd(Nd,Ud,(function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(zu._createFromPositionAndShift(e.graveyardPosition,1));var r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),U()(n).call(n,(function(e){return new Nd(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Kd(Nd,xd,(function(t,e){var n=function(t,e){var n=zu._createFromPositionAndShift(e.sourcePosition,e.howMany),r=null,i=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),r=t.getIntersection(n)):i=[t];var o,s=[],a=Yd(i);try{for(a.s();!(o=a.n()).done;){var c=o.value;c=c._getTransformedByDeletion(e.sourcePosition,e.howMany);var l=e.getMovedRangeStart(),u=c.start.hasSameParentAs(l);c=c._getTransformedByInsertion(l,e.howMany,u),s.push.apply(s,k()(c))}}catch(t){a.e(t)}finally{a.f()}r&&s.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return s}(t.range,e);return U()(n).call(n,(function(e){return new Nd(e,t.key,t.oldValue,t.newValue,t.baseVersion)}))})),Kd(Nd,zd,(function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var n=t.clone();return n.range=new zu(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),Kd(Ed,Nd,(function(t,e){var n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var r=Qd(t,e.key,e.newValue);r&&n.push(r)}return n})),Kd(Ed,Ed,(function(t,e,n){return t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]})),Kd(Ed,xd,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Kd(Ed,zd,(function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Kd(Ed,Ud,(function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t]})),Kd(Ad,Ed,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]})),Kd(Ad,Ad,(function(t,e,n){if(t.name==e.name){if(!n.aIsStrong)return[new Dd(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),Kd(Ad,Ud,(function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]})),Kd(Ad,xd,(function(t,e,n){if(t.oldRange&&(t.oldRange=zu._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){var r=zu._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=r.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=zu._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),Kd(Ad,zd,(function(t,e,n){if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){var r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Bu._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Bu._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=Bu._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=Bu._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),Kd(Ud,Ed,(function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]})),Kd(Ud,Ud,(function(t,e,n){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){var r,i=p()(r=e.graveyardPosition.path).call(r);return i.push(0),t.sourcePosition=new Bu(e.graveyardPosition.root,i),t.howMany=0,[t]}return[new Dd(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var o="$graveyard"==t.targetPosition.root.rootName,s="$graveyard"==e.targetPosition.root.rootName;if(s&&!o||!(o&&!s)&&n.aIsStrong){var a=e.targetPosition._getTransformedByMergeOperation(e),c=t.targetPosition._getTransformedByMergeOperation(e);return[new xd(a,t.howMany,c,0)]}return[new Dd(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Kd(Ud,xd,(function(t,e,n){var r=zu._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new Dd(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),Kd(Ud,zd,(function(t,e,n){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var r=0!=e.howMany,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),Kd(xd,Ed,(function(t,e){var n=zu._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),Kd(xd,xd,(function(t,e,n){var r,i=zu._createFromPositionAndShift(t.sourcePosition,t.howMany),o=zu._createFromPositionAndShift(e.sourcePosition,e.howMany),s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Xd(t,e)&&Xd(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Zd([i],r);if(o.containsPosition(t.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Zd([i],r);var c=hi(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Zd([i],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;var l,u=[],f=Yd(i.getDifference(o));try{for(f.s();!(l=f.n()).done;){var d=l.value;d.start=d.start._getTransformedByDeletion(e.sourcePosition,e.howMany),d.end=d.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var h="same"==hi(d.start.getParentPath(),e.getMovedRangeStart().getParentPath()),p=d._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,h);u.push.apply(u,k()(p))}}catch(t){f.e(t)}finally{f.f()}var v=i.getIntersection(o);return null!==v&&s&&(v.start=v.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),v.end=v.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===u.length?u.push(v):1==u.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?u.unshift(v):u.push(v):W()(u).call(u,1,0,v)),0===u.length?[new Dd(t.baseVersion)]:Zd(u,r)})),Kd(xd,zd,(function(t,e,n){var r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));var i=zu._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){var o=new zu(e.splitPosition,i.end);return o=o._getTransformedBySplitOperation(e),Zd([new zu(i.start,e.splitPosition),o],r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);var s=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){var a=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&a&&!n.aWasUndone&&s.push(zu._createFromPositionAndShift(e.insertionPosition,1))}return Zd(s,r)})),Kd(xd,Ud,(function(t,e,n){var r=zu._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Dd(0)]}else if(!n.aWasUndone){var i,o=[],s=e.graveyardPosition.clone(),a=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(o.push(new xd(t.sourcePosition,t.howMany-1,t.targetPosition,0)),s=s._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var c=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),l=new xd(s,1,c,0),u=p()(i=l.getMovedRangeStart().path).call(i);u.push(0);var f=new Bu(l.targetPosition.root,u);a=a._getTransformedByMove(s,c,1);var d=new xd(a,e.howMany,f,0);return o.push(l),o.push(d),o}var h=zu._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=h.start,t.howMany=h.end.offset-h.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),Kd(Bd,Ed,(function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t]})),Kd(Bd,Ud,(function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])})),Kd(Bd,xd,(function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]})),Kd(Bd,Bd,(function(t,e,n){if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Dd(0)];t.oldName=e.newName}return[t]})),Kd(Bd,zd,(function(t,e){if("same"==hi(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){var n=new Bd(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,n]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),Kd(Fd,Fd,(function(t,e,n){if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Dd(0)];t.oldValue=e.newValue}return[t]})),Kd(zd,Ed,(function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]})),Kd(zd,Ud,(function(t,e,n){if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var r,i=p()(r=e.graveyardPosition.path).call(r);i.push(0);var o=new Bu(e.graveyardPosition.root,i),s=zd.getInsertionPosition(new Bu(e.graveyardPosition.root,i)),a=new zd(o,0,s,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=zd.getInsertionPosition(t.splitPosition),t.graveyardPosition=a.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[a,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=zd.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),Kd(zd,xd,(function(t,e,n){var r=zu._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){var i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){var o,s=t.splitPosition._getTransformedByMoveOperation(e),a=t.graveyardPosition._getTransformedByMoveOperation(e),c=p()(o=a.path).call(o);c.push(0);var l=new Bu(a.root,c);return[new xd(s,t.howMany,l,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}var u=t.splitPosition.isEqual(e.targetPosition);if(u&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=zd.getInsertionPosition(t.splitPosition),[t];if(u&&n.abRelation&&n.abRelation.howMany){var f=n.abRelation,d=f.howMany,h=f.offset;return t.howMany+=d,t.splitPosition=t.splitPosition.getShiftedBy(h),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){var v=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=v,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=zd.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=zd.getInsertionPosition(t.splitPosition),[t]})),Kd(zd,zd,(function(t,e,n){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Dd(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Dd(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var r="$graveyard"==t.splitPosition.root.rootName,i="$graveyard"==e.splitPosition.root.rootName;if(i&&!r||!(r&&!i)&&n.aIsStrong){var o=[];return e.howMany&&o.push(new xd(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&o.push(new xd(t.splitPosition,t.howMany,t.moveTargetPosition,0)),o}return[new Dd(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){var s,a=p()(s=e.insertionPosition.path).call(s);a.push(0);var c=new Bu(e.insertionPosition.root,a);return[t,new xd(t.insertionPosition,1,c,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=zd.getInsertionPosition(t.splitPosition),[t]}));var eh=function(t){wr()(n,t);var e=th(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(O()(this,n),!(i=e.call(this,t,r,o)).root.is("rootElement"))throw new hr.a("model-liveposition-root-not-rootelement",t);return nh.call(Lo()(i)),i}return P()(n,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}},{key:"toPosition",value:function(){var t;return new Bu(this.root,p()(t=this.path).call(t),this.stickiness)}}],[{key:"fromPosition",value:function(t,e){var n;return new this(t.root,p()(n=t.path).call(n),e||t.stickiness)}}]),n}(Bu);function nh(){var t=this;this.listenTo(this.root.document.model,"applyOperation",(function(e,n){var r=n[0];r.isDocumentOperation&&rh.call(t,r)}),{priority:"low"})}function rh(t){var e=this.getTransformedByOperation(t);if(!this.isEqual(e)){var n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}function ih(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return oh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function oh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(eh,Xr);var sh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";O()(this,t),this.operations=[],this.type=e}return P()(t,[{key:"baseVersion",get:function(){var t,e=ih(this.operations);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==n.baseVersion)return n.baseVersion}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"addOperation",value:function(t){return t.batch=this,this.operations.push(t),t}}]),t}();function ah(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var ch=function(t){wr()(n,t);var e=ah(n);function n(t,r){var i;return O()(this,n),(i=e.call(this,null)).sourcePosition=t.clone(),i.howMany=r,i}return P()(n,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var t=Za()(Cr()(n.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new hr.a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){md(zu._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(ld);function lh(t){var e=function(){if("undefined"==typeof Reflect||!gr.a)return!1;if(gr.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(gr()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr()(t);if(e){var i=Cr()(this).constructor;n=gr()(r,arguments,i)}else n=r.apply(this,arguments);return xr()(this,n)}}var uh=function(t){wr()(n,t);var e=lh(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return O()(this,n),(i=e.call(this,r))._document=t,i.rootName=o,i}return P()(n,[{key:"document",get:function(){return this._document}},{key:"is",value:function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){return this.rootName}}]),n}(Ru);function fh(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return dh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function dh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hh=function(){function t(e,n){O()(this,t),this.model=e,this.batch=n}return P()(t,[{key:"createText",value:function(t,e){return new Eu(t,e)}},{key:"createElement",value:function(t,e){return new Ru(t,e)}},{key:"createDocumentFragment",value:function(){return new dd}},{key:"cloneElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t._clone(e)}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(t instanceof Eu&&""==t.data)){var r=Bu._createAt(e,n);if(t.parent){if(yh(t.root,r.root))return void this.move(zu._createOn(t),r);if(t.root.document)throw new hr.a("model-writer-insert-forbidden-move",this);this.remove(t)}var i=r.root.document?r.root.document.version:null,o=new Ed(r,t,i);if(t instanceof Eu&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),t instanceof dd){var s,a=fh(t.markers);try{for(a.s();!(s=a.n()).done;){var c=S()(s.value,2),l=c[0],u=c[1],f=Bu._createAt(u.root,0),d={range:new zu(u.start._getCombined(f,r),u.end._getCombined(f,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,d):this.addMarker(l,d)}}catch(t){a.e(t)}finally{a.f()}}}}},{key:"insertText",value:function(t,e,n,r){e instanceof dd||e instanceof Ru||e instanceof Bu?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}},{key:"insertElement",value:function(t,e,n,r){e instanceof dd||e instanceof Ru||e instanceof Bu?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}},{key:"append",value:function(t,e){this.insert(t,e,"end")}},{key:"appendText",value:function(t,e,n){e instanceof dd||e instanceof Ru?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}},{key:"appendElement",value:function(t,e,n){e instanceof dd||e instanceof Ru?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}},{key:"setAttribute",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof zu){var r,i=fh(n.getMinimalFlatRanges());try{for(i.s();!(r=i.n()).done;){ph(this,t,e,r.value)}}catch(t){i.e(t)}finally{i.f()}}else vh(this,t,e,n)}},{key:"setAttributes",value:function(t,e){var n,r=fh(xo(t));try{for(r.s();!(n=r.n()).done;){var i=S()(n.value,2),o=i[0],s=i[1];this.setAttribute(o,s,e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),e instanceof zu){var n,r=fh(e.getMinimalFlatRanges());try{for(r.s();!(n=r.n()).done;){ph(this,t,null,n.value)}}catch(t){r.e(t)}finally{r.f()}}else vh(this,t,null,e)}},{key:"clearAttributes",value:function(t){var e=this;this._assertWriterUsedCorrectly();var n=function(t){var n,r=fh(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeAttribute(i,t)}}catch(t){r.e(t)}finally{r.f()}};if(t instanceof zu){var r,i=fh(t.getItems());try{for(i.s();!(r=i.n()).done;){n(r.value)}}catch(t){i.e(t)}finally{i.f()}}else n(t)}},{key:"move",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof zu))throw new hr.a("writer-move-invalid-range",this);if(!t.isFlat)throw new hr.a("writer-move-range-not-flat",this);var r=Bu._createAt(e,n);if(!r.isEqual(t.start)){if(this._addOperationForAffectedMarkers("move",t),!yh(t.root,r.root))throw new hr.a("writer-move-different-document",this);var i=t.root.document?t.root.document.version:null,o=new xd(t.start,t.end.offset-t.start.offset,r,i);this.batch.addOperation(o),this.model.applyOperation(o)}}},{key:"remove",value:function(t){var e;this._assertWriterUsedCorrectly();var n,r=t instanceof zu?t:zu._createOn(t),i=fh(Oc()(e=r.getMinimalFlatRanges()).call(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;this._addOperationForAffectedMarkers("move",o),gh(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(t){i.e(t)}finally{i.f()}}},{key:"merge",value:function(t){this._assertWriterUsedCorrectly();var e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Ru))throw new hr.a("writer-merge-no-element-before",this);if(!(n instanceof Ru))throw new hr.a("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}},{key:"createPositionFromPath",value:function(t,e,n){return this.model.createPositionFromPath(t,e,n)}},{key:"createPositionAt",value:function(t,e){return this.model.createPositionAt(t,e)}},{key:"createPositionAfter",value:function(t){return this.model.createPositionAfter(t)}},{key:"createPositionBefore",value:function(t){return this.model.createPositionBefore(t)}},{key:"createRange",value:function(t,e){return this.model.createRange(t,e)}},{key:"createRangeIn",value:function(t){return this.model.createRangeIn(t)}},{key:"createRangeOn",value:function(t){return this.model.createRangeOn(t)}},{key:"createSelection",value:function(t,e,n){return this.model.createSelection(t,e,n)}},{key:"_mergeDetached",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;this.move(zu._createIn(n),Bu._createAt(e,"end")),this.remove(n)}},{key:"_merge",value:function(t){var e=Bu._createAt(t.nodeBefore,"end"),n=Bu._createAt(t.nodeAfter,0),r=t.root.document.graveyard,i=new Bu(r,[0]),o=t.root.document.version,s=new Ud(n,t.nodeAfter.maxOffset,e,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}},{key:"rename",value:function(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Ru))throw new hr.a("writer-rename-not-element-instance",this);var n=t.root.document?t.root.document.version:null,r=new Bd(Bu._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}},{key:"split",value:function(t,e){var n;this._assertWriterUsedCorrectly();var r,i,o=t.parent;if(!o.parent)throw new hr.a("writer-split-element-no-parent",this);if(e||(e=o.parent),!jr()(n=t.parent.getAncestors({includeSelf:!0})).call(n,e))throw new hr.a("writer-split-invalid-limit-element",this);do{var s=o.root.document?o.root.document.version:null,a=o.maxOffset-t.offset,c=zd.getInsertionPosition(t),l=new zd(t,a,c,null,s);this.batch.addOperation(l),this.model.applyOperation(l),r||i||(r=o,i=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent}while(o!==e);return{position:t,range:new zu(Bu._createAt(r,"end"),Bu._createAt(i,0))}}},{key:"wrap",value:function(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new hr.a("writer-wrap-range-not-flat",this);var n=e instanceof Ru?e:new Ru(e);if(n.childCount>0)throw new hr.a("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new hr.a("writer-wrap-element-attached",this);this.insert(n,t.start);var r=new zu(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,Bu._createAt(n,0))}},{key:"unwrap",value:function(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new hr.a("writer-unwrap-element-no-parent",this);this.move(zu._createIn(t),this.createPositionAfter(t)),this.remove(t)}},{key:"addMarker",value:function(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new hr.a("writer-addmarker-no-usingoperation",this);var n=e.usingOperation,r=e.range,i=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new hr.a("writer-addmarker-marker-exists",this);if(!r)throw new hr.a("writer-addmarker-no-range",this);return n?(mh(this,t,null,r,i),this.model.markers.get(t)):this.model.markers._set(t,r,n,i)}},{key:"updateMarker",value:function(t,e){this._assertWriterUsedCorrectly();var n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new hr.a("writer-updatemarker-marker-not-exists",this);if(e){var i="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,s=o?e.affectsData:r.affectsData;if(!i&&!e.range&&!o)throw new hr.a("writer-updatemarker-wrong-options",this);var a=r.getRange(),c=e.range?e.range:a;i&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?mh(this,n,null,c,s):(mh(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):r.managedUsingOperations?mh(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}else this.model.markers._refresh(r)}},{key:"removeMarker",value:function(t){this._assertWriterUsedCorrectly();var e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new hr.a("writer-removemarker-no-marker",this);var n=this.model.markers.get(e);n.managedUsingOperations?mh(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}},{key:"setSelection",value:function(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}},{key:"setSelectionAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else{var n,r=fh(xo(t));try{for(r.s();!(n=r.n()).done;){var i=S()(n.value,2),o=i[0],s=i[1];this._setSelectionAttribute(o,s)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else{var e,n=fh(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeSelectionAttribute(r)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(t){this.model.document.selection._restoreGravity(t)}},{key:"_setSelectionAttribute",value:function(t,e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var r=yf._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}},{key:"_removeSelectionAttribute",value:function(t){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var n=yf._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new hr.a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(t,e){var n,r=fh(this.model.markers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.managedUsingOperations){var o=i.getRange(),s=!1;if("move"===t)s=e.containsPosition(o.start)||e.start.isEqual(o.start)||e.containsPosition(o.end)||e.end.isEqual(o.end);else{var a=e.nodeBefore,c=e.nodeAfter,l=o.start.parent==a&&o.start.isAtEnd,u=o.end.parent==c&&0==o.end.offset,f=o.end.nodeAfter==c,d=o.start.nodeAfter==c;s=l||u||f||d}s&&this.updateMarker(i.name,{range:o})}}}catch(t){r.e(t)}finally{r.f()}}}]),t}();function ph(t,e,n,r){var i,o,s,a,c=t.model,l=c.document,u=r.start,f=fh(r.getWalker({shallow:!0}));try{for(f.s();!(a=f.n()).done;){var d=a.value;s=d.item.getAttribute(e),i&&o!=s&&(o!=n&&h(),u=i),i=d.nextPosition,o=s}}catch(t){f.e(t)}finally{f.f()}function h(){var r=new zu(u,i),s=r.root.document?l.version:null,a=new Nd(r,e,o,n,s);t.batch.addOperation(a),c.applyOperation(a)}i instanceof Bu&&i!=u&&o!=n&&h()}function vh(t,e,n,r){var i,o,s=t.model,a=s.document,c=r.getAttribute(e);if(c!=n){if(r.root===r){var l=r.document?a.version:null;o=new Fd(r,e,c,n,l)}else{var u=(i=new zu(Bu._createBefore(r),t.createPositionAfter(r))).root.document?a.version:null;o=new Nd(i,e,c,n,u)}t.batch.addOperation(o),s.applyOperation(o)}}function mh(t,e,n,r,i){var o=t.model,s=o.document,a=new Ad(e,n,r,o.markers,i,s.version);t.batch.addOperation(a),o.applyOperation(a)}function gh(t,e,n,r){var i;if(t.root.document){var o=r.document,s=new Bu(o.graveyard,[0]);i=new xd(t,e,s,o.version)}else i=new ch(t,e);n.addOperation(i),r.applyOperation(i)}function yh(t,e){return t===e||t instanceof uh&&e instanceof uh}function _h(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return bh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function bh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wh=function(){function t(e){O()(this,t),this._markerCollection=e,this._changesInElement=new G.a,this._elementSnapshots=new G.a,this._changedMarkers=new G.a,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return P()(t,[{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}},{key:"refreshItem",value:function(t){if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);var e,n=zu._createOn(t),r=_h(this._markerCollection.getMarkersIntersectingRange(n));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.getRange();this.bufferMarkerChange(i.name,o,o,i.affectsData)}}catch(t){r.e(t)}finally{r.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var e,n=_h(t.range.getItems({shallow:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._isInInsertedElement(r.parent)||this._markAttribute(r)}}catch(t){n.e(t)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;var i=this._isInInsertedElement(t.sourcePosition.parent),o=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),o||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;case"rename":if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var s,a=zu._createFromPositionAndShift(t.position,1),c=_h(this._markerCollection.getMarkersIntersectingRange(a));try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.getRange();this.bufferMarkerChange(l.name,u,u,l.affectsData)}}catch(t){c.e(t)}finally{c.f()}break;case"split":var f=t.splitPosition.parent;this._isInInsertedElement(f)||this._markRemove(f,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;case"merge":var d=t.sourcePosition.parent;this._isInInsertedElement(d.parent)||this._markRemove(d.parent,d.startOffset,1);var h=t.graveyardPosition.parent;this._markInsert(h,t.graveyardPosition.offset,1);var p=t.targetPosition.parent;this._isInInsertedElement(p)||this._markInsert(p,t.targetPosition.offset,d.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(t,e,n,r){var i=this._changedMarkers.get(t);i?(i.newRange=n,i.affectsData=r,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:r})}},{key:"getMarkersToRemove",value:function(){var t,e=[],n=_h(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=S()(t.value,2),i=r[0],o=r[1];null!=o.oldRange&&e.push({name:i,range:o.oldRange})}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getMarkersToAdd",value:function(){var t,e=[],n=_h(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=S()(t.value,2),i=r[0],o=r[1];null!=o.newRange&&e.push({name:i,range:o.newRange})}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getChangedMarkers",value:function(){var t;return U()(t=M()(this._changedMarkers)).call(t,(function(t){return{name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var t,e=_h(this._changedMarkers);try{for(e.s();!(t=e.n()).done;){if(S()(t.value,2)[1].affectsData)return!0}}catch(t){e.e(t)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return r.includeChangesInGraveyard?p()(e=this._cachedChangesWithGraveyard).call(e):p()(n=this._cachedChanges).call(n);var i,o=[],s=_h(X()(t=this._changesInElement).call(t));try{for(s.s();!(i=s.n()).done;){var a,c,l=i.value,u=F()(a=this._changesInElement.get(l)).call(a,(function(t,e){return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1})),f=this._elementSnapshots.get(l),d=kh(l.getChildren()),h=xh(f.length,u),v=0,m=0,g=_h(h);try{for(g.s();!(c=g.n()).done;){var y=c.value;if("i"===y)o.push(this._getInsertDiff(l,v,d[v].name)),v++;else if("r"===y)o.push(this._getRemoveDiff(l,v,f[m].name)),m++;else if("a"===y){var _,b=d[v].attributes,w=f[m].attributes,x=void 0;if("$text"==d[v].name)x=new zu(Bu._createAt(l,v),Bu._createAt(l,v+1));else{var S=l.offsetToIndex(v);x=new zu(Bu._createAt(l,v),Bu._createAt(l.getChild(S),0))}(_=o).push.apply(_,k()(this._getAttributesDiff(x,w,b))),v++,m++}else v++,m++}}catch(t){g.e(t)}finally{g.f()}}}catch(t){s.e(t)}finally{s.f()}F()(o).call(o,(function(t,e){return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1}));for(var C=1,O=0;C<o.length;C++){var E=o[O],P=o[C],A="remove"==E.type&&"remove"==P.type&&"$text"==E.name&&"$text"==P.name&&E.position.isEqual(P.position),T="insert"==E.type&&"insert"==P.type&&"$text"==E.name&&"$text"==P.name&&E.position.parent==P.position.parent&&E.position.offset+E.length==P.position.offset,j="attribute"==E.type&&"attribute"==P.type&&E.position.parent==P.position.parent&&E.range.isFlat&&P.range.isFlat&&E.position.offset+E.length==P.position.offset&&E.attributeKey==P.attributeKey&&E.attributeOldValue==P.attributeOldValue&&E.attributeNewValue==P.attributeNewValue;A||T||j?(E.length++,j&&(E.range.end=E.range.end.getShiftedBy(1)),o[C]=null):O=C}var M,I=_h(o=K()(o).call(o,(function(t){return t})));try{for(I.s();!(M=I.n()).done;){var N=M.value;delete N.changeCount,"attribute"==N.type&&(delete N.position,delete N.length)}}catch(t){I.e(t)}finally{I.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=p()(o).call(o),this._cachedChanges=K()(o).call(o,Sh),r.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(t,e,n){var r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}},{key:"_markRemove",value:function(t,e,n){var r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}},{key:"_markAttribute",value:function(t){var e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}},{key:"_markChange",value:function(t,e){this._makeSnapshot(t);var n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(var r=0;r<n.length;r++)n[r].howMany<1&&(W()(n).call(n,r,1),r--)}},{key:"_getChangesForElement",value:function(t){var e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}},{key:"_makeSnapshot",value:function(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,kh(t.getChildren()))}},{key:"_handleChange",value:function(t,e){t.nodesToHandle=t.howMany;var n,r=_h(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t.offset+t.howMany,s=i.offset+i.howMany;if("insert"==t.type&&("insert"==i.type&&(t.offset<=i.offset?i.offset+=t.howMany:t.offset<s&&(i.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==i.type&&t.offset<i.offset&&(i.offset+=t.howMany),"attribute"==i.type))if(t.offset<=i.offset)i.offset+=t.howMany;else if(t.offset<s){var a=i.howMany;i.howMany=t.offset-i.offset,e.unshift({type:"attribute",offset:o,howMany:a-i.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==i.type)if(o<=i.offset)i.offset-=t.howMany;else if(o<=s)if(t.offset<i.offset){var c=o-i.offset;i.offset=t.offset,i.howMany-=c,t.nodesToHandle-=c}else i.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=i.offset)t.nodesToHandle-=i.howMany,i.howMany=0;else if(t.offset<s){var l=s-t.offset;i.howMany-=l,t.nodesToHandle-=l}if("remove"==i.type&&(o<=i.offset?i.offset-=t.howMany:t.offset<i.offset&&(t.nodesToHandle+=i.howMany,i.howMany=0)),"attribute"==i.type)if(o<=i.offset)i.offset-=t.howMany;else if(t.offset<i.offset){var u=o-i.offset;i.offset=t.offset,i.howMany-=u}else if(t.offset<s)if(o<=s){var f=i.howMany;i.howMany=t.offset-i.offset;var d=f-i.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:d,count:this._changeCount++})}else i.howMany-=s-t.offset}if("attribute"==t.type){if("insert"==i.type)if(t.offset<i.offset&&o>i.offset){if(o>s){var h={type:"attribute",offset:s,howMany:o-s,count:this._changeCount++};this._handleChange(h,e),e.push(h)}t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=i.offset&&t.offset<s&&(o>s?(t.nodesToHandle=o-s,t.offset=s):t.nodesToHandle=0);if("remove"==i.type&&t.offset<i.offset&&o>i.offset){var p={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(p,e),e.push(p),t.nodesToHandle=i.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==i.type&&(t.offset>=i.offset&&o<=s?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=i.offset&&o>=s&&(i.howMany=0))}}}catch(t){r.e(t)}finally{r.f()}t.howMany=t.nodesToHandle,delete t.nodesToHandle}},{key:"_getInsertDiff",value:function(t,e,n){return{type:"insert",position:Bu._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(t,e,n){return{type:"remove",position:Bu._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(t,e,n){var r=[];n=new G.a(n);var i,o=_h(e);try{for(o.s();!(i=o.n()).done;){var s=S()(i.value,2),a=s[0],c=s[1],l=n.has(a)?n.get(a):null;l!==c&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:a,attributeOldValue:c,attributeNewValue:l,changeCount:this._changeCount++}),n.delete(a)}}catch(t){o.e(t)}finally{o.f()}var u,f=_h(n);try{for(f.s();!(u=f.n()).done;){var d=S()(u.value,2),h=d[0],p=d[1];r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++})}}catch(t){f.e(t)}finally{f.f()}return r}},{key:"_isInInsertedElement",value:function(t){var e=t.parent;if(!e)return!1;var n=this._changesInElement.get(e),r=t.startOffset;if(n){var i,o=_h(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if("insert"==s.type&&r>=s.offset&&r<s.offset+s.howMany)return!0}}catch(t){o.e(t)}finally{o.f()}}return this._isInInsertedElement(e)}},{key:"_removeAllNestedChanges",value:function(t,e,n){var r,i=_h(new zu(Bu._createAt(t,e),Bu._createAt(t,e+n)).getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}catch(t){i.e(t)}finally{i.f()}}}]),t}();function kh(t){var e,n=[],r=_h(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.is("$text"))for(var o=0;o<i.data.length;o++)n.push({name:"$text",attributes:new G.a(i.getAttributes())});else n.push({name:i.name,attributes:new G.a(i.getAttributes())})}}catch(t){r.e(t)}finally{r.f()}return n}function xh(t,e){var n,r=[],i=0,o=0,s=_h(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a.offset>i){for(var c=0;c<a.offset-i;c++)r.push("e");o+=a.offset-i}if("insert"==a.type){for(var l=0;l<a.howMany;l++)r.push("i");i=a.offset+a.howMany}else if("remove"==a.type){for(var u=0;u<a.howMany;u++)r.push("r");i=a.offset,o+=a.howMany}else{r.push.apply(r,k()(ka()("a").call("a",a.howMany).split(""))),i=a.offset+a.howMany,o+=a.howMany}}}catch(t){s.e(t)}finally{s.f()}if(o<t)for(var f=0;f<t-o-i;f++)r.push("e");return r}function Sh(t){var e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}function Ch(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Oh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Oh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eh=function(){function t(){O()(this,t),this._operations=[],this._undoPairs=new G.a,this._undoneOperations=new tt.a}return P()(t,[{key:"addOperation",value:function(t){var e;jr()(e=this._operations).call(e,t)||this._operations.push(t)}},{key:"getOperations",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=[],i=Ch(this._operations);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.baseVersion>=e&&o.baseVersion<n&&r.push(o)}}catch(t){i.e(t)}finally{i.f()}return r}},{key:"getOperation",value:function(t){var e,n=Ch(this._operations);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.baseVersion==t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"setOperationAsUndone",value:function(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}},{key:"isUndoingOperation",value:function(t){return this._undoPairs.has(t)}},{key:"isUndoneOperation",value:function(t){return this._undoneOperations.has(t)}},{key:"getUndoneOperation",value:function(t){return this._undoPairs.get(t)}}]),t}();function Ph(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function Ah(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}function Th(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return jh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function jh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mh="$graveyard",Ih=function(){function t(e){var n=this;O()(this,t),this.model=e,this.version=0,this.history=new Eh(this),this.selection=new yf(this),this.roots=new As({idProperty:"rootName"}),this.differ=new wh(e.markers),this._postFixers=new tt.a,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Mh),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];if(r.isDocumentOperation&&r.baseVersion!==n.version)throw new hr.a("model-document-applyoperation-wrong-version",n,{operation:r})}),{priority:"highest"}),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];r.isDocumentOperation&&n.differ.bufferOperation(r)}),{priority:"high"}),this.listenTo(e,"applyOperation",(function(t,e){var r=e[0];r.isDocumentOperation&&(n.version++,n.history.addOperation(r))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",(function(t,e,r,i){n.differ.bufferMarkerChange(e.name,r,i,e.affectsData),null===r&&e.on("change",(function(t,r){n.differ.bufferMarkerChange(e.name,r,e.getRange(),e.affectsData)}))}))}return P()(t,[{key:"graveyard",get:function(){return this.getRoot(Mh)}},{key:"createRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(e))throw new hr.a("model-document-createroot-name-exists",this,{name:e});var n=new uh(this,t,e);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"getRootNames",value:function(){var t;return K()(t=M()(this.roots,(function(t){return t.rootName}))).call(t,(function(t){return t!=Mh}))}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"toJSON",value:function(){var t=go(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}},{key:"_handleChangeBlock",value:function(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var t,e=Th(this.roots);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n!==this.graveyard)return n}}catch(t){e.e(t)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(r)||e.createRange(r)}},{key:"_validateSelectionRange",value:function(t){return Nh(t.start)&&Nh(t.end)}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=Th(this._postFixers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.selection.refresh(),e=i(t))break}}catch(t){r.e(t)}finally{r.f()}}while(e)}}]),t}();function Nh(t){var e=t.textNode;if(e){var n=e.data,r=t.offset-e.startOffset;return!Ph(n,r)&&!Ah(n,r)}return!0}function Rh(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Dh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Dh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}di(Ih,Xr);var Lh=function(t){function e(){O()(this,e),this._markers=new G.a}return P()(e,[{key:t,value:function(){var t;return it()(t=this._markers).call(t)}},{key:"has",value:function(t){var e=t instanceof Bh?t.name:t;return this._markers.has(e)}},{key:"get",value:function(t){return this._markers.get(t)||null}},{key:"_set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t instanceof Bh?t.name:t;if(jr()(i).call(i,","))throw new hr.a("markercollection-incorrect-marker-name",this);var o=this._markers.get(i);if(o){var s=o.getRange(),a=!1;return s.isEqual(e)||(o._attachLiveRange(ff.fromRange(e)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,a=!0),a&&this.fire("update:"+i,o,s,e),o}var c=ff.fromRange(e),l=new Bh(i,c,n,r);return this._markers.set(i,l),this.fire("update:"+i,l,null,e),l}},{key:"_remove",value:function(t){var e=t instanceof Bh?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(t){var e=t instanceof Bh?t.name:t,n=this._markers.get(e);if(!n)throw new hr.a("markercollection-refresh-marker-not-exists",this);var r=n.getRange();this.fire("update:"+e,n,r,r,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:dr.a.mark((function t(e){var n,r,i;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Rh(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(!(i=r.value).getRange().containsPosition(e)){t.next=8;break}return t.next=8,i;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"getMarkersIntersectingRange",value:dr.a.mark((function t(e){var n,r,i;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Rh(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(null===(i=r.value).getRange().getIntersection(e)){t.next=8;break}return t.next=8,i;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"destroy",value:function(){var t,e,n=Rh(it()(t=this._markers).call(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._destroyMarker(r)}}catch(t){n.e(t)}finally{n.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:dr.a.mark((function t(e){var n,r,i,o,s;return dr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Rh(it()(n=this._markers).call(n)),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=10;break}if(s=i.value,!Xs()(o=s.name).call(o,e+":")){t.next=8;break}return t.next=8,s;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"_destroyMarker",value:function(t){t.stopListening(),t._detachLiveRange()}}]),e}(vr.a);di(Lh,Xr);var Bh=function(){function t(e,n,r,i){O()(this,t),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=r,this._affectsData=i}return P()(t,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new hr.a("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new hr.a("marker-destroyed",this);return this._affectsData}},{key:"getStart",value:function(){if(!this._liveRange)throw new hr.a("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new hr.a("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new hr.a("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(t){return"marker"===t||"model:marker"===t}},{key:"_attachLiveRange",value:function(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),t}();di(Bh,Xr);var $h=function(){function t(e,n,r){O()(this,t),this.model=e,this.writer=n,this.position=r,this.canMergeWith=new tt.a([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return P()(t,[{key:"handleNodes",value:function(t){for(var e=0,n=M()(t);e<n.length;e++){var r=n[e];this._handleNode(r)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(t){var e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new hr.a("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?zu._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new zu(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(t){if(this.schema.isObject(t))this._handleObject(t);else{var e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t))?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var t=eh.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}}},{key:"_handleObject",value:function(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}},{key:"_handleDisallowedNode",value:function(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}},{key:"_appendToFragment",value:function(t){if(!this.schema.checkChild(this.position,t))throw new hr.a("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}},{key:"_setAffectedBoundaries",value:function(t){this._affectedStart||(this._affectedStart=eh.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=eh.fromPosition(t,"toNext"))}},{key:"_mergeOnLeft",value:function(){var t=this._firstNode;if(t instanceof Ru&&this._canMergeLeft(t)){var e=eh._createBefore(t);e.stickiness="toNext";var n=eh.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=eh._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=eh._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_mergeOnRight",value:function(){var t=this._lastNode;if(t instanceof Ru&&this._canMergeRight(t)){var e=eh._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new hr.a("insertcontent-invalid-insertion-position",this);this.position=Bu._createAt(e.nodeBefore,"end");var n=eh.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=eh._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=eh._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_canMergeLeft",value:function(t){var e=t.previousSibling;return e instanceof Ru&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}},{key:"_canMergeRight",value:function(t){var e=t.nextSibling;return e instanceof Ru&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}},{key:"_tryAutoparagraphing",value:function(t){var e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();var e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(t){var e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}]),t}();function Fh(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return qh(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function qh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isCollapsed){var r=e.getFirstRange();if("$graveyard"!=r.root.rootName){var i=t.schema;t.change((function(t){if(n.doNotResetEntireContent||!function(t,e){var n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;var r=e.getFirstRange();if(r.start.parent==r.end.parent)return!1;return t.checkChild(n,"paragraph")}(i,e)){var o=function(t){var e=t.root.document.model,n=t.start,r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){var i=function(t){var e,n=t.parent,r=n.root.document.model.schema,i=Fh(n.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(i.s();!(e=i.n()).done;){var o=e.value;if(r.isLimit(o))return null;if(r.isBlock(o))return o}}catch(t){i.e(t)}finally{i.f()}}(r);if(i&&r.isTouching(e.createPositionAt(i,0))){var o=e.createSelection(t);e.modifySelection(o,{direction:"backward"});var s=o.getLastPosition(),a=e.createRange(s,r);e.hasContent(a,{ignoreMarkers:!0})||(r=s)}}return[eh.fromPosition(n,"toPrevious"),eh.fromPosition(r,"toNext")]}(r),s=S()(o,2),a=s[0],c=s[1];a.isTouching(c)||t.remove(t.createRange(a,c)),n.leaveUnmerged||(!function(t,e,n){var r=t.model;if(!Hh(t.model.schema,e,n))return;var i=function(t,e){var n=t.getAncestors(),r=e.getAncestors(),i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(e,n),o=S()(i,2),s=o[0],a=o[1];if(!s||!a)return;!r.hasContent(s,{ignoreMarkers:!0})&&r.hasContent(a,{ignoreMarkers:!0})?zh(t,e,n,s.parent):Vh(t,e,n,s.parent)}(t,a,c),i.removeDisallowedAttributes(a.parent.getChildren(),t)),Yh(t,e,a),!n.doNotAutoparagraph&&function(t,e){var n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}(i,a)&&Wh(t,a,e),a.detach(),c.detach()}else!function(t,e){var n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Wh(t,t.createPositionAt(n,0),e)}(t,e)}))}}}function Vh(t,e,n,r){var i=e.parent,o=n.parent;if(i!=r&&o!=r){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(o,e),t.merge(e);n.parent.isEmpty;){var s=n.parent;n=t.createPositionBefore(s),t.remove(s)}Hh(t.model.schema,e,n)&&Vh(t,e,n,r)}}function zh(t,e,n,r){var i=e.parent,o=n.parent;if(i!=r&&o!=r){for(e=t.createPositionAfter(i),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(i,n);e.parent.isEmpty;){var s=e.parent;e=t.createPositionBefore(s),t.remove(s)}n=t.createPositionBefore(o),function(t,e){var n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name);t.clearAttributes(n),t.setAttributes(na()(r.getAttributes()),n),t.merge(e)}(t,n),Hh(t.model.schema,e,n)&&zh(t,e,n,r)}}function Hh(t,e,n){var r=e.parent,i=n.parent;return r!=i&&(!t.isLimit(r)&&!t.isLimit(i)&&function(t,e,n){var r,i=Fh(new zu(t,e).getWalker());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(n.isLimit(o.item))return!1}}catch(t){i.e(t)}finally{i.f()}return!0}(e,n,t))}function Wh(t,e,n){var r=t.createElement("paragraph");t.insert(r,e),Yh(t,n,t.createPositionAt(r,0))}function Yh(t,e,n){e instanceof yf?t.setSelection(n):e.setTo(n)}var Gh=' ,.?!:;"-()';function Jh(t,e){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.schema,o="backward"!=r.direction,s=r.unit?r.unit:"character",a=e.focus,c=new Du({boundaries:Kh(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),l={walker:c,schema:i,isForward:o,unit:s},u=function(){if(n.done)return{v:void 0};var r=function(t,e){var n=t.isForward,r=t.walker,i=t.unit,o=t.schema,s=e.type,a=e.item,c=e.nextPosition;if("text"==s)return"word"===t.unit?function(t,e){var n=t.position.textNode;if(n)for(var r=t.position.offset-n.startOffset;!Qh(n.data,r,e)&&!Xh(n,r,e);){t.next();var i=e?t.position.nodeAfter:t.position.nodeBefore;if(i&&i.is("$text")){var o=i.data.charAt(e?0:i.data.length-1);jr()(Gh).call(Gh,o)||(t.next(),n=t.position.textNode)}r=t.position.offset-n.startOffset}return t.position}(r,n):function(t,e){var n=t.position.textNode;if(n)for(var r=n.data,i=t.position.offset-n.startOffset;Ph(r,i)||"character"==e&&Ah(r,i);)t.next(),i=t.position.offset-n.startOffset;return t.position}(r,i);if(s==(n?"elementStart":"elementEnd")){if(o.isSelectable(a))return Bu._createAt(a,n?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(a))return void r.skip((function(){return!0}));if(o.checkChild(c,"$text"))return c}}(l,n.value);return r?(e instanceof yf?t.change((function(t){t.setSelectionFocus(r)})):e.setFocus(r),{v:void 0}):void 0};n=c.next();){var f=u();if("object"===b()(f))return f.v}}function Kh(t,e){var n=t.root,r=Bu._createAt(n,e?"end":0);return e?new zu(t,r):new zu(r,t)}function Qh(t,e,n){var r=e+(n?0:-1);return jr()(Gh).call(Gh,t.charAt(r))}function Xh(t,e,n){return e===(n?t.endOffset:0)}function Zh(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return tp(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function tp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ep(t,e){var n,r,i,o=[];Ir()(n=K()(r=U()(i=M()(t.getItems({direction:"backward"}))).call(i,(function(t){return e.createRangeOn(t)}))).call(r,(function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}))).call(n,(function(t){o.push(t.start.parent),e.remove(t)})),Ir()(o).call(o,(function(t){for(var n=t;n.parent&&n.isEmpty;){var r=e.createRangeOn(n);n=n.parent,e.remove(r)}}))}function np(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return rp(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function rp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ip(t){t.document.registerPostFixer((function(e){return function(t,e){var n,r=e.document.selection,i=e.schema,o=[],s=!1,a=np(r.getRanges());try{for(a.s();!(n=a.n()).done;){var c=n.value,l=op(c,i);l&&!l.isEqual(c)?(o.push(l),s=!0):o.push(c)}}catch(t){a.e(t)}finally{a.f()}s&&t.setSelection(function(t){var e=k()(t),n=new tt.a,r=1;for(;r<e.length;){var i,o=e[r],s=p()(e).call(e,0,r),a=np(N()(s).call(s));try{for(a.s();!(i=a.n()).done;){var c=S()(i.value,2),l=c[0],u=c[1];if(!n.has(l))if(o.isEqual(u))n.add(l);else if(o.isIntersecting(u)){n.add(l),n.add(r);var f=o.getJoined(u);e.push(f)}}}catch(t){a.e(t)}finally{a.f()}r++}return K()(e).call(e,(function(t,e){return!n.has(e)}))}(o),{backward:r.isBackward})}(e,t)}))}function op(t,e){return t.isCollapsed?function(t,e){var n=t.start,r=e.getNearestSelectionRange(n);if(!r){var i,o,s=D()(i=Oc()(o=n.getAncestors()).call(o)).call(i,(function(t){return e.isObject(t)}));return s?zu._createOn(s):null}if(!r.isCollapsed)return r;var a=r.start;if(n.isEqual(a))return null;return new zu(a)}(t,e):function(t,e){var n=t.start,r=t.end,i=e.checkChild(n,"$text"),o=e.checkChild(r,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(r);if(s===a){if(i&&o)return null;if(function(t,e,n){var r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||i}(n,r,e)){var c=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),l=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),u=c?c.start:n,f=l?l.end:r;return new zu(u,f)}}var d=s&&!s.is("rootElement"),h=a&&!a.is("rootElement");if(d||h){var p=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,v=d&&(!p||!ap(n.nodeAfter,e)),m=h&&(!p||!ap(r.nodeBefore,e)),g=n,y=r;return v&&(g=Bu._createBefore(sp(s,e))),m&&(y=Bu._createAfter(sp(a,e))),new zu(g,y)}return null}(t,e)}function sp(t,e){for(var n=t,r=n;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function ap(t,e){return t&&e.isSelectable(t)}function cp(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return lp(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function lp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var up=function(){function t(){var e,n=this;O()(this,t),this.markers=new Lh,this.document=new Ih(this),this.schema=new Ff,this._pendingChanges=[],this._currentWriter=null,Ir()(e=["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"]).call(e,(function(t){return n.decorate(t)})),this.on("applyOperation",(function(t,e){e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((function(t,e){if("$marker"===e.name)return!0})),ip(this),this.document.registerPostFixer(Cf)}return P()(t,[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new sh,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){hr.a.rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(t,e){try{"string"==typeof t?t=new sh(t):"function"==typeof t&&(e=t,t=new sh),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){hr.a.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return function(t,e,n,r){return t.change((function(i){var o;(o=n?n instanceof of||n instanceof yf?n:i.createSelection(n,r):t.document.selection).isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});var s,a=new $h(t,i,o.anchor);s=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(s);var c=a.getSelectionRange();c&&(o instanceof yf?i.setSelection(c):o.setTo(c));var l=a.getAffectedRange()||t.createRange(o.anchor);return a.destroy(),l}))}(this,t,e,n)}},{key:"deleteContent",value:function(t,e){Uh(this,t,e)}},{key:"modifySelection",value:function(t,e){Jh(this,t,e)}},{key:"getSelectedContent",value:function(t){return function(t,e){return t.change((function(t){var n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;var i,o,s=r.start.root,a=r.start.getCommonPath(r.end),c=s.getNodeByPath(a),l=(i=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(c,r.start.path[a.length]),t.createPositionAt(c,r.end.path[a.length]+1))).end.offset-i.start.offset,u=Zh(i.getItems({shallow:!0}));try{for(u.s();!(o=u.n()).done;){var f=o.value;f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),n):t.append(t.cloneElement(f,!0),n)}}catch(t){u.e(t)}finally{u.f()}if(i!=r){var d=r._getTransformedByMove(i.start,t.createPositionAt(n,0),l)[0],h=t.createRange(t.createPositionAt(n,0),d.start);ep(t.createRange(d.end,t.createPositionAt(n,"end")),t),ep(h,t)}return n}))}(this,t)}},{key:"hasContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof Ru?zu._createIn(t):t;if(n.isCollapsed)return!1;var r=e.ignoreWhitespaces,i=void 0!==r&&r,o=e.ignoreMarkers;if(!(void 0!==o&&o)){var s,a=cp(this.markers.getMarkersIntersectingRange(n));try{for(a.s();!(s=a.n()).done;){if(s.value.affectsData)return!0}}catch(t){a.e(t)}finally{a.f()}}var c,l=cp(n.getItems());try{for(l.s();!(c=l.n()).done;){var u=c.value;if(this.schema.isContent(u)){if(!u.is("$textProxy"))return!0;if(!i)return!0;if(-1!==u.data.search(/\S/))return!0}}}catch(t){l.e(t)}finally{l.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new Bu(t,e,n)}},{key:"createPositionAt",value:function(t,e){return Bu._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Bu._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Bu._createBefore(t)}},{key:"createRange",value:function(t,e){return new zu(t,e)}},{key:"createRangeIn",value:function(t){return zu._createIn(t)}},{key:"createRangeOn",value:function(t){return zu._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new of(t,e,n)}},{key:"createBatch",value:function(t){return new sh(t)}},{key:"createOperationFromJSON",value:function(t){return Wd.fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var e=this._pendingChanges[0].batch;this._currentWriter=new hh(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}]),t}();di(up,ns);var fp=function(){function t(e){O()(this,t),this.document=e}return P()(t,[{key:"createDocumentFragment",value:function(t){return new ba(this.document,t)}},{key:"createElement",value:function(t,e,n){return new Io(this.document,t,e,n)}},{key:"createText",value:function(t){return new bo(this.document,t)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._clone(e)}},{key:"appendChild",value:function(t,e){return e._appendChild(t)}},{key:"insertChild",value:function(t,e,n){return n._insertChild(t,e)}},{key:"removeChildren",value:function(t,e,n){return n._removeChildren(t,e)}},{key:"remove",value:function(t){var e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}},{key:"replace",value:function(t,e){var n=t.parent;if(n){var r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}},{key:"unwrapElement",value:function(t){var e=t.parent;if(e){var n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}},{key:"rename",value:function(t,e){var n=new Io(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){wn(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"createPositionAt",value:function(t,e){return fs._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return fs._createAfter(t)}},{key:"createPositionBefore",value:function(t){return fs._createBefore(t)}},{key:"createRange",value:function(t,e){return new ps(t,e)}},{key:"createRangeOn",value:function(t){return ps._createOn(t)}},{key:"createRangeIn",value:function(t){return ps._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new ws(t,e,n)}}]),t}();new tt.a(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function dp(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return hp(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pp(t,e){if(t.childCount){var n=new fp(t.document),r=function(t,e){var n,r=e.createRangeIn(t),i=new Eo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[],s=dp(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;if("elementStart"===a.type&&i.match(a.item)){var c=gp(a.item);o.push({element:a.item,id:c.id,order:c.order,indent:c.indent})}}}catch(t){s.e(t)}finally{s.f()}return o}(t,n);if(r.length){var i=null,o=1;Ir()(r).call(r,(function(t,s){var a,c,l=function(t,e){if(!t)return!0;if(t.id!==e.id)return e.indent-t.indent!=1;var n=e.element.previousSibling;if(!n)return!0;return r=n,!(r.is("element","ol")||r.is("element","ul"));var r}(r[s-1],t),u=l?null:r[s-1],f=(c=t,(a=u)?c.indent-a.indent:c.indent-1);if(l&&(i=null,o=1),!i||0!==f){var d=function(t,e){var n,r=new RegExp(nt()(n="@list l".concat(t.id,":level")).call(n,t.indent,"\\s*({[^}]*)"),"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,o=r.exec(e),s="decimal",a="ol";if(o&&o[1]){var c,l=i.exec(o[1]);if(l&&l[1])a="bullet"!==(s=st()(c=l[1]).call(c))&&"image"!==s?"ol":"ul";if("bullet"===s){var u=function(t){var e=function(t){if(t.getChild(0).is("$text"))return null;var e,n=dp(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.is("element","span")){var i=r.getChild(0);return i.is("$text")?i:i.getChild(0)}}}catch(t){n.e(t)}finally{n.f()}}(t);if(!e)return null;var n=e._data;if("o"===n)return"circle";if("·"===n)return"disc";if("§"===n)return"square";return null}(t.element);u&&(s=u)}}return{type:a,style:vp(s)}}(t,e);if(i){if(t.indent>o){var h=i.getChild(i.childCount-1),p=h.getChild(h.childCount-1);i=mp(d,p,n),o+=1}else if(t.indent<o){var v=o-t.indent;i=function(t,e){var n,r=t.getAncestors({parentFirst:!0}),i=null,o=0,s=dp(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;if("ul"!==a.name&&"ol"!==a.name||o++,o===e){i=a;break}}}catch(t){s.e(t)}finally{s.f()}return i}(i,v),o=Ga()(t.indent)}}else i=mp(d,t.element,n);t.indent<=o&&(i.is("element",d.type)||(i=n.rename(d.type,i)))}var m=function(t,e){return function(t,e){var n,r=new Eo({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t),o=dp(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;"elementStart"===s.type&&r.match(s.item)&&e.remove(s.item)}}catch(t){o.e(t)}finally{o.f()}}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(m,i)}))}}}function vp(t){switch(t){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function mp(t,e,n){var r=e.parent,i=n.createElement(t.type),o=r.getChildIndex(e)+1;return n.insertChild(o,i,r),t.style&&n.setStyle("list-style-type",t.style,i),i}function gp(t){var e={},n=t.getStyle("mso-list");if(n){var r=n.match(/(^|\s{1,100})l(\d+)/i),i=n.match(/\s{0,100}lfo(\d+)/i),o=n.match(/\s{0,100}level(\d+)/i);r&&i&&o&&(e.id=r[2],e.order=i[1],e.indent=o[1])}return e}function yp(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return _p(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bp(t,e){if(t.childCount){var n=new fp,r=function(t,e){var n,r=e.createRangeIn(t),i=new Eo({name:/v:(.+)/}),o=[],s=yp(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;if("elementStart"==a.type){var c=a.item,l=c.previousSibling&&c.previousSibling.name||null;i.match(c)&&c.getAttribute("o:gfxdata")&&"v:shapetype"!==l&&o.push(a.item.getAttribute("id"))}}}catch(t){s.e(t)}finally{s.f()}return o}(t,n);!function(t,e,n){var r,i=n.createRangeIn(e),o=new Eo({name:"img"}),s=[],a=yp(i);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(o.match(c.item)){var l=c.item,u=l.getAttribute("v:shapes")?l.getAttribute("v:shapes").split(" "):[];u.length&&Wo()(u).call(u,(function(e){return Er()(t).call(t,e)>-1}))?s.push(l):l.getAttribute("src")||s.push(l)}}}catch(t){a.e(t)}finally{a.f()}for(var f=0,d=s;f<d.length;f++){var h=d[f];n.remove(h)}}(r,t,n),function(t,e){var n,r=e.createRangeIn(t),i=new Eo({name:/v:(.+)/}),o=[],s=yp(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;"elementStart"==a.type&&i.match(a.item)&&o.push(a.item)}}catch(t){s.e(t)}finally{s.f()}for(var c=0,l=o;c<l.length;c++){var u=l[c];e.remove(u)}}(t,n);var i=function(t,e){var n,r=e.createRangeIn(t),i=new Eo({name:"img"}),o=[],s=yp(r);try{for(s.s();!(n=s.n()).done;){var a,c=n.value;if(i.match(c.item))Xs()(a=c.item.getAttribute("src")).call(a,"file://")&&o.push(c.item)}}catch(t){s.e(t)}finally{s.f()}return o}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(var r=0;r<t.length;r++){var i,o=nt()(i="data:".concat(e[r].type,";base64,")).call(i,wp(e[r].hex));n.setAttribute("src",o,t[r])}}(i,function(t){if(!t)return[];var e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(n),i=[];if(r){var o,s=yp(r);try{for(s.s();!(o=s.n()).done;){var a=o.value,c=!1;jr()(a).call(a,"\\pngblip")?c="image/png":jr()(a).call(a,"\\jpegblip")&&(c="image/jpeg"),c&&i.push({hex:a.replace(e,"").replace(/[^\da-fA-F]/g,""),type:c})}}catch(t){s.e(t)}finally{s.f()}}return i}(e),n)}}function wp(t){var e;return btoa(U()(e=t.match(/\w{2}/g)).call(e,(function(t){return String.fromCharCode(Ga()(t,16))})).join(""))}var kp=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,xp=/xmlns:o="urn:schemas-microsoft-com/i,Sp=function(){function t(e){O()(this,t),this.document=e}return P()(t,[{key:"isActive",value:function(t){return kp.test(t)||xp.test(t)}},{key:"execute",value:function(t){var e=t._parsedData,n=e.body;pp(n,e.stylesString),bp(n,t.dataTransfer.getData("text/rtf")),t.content=n}}]),t}();function Cp(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Op(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Op(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Op(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ep=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Pp=function(){function t(e){O()(this,t),this.document=e}return P()(t,[{key:"isActive",value:function(t){return Ep.test(t)}},{key:"execute",value:function(t){var e=new fp(this.document),n=t._parsedData.body;!function(t,e){var n,r=Cp(t.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is("element","b")&&"normal"===i.getStyle("font-weight")){var o=t.getChildIndex(i);e.remove(i),e.insertChild(o,i.getChildren(),t)}}}catch(t){r.e(t)}finally{r.f()}}(n,e),function(t,e){var n,r=dp(e.createRangeIn(t));try{for(r.s();!(n=r.n()).done;){var i=n.value.item;if(i.is("element","li")){var o=i.getChild(0);o&&o.is("element","p")&&e.unwrapElement(o)}}}catch(t){r.e(t)}finally{r.f()}}(n,e),t.content=n}}]),t}(),Ap=function(){function t(e){O()(this,t),this.files=function(t){var e,n=M()(t.files||[]),r=M()(t.items||[]);if(n.length)return n;return U()(e=K()(r).call(r,(function(t){return"file"===t.kind}))).call(e,(function(t){return t.getAsFile()}))}(e),this._native=e}return P()(t,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(t){return this._native.getData(t)}},{key:"setData",value:function(t,e){this._native.setData(t,e)}},{key:"effectAllowed",get:function(){return this._native.effectAllowed},set:function(t){this._native.effectAllowed=t}},{key:"dropEffect",get:function(){return this._native.dropEffect},set:function(t){this._native.dropEffect=t}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]),t}();function Tp(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(t,e){return 1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)}))}function jp(t,e){var n=void 0!==m.a&&y()(t)||t["@@iterator"];if(!n){if(B()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Mp(t,e);var r=p()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return M()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Mp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ip(t,e){var n=new DOMParser,r=function(t){return Tp(Tp(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){var e="</body>",n="</html>",r=Er()(t).call(t,e);if(r<0)return t;var i=Er()(t).call(t,n,r+e.length);return t.substring(0,r+e.length)+(i>=0?t.substring(i):"")}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=n.parseFromString(r,"text/html");!function(t){var e;Ir()(e=t.querySelectorAll("span[style*=spacerun]")).call(e,(function(t){var e=t.innerText.length||0;t.innerHTML=Array(e+1).join("  ").substr(0,e)}))}(i);var o=i.body.innerHTML,s=function(t,e){var n=new Hs(e),r=new Va(n,{renderingMode:"data"}),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return r.domToView(i,{skipComments:!0})}(i,e),a=function(t){var e,n=[],r=[],i=M()(t.getElementsByTagName("style")),o=jp(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.sheet&&s.sheet.cssRules&&s.sheet.cssRules.length&&(n.push(s.sheet),r.push(s.innerHTML))}}catch(t){o.e(t)}finally{o.f()}return{styles:n,stylesString:r.join(" ")}}(i);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}function Np(t){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(t)}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Np(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Np(o)?o:String(o)),r)}var i,o}function Dp(t,e){return Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dp(t,e)}function Lp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bp(t);if(e){var i=Bp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bp(t)}var $p=new i.j("clipboard"),Fp=null,qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dp(t,e)}(s,t);var e,n,r,o=Lp(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"name",get:function(){return"clipboard"}},{key:"plugins",get:function(){return[new i.i({key:$p,props:{aaHtml:!1,transformPastedHTML:function(t){var e=this.aaHtml;return this.aaHtml=!1,e||t},handleDOMEvents:{paste:Vp,drop:zp,dragend:Up}}})]}}])&&Rp(e.prototype,n),r&&Rp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.e);function Up(t,e){if(Fp!==t.dom){var n=t.state.tr.deleteSelection();t.dispatch(n)}}function Vp(t,e){var n=new cr;n.setNormalizer("font-size",(function(){return{path:"font-size",value:"18px"}}));var r=new Hs(n),i=[];i.push(new Sp(r)),i.push(new Pp(r));var o={dataTransfer:new Ap(e.clipboardData?e.clipboardData:e.dataTransfer)},s=o.dataTransfer.getData("text/html");if(s){var a=i.find((function(t){return t.isActive(s)}));if(a)o._parsedData=Ip(s,r.stylesProcessor),a.execute(o),o._isTransformedWithPasteFromOffice=!0;else{var c=Ip(s,r.stylesProcessor).body;o.content=c}var l=new Wa(r);this.aaHtml=l.toData(o.content)}else if(o.dataTransfer.files.length){var u=Array.from(o.dataTransfer.files).filter((function(t){return/image/i.test(t.type)}));if(0===u.length)return!1;e.preventDefault();var f=t.state.schema;u.forEach((function(e){var n=new FileReader;n.onload=function(e){var n=f.nodes.image.create({src:e.target.result}),r=t.state.tr.replaceSelectionWith(n);t.dispatch(r)},n.readAsDataURL(e)}))}}function zp(t,e){Fp=t.dom;var n={dataTransfer:new Ap(e.clipboardData?e.clipboardData:e.dataTransfer)};if(n.dataTransfer.files.length){var r=Array.from(n.dataTransfer.files).filter((function(t){return/image/i.test(t.type)}));if(0===r.length)return!1;e.preventDefault();var i=t.state.schema,o=t.posAtCoords({left:e.clientX,top:e.clientY});r.forEach((function(e){var n=new FileReader;n.onload=function(e){var n=i.nodes.image.create({src:e.target.result}),r=t.state.tr.insert(o.pos,n);t.dispatch(r)},n.readAsDataURL(e)}))}}var Hp=n(30);function Wp(t){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(t)}function Yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Wp(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Wp(o)?o:String(o)),r)}var i,o}function Gp(t,e){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gp(t,e)}function Jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kp(t);if(e){var i=Kp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(t)}var Qp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gp(t,e)}(o,t);var e,n,r,i=Jp(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"clear_format"}},{key:"commands",value:function(){return function(t){return function(t,e,n){var r=n.state.tr,i=r.selection,o=i.$from,s=i.$to;return r.removeMark(o.pos,s.pos),r.doc.nodesBetween(o.pos,s.pos,(function(e,n){var i=t.schema.nodes[e.type.name];if(i&&"paragraph"!==i.name||"text"!==i.name||!isListNode(i)){var o=r.doc.resolve(r.mapping.map(n+1)),s=r.doc.resolve(r.mapping.map(n+e.nodeSize-1)),a=o.blockRange(s);if(a){var c=Object(Hp.k)(a);if(i.isTextblock)return r.setNodeMarkup(a.start,t.schema.nodes.paragraph),!1;if(c||0===c)return r.lift(a,c),!1}}})),r.setStoredMarks([]),n.dispatch(r),!0}}}}])&&Yp(e.prototype,n),r&&Yp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.e),Xp={swatches:[["#000000","#0a2231","#4e5a60","#9f9f9f","#c9c9c9","#e5e5e5","#f0f0f0","#f6f6f6","#fafafa","#ffffff"],["#632f00","#ee2028","#fe6d06","#ffd700","#9cd122","#0057b8","#023f88","#522f8e","#912889","#fd46ab"],["#fbf3de","#feeaf3","#ffeee6","#fff6d9","#edf8d0","#e6f5f9","#e0f0fc","#f0e3ff","#ffe1f7","#ffd7e7"],["#ffefb9","#ffdce4","#ffe3d7","#fcf1ab","#d5ed9f","#cae9fa","#b0d5ef","#dbccf3","#e8b5e4","#fec5e6"],["#ffd676","#ffb9c7","#fed0ad","#ffff57","#c1e371","#98dbf2","#8dbfe5","#c9afea","#d182cb","#ff7f9d"],["#ec992a","#ff8aa3","#ffbe8b","#f8ef13","#93e18e","#4dc7eb","#56acda","#b088e4","#ab63a4","#fdaba0"],["#a65b05","#fe5273","#fea138","#fecf02","#cdda38","#0bb3fe","#0096c7","#925ed6","#9d4597","#fe7d6b"],["#884301","#d11c69","#d84821","#e69a02","#17a24a","#0093d7","#0078b5","#8244cf","#b2009d","#fc4c4f"]],borderRadius:"0",rowLength:10,swatchSize:24,spacingSize:0},Zp=n(38);function tv(t){return tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(t)}function ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==tv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===tv(o)?o:String(o)),r)}var i,o}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nv(t,e)}function rv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iv(t);if(e){var i=iv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===tv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iv(t)}var ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}(o,t);var e,n,r,i=rv(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"(block | block2)+"}}}])&&ev(e.prototype,n),r&&ev(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),sv=n(19);function av(t){return av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(t)}function cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==av(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==av(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===av(o)?o:String(o)),r)}var i,o}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lv(t,e)}function uv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fv(t);if(e){var i=fv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===av(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fv(t)}var dv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}(o,t);var e,n,r,i=uv(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return{content:"inline*",group:"block",draggable:!1,attrs:{align:{default:"left"},background:{default:null}},parseDOM:[{tag:"p",getAttrs:function(t){var e=t.style&&t.style.textAlign&&["right","center","justify"].includes(t.style.textAlign)?t.style.textAlign:"left",n=t.style.backgroundColor||null;return"a-photo-center"===t.className&&(e=null),{align:e,background:n}}}],toDOM:function(t){var e=!1,n=[];t.attrs.background&&n.push("background-color: ".concat(t.attrs.background));for(var r=0;r<t.childCount;r++){var i=t.child(r);if(["image","iframe","span"].includes(i.type.name)&&"center"===i.attrs.align){e=!0;break}}return e?["p",n.length?{class:"a-photo-center",style:n.join("; ")}:{class:"a-photo-center"},0]:(["right","center","justify"].includes(t.attrs.align)&&n.push("text-align: ".concat(t.attrs.align)),n.length?["p",{style:n.join("; ")},0]:["p",0])}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(sv.k)(e,t)}}}])&&cv(e.prototype,n),r&&cv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g);function hv(t){return hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(t)}function pv(t){return function(t){if(Array.isArray(t))return vv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vv(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==hv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==hv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===hv(o)?o:String(o)),r)}var i,o}function gv(){return gv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bv(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},gv.apply(this,arguments)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yv(t,e)}function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bv(t);if(e){var i=bv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===hv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bv(t)}var wv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}(o,t);var e,n,r,i=_v(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"schema",get:function(){var t=gv(bv(o.prototype),"schema",this);return t.parseDOM=[{tag:"div.vo-table__wrap",getAttrs:function(t){return!(!t.children.length||t.children.length>1)&&"table"===t.children[0].tagName.toLowerCase()&&null},contentElement:function(t){return t.children[0]}}].concat(pv(t.parseDOM)),t.toDOM=function(){return["div",{class:"vo-table__wrap"},["table",["tbody",0]]]},t}}])&&mv(e.prototype,n),r&&mv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zp.l),kv=n(37),xv=n(32),Sv=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){return Object(xv.i)(n,t)?Object(kv.d)(n,r):Object(kv.g)(t,e)(n,r,i)}};function Cv(t){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(t)}function Ov(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Cv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Cv(o)?o:String(o)),r)}var i,o}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ev(t,e)}function Pv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Av(t);if(e){var i=Av(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Cv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Av(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}(o,t);var e,n,r,i=Pv(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"blockquote"}},{key:"schema",get:function(){return{content:"block*",group:"block2",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}}},{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(){return Sv(e,n.nodes.paragraph)}}},{key:"keys",value:function(t){var e=t.type;return{"Ctrl->":Sv(e)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(sv.v)(/^\s*>\s$/,e)]}}])&&Ov(e.prototype,n),r&&Ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g);function jv(t){return jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(t)}function Mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==jv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===jv(o)?o:String(o)),r)}var i,o}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Iv(t,e)}function Nv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rv(t);if(e){var i=Rv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===jv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rv(t)}var Dv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}(o,t);var e,n,r,i=Nv(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"heading"}},{key:"defaultOptions",get:function(){return{levels:[1,2,3,4,5,6]}}},{key:"schema",get:function(){return{attrs:{level:{default:1},align:{default:"left"},background:{default:null}},content:"text*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(t){return{tag:"h".concat(t),getAttrs:function(e){var n=e.style&&e.style.textAlign&&["right","center","justify"].includes(e.style.textAlign)?e.style.textAlign:"left",r=e.style.backgroundColor||null;return{align:n,level:t,background:r}}}})),toDOM:function(t){var e=[];return["right","center","justify"].includes(t.attrs.align)&&e.push("text-align: ".concat(t.attrs.align)),t.attrs.background&&e.push("background-color: ".concat(t.attrs.background)),e.length?["h".concat(t.attrs.level),{style:e.join("; ")},0]:["h".concat(t.attrs.level),0]}}}},{key:"commands",value:function(t){var e=t.type,n=t.schema;return function(t){return Object(sv.q)(e,n.nodes.paragraph,t)}}}])&&Mv(e.prototype,n),r&&Mv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),Lv=n(7),Bv=n(373);function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==$v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===$v(o)?o:String(o)),r)}var i,o}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qv(t,e)}function Uv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vv(t);if(e){var i=Vv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===$v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(t)}var zv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}(o,t);var e,n,r,i=Uv(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"love_teacher"}},{key:"schema",get:function(){return{content:"paragraph*",group:"block",defining:!0,draggable:!1,attrs:{className:{}},parseDOM:[{tag:"div",getAttrs:function(t){var e=t.className;return!!/^r-style-.+/.test(e)&&{className:e}}}],toDOM:function(t){return["div",{class:t.attrs.className},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){var o=t.className;if(!/^r-style-.+/.test(o))return Object(kv.d)(n,r);var s=Object(Bv.findSelectedNodeOfType)(e)(n.selection)||Object(Bv.findParentNode)((function(t){return t.type===e}))(n.selection);if(s){var a=n.tr,c=s.pos,l=c+s.node.nodeSize;return a.step(new Hp.b(c,l,c+1,l-1,new Lv.Slice(Lv.Fragment.from(e.create(t)),0,0),1,!0)),r&&r(a),!0}return Object(kv.g)(e,t)(n,r)}}}}])&&Fv(e.prototype,n),r&&Fv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),Hv=function(){var t=this,e=t._self._c;return e("span",{staticClass:"n-img-con",class:t.className},[e("div",{style:t.style,on:{mouseenter:function(e){t.editable=!0},mouseleave:t.disableEdit,dblclick:t.dlg}},[e("transition",{attrs:{name:"fade"}},[!t.editable||t.is_fail||t.is_upload?t._e():e("div",{staticStyle:{position:"absolute",background:"rgba(0,0,0,0.29)",outline:"1px solid red",width:"100%",height:"100%"},on:{click:t.setPMCursor}},[t.is_fail?t._e():e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",bottom:"-5px",right:"-5px",background:"#000",outline:"1px solid #fff",cursor:"se-resize"},on:{mousedown:function(e){return t.initDrag(e,"se-resize",1)}}}),t._v(" "),t.is_fail?t._e():e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",bottom:"-5px",left:"-5px",background:"#000",outline:"1px solid #fff",cursor:"nesw-resize"},on:{mousedown:function(e){return t.initDrag(e,"nesw-resize",-1)}}}),t._v(" "),t.is_fail?t._e():e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",top:"-5px",right:"-5px",background:"#000",outline:"1px solid #fff",cursor:"nesw-resize"},on:{mousedown:function(e){return t.initDrag(e,"nesw-resize",1)}}}),t._v(" "),t.is_fail?t._e():e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",top:"-5px",left:"-5px",background:"#000",outline:"1px solid #fff",cursor:"se-resize"},on:{mousedown:function(e){return t.initDrag(e,"se-resize",-1)}}})])]),t._v(" "),t.is_fail?e("span",{staticStyle:{color:"red"}},[t._v("Зображення не завантажене")]):e("img",{ref:"image",class:t.className,style:"margin: 0; width: ".concat(t.width,"px; height: ").concat(t.height,"px; max-width: none;"),attrs:{src:t.node.attrs.src,alt:t.node.attrs.alt,title:t.node.attrs.title,width:t.width,height:t.height}}),t._v(" "),t.is_upload?e("div",{staticClass:"achievement-img",staticStyle:{position:"absolute",width:"100%",height:"100%",top:"0","line-height":"0",cursor:"wait"}}):t._e()],1),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.node.attrs.text,expression:"node.attrs.text"}],staticClass:"n-text-img"},[t._v(t._s(t.node.attrs.text))])])};Hv._withStripped=!0;var Wv=n(10),Yv=n(1),Gv=function(){var t=this,e=t._self._c;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"vo-flex-row gap05 wrap vo-mb1"},[e("div",{staticClass:"vo-form-group flex-1"},[e("label",[t._v("Ширина:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.newWidth,expression:"newWidth",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.newWidth},on:{input:function(e){e.target.composing||(t.newWidth=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"vo-form-group flex-1"},[e("label",[t._v("Висота:")]),t._v(" "),e("div",{staticClass:"vo-flex-row gap05 vertical-center"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.newHeight,expression:"newHeight",modifiers:{number:!0}}],staticClass:"flex-1",attrs:{type:"text"},domProps:{value:t.newHeight},on:{input:function(e){e.target.composing||(t.newHeight=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("a",{staticClass:"menubar__button",on:{click:t.reset}},[e("i",{staticClass:"vo-icon close",staticStyle:{width:"20px",background:"tomato!important"},attrs:{title:"Скинути розмір"}})])])])]),t._v(" "),e("div",{staticClass:"v-input-block vo-mb1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.is_ratio,expression:"is_ratio"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.is_ratio)?t._i(t.is_ratio,null)>-1:t.is_ratio},on:{change:function(e){var n=t.is_ratio,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.is_ratio=n.concat([null])):o>-1&&(t.is_ratio=n.slice(0,o).concat(n.slice(o+1)))}else t.is_ratio=i}}}),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"v-input-block menubar vo-mb1"},[e("label",[t._v("Вирівнювання:  ")]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":!t.align},on:{click:function(e){t.align=null}}},[e("i",{staticClass:"r-icon r-icon-deletestyl",attrs:{title:"Без вирівнювання"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"left"===t.align},on:{click:function(e){t.align="left"}}},[e("i",{staticClass:"r-icon r-icon-left",attrs:{title:"Рівняємо по лівому краю"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"center"===t.align},on:{click:function(e){t.align="center"}}},[e("i",{staticClass:"r-icon r-icon-center",attrs:{title:"Рівняємо по центру"}})]),t._v(" "),e("a",{staticClass:"menubar__button",class:{"is-active":"right"===t.align},on:{click:function(e){t.align="right"}}},[e("i",{staticClass:"r-icon r-icon-right",attrs:{title:"Рівняємо по правому краю"}})])]),t._v(" "),e("div",{staticClass:"vo-form-group vo-mb1"},[e("label",[t._v("Підказка:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"vo-form-group vo-mb1"},[e("label",[t._v("Підпис:")]),t._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"vo-form-group vo-mb1"},[e("label",[t._v("Альтернативний текст:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alt,expression:"alt"}],attrs:{type:"text"},domProps:{value:t.alt},on:{input:function(e){e.target.composing||(t.alt=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Зберегти")]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:function(e){return t.$emit("close")}}},[t._v("Скасувати")]),t._v(" "),e("button",{staticClass:"v-red-button",on:{click:t.remove}},[t._v("Видалити")])])};function Jv(t){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(t)}function Kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kv(Object(n),!0).forEach((function(e){Xv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Jv(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jv(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Gv._withStripped=!0;var Zv={name:"dlg-image",props:["editor","node","view","width","height"],data:function(){return{src:"",alt:null,title:null,text:null,align:null,is_not_load:null,is_ratio:!0,ratio:0}},computed:{newWidth:{get:function(){return this.width},set:function(t){(t=Number(t))&&(this.is_ratio&&(this.height=Math.round(t/this.ratio)),this.width=t)}},newHeight:{get:function(){return this.height},set:function(t){(t=Number(t))&&(this.is_ratio&&(this.width=Math.round(t*this.ratio)),this.height=t)}}},methods:{submit:function(){var t=this,e=this.src.replace(/(?:-\d+x\d+)?(\.\w+)$/,(function(e,n){return"-"+t.width+"x"+t.height+n}));if(this.editor.commands.image({src:e,title:this.title,text:this.text?this.text:null,alt:this.alt,align:this.align}),this.editor.isActive.paragraph()){var n=this.editor.getNodeAttrs("paragraph");this.editor.commands.paragraph(Qv(Qv({},n),{},{align:this.align}))}this.$emit("close")},reset:function(){var t=this,e=this.src.replace(/(?:-\d+x\d+)?(\.\w+)$/,(function(t,e){return e})),n=document.createElement("img");n.onload=function(){t.width=n.width,t.height=n.height,t.ratio=t.width/t.height},n.src=e},remove:function(){}},watch:{is_ratio:function(t,e){t&&(this.ratio=this.width/this.height)}},created:function(){var t=this.node.attrs;this.src=Object(Yv.O)(t.src)?"":t.src,this.alt=t.alt,this.title=t.title,this.text=t.text,this.align=t.align,this.ratio=this.width/this.height}},tm=n(0),em=Object(tm.a)(Zv,Gv,[function(){var t=this._self._c;return t("div",{staticClass:"v-input-block"},[t("div",[t("label",[this._v("Розміри:")])])])},function(){var t=this._self._c;return t("label",[t("p",[this._v("Змінювати пропорційно")])])}],!1,null,"a219a2d0",null).exports,nm=n(43),rm={name:"view-image",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{startX:null,startY:null,startWidth:null,startHeight:null,width:null,height:null,cursor:"move",k:1,editable:!1,is_upload:!1,is_fail:!1}},computed:{className:{get:function(){return["left","right"].includes(this.node.attrs.align)?"a-photo-"+this.node.attrs.align:null}},style:{get:function(){return"margin: 6px 20px 10px 0; position:relative;display: inline-block; vertical-align: top; cursor: "+this.cursor}}},methods:{initDrag:function(t,e,n){this.setPMCursor(),this.startX=t.clientX,this.startY=t.clientY,this.startWidth=parseInt(document.defaultView.getComputedStyle(this.$refs.image).width,10),this.startHeight=parseInt(document.defaultView.getComputedStyle(this.$refs.image).height,10),this.cursor=e,this.k=n,document.documentElement.addEventListener("mousemove",this.doDrag,!1),document.documentElement.addEventListener("mouseup",this.stopDrag,!1)},doDrag:function(t){t.preventDefault();var e=this.view.someProp("image-width"),n=this.startWidth+(t.clientX-this.startX)*this.k;n>e&&(n=e),n<10&&(n=10);var r=Math.round(this.startHeight*(n/this.startWidth));this.$refs.image.width=this.width=n,this.$refs.image.height=this.height=r},stopDrag:function(t){var e=this;document.documentElement.removeEventListener("mousemove",this.doDrag,!1),document.documentElement.removeEventListener("mouseup",this.stopDrag,!1),this.cursor="move",this.replaceNode(this.node.attrs.src.replace(/(?:-\d+x\d+)?(\.\w+)$/,(function(t,n){return"-"+e.width+"x"+e.height+n})))},onLoad:function(t){var e=this.view.someProp("image-width");this.is_upload=!1,this.cursor="move",this.replaceNode(t.file_width>e?Object(Yv.u)(t.file,e,Math.round(t.file_height*(e/t.file_width))):Object(Yv.u)(t.file,t.file_width,t.file_height))},replaceNode:function(t){var e=this.getPos(),n=this.view.state.doc.nodeAt(e);if(t){var r=this.view.state.schema.nodes.image.create({src:t,alt:n.attrs.alt,title:n.attrs.title,text:n.attrs.text,align:n.attrs.align});this.view.dispatch(this.view.state.tr.replaceWith(e,e+1,r))}else this.deleteNode()},deleteNode:function(){this.is_fail=!0},base64toBlob:function(t,e){e=e||"";for(var n=1024,r=atob(t),i=r.length,o=Math.ceil(i/n),s=new Array(o),a=0;a<o;++a){for(var c=a*n,l=Math.min(c+n,i),u=new Array(l-c),f=c,d=0;f<l;++d,++f)u[d]=r[f].charCodeAt(0);s[a]=new Uint8Array(u)}return new Blob(s,{type:e})},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())},disableEdit:function(){this.selected||(this.editable=!1)},dlg:function(){this.is_upload?vo.popup("Зачекайте поки зображення завантажиться"):(this.setPMCursor(),Object(Yv.hb)(em,{propsData:{editor:this.editor,node:this.node,view:this.view,width:this.width,height:this.height}}))}},watch:{selected:function(t,e){this.editable=t},node:function(t,e){var n=t.attrs.src.match(/-(\d+)x(\d+)(\.\w+)$/);null!==n&&(this.width=n[1],this.height=n[2])}},created:function(){var t=this,e=this.view.someProp("image-width"),n=this.node.attrs.src.match(/data:image\/([a-zA-Z]*);base64,([^\"]*)/);if(null!==n)if(-1===nm.b.indexOf(n[1]))this.is_fail=!0,this.cursor="not-allowed";else{this.is_upload=!0,this.cursor="wait";var r=this.base64toBlob(n[2],"image/"+n[1]),i="image."+("jpeg"===n[1]?"jpg":n[1]);Object(Yv.mb)({file:r,file_name:i},{success:function(e){var n=e.data;return t.onLoad(n)},error:function(e){t.deleteNode(),Object(Yv.ib)(e)},uploadProgress:function(t,e,n,r){}})}else/^https?:\/\//.test(this.node.attrs.src)?Object(Yv.O)(this.node.attrs.src)&&(this.is_upload=!0,this.cursor="wait",vo.ajax(null,vo.url_cloud+"/ext/file/upload-by-url",{file:this.node.attrs.src},(function(e){var n=e.data;return t.onLoad(n)}))):(this.is_fail=!0,this.cursor="not-allowed");if(this.is_fail)this.deleteNode();else{var o=document.createElement("img"),s=this.node.attrs.src;o.onload=function(){if(o.width>e?(t.width=e,t.height=Math.round(o.height*(e/o.width))):(t.width=o.width,t.height=o.height),!Object(Yv.O)(s)){var n=s.match(/-(\d+)x(\d+)(\.\w+)$/);if(null===n){var r=s.replace(/\.\w+$/,(function(e){return"-"+t.width+"x"+t.height+e}));t.replaceNode(r)}else n[1]<=0?(s=s.replace(/-(\d+)x(\d+)(\.\w+)$/,(function(e,n,r,i){return"-"+t.width+"x"+t.height+i})),t.replaceNode(s)):n[1]>e&&(s=s.replace(/-(\d+)x(\d+)(\.\w+)$/,(function(t,n,r,i){return"-"+e+"x"+Math.round(r*(e/n))+i})),t.replaceNode(s))}},o.src=s}},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.doDrag,!1),document.documentElement.removeEventListener("mouseup",this.stopDrag,!1)}},im=(n(1168),Object(tm.a)(rm,Hv,[],!1,null,"922b1b9e",null).exports);function om(t){return om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(t)}function sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==om(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===om(o)?o:String(o)),r)}var i,o}function am(t,e){return am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},am(t,e)}function cm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lm(t);if(e){var i=lm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===om(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lm(t)}var um=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&am(t,e)}(o,t);var e,n,r,i=cm(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"image"}},{key:"view",get:function(){return im}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},align:{default:null},text:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"span.n-img-con",getAttrs:function(t){var e=null;if(!t.children.length||t.children.length>2)return!1;if("img"!==t.children[0].tagName.toLowerCase())return!1;if(2===t.children.length){if("span"!==t.children[1].tagName.toLowerCase()||"n-text-img"!==t.children[1].className.toLowerCase())return!1;e=t.children[1].innerText}var n=["right","center","left"].reduce((function(e,n){return null!=e?e:t.classList.contains("a-photo-".concat(n))?n:null}),null),r=t.closest("p");return r&&"a-photo-center"===r.className&&(n="center"),{src:t.children[0].getAttribute("src"),title:t.getAttribute("title"),alt:t.children[0].getAttribute("alt"),text:e,align:n}}},{tag:"img[src]",getAttrs:function(t){var e=["right","center","left"].reduce((function(e,n){return null!=e?e:t.classList.contains("a-photo-".concat(n))?n:null}),null),n=t.closest("p");return n&&"a-photo-center"===n.className&&(e="center"),{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),align:e}}}],toDOM:function(t){var e={title:t.attrs.title,class:"n-img-con"+(["left","right"].includes(t.attrs.align)?" a-photo-"+t.attrs.align:"")},n={src:t.attrs.src,alt:t.attrs.alt};return t.attrs.text?["span",e,["img",n],["span",{class:"n-text-img"},t.attrs.text]]:["span",e,["img",n]]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(sv.l)(e,t)}}}])&&sm(e.prototype,n),r&&sm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g);function fm(t){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(t)}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==fm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===fm(o)?o:String(o)),r)}var i,o}function hm(t,e){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hm(t,e)}function pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vm(t);if(e){var i=vm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===fm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vm(t)}var mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hm(t,e)}(o,t);var e,n,r,i=pm(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"audio"}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{}},group:"inline",draggable:!0,parseDOM:[{tag:"audio[src]",getAttrs:function(t){var e=t.getAttribute("src");return!!e&&{src:e}}}],toDOM:function(t){return["audio",{controls:"controls",src:t.attrs.src}]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(sv.l)(e,t)}}}])&&dm(e.prototype,n),r&&dm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),gm=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:t.style,on:{mouseenter:function(e){t.editable=!0},mouseleave:t.disableEdit}},[e("transition",{attrs:{name:"fade"}},[t.editable?e("div",{staticStyle:{position:"absolute",background:"rgba(0,0,0,0.29)",outline:"1px solid red",width:"100%",height:"100%"},on:{dblclick:t.iframeDlg,click:t.setPMCursor}},[t.isResize?e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",bottom:"-5px",right:"-5px",background:"#000",outline:"1px solid #fff",cursor:"se-resize"},on:{mousedown:function(e){return t.initDrag(e,"se-resize",1)}}}):t._e(),t._v(" "),t.isResize?e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",bottom:"-5px",left:"-5px",background:"#000",outline:"1px solid #fff",cursor:"nesw-resize"},on:{mousedown:function(e){return t.initDrag(e,"nesw-resize",-1)}}}):t._e(),t._v(" "),t.isResize?e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",top:"-5px",right:"-5px",background:"#000",outline:"1px solid #fff",cursor:"nesw-resize"},on:{mousedown:function(e){return t.initDrag(e,"nesw-resize",1)}}}):t._e(),t._v(" "),t.isResize?e("span",{staticStyle:{position:"absolute",width:"10px",height:"10px",top:"-5px",left:"-5px",background:"#000",outline:"1px solid #fff",cursor:"se-resize"},on:{mousedown:function(e){return t.initDrag(e,"se-resize",-1)}}}):t._e()]):t._e()]),t._v(" "),e("iframe",{class:t.className,style:t.node.attrs.style,attrs:{src:t.node.attrs.src,width:t.width,height:t.height,frameborder:t.node.attrs.frameborder,marginwidth:t.node.attrs.marginwidth,marginheight:t.node.attrs.marginheight,scrolling:t.node.attrs.scrolling,allowfullscreen:t.node.attrs.allowfullscreen,allow:t.node.attrs.allow}})],1)};gm._withStripped=!0;var ym=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Додайте код")]),t._v(" "),e("textarea",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.dataIframe,expression:"dataIframe"}],attrs:{type:"textarea"},domProps:{value:t.dataIframe},on:{input:function(e){e.target.composing||(t.dataIframe=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Вставити")])])};ym._withStripped=!0;var _m={name:"dlg-iframe",props:["editor","node"],data:function(){return{dataIframe:""}},methods:{youtube:function(t){var e=t.innerHTML.match(/(?:https?)?:\/\/(?:www\.)?youtube\.com\/embed\/([\w-]+)/);return e||(e=t.innerHTML.match(/(?:https?)?:\/\/(?:www\.)?youtu\.be\/([\w-]+)/)),e||(e=t.innerHTML.match(/(?:https?)?:\/\/(?:www\.)?youtube\.com\/watch\?.*?v=([\w-]+)/)),e?{src:"https://www.youtube.com/embed/"+e[1],width:560,height:315,frameBorder:0,allowfullscreen:"allowfullscreen",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}:null},submit:function(){if(this.dataIframe.trim()){var t=document.createElement("div"),e=this.editor,n=e.schema,r=e.commands;t.innerHTML=this.dataIframe.trim();var i=Lv.DOMParser.fromSchema(n).parse(t,this.editor.options.parseOptions),o=0;if(i.descendants((function(t){if(t.type===n.nodes.iframe)return r.iframe(t.attrs),o++,!1})),!o){var s=this.youtube(t);if(!s)return void vo.popup("Код IFrame зазначено з помилкою, або недозволено додавати IFrame з цього сайту",!0);r.iframe(s)}this.$emit("close")}}},created:function(){if(this.node){var t=this.editor.schema,e=Lv.DOMSerializer.fromSchema(t).serializeNode(this.node);this.dataIframe=e.outerHTML}}},bm=_m,wm=Object(tm.a)(bm,ym,[],!1,null,"96bffe5c",null).exports,km={name:"view-iframe",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{startX:null,startY:null,startWidth:null,startHeight:null,width:null,height:null,cursor:"move",k:1,editable:!1}},computed:{className:{get:function(){return this.node.attrs.align&&"center"!==this.node.attrs.align?"a-photo-"+this.node.attrs.align:null}},style:{get:function(){return"position:relative;display: inline-block; vertical-align: top; cursor: "+this.cursor}},src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}},isResize:{get:function(){return!/^\d+%$/.test(this.node.attrs.width)&&!/^\d+%$/.test(this.node.attrs.height)}}},methods:{initDrag:function(t,e,n){this.setPMCursor(),this.startX=t.clientX,this.startY=t.clientY,this.startWidth=this.width,this.startHeight=this.height,this.cursor=e,this.k=n,document.documentElement.addEventListener("mousemove",this.doDrag,!1),document.documentElement.addEventListener("mouseup",this.stopDrag,!1)},doDrag:function(t){if(t.preventDefault(),this.isResize){var e=this.view.someProp("image-width"),n=this.startWidth+(t.clientX-this.startX)*this.k;n>e&&(n=e),n<10&&(n=10);var r=Math.round(this.startHeight*(n/this.startWidth));this.width=n,this.height=r}},stopDrag:function(t){document.documentElement.removeEventListener("mousemove",this.doDrag,!1),document.documentElement.removeEventListener("mouseup",this.stopDrag,!1),this.cursor="move",this.updateAttrs({width:this.width,height:this.height}),this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus()},iframeDlg:function(){this.setPMCursor(),Object(Yv.hb)(wm,{propsData:{editor:this.editor,node:this.node}})},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())},disableEdit:function(){this.selected||(this.editable=!1)}},watch:{selected:function(t,e){this.editable=t}},created:function(){this.width=/^\d+%$/.test(this.node.attrs.width)?this.node.attrs.width:parseInt(this.node.attrs.width),this.height=/^\d+%$/.test(this.node.attrs.height)?this.node.attrs.height:parseInt(this.node.attrs.height)},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.doDrag,!1),document.documentElement.removeEventListener("mouseup",this.stopDrag,!1)}},xm=(n(1169),Object(tm.a)(km,gm,[],!1,null,"0fda4a2c",null).exports);function Sm(t){return Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(t)}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Sm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Sm(o)?o:String(o)),r)}var i,o}function Om(t,e){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Om(t,e)}function Em(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pm(t);if(e){var i=Pm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Sm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pm(t)}var Am=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Om(t,e)}(o,t);var e,n,r,i=Em(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"iframe"}},{key:"view",get:function(){return xm}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{},align:{default:null},width:{default:null},height:{default:null},frameborder:{default:null},marginwidth:{default:null},marginheight:{default:null},scrolling:{default:null},style:{default:null},allowfullscreen:{default:null},allow:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"iframe[src]",getAttrs:function(t){var e=new URL(t.getAttribute("src"));if(vo.allowed_iframe_domains.length&&!vo.allowed_iframe_domains.includes(e.hostname))return!1;var n=null,r=t.className.match(/^a-photo-(right|center|left)$/);null!==r&&(n=r[1]);var i=t.closest("p");return i&&"a-photo-center"===i.className&&(n="center"),{src:t.getAttribute("src"),align:n,width:t.getAttribute("width"),height:t.getAttribute("height"),frameborder:t.getAttribute("frameborder"),marginwidth:t.getAttribute("marginwidth"),marginheight:t.getAttribute("marginheight"),scrolling:t.getAttribute("scrolling"),style:t.getAttribute("style"),allowfullscreen:t.getAttribute("allowfullscreen"),allow:t.getAttribute("allow")}}}],toDOM:function(t){var e={src:t.attrs.src,width:t.attrs.width,height:t.attrs.height,frameborder:t.attrs.frameborder,marginwidth:t.attrs.marginwidth,marginheight:t.attrs.marginheight,scrolling:t.attrs.scrolling,style:t.attrs.style,allowfullscreen:t.attrs.allowfullscreen,allow:t.attrs.allow};return["left","right"].includes(t.attrs.align)&&(e.class="a-photo-"+t.attrs.align),["iframe",e]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(sv.l)(e,t)}}}])&&Cm(e.prototype,n),r&&Cm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),Tm=function(){var t=this;return(0,t._self._c)("span",{ref:"uniqueName",staticClass:"tex2jax_process",class:{border:t.editable||t.selected},staticStyle:{display:"inline-table"},on:{click:t.setPMCursor,mouseenter:function(e){t.editable=!0},mouseleave:t.disableEdit}})};Tm._withStripped=!0;var jm=n(127),Mm={name:"view-math",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{formula:"",keystroke:"",editable:!1,mathfield:null}},computed:{},methods:{displayKeystroke:function(t,e){return this.keystroke=t,!0},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())},disableEdit:function(){this.selected||this.mathfield.hasFocus()||(this.editable=!1)}},watch:{selected:function(t,e){t&&(this.editable=!0),this.editable&&this.mathfield&&this.mathfield.focus()}},created:function(){this.formula=this.node.attrs.formula},mounted:function(){var t=this,e=new jm.a({});e.value=this.node.attrs.formula,e.addEventListener("blur",(function(e){return t.editable=!1,!0})),e.addEventListener("change",(function(n){return t.updateAttrs({formula:e.value}),!0})),this.mathfield=e,this.$refs.uniqueName.appendChild(e)}},Im=(n(1170),Object(tm.a)(Mm,Tm,[],!1,null,"ea6db6d6",null).exports);function Nm(t){return Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(t)}function Rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Nm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Nm(o)?o:String(o)),r)}var i,o}function Dm(t,e){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dm(t,e)}function Lm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bm(t);if(e){var i=Bm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Nm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bm(t)}var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dm(t,e)}(o,t);var e,n,r,i=Lm(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"math"}},{key:"view",get:function(){return Im}},{key:"schema",get:function(){return{inline:!0,group:"inline",draggable:!0,attrs:{formula:{default:""}},parseDOM:[{tag:"script[type]",getAttrs:function(t){var e,n;return!!(null!==(e=t.getAttribute("type"))&&void 0!==e?e:"").startsWith("math/tex")&&{formula:null!==(n=t.innerHTML)&&void 0!==n?n:""}}}],toDOM:function(t){return["script",{type:"math/tex"},t.attrs.formula]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){var o,s,a,c=n.selection,l=n.tr;if(c.empty)s=o=c.$cursor?c.$cursor.pos:c.$from.pos,a=e.create(t),l.insert(o,a);else{if(!(c instanceof Wv.TextSelection))return!1;var u=l.doc.cut(c.from,c.to);!t.formula&&u.textContent&&(t.formula=u.textContent),a=e.create(t),o=c.$from.pos,s=c.$to.pos,l.replaceWith(o,s,a)}var f=l.doc.resolve(o),d=new Wv.NodeSelection(f);return l.setSelection(d),l.scrollIntoView(),r&&r(l),i.focus(),!0}}}}])&&Rm(e.prototype,n),r&&Rm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g);function Fm(t){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(t)}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Fm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Fm(o)?o:String(o)),r)}var i,o}function Um(t,e){return Um=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Um(t,e)}function Vm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zm(t);if(e){var i=zm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Fm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zm(t)}var Hm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Um(t,e)}(o,t);var e,n,r,i=Vm(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"marker"}},{key:"schema",get:function(){return{parseDOM:[{tag:"span[class=marker]"}],toDOM:function(){return["span",{class:"marker"},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(sv.s)(e)}}}])&&qm(e.prototype,n),r&&qm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function Wm(t){return Wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(t)}function Ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Wm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Wm(o)?o:String(o)),r)}var i,o}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gm(t,e)}function Jm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Km(t);if(e){var i=Km(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Wm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Km(t)}var Qm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}(o,t);var e,n,r,i=Jm(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"font_size"}},{key:"defaultOptions",get:function(){return{sizes:[12,14,16,18,20,24,28,32,36,44,50,60]}}},{key:"checkSize",value:function(t){for(var e=this.options.sizes.length-1;e>=0;e--)if(t>=this.options.sizes[e]){t=this.options.sizes[e];break}return t<this.options.sizes[0]&&(t=this.options.sizes[0]),t}},{key:"schema",get:function(){var t=this;return{attrs:{size:{default:18}},parseDOM:[{tag:"span",getAttrs:function(e){var n=e.style&&e.style.fontSize?parseInt(e.style.fontSize):18;return 18!==(n=t.checkSize(n))&&{size:n}}}],toDOM:function(e){return["span",{style:"font-size: "+t.checkSize(e.attrs.size)+"px"},0]}}}},{key:"commands",value:function(t){var e=this,n=t.type;return function(t){return function(r,i,o){var s=t.size;return 18===(s=e.checkSize(s))?Object(sv.i)(n)(r,i,o):Object(sv.u)(n,t)(r,i,o)}}}}])&&Ym(e.prototype,n),r&&Ym(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function Xm(t){return Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(t)}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Xm(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Xm(o)?o:String(o)),r)}var i,o}function tg(t,e){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tg(t,e)}function eg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ng(t);if(e){var i=ng(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ng(t)}var rg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tg(t,e)}(o,t);var e,n,r,i=eg(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"color"}},{key:"schema",get:function(){return{attrs:{color:{default:null}},parseDOM:[{tag:"span",getAttrs:function(t){var e=!(!t.style||!t.style.color)&&t.style.color;return!(!e||["#000000","#000","black"].includes(e))&&{color:e}}}],toDOM:function(t){return["span",{style:"color: "+t.attrs.color},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){return["#000000","#000","black"].includes(t.color)?Object(sv.i)(e)(n,r,i):Object(sv.u)(e,t)(n,r,i)}}}}])&&Zm(e.prototype,n),r&&Zm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function ig(t){return ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(t)}function og(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==ig(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ig(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ig(o)?o:String(o)),r)}var i,o}function sg(t,e){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sg(t,e)}function ag(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cg(t);if(e){var i=cg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ig(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cg(t)}var lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sg(t,e)}(o,t);var e,n,r,i=ag(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"sub"}},{key:"schema",get:function(){return{parseDOM:[{tag:"sub"}],toDOM:function(){return["sub",0]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(sv.s)(e)}}}])&&og(e.prototype,n),r&&og(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function ug(t){return ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(t)}function fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==ug(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ug(o)?o:String(o)),r)}var i,o}function dg(t,e){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dg(t,e)}function hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pg(t);if(e){var i=pg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ug(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pg(t)}var vg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dg(t,e)}(o,t);var e,n,r,i=hg(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"sup"}},{key:"schema",get:function(){return{parseDOM:[{tag:"sup"}],toDOM:function(){return["sup",0]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return Object(sv.s)(e)}}}])&&fg(e.prototype,n),r&&fg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function mg(t){return mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(t)}function gg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==mg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===mg(o)?o:String(o)),r)}var i,o}function yg(t,e){return yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yg(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bg(t);if(e){var i=bg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bg(t)}var wg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yg(t,e)}(o,t);var e,n,r,i=_g(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"span_style"}},{key:"schema",get:function(){return{attrs:{className:{}},parseDOM:[{tag:"span[class]",getAttrs:function(t){var e=t.className;return!!/^r-span-.+/.test(e)&&{className:e}}}],toDOM:function(t){return["span",{class:t.attrs.className},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){var o=t.className,s=Object(xv.d)(n,e);return/^r-span-.+/.test(o)&&s.className!==o?Object(sv.u)(e,t)(n,r,i):Object(sv.i)(e)(n,r,i)}}}}])&&gg(e.prototype,n),r&&gg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f);function kg(t){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(t)}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==kg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==kg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===kg(o)?o:String(o)),r)}var i,o}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sg(t,e)}function Cg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Og(t);if(e){var i=Og(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Og(t)}var Eg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}(o,t);var e,n,r,i=Cg(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"span_style2"}},{key:"schema",get:function(){return{attrs:{className:{}},parseDOM:[{tag:"span[class]",getAttrs:function(t){var e=t.className;return!!/^r-span2-.+/.test(e)&&{className:e}}}],toDOM:function(t){return["span",{class:t.attrs.className},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){var o=t.className,s=Object(xv.d)(n,e);return/^r-span2-.+/.test(o)&&s.className!==o?Object(sv.u)(e,t)(n,r,i):Object(sv.i)(e)(n,r,i)}}}}])&&xg(e.prototype,n),r&&xg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.f),Pg=function(){var t=this,e=t._self._c;return e("div",{class:{border:t.editable||t.selected},staticStyle:{width:"100%",height:"80px",padding:"30px 30px 0 30px","border-radius":"15px","margin-bottom":"40px",position:"relative",background:"#edf9ff","-webkit-box-shadow":"0 8px 1px #d4e4ef","box-shadow":"0 8px 1px #d4e4ef"},on:{mouseenter:function(e){t.editable=!0},mouseleave:t.disableEdit,dblclick:t.dlg,click:t.setPMCursor}},[e("div",[t._v(t._s(t.node.attrs.key))])])};Pg._withStripped=!0;var Ag=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-wraper-modal n-wraper-modal-test"},[t._m(0),t._v(" "),t.config||t.test?t._e():e("SelectTest",{on:{"select-test":t.selectTest}})],1)};Ag._withStripped=!0;var Tg=n(390),jg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-wraper-modal n-wraper-modal-test"},[t._m(0),t._v(" "),e("CreateTesting",{ref:"createTesting",attrs:{id_widget:"blog-insert",is_journal:!0,is_in_editor:!0,id_test:t.config?t.config.id_test:t.id_test,config:t.config||{}}}),t._v(" "),e("div",{staticClass:"v-test-page-modal"},[e("div",{staticClass:"v-test-page-modal-info"},[e("button",{attrs:{type:"button"},on:{click:function(e){return t.saveConfig(e)}}},[t._v("Зберегти")])])])],1)};jg._withStripped=!0;var Mg={name:"CreateTestingInEditor",props:["config","id_test"],components:{},methods:{saveConfig:function(t){var e=this;vo.ajax(t,this.config?"/ext/test/testing-update":"/ext/test/testing-create-news","#"+this.$refs.createTesting.formId,(function(t){e.config?e.$emit("submit",e.config.code):t&&"config"in t&&e.$emit("submit",t.config.code)}))}},beforeCreate:function(){this.$options.components.CreateTesting=n(552).default}},Ig=Object(tm.a)(Mg,jg,[function(){var t=this._self._c;return t("h3",{staticClass:"n-modal-h3"},[t("i"),this._v("Налаштування тестування")])}],!1,null,null,null).exports,Ng={name:"dlg-test-embed",components:{SelectTest:Tg.a},props:["editor","node"],data:function(){return{test:null,config:null,key:""}},methods:{openCreateTestingDlg:function(){var t=this;Object(Yv.hb)(Ig,{propsData:{id_test:this.config?this.config.id_test:this.test.id,config:this.config}}).$on("submit",(function(e){t.key=e,t.submit()}))},selectTest:function(t){this.test=t,this.openCreateTestingDlg()},submit:function(){this.key.trim()&&(this.editor.commands.test_embed({key:this.key.trim()}),this.$emit("close"))}},created:function(){var t=this;this.node&&(this.key=this.node.attrs.key,this.key?vo.ajax(null,"/ext/test/testing-one",{code:this.key},(function(e){e&&"config"in e&&(t.config=e.config,(t.test||t.config)&&t.openCreateTestingDlg())})):this.test&&this.openCreateTestingDlg())}},Rg=Object(tm.a)(Ng,Ag,[function(){var t=this._self._c;return t("h3",{staticClass:"n-modal-h3"},[t("i"),this._v("Додати тест")])}],!1,null,null,null).exports,Dg={name:"view-test-embed",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{cursor:"move",editable:!1}},computed:{},methods:{dlg:function(){this.setPMCursor(),Object(Yv.hb)(Rg,{propsData:{editor:this.editor,node:this.node}})},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())},disableEdit:function(){this.selected||(this.editable=!1)}},watch:{selected:function(t,e){this.editable=t}}},Lg=(n(1171),Object(tm.a)(Dg,Pg,[],!1,null,"13b26144",null).exports);function Bg(t){return Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(t)}function $g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Bg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Bg(o)?o:String(o)),r)}var i,o}function Fg(t,e){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fg(t,e)}function qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ug(t);if(e){var i=Ug(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Bg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ug(t)}var Vg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fg(t,e)}(o,t);var e,n,r,i=qg(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"test_embed"}},{key:"view",get:function(){return Lg}},{key:"schema",get:function(){return{group:"block",draggable:!0,attrs:{key:{}},parseDOM:[{tag:"span.vr-test-embed",getAttrs:function(t){var e=t.getAttribute("data-test-embed");return!!e&&{key:e}}}],toDOM:function(t){return["span",{class:"vr-test-embed","data-test-embed":t.attrs.key}]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r,i){var o,s,a=n.selection,c=n.tr,l=e.create(t);return o=a.$from.pos,s=a.$to.pos,c.replaceRangeWith(o,s,l),r&&r(c),!0}}}}])&&$g(e.prototype,n),r&&$g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),zg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"t-bloc-inform",class:{border:t.editable||t.selected},staticStyle:{display:"inline-table"},on:{click:t.setPMCursor,dblclick:t.dlg,mouseenter:function(e){t.editable=!0},mouseleave:function(e){t.editable=!1}}},t._l(t.node.attrs.answers,(function(n){return e("span",[t._v(t._s(n))])})),0)};zg._withStripped=!0;var Hg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-input-block"},[t._l(t.answers,(function(n,r){return e("div",[e("label",[t._v("Вкажіть варіант відповіді")]),t._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.answers[r],expression:"answers[index]"}],staticClass:"n-input__test-modal",staticStyle:{width:"80%"},attrs:{placeholder:"Вкажіть варіант відповіді",maxlength:"40",type:"text"},domProps:{value:t.answers[r]},on:{input:function(e){e.target.composing||t.$set(t.answers,r,e.target.value)}}}),t._v(" "),e("a",{staticStyle:{color:"tomato"},on:{click:function(e){return t.del(r)}}},[e("span",{staticClass:"a-c-exit",staticStyle:{top:"9px"}},[t._v("+")])])])})),t._v(" "),e("div",[e("button",{staticClass:"vo-btn-green",on:{click:t.add}},[t._v("Додати варіант відповіді")])]),t._v(" "),e("br"),t._v(" "),e("button",{staticClass:"vo-btn-blue",on:{click:t.submit}},[t._v("Вставити")])],2)};function Wg(t){return function(t){if(Array.isArray(t))return Yg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Hg._withStripped=!0;var Gg={name:"dlg-test-input",props:["editor"],data:function(){return{key:null,answers:[null]}},methods:{submit:function(){var t=this.answers.filter((function(t){return t&&t.trim()}));t.length?(this.editor.commands.test_input({key:this.key,answers:t}),this.$emit("close")):vo.popup("Додайте варіанти правильної відповіді")},del:function(t){this.answers.splice(t,1)},add:function(){this.answers=[].concat(Wg(this.answers),[null])}},created:function(){var t=Object(xv.f)(this.editor.state,this.editor.schema.nodes.test_input);if(t.key&&t.answers&&(this.key=t.key,this.answers=Wg(t.answers)),!this.key){var e=[];this.editor.state.doc.descendants((function(t){"test_input"===t.type.name&&e.push(t.attrs.key)}));var n=-1;do{n++,this.key="A"+n}while(e.includes(this.key))}this.answers.length||(this.answers=[null])}},Jg=Object(tm.a)(Gg,Hg,[],!1,null,"a2f33bc2",null).exports,Kg={name:"view-test-input",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{editable:!1}},computed:{},methods:{dlg:function(){this.setPMCursor(),Object(Yv.hb)(Jg,{propsData:{editor:this.editor}})},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())}},watch:{selected:function(t,e){this.editable=t}}},Qg=(n(1172),Object(tm.a)(Kg,zg,[],!1,null,"3c609c64",null).exports);function Xg(t){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(t)}function Zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Xg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Xg(o)?o:String(o)),r)}var i,o}function ty(t,e){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ty(t,e)}function ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ny(t);if(e){var i=ny(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ny(t)}var ry=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}(o,t);var e,n,r,i=ey(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"test_input"}},{key:"view",get:function(){return Qg}},{key:"defaultOptions",get:function(){return{answers:[]}}},{key:"schema",get:function(){var t=this;return{inline:!0,group:"inline",draggable:!0,attrs:{key:{},answers:[]},parseDOM:[{tag:"span.vr-fill-the-gap",getAttrs:function(e){var n=e.getAttribute("data-key");if(!n||!e.classList.contains("vr-control"))return!1;var r=t.options.answers.filter((function(t){return t.key===n})).map((function(t){return t.value}));return{key:n,answers:r}}}],toDOM:function(t){var e=t.attrs.answers.reduce((function(t,e){return t<e.length?e.length:t}),1);return["span",{class:"vr-fill-the-gap vr-control",contenteditable:!1,"data-key":t.attrs.key},"".padStart(e,"_")]}}}},{key:"commands",value:function(t){var e=t.type;return t.schema,function(t){return Object(sv.l)(e,t)}}}])&&Zg(e.prototype,n),r&&Zg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),iy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"t-bloc-inform",class:{border:t.editable||t.selected},staticStyle:{display:"inline-table"},on:{click:t.setPMCursor,dblclick:t.dlg,mouseenter:function(e){t.editable=!0},mouseleave:function(e){t.editable=!1}}},t._l(t.node.attrs.answers,(function(n){return e("span",{class:{right:n.right}},[t._v(t._s(n.value))])})),0)};iy._withStripped=!0;var oy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-input-block"},[e("label",[t._v("Вкажіть кілька варіантів відповіді та правильні")]),t._v(" "),t._l(t.answers,(function(n,r){return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.right,expression:"right"}],staticStyle:{top:"11px"},attrs:{type:"radio"},domProps:{value:r,checked:t._q(t.right,r)},on:{change:function(e){t.right=r}}}),t._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.answers[r],expression:"answers[index]"}],staticClass:"n-input__test-modal",staticStyle:{width:"78%"},attrs:{placeholder:"Вкажіть варіант відповіді",maxlength:"40",type:"text"},domProps:{value:t.answers[r]},on:{input:function(e){e.target.composing||t.$set(t.answers,r,e.target.value)}}}),t._v(" "),e("a",{staticStyle:{color:"tomato"},on:{click:function(e){return t.del(r)}}},[e("span",{staticClass:"a-c-exit",staticStyle:{top:"9px"}},[t._v("+")])])])})),t._v(" "),e("div",[e("a",{staticClass:"vo-btn-green",on:{click:t.add}},[t._v("Додати варіант відповіді")])]),t._v(" "),e("br"),t._v(" "),e("button",{staticClass:"vo-btn-blue",on:{click:t.submit}},[t._v("Вставити")])],2)};function sy(t){return function(t){if(Array.isArray(t))return ay(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}oy._withStripped=!0;var cy={name:"dlg-test-select",props:["editor"],data:function(){return{key:null,answers:[null,null],right:null}},methods:{submit:function(){var t=this,e=this.answers.map((function(e,n){return{value:e,right:n===t.right?1:0}})),n=e.reduce((function(t,e){return!!e.right||t}),!1);!e.reduce((function(t,e){return!e.value.trim()||t}),!1)&&n?(this.editor.commands.test_select({key:this.key,answers:e}),this.$emit("close")):vo.popup("Додайте варіанти правильної відповіді")},del:function(t){t===this.right?this.right=null:t<this.right&&this.right--,this.answers.splice(t,1)},add:function(){this.answers=[].concat(sy(this.answers),[null])}},created:function(){var t=this,e=Object(xv.f)(this.editor.state,this.editor.schema.nodes.test_select);if(e.key&&e.answers&&(this.key=e.key,this.answers=sy(e.answers).map((function(e,n){return e.right&&(t.right=n),e.value}))),!this.key){var n=[];this.editor.state.doc.descendants((function(t){"test_select"===t.type.name&&n.push(t.attrs.key)}));var r=-1;do{r++,this.key="A"+r}while(n.includes(this.key))}this.answers.length||(this.answers=[null,null])}},ly=Object(tm.a)(cy,oy,[],!1,null,"1e74b1dc",null).exports,uy={name:"view-test-select",props:["editor","node","updateAttrs","view","getPos","selected"],data:function(){return{editable:!1}},computed:{},methods:{dlg:function(){this.setPMCursor(),Object(Yv.hb)(ly,{propsData:{editor:this.editor}})},setPMCursor:function(){this.selected||(this.view.dispatch(this.view.state.tr.setSelection(Wv.NodeSelection.create(this.view.state.doc,this.getPos()))),this.view.focus())}},watch:{selected:function(t,e){this.editable=t}}},fy=(n(1173),Object(tm.a)(uy,iy,[],!1,null,"6c230a02",null).exports);function dy(t){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(t)}function hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==dy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===dy(o)?o:String(o)),r)}var i,o}function py(t,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},py(t,e)}function vy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=my(t);if(e){var i=my(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===dy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},my(t)}var gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&py(t,e)}(o,t);var e,n,r,i=vy(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"test_select"}},{key:"view",get:function(){return fy}},{key:"defaultOptions",get:function(){return{answers:[]}}},{key:"schema",get:function(){var t=this;return{inline:!0,group:"inline",draggable:!0,attrs:{key:{},answers:[]},parseDOM:[{tag:"span.vr-fill-the-gap-select",getAttrs:function(e){var n=e.getAttribute("data-key");if(!n||!e.classList.contains("vr-control"))return!1;var r=t.options.answers.filter((function(t){return t.key===n})).map((function(t){return{value:t.value,right:parseInt(t.right)}}));return{key:n,answers:r}}}],toDOM:function(t){var e=t.attrs.answers.reduce((function(t,e){return t<e.value.length?e.value.length:t}),1);return["span",{class:"vr-fill-the-gap-select vr-control",contenteditable:!1,"data-key":t.attrs.key},"".padStart(e,"_")]}}}},{key:"commands",value:function(t){var e=t.type;return t.schema,function(t){return Object(sv.l)(e,t)}}}])&&hy(e.prototype,n),r&&hy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),yy=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Посилання на файл")]),t._v(" "),e("a",{attrs:{href:t.href,target:"_blank"}},[t._v(t._s(t.href))]),t._v(" "),e("div",{staticClass:"upload"},[e("button",{staticClass:"v-border-upload i-upload-buttonw1",attrs:{type:"button"},on:{click:t.attachFile}},[e("i",{staticClass:"vo-icon download"}),t._v("Обрати файл на вашому ПК")])])]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.blank,expression:"blank"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.blank)?t._i(t.blank,null)>-1:t.blank},on:{change:function(e){var n=t.blank,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.blank=n.concat([null])):o>-1&&(t.blank=n.slice(0,o).concat(n.slice(o+1)))}else t.blank=i}}}),t._v(" "),t._m(0)]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Підпис при наведенні на покликання")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Вставити")]),t._v(" "),e("button",{staticClass:"v-red-button",on:{click:t.remove}},[t._v("Видалити")])])};yy._withStripped=!0;var _y={name:"dlg-file",props:["editor"],data:function(){return{href:"",title:null,blank:!1,text:!1}},methods:{attachFile:function(){var t=this,e=document.createElement("input");e.type="file",e.multiple=!1,e.onchange=function(){t.uploadFiles(e.files)},e.click()},uploadFile:function(t){var e=this;return new Promise((function(n,r){Object(Yv.mb)({file:t},{success:function(t){var r=t.data;e.href=Object(Yv.v)(r.file),e.text=r.file_src,n(r)},error:function(t){r(t)},uploadProgress:function(t,n,r,i){e.uploadProgress=i}})}))},uploadFiles:function(t){for(var e=this,n=Array.prototype.slice.apply(t),r=Promise.resolve(),i=function(t){r=r.then((function(){return e.uploadFile(n[t])}))},o=0;o<n.length;++o)i(o);r.catch((function(t){return Object(Yv.ib)(t)}))},submit:function(){var t=this.href?this.href.trim():"",e=this.title?this.title.trim():"",n=this.blank?"_blank":null,r=this.text?this.text.trim():"";t&&(e||(e=null),this.editor.commands.file({href:t,title:e,target:n,text:r}),this.$emit("close"))},remove:function(){this.editor.commands.file({href:!1}),this.$emit("close")}},created:function(){var t=Object(xv.d)(this.editor.state,this.editor.schema.marks.file);t.href&&(this.href=t.href,this.title=t.title,this.blank="_blank"===t.target)}},by=Object(tm.a)(_y,yy,[function(){var t=this._self._c;return t("label",[t("p",[this._v("Відкривати посилання у новому вікні")])])}],!1,null,"0d94d65c",null).exports;function wy(t){return wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(t)}function ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ky(Object(n),!0).forEach((function(e){Sy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sy(t,e,n){return(e=Oy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oy(r.key),r)}}function Oy(t){var e=function(t,e){if("object"!==wy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wy(e)?e:String(e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ey(t,e)}function Py(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ay(t);if(e){var i=Ay(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ay(t)}var Ty=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}(s,t);var e,n,r,o=Py(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"name",get:function(){return"file"}},{key:"schema",get:function(){return{attrs:{href:{default:null},title:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e={href:t.getAttribute("href"),title:t.getAttribute("title"),target:t.getAttribute("target")};return!Object(Yv.O)(e.href)&&e}}],toDOM:function(t){return["a",xy({},t.attrs),0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var i=n.tr,o=n.selection,s=n.doc,a=o.from,c=o.to,l=o.$from,u=(o.empty,Object(xv.e)(l,e));return u&&(a=u.from,c=u.to),s.rangeHasMark(a,c,e)&&i.removeMark(a,c,e),t.href&&(a===c&&(i.insertText("text"in t&&t.text?t.text:t.href,a),c=i.mapping.map(c)),i.addMark(a,c,e.create(t))),r(i)}}}},{key:"plugins",get:function(){var t=this;return[new i.i({props:{handleDoubleClick:function(e,n,r){var i=e.state.schema;Object(xv.d)(e.state,i.marks.file).href&&r.target instanceof HTMLAnchorElement&&(r.stopPropagation(),Object(Yv.hb)(by,{propsData:{editor:t.editor,view:e}}))}}})]}}])&&Cy(e.prototype,n),r&&Cy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.f),jy=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Вставте посилання")]),t._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.href,expression:"href"}],attrs:{type:"text"},domProps:{value:t.href},on:{input:function(e){e.target.composing||(t.href=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.blank,expression:"blank"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.blank)?t._i(t.blank,null)>-1:t.blank},on:{change:function(e){var n=t.blank,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.blank=n.concat([null])):o>-1&&(t.blank=n.slice(0,o).concat(n.slice(o+1)))}else t.blank=i}}}),t._v(" "),t._m(0)]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Підпис при наведенні на покликання")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Вставити")]),t._v(" "),e("button",{staticClass:"v-red-button",on:{click:t.remove}},[t._v("Видалити")])])};jy._withStripped=!0;var My={name:"dlg-link",props:["editor"],data:function(){return{href:"",title:null,blank:"_blank"}},methods:{submit:function(){var t=this.href?this.href.trim():"",e=this.title?this.title.trim():"",n=this.blank?"_blank":null;t&&(e||(e=null),this.editor.commands.link({href:t,title:e,target:n}),this.$emit("close"))},remove:function(){this.editor.commands.link({href:!1}),this.$emit("close")}},created:function(){var t=Object(xv.d)(this.editor.state,this.editor.schema.marks.link);if(t.href){var e=vo.url+"/site/out";if(t.href.startsWith(e)){var n=new URL(t.href);this.href=n.searchParams.get("url")}else this.href=t.href;this.title=t.title,this.blank="_blank"===t.target}}},Iy=Object(tm.a)(My,jy,[function(){var t=this._self._c;return t("label",[t("p",[this._v("Відкривати посилання у новому вікні")])])}],!1,null,"75486f2c",null).exports;function Ny(t){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(t)}function Ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ry(Object(n),!0).forEach((function(e){Ly(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ly(t,e,n){return(e=$y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function By(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$y(r.key),r)}}function $y(t){var e=function(t,e){if("object"!==Ny(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ny(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ny(e)?e:String(e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fy(t,e)}function qy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uy(t);if(e){var i=Uy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ny(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Uy(t){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uy(t)}var Vy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}(s,t);var e,n,r,o=qy(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"name",get:function(){return"link"}},{key:"schema",get:function(){return{attrs:{href:{default:null},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title"),target:t.getAttribute("target")}}}],toDOM:function(t){return["a",Dy({},t.attrs),0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var i=n.tr,o=n.selection,s=n.doc,a=o.from,c=o.to,l=o.$from,u=(o.empty,Object(xv.e)(l,e));return u&&(a=u.from,c=u.to),s.rangeHasMark(a,c,e)&&i.removeMark(a,c,e),t.href&&(a===c&&(i.insertText(t.href,a),c=i.mapping.map(c)),i.addMark(a,c,e.create(t))),r(i)}}}},{key:"pasteRules",value:function(t){var e=t.type;return[Object(sv.h)(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,e,(function(t){return{href:t}}))]}},{key:"plugins",get:function(){var t=this;return[new i.i({props:{handleDoubleClick:function(e,n,r){var i=e.state.schema;Object(xv.d)(e.state,i.marks.link).href&&r.target instanceof HTMLAnchorElement&&(r.stopPropagation(),Object(Yv.hb)(Iy,{propsData:{editor:t.editor,view:e}}))}}})]}}])&&By(e.prototype,n),r&&By(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.f),zy=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Додати повідомлення при наведенні на текст")]),t._v(" "),e("textarea",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"textarea"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Вставити")]),t._v(" "),e("button",{staticClass:"v-red-button",on:{click:t.remove}},[t._v("Видалити")])])};zy._withStripped=!0;var Hy={name:"dlg-float",props:["editor"],data:function(){return{title:""}},methods:{submit:function(){var t=this.title.trim();t&&(this.editor.commands.float({title:t}),this.$emit("close"))},remove:function(){this.editor.commands.float({title:!1}),this.$emit("close")}},created:function(){var t=Object(xv.d)(this.editor.state,this.editor.schema.marks.float);t.title&&(this.title=t.title)}},Wy=Object(tm.a)(Hy,zy,[],!1,null,"5559f1f9",null).exports;function Yy(t){return Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(t)}function Gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Yy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Yy(o)?o:String(o)),r)}var i,o}function Jy(t,e){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jy(t,e)}function Ky(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qy(t);if(e){var i=Qy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Yy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qy(t)}var Xy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jy(t,e)}(s,t);var e,n,r,o=Ky(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"name",get:function(){return"float"}},{key:"schema",get:function(){return{attrs:{title:{default:null}},inclusive:!1,parseDOM:[{tag:"span.r-float",getAttrs:function(t){return{title:t.getAttribute("title")}}}],toDOM:function(t){return["span",{class:"r-float",title:t.attrs.title},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var i=n.tr,o=n.selection,s=n.doc,a=o.from,c=o.to,l=o.$from,u=(o.empty,Object(xv.e)(l,e));return u&&(a=u.from,c=u.to),s.rangeHasMark(a,c,e)&&i.removeMark(a,c,e),t.title&&i.addMark(a,c,e.create(t)),r(i)}}}},{key:"plugins",get:function(){var t=this;return[new i.i({props:{handleDoubleClick:function(e,n,r){var i=e.state.schema;Object(xv.d)(e.state,i.marks.float).title&&Object(Yv.hb)(Wy,{propsData:{editor:t.editor,view:e}})}}})]}}])&&Gy(e.prototype,n),r&&Gy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.f);function Zy(t){return Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(t)}function t_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Zy(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Zy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Zy(o)?o:String(o)),r)}var i,o}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e_(t,e)}function n_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=r_(t);if(e){var i=r_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r_(t)}var i_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}(o,t);var e,n,r,i=n_(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"horizontal_rule_trans"}},{key:"schema",get:function(){return{group:"block",parseDOM:[{tag:"hr.hr-trans"}],toDOM:function(){return["hr",{class:"hr-trans"}]}}}},{key:"commands",value:function(t){var e=t.type;return function(){return function(t,n){return n(t.tr.replaceSelectionWith(e.create()))}}}}])&&t_(e.prototype,n),r&&t_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.g),o_=n(389),s_=n.n(o_),a_=(n(555),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Аудіо")]),t._v(" "),t.src?e("audio",{attrs:{controls:"",src:t.src}}):t._e(),t._v(" "),e("div",{staticClass:"upload"},[e("button",{staticClass:"v-border-upload i-upload-buttonw1",attrs:{type:"button"},on:{click:t.attachFile}},[e("i",{staticClass:"vo-icon download"}),t._v("Обрати аудіо на вашому ПК")])])]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:t.submit}},[t._v("Зберегти")]),t._v(" "),e("button",{staticClass:"v-blue-button",on:{click:function(e){return t.$emit("close")}}},[t._v("Скасувати")]),t._v(" "),e("button",{staticClass:"v-red-button",on:{click:t.remove}},[t._v("Видалити")])])});a_._withStripped=!0;var c_={name:"dlg-audio",props:["editor","node"],data:function(){return{src:""}},computed:{},methods:{attachFile:function(){var t=this,e=document.createElement("input");e.type="file",e.accept="audio/mpeg",e.multiple=!1,e.onchange=function(){t.uploadFiles(e.files)},e.click()},uploadFile:function(t){var e=this;return new Promise((function(n,r){Object(Yv.mb)({file:t},{success:function(t){var r=t.data;e.src=Object(Yv.u)(r.file),n(r)},error:function(t){r(t)},uploadProgress:function(t,n,r,i){e.uploadProgress=i}})}))},uploadFiles:function(t){for(var e=this,n=Array.prototype.slice.apply(t),r=Promise.resolve(),i=function(t){r=r.then((function(){return e.uploadFile(n[t])}))},o=0;o<n.length;++o)i(o);r.catch((function(t){return Object(Yv.ib)(t)}))},submit:function(){this.editor.commands.audio({src:this.src}),this.$emit("close")},remove:function(){}},created:function(){if(this.node){var t=this.node.attrs;this.src=t.src}}},l_=Object(tm.a)(c_,a_,[],!1,null,"34687478",null).exports;function u_(t){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(t)}function f_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==u_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u_(o)?o:String(o)),r)}var i,o}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d_(t,e)}function h_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p_(t);if(e){var i=p_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===u_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p_(t)}var v_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}(o,t);var e,n,r,i=h_(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(n=[{key:"name",get:function(){return"change_case"}},{key:"commands",value:function(){return function(t){return function(e,n,r){var i=r.state.tr,o=i.selection,s=o.from,a=o.to,c=!1;e.doc.nodesBetween(s,a,(function(n,r){if(n.isText&&s!==a){var o=Math.max(r,s),l=Math.min(r+n.nodeSize,a),u=Math.max(0,s-r),f=Math.min(n.nodeSize,a-r),d=n.textBetween(u,f),h="uppercase"===t?e.schema.text(d.toUpperCase(),n.marks):e.schema.text(d.toLowerCase(),n.marks);i=i.replaceWith(o,l,h),c=!0}})),n&&c&&n(i.scrollIntoView())}}}}])&&f_(e.prototype,n),r&&f_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(i.e);function m_(t){return m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m_(t)}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g_(Object(n),!0).forEach((function(e){__(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function __(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==m_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_(t){return function(t){if(Array.isArray(t))return w_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k_={name:"editor",components:{EditorContent:i.c,EditorMenuBar:i.d,Swatches:s_.a},props:{value:null,inputEl:null,mode:String,height:0,placeholder:""},data:function(){var t,e,n,r,o=this;if("simple"===this.mode)r=[new d,new Qp,new Zp.a,new Zp.g,new Zp.k,new Zp.q,new Zp.e,new Vy];else{if(r=[new d,new qp,new Qp,new v_,new ov,new i.k,new dv,new $m,new Tv,new Zp.b,new Zp.c,new Dv({levels:[2,3,4,5,6]}),new i_,new Zp.f,new Zp.d,new Zp.h,new Zp.i,new Ty,new Vy,new Xy,new lg,new vg,new um,new mm,new Am,new Zp.a,new Zp.g,new Zp.k,new Zp.q,new Zp.e,new wv({resizable:!0}),new Zp.n,new Zp.m,new Zp.o,new Zp.p({node:"paragraph",notAfter:["paragraph","heading","iframe","image","audio","test_embed"]})],"test-input"===this.mode){var s=[];Object.entries(vo.test_create.Editor.values).forEach((function(t){s=[].concat(b_(s),b_(t[1].values.map((function(e){return y_({key:t[0]},e)}))))})),r=[new ry({answers:s})].concat(b_(r))}if("test-select"===this.mode){var a=[];Object.entries(vo.test_create.Editor.values).forEach((function(t){a=[].concat(b_(a),b_(t[1].values.map((function(e){return y_({key:t[0]},e)}))))})),r=[new gy({answers:a})].concat(b_(r))}this.isTest||(r=[new Vg].concat(b_(r))),"test-quest"!==this.mode&&(r=[new zv,new Hm,new wg,new Eg,new Qm,new rg].concat(b_(r)))}return this.placeholder&&(r=[new Zp.j({emptyNodeText:this.placeholder})].concat(b_(r))),{isFirstAnim:!1,isAnimation:!1,isPlayAnim:!1,html:null,isHideBlock:!1,isBigIcon:!1,SwatchesColors:Xp,editor:new i.b({content:null!==(t=null!==(e=this.value)&&void 0!==e?e:null===(n=this.inputEl)||void 0===n?void 0:n.value)&&void 0!==t?t:"",onUpdate:function(t){var e=t.getHTML,n=t.state;t.transaction;if("test-input"===o.mode){var r={};n.doc.descendants((function(t){return"test_input"!==t.type.name||(r[t.attrs.key]={type:"text",values:t.attrs.answers.map((function(t){return{right:1,value:t}}))}),!0})),vo.test_create.Editor.values=r}if("test-select"===o.mode){var i={};n.doc.descendants((function(t){return"test_select"!==t.type.name||(i[t.attrs.key]={type:"select",values:t.attrs.answers.map((function(t){return{right:t.right,value:t.value}}))}),!0})),vo.test_create.Editor.values=i}o.html=e(),void 0!==o.value&&o.$emit("input",o.html),o.inputEl&&"value"in o.inputEl&&(o.inputEl.value=o.html)},editorProps:{attributes:{class:"v-news-content"},"image-width":940},useBuiltInExtensions:"simple"===this.mode,extensions:r})}},watch:{value:function(t,e){t!==this.html&&this.editor.setContent(t)},isBigIcon:function(t){localStorage.isBigIcon=t?1:0},isHideBlock:function(t){localStorage.isHideBlock=t?1:0}},computed:{style:{get:function(){return"resize: vertical; overflow: auto; background: #fff;"+(this.height?" height: "+this.height+"px;":"")}},isTest:{get:function(){return/^test.*/.test(this.mode)}},textParagraph:{get:function(){if(this.editor.isActive.paragraph())return 0;for(var t=this.editor.getNodeAttrs("heading"),e=2;e<=6;e++)if(this.editor.isActive.heading(y_(y_({},t),{},{level:e})))return e},set:function(t){t=parseInt(t);var e="left";this.editor.isActive.heading()?e=this.editor.getNodeAttrs("heading").align:this.editor.isActive.paragraph()&&(e=this.editor.getNodeAttrs("paragraph").align),t>1&&t<7?this.editor.commands.heading({align:e,level:t}):this.editor.commands.paragraph({align:e})}},textParagraphClass:{get:function(){return this.textParagraph?"op-style-h"+this.textParagraph:"op-style-p"}},textFontSize:{get:function(){if(this.editor.isActive.font_size()){var t=this.editor.getMarkAttrs("font_size");return t.size?t.size:18}return 18},set:function(t){t=parseInt(t),this.editor.commands.font_size({size:t})}},textFontSizeClass:{get:function(){return"op-style-f"+this.textFontSize}},textColor:{get:function(){if(this.editor.isActive.color()){var t=this.editor.getMarkAttrs("color");return t.color?t.color:"#000000"}return"#000000"},set:function(t){this.editor.commands.color({color:t})}},backgroundColor:{get:function(){var t=null;return this.editor.isActive.table_cell()&&(t=this.editor.getNodeAttrs("table_cell")),this.editor.isActive.heading()&&(t=this.editor.getNodeAttrs("heading")),this.editor.isActive.paragraph()&&(t=this.editor.getNodeAttrs("paragraph")),t&&t.background?t.background:"#ffffff"},set:function(t){if(this.editor.isActive.table_cell()&&this.editor.commands.setCellAttr({name:"background",value:t}),this.editor.isActive.heading()){var e=this.editor.getNodeAttrs("heading");this.editor.commands.heading(y_(y_({},e),{},{background:t}))}if(this.editor.isActive.paragraph()){var n=this.editor.getNodeAttrs("paragraph");this.editor.commands.paragraph(y_(y_({},n),{},{background:t}))}}},textLoveTeacher:{get:function(){if(this.editor.isActive.love_teacher()){var t=this.editor.getNodeAttrs("love_teacher");return t.className?t.className:null}return 0},set:function(t){this.editor.commands.love_teacher({className:t})}},textSpanStyle:{get:function(){if(this.editor.isActive.span_style()){var t=this.editor.getMarkAttrs("span_style");return t.className?t.className:null}return 0},set:function(t){this.editor.commands.span_style({className:t})}},textSpanStyle2:{get:function(){if(this.editor.isActive.span_style2()){var t=this.editor.getMarkAttrs("span_style2");return t.className?t.className:null}return 0},set:function(t){this.editor.commands.span_style2({className:t})}},alignment:{get:function(){return this.editor.isActive.image()?this.editor.getNodeAttrs("image").align:this.editor.isActive.iframe()?this.editor.getNodeAttrs("iframe").align:this.editor.isActive.heading()?this.editor.getNodeAttrs("heading").align:this.editor.isActive.paragraph()?this.editor.getNodeAttrs("paragraph").align:void 0},set:function(t){if(this.editor.isActive.image()){var e=this.editor.getNodeAttrs("image");this.editor.commands.image(y_(y_({},e),{},{align:t}))}if(this.editor.isActive.iframe()){var n=this.editor.getNodeAttrs("iframe");this.editor.commands.iframe(y_(y_({},n),{},{align:t}))}if(this.editor.isActive.heading()){var r=this.editor.getNodeAttrs("heading");this.editor.commands.heading(y_(y_({},r),{},{align:t}))}if(this.editor.isActive.paragraph()){var i=this.editor.getNodeAttrs("paragraph");this.editor.commands.paragraph(y_(y_({},i),{},{align:t}))}}}},methods:{animationNewBtn:function(){var t=this;this.isFirstAnim=!0,setInterval((function(){t.isAnimation=!t.isAnimation,t.isFirstAnim=!1,t.isAnimation&&(t.isPlayAnim=!0,setTimeout((function(){t.isPlayAnim=!1}),5e3))}),1e4)},imageDlg:function(t){var e=document.createElement("input");e.type="file",e.accept=nm.a,e.multiple=!0,e.onchange=function(){Array.prototype.slice.apply(e.files).forEach((function(e){var n=new FileReader;n.onload=function(e){var n=e.target.result;t({src:n})},n.readAsDataURL(e)}))},e.click()},audioDlg:function(t){Object(Yv.hb)(l_,{propsData:{editor:this.editor}})},iframeDlg:function(){Object(Yv.hb)(wm,{propsData:{editor:this.editor}})},testEmbedDlg:function(){Object(Yv.hb)(Rg,{propsData:{editor:this.editor}})},testInputDlg:function(){Object(Yv.hb)(Jg,{propsData:{editor:this.editor}})},testSelectDlg:function(){Object(Yv.hb)(ly,{propsData:{editor:this.editor}})},fileDlg:function(){Object(Yv.hb)(by,{propsData:{editor:this.editor}})},linkDlg:function(){Object(Yv.hb)(Iy,{propsData:{editor:this.editor}})},floatDlg:function(){Object(Yv.hb)(Wy,{propsData:{editor:this.editor}})}},mounted:function(){"isBigIcon"in localStorage&&(this.isBigIcon=!!parseInt(localStorage.isBigIcon)),"isHideBlock"in localStorage&&(this.isHideBlock=!!parseInt(localStorage.isHideBlock)),this.animationNewBtn()},beforeDestroy:function(){this.editor.destroy()}},x_=(n(1174),Object(tm.a)(k_,r,[],!1,null,null,null));e.a=x_.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"i-editor"},[e("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.commands,i=n.isActive;return[e("div",{staticClass:"v-library-comment-edit"},[e("a",{class:{"is-active":i.bold()},staticStyle:{cursor:"pointer"},on:{click:r.bold}},[e("i",{staticClass:"vo-icon bold-text"})]),t._v(" "),e("a",{class:{"is-active":i.italic()},staticStyle:{cursor:"pointer"},on:{click:r.italic}},[e("i",{staticClass:"vo-icon italic-text"})]),t._v(" "),e("a",{class:{"is-active":i.strike()},staticStyle:{cursor:"pointer"},on:{click:r.strike}},[e("i",{staticClass:"vo-icon strike-text"})]),t._v(" "),e("a",{class:{"is-active":i.underline()},staticStyle:{cursor:"pointer"},on:{click:r.underline}},[e("i",{staticClass:"vo-icon underline-text"})]),t._v(" "),e("a",{staticStyle:{cursor:"pointer"},on:{click:r.undo}},[e("i",{staticClass:"vo-icon arrow-rollback"})]),t._v(" "),e("a",{staticStyle:{cursor:"pointer"},on:{click:r.redo}},[e("i",{staticClass:"vo-icon arrow-roll-forward"})]),t._v(" "),e("a",{staticStyle:{cursor:"pointer"},on:{click:t.attachFile}},[e("i",{staticClass:"vo-icon attach",class:[t.isUploading?"vo-color-green":""]})])])]}}])}),t._v(" "),t.attachments.length?e("div",t._l(t.attachments,(function(n){return e("div",{staticClass:"v-file-upload-block"},[e("i",{staticClass:"v-success-icon"},[t._v("✔")]),t._v("Файл, "+t._s(n.file_src)+"\n            "),e("a",{staticClass:"v-delete-btn",on:{click:function(e){return t.removeAttachment(n)}}},[t._v("x")])])})),0):t._e(),t._v(" "),e("editor-content",{staticClass:"i-editor-text i-textarea",attrs:{editor:t.editor}})],1)};r._withStripped=!0;var i=n(284).a,o=(n(806),n(0)),s=Object(o.a)(i,r,[],!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e(t.emulate_lib_type?"a":"span",{tag:"component",staticClass:"vr-tag",class:t.classList,attrs:{href:t.url}},[e("span",{staticClass:"n-icon-con"},[e("span",{staticClass:"vo-noselect"},[t._v(" "+t._s(t.folder.title))]),t._v(" "),t._t("interactive")],2)])};r._withStripped=!0;var i=n(238),o={name:"ListItem",props:["folder","is_editable","is_active","emulate_lib_type"],computed:{classList:function(){return["t-style-".concat(this.folder.style),this.is_active?"active":""]},url:function(){return!!this.emulate_lib_type&&Object(i.a)(this.emulate_lib_type,this.folder.id)}}},s=n(0),a=Object(s.a)(o,r,[],!1,null,null,null);e.a=a.exports},function(t,e,n){var r=n(47);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(13),i=n(95),o=n(46);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var r=n(122),i=n(224),o=n(76),s=n(62),a=n(330);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,h=e||a;return function(e,a,p){for(var v,m,g=o(e),y=i(g),_=r(a,p,3),b=s(y.length),w=0,k=n?h(e,b):c?h(e,0):void 0;b>w;w++)if((d||w in y)&&(m=_(v=y[w],w,g),t))if(n)k[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(u)return!1;return f?-1:l||u?u:k}}},function(t,e,n){"use strict";var r=n(84),i=n(113),o=n(189);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){},function(t,e,n){"use strict";var r=n(1048);t.exports=function(t,e,n){return n?r(t.entries(),(function(t){return e(t[1],t[0])}),!0):t.forEach(e)}},function(t,e,n){t.exports=n(1109)},function(t,e,n){t.exports=n(509)},function(t,e,n){t.exports=n(914)},function(t,e,n){var r=n(278),i=n(488);t.exports=function(t,e,n){return(e=i(e))in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},,function(t,e,n){var r=n(405),i=n(316);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(36),i=n(406),o=n(316),s=n(315)("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n(313)("iframe"),r=o.length;for(e.style.display="none",n(317).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l[c][o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";if(n(61)){var r=n(166),i=n(40),o=n(46),s=n(13),a=n(260),c=n(339),l=n(122),u=n(185),f=n(165),d=n(107),h=n(186),p=n(129),v=n(62),m=n(428),g=n(181),y=n(137),_=n(106),b=n(168),w=n(47),k=n(76),x=n(328),S=n(150),C=n(110),O=n(182).f,E=n(226),P=n(180),A=n(55),T=n(140),j=n(248),M=n(228),I=n(332),N=n(183),R=n(255),D=n(184),L=n(331),B=n(418),$=n(65),F=n(109),q=$.f,U=F.f,V=i.RangeError,z=i.TypeError,H=i.Uint8Array,W="ArrayBuffer",Y="Shared"+W,G="BYTES_PER_ELEMENT",J="prototype",K=Array[J],Q=c.ArrayBuffer,X=c.DataView,Z=T(0),tt=T(2),et=T(3),nt=T(4),rt=T(5),it=T(6),ot=j(!0),st=j(!1),at=I.values,ct=I.keys,lt=I.entries,ut=K.lastIndexOf,ft=K.reduce,dt=K.reduceRight,ht=K.join,pt=K.sort,vt=K.slice,mt=K.toString,gt=K.toLocaleString,yt=A("iterator"),_t=A("toStringTag"),bt=P("typed_constructor"),wt=P("def_constructor"),kt=a.CONSTR,xt=a.TYPED,St=a.VIEW,Ct="Wrong length!",Ot=T(1,(function(t,e){return jt(M(t,t[wt]),e)})),Et=o((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),Pt=!!H&&!!H[J].set&&o((function(){new H(1).set({})})),At=function(t,e){var n=p(t);if(n<0||n%e)throw V("Wrong offset!");return n},Tt=function(t){if(w(t)&&xt in t)return t;throw z(t+" is not a typed array!")},jt=function(t,e){if(!w(t)||!(bt in t))throw z("It is not a typed array constructor!");return new t(e)},Mt=function(t,e){return It(M(t,t[wt]),e)},It=function(t,e){for(var n=0,r=e.length,i=jt(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){q(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,r,i,o,s,a=k(t),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,d=E(a);if(null!=d&&!x(d)){for(s=d.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(f&&c>2&&(u=l(u,arguments[2],2)),e=0,n=v(a.length),i=jt(this,n);n>e;e++)i[e]=f?u(a[e],e):a[e];return i},Dt=function(){for(var t=0,e=arguments.length,n=jt(this,e);e>t;)n[t]=arguments[t++];return n},Lt=!!H&&o((function(){gt.call(new H(1))})),Bt=function(){return gt.apply(Lt?vt.call(Tt(this)):Tt(this),arguments)},$t={copyWithin:function(t,e){return B.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Tt(this),arguments)},filter:function(t){return Mt(this,tt(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return st(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Tt(this),arguments)},lastIndexOf:function(t){return ut.apply(Tt(this),arguments)},map:function(t){return Ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Tt(this),arguments)},reduceRight:function(t){return dt.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=g(t,r);return new(M(n,n[wt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Ft=function(t,e){return Mt(this,vt.call(Tt(this),t,e))},qt=function(t){Tt(this);var e=At(arguments[1],1),n=this.length,r=k(t),i=v(r.length),o=0;if(i+e>n)throw V(Ct);for(;o<i;)this[e+o]=r[o++]},Ut={entries:function(){return lt.call(Tt(this))},keys:function(){return ct.call(Tt(this))},values:function(){return at.call(Tt(this))}},Vt=function(t,e){return w(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return Vt(t,e=y(e,!0))?f(2,t[e]):U(t,e)},Ht=function(t,e,n){return!(Vt(t,e=y(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?q(t,e,n):(t[e]=n.value,t)};kt||(F.f=zt,$.f=Ht),s(s.S+s.F*!kt,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Ht}),o((function(){mt.call({})}))&&(mt=gt=function(){return ht.call(this)});var Wt=h({},$t);h(Wt,Ut),d(Wt,yt,Ut.values),h(Wt,{slice:Ft,set:qt,constructor:function(){},toString:mt,toLocaleString:Bt}),Nt(Wt,"buffer","b"),Nt(Wt,"byteOffset","o"),Nt(Wt,"byteLength","l"),Nt(Wt,"length","e"),q(Wt,_t,{get:function(){return this[xt]}}),t.exports=function(t,e,n,c){var l=t+((c=!!c)?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=i[l],g=p||{},y=p&&C(p),_=!p||!a.ABV,k={},x=p&&p[J],E=function(t,n){q(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,Et)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,Et)}(this,n,t)},enumerable:!0})};_?(p=n((function(t,n,r,i){u(t,p,l,"_d");var o,s,a,c,f=0,h=0;if(w(n)){if(!(n instanceof Q||(c=b(n))==W||c==Y))return xt in n?It(p,n):Rt.call(p,n);o=n,h=At(r,e);var g=n.byteLength;if(void 0===i){if(g%e)throw V(Ct);if((s=g-h)<0)throw V(Ct)}else if((s=v(i)*e)+h>g)throw V(Ct);a=s/e}else a=m(n),o=new Q(s=a*e);for(d(t,"_d",{b:o,o:h,l:s,e:a,v:new X(o)});f<a;)E(t,f++)})),x=p[J]=S(Wt),d(x,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&R((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return u(t,p,l),w(n)?n instanceof Q||(o=b(n))==W||o==Y?void 0!==i?new g(n,At(r,e),i):void 0!==r?new g(n,At(r,e)):new g(n):xt in n?It(p,n):Rt.call(p,n):new g(m(n))})),Z(y!==Function.prototype?O(g).concat(O(y)):O(g),(function(t){t in p||d(p,t,g[t])})),p[J]=x,r||(x.constructor=p));var P=x[yt],A=!!P&&("values"==P.name||null==P.name),T=Ut.values;d(p,bt,!0),d(x,xt,l),d(x,St,!0),d(x,wt,p),(c?new p(1)[_t]==l:_t in x)||q(x,_t,{get:function(){return l}}),k[l]=p,s(s.G+s.W+s.F*(p!=g),k),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){g.of.call(p,1)})),l,{from:Rt,of:Dt}),G in x||d(x,G,e),s(s.P,l,$t),D(l),s(s.P+s.F*Pt,l,{set:qt}),s(s.P+s.F*!A,l,Ut),r||x.toString==mt||(x.toString=mt),s(s.P+s.F*o((function(){new p(1).slice()})),l,{slice:Ft}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){x.toLocaleString.call([1,2])}))),l,{toLocaleString:Bt}),N[l]=A?P:T,r||A||d(x,yt,T)}}else t.exports=function(){}},function(t,e,n){var r=n(423),i=n(13),o=n(223)("metadata"),s=o.store||(o.store=new(n(426))),a=function(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:s,map:a,has:function(t,e,n){var r=a(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=a(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){a(n,r,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e,n){"use strict";var r=n(48),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},function(t,e,n){"use strict";var r=n(190),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},function(t,e,n){"use strict";var r=n(345),i=n(56),o=n(153),s=n(60)("toStringTag"),a=Object,c="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){"use strict";var r=n(97),i=n(48),o=n(266),s=n(101),a=n(114),c=n(348),l=i([].push),u=function(t){var e=1==t,n=2==t,i=3==t,u=4==t,f=6==t,d=7==t,h=5==t||f;return function(p,v,m,g){for(var y,_,b=s(p),w=o(b),k=r(v,m),x=a(w),S=0,C=g||c,O=e?C(p,x):n||d?C(p,0):void 0;x>S;S++)if((h||S in w)&&(_=k(y=w[S],S,b),t))if(e)O[S]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:l(O,y)}else switch(t){case 4:return!1;case 7:l(O,y)}return f?-1:i||u?u:O}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(t,e,n){"use strict";var r=n(78),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(90),i=n(1040),o=r("Map");t.exports={Map:o,set:i("set",2),get:i("get",1),has:i("has",1),remove:i("delete",1),proto:o.prototype}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u}));var r=n(10),i=n(30);class o{constructor(t,e){var n;this.match=t,this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,i){let o=n;if(e[1]){let t=e[0].lastIndexOf(e[1]);o+=e[0].slice(t+e[1].length);let n=(r+=t)-i;n>0&&(o=e[0].slice(t-n,t)+o,r=i)}return t.tr.insertText(o,r,i)}):e}}const s=500;function a({rules:t}){let e=new r.Plugin({state:{init:()=>null,apply(t,e){let n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(n,r,i,o)=>c(n,r,i,o,t,e),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&c(n,r.pos,r.pos,"",t,e)}))}}},isInputRules:!0});return e}function c(t,e,n,r,i,o){if(t.composing)return!1;let a=t.state,c=a.doc.resolve(e);if(c.parent.type.spec.code)return!1;let l=c.parent.textBetween(Math.max(0,c.parentOffset-s),c.parentOffset,null,"￼")+r;for(let s=0;s<i.length;s++){let c=i[s].match.exec(l),u=c&&i[s].handler(a,c,e-(c[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(o,{transform:u,from:e,to:n,text:r})),!0}return!1}const l=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i,o=n[r];if(o.spec.isInputRules&&(i=o.getState(t))){if(e){let n=t.tr,r=i.transform;for(let t=r.steps.length-1;t>=0;t--)n.step(r.steps[t].invert(r.docs[t]));if(i.text){let e=n.doc.resolve(i.from).marks();n.replaceWith(i.from,i.to,t.schema.text(i.text,e))}else n.delete(i.from,i.to);e(n)}return!0}}return!1};new o(/--$/,"—"),new o(/\.\.\.$/,"…"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new o(/"$/,"”"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new o(/'$/,"’");function u(t,e,n=null,r){return new o(t,((t,o,s,a)=>{let c=n instanceof Function?n(o):n,l=t.tr.delete(s,a),u=l.doc.resolve(s).blockRange(),f=u&&Object(i.i)(u,e,c);if(!f)return null;l.wrap(u,f);let d=l.doc.resolve(s-1).nodeBefore;return d&&d.type==e&&Object(i.f)(l.doc,s-1)&&(!r||r(o,d))&&l.join(s-1),l}))}function f(t,e,n=null){return new o(t,((t,r,i,o)=>{let s=t.doc.resolve(i),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(i,o).setBlockType(i,i,e,a):null}))}},function(t,e,n){t.exports=n(966)},function(t,e,n){"use strict";(function(t){var r=n(70),i=n(534),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||i.a;e.a=c}).call(this,n(360)(t))},function(t,e,n){"use strict";(function(t){var r=n(294),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.a.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n(360)(t))},function(t,e,n){t.exports=n(1142)},,function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!1},function(t,e,n){var r=n(180)("meta"),i=n(47),o=n(106),s=n(65).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(46)((function(){return c(Object.preventExtensions({}))})),u=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&c(t)&&!o(t,r)&&u(t),t}}},function(t,e,n){var r=n(128),i=n(55)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(55)("unscopables"),i=Array.prototype;null==i[r]&&n(107)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(122),i=n(416),o=n(328),s=n(36),a=n(62),c=n(226),l={},u={};(e=t.exports=function(t,e,n,f,d){var h,p,v,m,g=d?function(){return t}:c(t),y=r(n,f,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(h=a(t.length);h>_;_++)if((m=e?y(s(p=t[_])[0],p[1]):y(t[_]))===l||m===u)return m}else for(v=g.call(t);!(p=v.next()).done;)if((m=i(v,y,p.value,e))===l||m===u)return m}).BREAK=l,e.RETURN=u},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(84),i=n(66),o=n(265),s=n(189),a=n(131),c=n(267),l=n(68),u=n(453),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=c(e),u)try{return f(t,e)}catch(t){}if(l(t,e))return s(!i(o.f,t,e),t[e])}},function(t,e,n){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(t,e,n){"use strict";var r=n(141);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},function(t,e,n){"use strict";var r,i,o,s=n(465),a=n(63),c=n(73),l=n(141),u=n(68),f=n(343),d=n(270),h=n(235),p="Object already initialized",v=a.TypeError,m=a.WeakMap;if(s||f.state){var g=f.state||(f.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw v(p);return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var y=d("state");h[y]=!0,r=function(t,e){if(u(t,y))throw v(p);return e.facade=t,l(t,y,e),e},i=function(t){return u(t,y)?t[y]:{}},o=function(t){return u(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(120),i=n(123),o=n(124),s=n(292);class a extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class c extends i.a{constructor(t){super(),this.writable=!1,Object(o.b)(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new a(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Object(r.c)(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=Object(s.b)(t);return e.length?"?"+e:""}}},function(t,e,n){t.exports=n(1074)},function(t,e,n){t.exports=n(1097)},,function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(129),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(405),i=n(316).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(40),i=n(65),o=n(61),s=n(55)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(108);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(47);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(229),i=Function.prototype,o=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";t.exports=function(t){return null==t}},function(t,e,n){"use strict";var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){"use strict";var r=n(153);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r,i=n(93),o=n(460),s=n(350),a=n(235),c=n(462),l=n(344),u=n(270),f="prototype",d="script",h=u("IE_PROTO"),p=function(){},v=function(t){return"<"+d+">"+t+"</"+d+">"},m=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;g="undefined"!=typeof document?document.domain&&r?m(r):(e=l("iframe"),n="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):m(r);for(var i=s.length;i--;)delete g[f][s[i]];return g()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=i(t),n=new p,p[f]=null,n[h]=t):n=g(),void 0===e?n:o.f(n,e)}},function(t,e,n){"use strict";var r=n(345),i=n(113).f,o=n(141),s=n(68),a=n(831),c=n(60)("toStringTag");t.exports=function(t,e,n,l){if(t){var u=n?t:t.prototype;s(u,c)||i(u,c,{configurable:!0,value:e}),l&&!r&&o(u,"toString",a)}}},function(t,e,n){"use strict";var r=n(859).charAt,i=n(115),o=n(175),s=n(353),a=n(354),c="String Iterator",l=o.set,u=o.getterFor(c);s(String,"String",(function(t){l(this,{type:c,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?a(void 0,!0):(t=r(n,i),e.index+=t.length,a(t,!1))}))},function(t,e,n){"use strict";var r=n(41);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},function(t,e,n){"use strict";(function(t){var e=n(74),r=n.n(e),i=n(2),o="31.1.0",s="object"===("undefined"==typeof window?"undefined":r()(window))?window:t;if(s.CKEDITOR_VERSION)throw new i.a("ckeditor-duplicated-modules",null);s.CKEDITOR_VERSION=o}).call(this,n(171))},function(t,e,n){t.exports=n(1137)},function(t,e,n){t.exports=n(1167)},function(t,e,n){"use strict";function r(){r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,s=Object.create(o.prototype),a=new E(r||[]);return i(s,"_invoke",{value:x(t,n,a)}),s}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(P([])));_&&_!==e&&n.call(_,a)&&(g=_);var b=m.prototype=p.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,o,a,c){var l=d(t[i],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(f(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function i(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(t){i(s,r,o,a,c,"next",t)}function c(t){i(s,r,o,a,c,"throw",t)}a(void 0)}))}}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),r)}var i,o}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,"a",(function(){return f}));var u=function(){function t(e,n,r){var i=this;a(this,t),this.e=e,this.command=n,this.data=r,this.resolveFunc=null,this.rejectFunc=null,this.tryNum=0,this.r=new Promise((function(t,e){i.resolveFunc=t,i.rejectFunc=e}))}return l(t,[{key:"wait",value:function(){return this.r}},{key:"resolve",value:function(t){this.resolveFunc(t)}},{key:"reject",value:function(t){this.rejectFunc(t)}}]),t}(),f=function(){function t(e){a(this,t),this.url=e,this.queue=[],this.isProcessing=!1}var e;return l(t,[{key:"send",value:function(t,e,n){var r=new u(t,e,n);return this.addInQueue(r),r.wait()}},{key:"clear",value:function(){this.queue=[]}},{key:"addInQueue",value:function(t){this.queue.push(t),this.isProcessing||this.processQueue()}},{key:"processQueue",value:(e=o(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isProcessing=!0;case 1:if(!(this.queue.length>0)){t.next=9;break}return e=this.queue.shift(),t.next=5,this.executeTask(e);case 5:return t.next=7,this.delay(1010);case 7:t.next=1;break;case 9:this.isProcessing=!1;case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"executeTask",value:function(t){var e=this;return new Promise((function(n){vo.ajaxPromise(t.e,"".concat(e.url,"/ext/").concat(t.command),t.data).then((function(e){t.resolve(e),n()})).catch(function(){var i=o(r().mark((function i(o){return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.tryNum>1?(vo.popup.error('<p class="vo-text">Сесію не створено!</p><p class="vo-text">Можливо у вашому браузері відключено підтримку файлв cookie.</p><p class="vo-text\n">Щоб продовжити роботу вам необхідно включити підтримку cookie для домену '.concat(e.url,", оновити сторінку та повторити спробу.</p>"),!0),t.reject(o)):"status"in o&&[418].includes(o.status)?(e.send(null,"auth/init-access"),t.tryNum++,e.addInQueue(t)):"status"in o&&[429].includes(o.status)?(t.tryNum++,e.addInQueue(t)):t.reject(o),n();case 2:case"end":return r.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}))}},{key:"delay",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}]),t}()},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{ref:"scrollContainer",staticClass:"n-comments__container"},[t.init_mode===t.INIT_WAIT?[e("span",{staticClass:"v-bar"})]:t.init_mode===t.INIT_FAIL?[t._v("\n        Помилка ініціалізації коментарів\n    ")]:t.init_mode===t.INIT_TREE?[e("message-create"),t._v(" "),t.messagePin?[e("pin-view",{key:t.messagePin.id,attrs:{message:t.messagePin}})]:t._e(),t._v(" "),e("static-line"),t._v(" "),t.is_wait_max?e("div",{staticStyle:{height:"140px",position:"relative"}},[e("div",{staticClass:"v-preloader"})]):t.is_all_max?t._e():e("div",{staticClass:"v-btn-center"},[e("button",{staticClass:"vo-btn-silver vo-btn-small",class:{"a-load-button":t.is_wait_max},on:{click:t.loadTreePrev}},[t._v("\n                "+t._s(t.widgetText.fetch_new_btn)+"\n            ")]),t._v(" "),e("button",{staticClass:"vo-btn-green vo-btn-small",class:{"a-load-button":t.is_wait_max},on:{click:t.loadTree}},[t._v("\n                "+t._s(t.widgetText.go_to_start_btn)+"\n            ")])]),t._v(" "),e("div",{staticClass:"i-comments-list"},t._l(t.rootMessages,(function(n,r){return e("comment-tree",{key:"tree-".concat(n),attrs:{id_msg:n,id_msg_prev:t.getPrevTree(r)}})})),1),t._v(" "),t.is_wait_min?e("div",{ref:"loader",staticStyle:{height:"140px",position:"relative"}},[e("div",{staticClass:"v-preloader"})]):t.is_all_min?t._e():e("div",{staticClass:"v-btn-center"},[e("button",{staticClass:"msg-btn blue",class:{"a-load-button":t.is_wait_min},on:{click:t.loadTreeNext}},[t._v("\n                "+t._s(t.widgetText.fetch_old_btn)+"\n            ")])])]:t.init_mode===t.INIT_FLAT?[t._m(0),t._v(" "),e("static-line"),t._v(" "),e("div",{staticClass:"i-comments-list"},t._l(t.flatMessages,(function(t){return e("comment-flat",{key:"flat-".concat(t),attrs:{id_msg:t}})})),1)]:t._e()],2)};r._withStripped=!0;var i=function(){var t=this,e=t._self._c;return t.message?e("div",{staticClass:"wrap_comments__message-con"},[e("comment-base",{attrs:{message:t.message,inViewportActive:!1}}),t._v(" "),t._l(t.childMessages,(function(n,r){return e("comment-base",{key:"child-".concat(n.id),attrs:{message:n,id_msg_prev:t.id_msg,is_response:!0,inViewportActive:!1}})})),t._v(" "),t.is_quote?[e("quote-create",{key:"r"+this.id_msg_quote})]:t._e()],2):t._e()};i._withStripped=!0;var o=function(){var t=this,e=t._self._c;return e("div",{ref:"message",staticClass:"vr-msg n-comments__message-con",class:{responses:t.is_response,"vr-not-read":t.is_unread,"i-highlight-msg":t.is_blink},attrs:{id:"msg"+t.message.id,"data-id":t.message.id,"data-not-read":t.is_unread}},[t.is_deleted?[e("div",[e("p",[e("i",{staticClass:"vo-color-silver"},[t._v("\n                    Повідомлення видалено...\n                    "),t.canDeleteMsg?[t._v("\n                        Ви можете "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.restoreMsg}},[t._v("скасувати видалення")]),t._v(" або\n                        "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.deleteForceMsg}},[t._v("видалити назавжди")]),t._v(".\n                    ")]:t._e()],2)])])]:[e("div",{staticClass:"content-msg-webinar"},[e("div",{staticClass:"n-comments__name-row"},[e("div",{staticClass:"comments_img-wrap",class:{premium:t.is_user_premium}},[e(t.is_profile_url?"a":"span",{tag:"component",class:["comments-img-con"],attrs:{href:t.profile_url}},[e("img",{attrs:{src:t.avatar_url,alt:"Аватар"}})]),t._v(" "),t.is_user_premium?[e("i",{staticClass:"premium-i"})]:t._e()],2),t._v(" "),e("div",{staticClass:"n-name-con"},[e(t.is_profile_url?"a":"span",{tag:"component",class:["n-name-comments-user"],attrs:{href:t.profile_url}},[t.is_pupil?[e("i",{staticClass:"comments-icon icon-student",attrs:{title:"Учень"}})]:t.is_msg_owner?[e("i",{staticClass:"comments-icon icon-admin",attrs:{title:"Автор"}})]:t.isTovVo?[e("i",{staticClass:"comments-icon icon-admin",attrs:{title:"Адміністратор"}})]:t._e(),t._v(" "),t.is_user_pro?e("span",[e("b",{staticClass:"vo-color-green vo-pr05"},[t._v("«ПРО»")])]):t._e(),t._v(" "),e("span",{class:{"vo-color-green":t.isPay&&!t.isPayMarathon}},[t.isPayMarathon?e("span",[e("b",{staticClass:"vo-color-green"},[t._v("«МАРАФОН»")])]):t.isPay?e("span",[t._v("*")]):t._e(),t._v("\n                                "+t._s(t.user.name)+"\n                            ")]),t._v(" "),t.is_pined?e("i",{staticClass:"comments-icon icon-fixed"}):t._e()],2),t._v(" "),t.is_widget_webinar||t.is_widget_news?t._e():[e("p",{staticClass:"n-date-comments",attrs:{title:"додано ".concat(t.sentAt)}},[t._v("\n                            "+t._s(t.humanSentAt)+"\n                            "),t.isUpdated?e("i",{staticClass:"v-icon-updated",attrs:{title:"відредаговано ".concat(t.updatedAt)}}):t._e()])]],2),t._v(" "),e("div",{staticClass:"n-comments-setting-con"},[e("div",{ref:"toggle",staticClass:"n-comments-setting-btn",class:{open:t.is_open_menu},attrs:{title:"Доступні дії"},on:{click:function(e){return e.stopPropagation(),t.toggleContext.apply(null,arguments)}}},[e("span",{staticClass:"psevdo"}),t._v(" "),e("i",{staticClass:"n-comments-icon-setting"})]),t._v(" "),t.is_open_menu?e("div",{ref:"menu",staticClass:"n-settings-block"},[e("p",{staticClass:"n-date-comments n-hide-big"},[t._v(t._s(t.humanSentAt))]),t._v(" "),e("hr"),t._v(" "),t.is_response_btn?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-hide-big",on:{click:t.quoteStart}},[t._v("Відповісти")]):t._e(),t._v(" "),t.is_flat?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.startGo}},[t._v("Перейти до обговорення")]):t._e(),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.copyUrl}},[t._v("Копіювати посилання на коментар")]),t._v(" "),t.isOwner||t.isMsgAdmin?[e("hr"),t._v(" "),t.is_pined?[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.unPinMsg}},[t._v("Відкріпити повідомлення")])]:[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.pinMsg}},[t._v("Закріпити повідомлення")])]]:t._e(),t._v(" "),t.canEditMsg||t.canDeleteMsg?[e("hr"),t._v(" "),t.canEditMsg?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.editStart}},[t._v("Редагувати")]):t._e(),t._v(" "),t.canDeleteMsg?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.deleteMsg}},[t._v("Видалити")]):t._e(),t._v(" "),t.canDeleteMsg&&t.isMsgAdmin?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.deleteForceMsg}},[t._v("Видалити відразу")]):t._e()]:t._e()],2):t._e()])]),t._v(" "),t.message.id_msg_quote&&t.message.id_msg_quote!==t.id_msg_prev&&(t.is_flat||t.message.id_msg_quote!==t.message.id_msg_root)?[e("quote-view",{key:t.message.id_msg_quote,attrs:{id_msg:t.message.id_msg_quote,id_msg_child:t.message.id}})]:t._e(),t._v(" "),t.is_update?[e("message-update",{attrs:{message:t.message},on:{"edit-submit":t.quoteClose,"edit-cancel":t.quoteClose}})]:[e("message-view",{attrs:{message:t.message,with_click:!0}}),t._v(" "),t.is_back?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.goBack}},[t._v("[повернутись]")]):t._e(),t._v(" "),e("like-comment-button",{attrs:{obj_key:t.msg_obj_key,like_json:t.message.like_json,owner_user:t.owner_user,heart_user:t.heart_user}}),t._v(" "),t.is_widget_webinar||t.is_widget_news?t._e():[t.is_response_btn||t.is_flat||t.is_unread?e("div",{staticClass:"n-comments__btn-row"},[t.is_response_btn?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply",on:{click:t.quoteStart}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"comments-icon icon-reply"}),t._v("Відповісти")]):t._e(),t._v(" "),t.is_flat?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply blue",on:{click:t.startGo}},[t._v("Перейти до обговорення")]):t._e(),t._v(" "),t.is_unread?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply green",on:{click:function(e){return t.setRead()}}},[t._v("Позначити як прочитане")]):t._e()]):t._e()]]],2),t._v(" "),t.is_widget_webinar||t.is_widget_news?[t.is_response_btn||t.is_flat||t.is_unread?e("div",{staticClass:"n-comments__btn-row"},[t.is_response_btn?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply",on:{click:t.quoteStart}},[t._v("Відповісти")]):t._e(),t._v(" "),t.is_response_btn?e("span",{staticClass:"separarator-coment-webinar"}):t._e(),t._v(" "),t.is_flat?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply",on:{click:t.startGo}},[t._v("Перейти до обговорення")]):t._e(),t._v(" "),t.is_flat?e("span",{staticClass:"separarator-coment-webinar"}):t._e(),t._v(" "),t.is_unread?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comment-btn-reply",on:{click:function(e){return t.setRead()}}},[t._v("Позначити прочитаним")]):t._e(),t._v(" "),t.is_unread?e("span",{staticClass:"separarator-coment-webinar"}):t._e(),t._v(" "),e("p",{staticClass:"n-date-comments",attrs:{title:"додано ".concat(t.sentAt)}},[t._v("\n                    "+t._s(t.humanSentAt)+"\n                    "),t.isUpdated?e("i",{staticClass:"v-icon-updated",attrs:{title:"відредаговано ".concat(t.updatedAt)}}):t._e()])]):t._e()]:t._e()]],2)};o._withStripped=!0;var s=n(394),a=n.n(s),c=n(1),l=n(12),u=n(5),f={user_key:[u.USER_UNKNOWN,0].join(u.DELIMITER_USER_KEY),user_type:u.USER_UNKNOWN,user_id:0,avatar:"",name:"(невідомий)",sex:u.SEX_UNKNOWN,role_id:0,mark_bit:0,ban_bit:0,updated_at:0};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=Object(l.a)("Comments"),g=(m.mapState,{computed:p(p({},(0,m.mapGetters)(["userByKey"])),{},{user:function(){var t;return null!==(t=this.message?this.userByKey(this.message.user_key):null)&&void 0!==t?t:f},avatar_url:function(){return Object(c.f)(this.user)},profile_url:function(){return Object(c.bb)(this.user)},is_profile_url:function(){return this.user.user_type===u.USER_USER},is_pupil:function(){return this.user.user_type===u.USER_PUPIL}})});function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=Object(l.a)("Comments"),x=k.mapState,S=(k.mapGetters,{computed:b(b({},x(["payIds","is_check_pay","stop_msg","obj"])),{},{isOwner:function(){return!!(this.obj&&[u.USER_USER,u.USER_PUPIL].includes(this.obj.obj_user_type)&&this.obj.obj_user_id)&&this.obj.obj_user_key===vo.user.user_key},isMsgAuthor:function(){return this.message.user_key===vo.user.user_key},isTovVo:function(){return this.user&&parseInt(this.user.role_id)>=u.USER_ADMINISTRATOR},isMsgAdmin:function(){return vo.is_admin_msg},isPay:function(){if(this.message.user_type!==u.USER_USER)return!1;var t=this.message.user_id;return t&&this.payIds&&this.payIds.indexOf(t)>=0},isPayMarathon:function(){return this.obj&&this.obj.obj_type===u.OBJ_TYPE_MARATHON&&4===this.obj.obj_id&&this.isPay},canEditMsg:function(){return!!this.isMsgAdmin||!!this.isMsgAuthor},canDeleteMsg:function(){return!!this.isMsgAdmin||(!!this.isOwner||!!this.isMsgAuthor)},canWrite:function(){return!!this.canDeleteMsg||(!this.is_check_pay||!this.stop_msg)}})}),C=n(203),O=function(){var t=this,e=t._self._c;return t.message?e("div",{on:{click:function(e){return e.preventDefault(),t.go.apply(null,arguments)}}},[e("div",{staticClass:"v-edit-comments-block vo-mb05"},[e("i",[t._v(t._s(t.user.name)+", "),e("span",{staticClass:"vo-color-silver"},[t._v(t._s(t.humanSentAt))])])]),t._v(" "),e("div",{staticClass:"respones-msg-block a-pointer-class vo-copy-disabled"},[e("i",{staticClass:"vo-icon quote"}),t._v(" "),e("message-view",{attrs:{message:t.message}})],1)]):t._e()};O._withStripped=!0;var E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-comments__text-row"},[t.messageImages.length?[e("div",{staticClass:"n-comments__img-wrap"},[t._l(t.messageImages,(function(n){return[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.viewImage(n)}}},[e("img",{attrs:{src:t.fileUrl(n.file,90,90),alt:n.file_src}})])]}))],2)]:t._e(),t._v(" "),e("div",{ref:"html",domProps:{innerHTML:t._s(t.messageHtml)},on:{click:t.handleLinkClick}}),t._v(" "),t.messageFiles.length?[t._l(t.messageFiles,(function(n){return[e("div",{staticClass:"n-comments__add-file-block"},[e("a",{attrs:{href:t.fileUrl("o/"+n.file)}},[t._v(t._s(n.file_src))]),e("span",[t._v(t._s(t.humanFileSize(n.file_size,!0)))])])]}))]:t._e()],2)};E._withStripped=!0;var P=n(247),A=n(245);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function j(){j=function(t,e){return new n(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function n(t,r,i){var o=new RegExp(t,r);return e.set(o,i||e.get(t)),M(o,n.prototype)}function r(t,n){var r=e.get(n);return Object.keys(r).reduce((function(e,n){var i=r[n];if("number"==typeof i)e[n]=t[i];else{for(var o=0;void 0===t[i[o]]&&o+1<i.length;)o++;e[n]=t[i[o]]}return e}),Object.create(null))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(n,RegExp),n.prototype.exec=function(e){var n=t.exec.call(this,e);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=e.get(this);return t[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(t,e){var n=o[e];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var s=this;return t[Symbol.replace].call(this,n,(function(){var t=arguments;return"object"!=T(t[t.length-1])&&(t=[].slice.call(t)).push(r(t,s)),i.apply(this,t)}))}return t[Symbol.replace].call(this,n,i)},j.apply(this,arguments)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var I={name:"MessageView",props:["message","with_click"],data:function(){return{}},computed:{messageHtml:function(){var t="";return this.message&&this.message.data_json&&this.message.data_json.msg&&(t=Object(A.a)(this.message.data_json.msg),this.with_click&&(t=Object(c.eb)(t))),t},messageAttachments:function(){if(!this.message||!this.message.data_json||Array.isArray(this.message.data_json.files))return[];var t=this.message.data_json.files,e=[];return Object.keys(t).forEach((function(n){return e.push(t[n])})),e},messageFiles:function(){return this.messageAttachments.filter((function(t){return 0===t.file_width}))},messageImages:function(){return this.messageAttachments.filter((function(t){return t.file_width>0}))}},methods:{fileUrl:c.u,humanFileSize:c.K,viewImage:function(t){var e=this.messageImages;Object(c.hb)(P.a,{propsData:{images:e,startAt:e.indexOf(t)}},{class:"img-preview"})},handleLinkClick:function(t){if(this.with_click&&("A"===t.target.tagName&&t.target.hash&&t.target.hostname===window.location.hostname&&t.target.pathname===window.location.pathname)){var e=t.target.hash.match(j(/^#comments\/(\d+)$/,{id:1}));if(e&&e.groups&&e.groups.id){t.preventDefault();var n=parseInt(e.groups.id);this.$store.commit("Comments/back",{id_msg_back:this.message.id,id_msg_view:n}),this.$store.dispatch("Comments/treeGo",{event:t,id_msg:n})}}}}},N=n(0),R=Object(N.a)(I,E,[],!1,null,"5d10c9bb",null).exports;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===D(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=Object(l.a)("Comments"),q=(F.mapState,F.mapGetters),U={name:"QuoteView",components:{MessageView:R},props:["id_msg","id_msg_child"],mixins:[g,C.a],computed:B(B({},q(["msgById"])),{},{message:function(){return this.msgById(this.id_msg)}}),methods:{go:function(t){this.$store.commit("Comments/back",{id_msg_back:this.id_msg_child,id_msg_view:this.id_msg}),this.$store.dispatch("Comments/treeGo",{event:t,id_msg:this.id_msg})}}},V=Object(N.a)(U,O,[],!1,null,"7a5a49b8",null).exports,z=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"comments-textarea-con"},[t.stop_msg?[e("div",{domProps:{innerHTML:t._s(t.stop_msg)}})]:[e("editor-msg",{ref:"editor",staticClass:"st-file-upload-edit",attrs:{autoFocus:!0},on:{submit:t.send}})]],2),t._v(" "),e("div",{staticClass:"row-msg-btn vo-mb0"},[t.stop_msg?t._e():e("button",{staticClass:"msg-btn blue item-msg-row",class:{"a-load-button":t.is_wait_send},on:{click:t.send}},[t._v("\n            Зберегти "),e("small",[t._v("Ctrl+Enter")])]),t._v(" "),e("button",{staticClass:"msg-btn blue inverse item-msg-row pull-right-flex",class:{"a-load-button":t.is_wait_send},on:{click:function(e){return t.$emit("edit-cancel")}}},[t._v("\n            Скасувати\n        ")])])])};z._withStripped=!0;var H=n(135);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===W(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=Object(l.a)("Comments"),K=J.mapState,Q=(J.mapGetters,{name:"MessageUpdate",props:["message","id_msg_quote"],components:{EditorMsg:H.a},data:function(){return{is_wait_send:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},K(["stop_msg"])),methods:{send:function(t){var e,n,r,i=this;if(!this.is_wait_send){var o=this.$refs.editor.getDataJson();if(null!==o){this.is_wait_send=!0;var s=o.msg,a=void 0===s?null:s,c=o.files,l=void 0===c?[]:c;this.$store.dispatch("Comments/send",{event:t,msg:a,files:l,id_msg:null===(e=this.message)||void 0===e?void 0:e.id,id_msg_quote:null!==(n=null===(r=this.message)||void 0===r?void 0:r.id_msg_quote)&&void 0!==n?n:this.id_msg_quote}).then((function(t){i.is_wait_send=!1,i.$refs.editor.clear(),i.$emit("edit-submit")})).catch((function(t){i.error="Не вдалося відправити повідомлення...",i.is_wait_send=!1}))}}}},mounted:function(){this.message&&this.$refs.editor.setDataJson(this.message.data_json)}}),X=Q,Z=Object(N.a)(X,z,[],!1,null,"41b34baa",null).exports,tt=n(39),et=n(301);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=Object(l.a)("Comments"),at=st.mapState,ct=st.mapGetters,lt={name:"CommentBase",props:["message","id_msg_prev","is_response"],components:{LikeCommentButton:et.a,MessageView:R,QuoteView:V,MessageUpdate:Z},mixins:[a.a,g,C.a,S],data:function(){return{is_evt_listeners:!1,view_timeout:null,is_blink:!1,owner_user:null,heart_user:null}},computed:it(it(it({},at(["pub","init_mode","unreadIds","deletedIds","id_msg_update","id_msg_action","id_msg_menu","id_msg_pin","msgBack","obj"])),ct(["is_widget_news","is_widget_webinar","obj_key","msgById"])),{},{is_pined:function(){return this.id_msg_pin===this.message.id},is_update:function(){return this.id_msg_update&&this.message.id===this.id_msg_update},is_unread:function(){return this.unreadIds.includes(this.message.id)},is_deleted:function(){return this.deletedIds.includes(this.message.id)},is_back:function(){return this.msgBack&&this.msgBack.id_msg_view===this.message.id&&(this.msgBack.id_msg_back!==this.message.id||this.msgBack.init_mode!==this.init_mode)},is_open_menu:function(){return this.id_msg_menu===this.message.id},is_flat:function(){return this.init_mode===tt.b},is_response_btn:function(){return this.canWrite&&(!this.is_flat||!this.is_response)},user_mark_bit:function(){var t;return(null!==(t=this.message?this.userByKey(this.message.user_key):null)&&void 0!==t?t:f).mark_bit},is_user_pro:function(){return this.user_mark_bit&u.USER_MARK_PRO},is_user_premium:function(){return this.user_mark_bit&u.USER_MARK_PREMIUM},is_msg_owner:function(){return this.message&&this.message.user_key===vo.user.user_key},msg_obj_key:function(){return this.message?[u.OBJ_TYPE_COMMENT,this.message.id,0].join(u.DELIMITER_OBJ_KEY):u.NULL_OBJ_KEY}}),watch:{id_msg_action:function(t){this.message.id===t&&this.scrollToTargetElement()},is_flat:function(){this.checkViewport()},is_unread:function(){this.checkViewport()},"inViewport.now":function(t){!t&&this.view_timeout&&(clearTimeout(this.view_timeout),this.view_timeout=null)},"inViewport.fully":function(t){var e=this;t&&!this.view_timeout&&this.is_unread&&(this.view_timeout=setTimeout((function(){e.setRead()}),5e3))}},methods:{fileUrl:c.u,viewImage:function(t){var e=this.message.msg_attachments.images;Object(c.hb)(P.a,{propsData:{images:e,startAt:e.indexOf(t)}},{class:"img-preview"})},toggleContext:function(){this.is_open_menu?this.$store.commit("Comments/menu"):this.$store.commit("Comments/menu",this.message.id)},editStart:function(){this.$store.commit("Comments/update",this.message.id)},quoteClose:function(){this.$store.commit("Comments/update",0)},deleteMsg:function(t){this.$store.dispatch("Comments/delete",{event:t,id_msg:this.message.id})},deleteForceMsg:function(t){var e=this;vo.dlg.confirm(null,"Видалення повідомлення","Видалити це повідомлення назавжди",(function(){e.$store.dispatch("Comments/deleteForce",{event:t,id_msg:e.message.id})}))},restoreMsg:function(t){this.$store.dispatch("Comments/restore",{event:t,id_msg:this.message.id})},pinMsg:function(t){this.$store.dispatch("Comments/pin",{event:t,id_msg:this.message.id})},unPinMsg:function(t){this.$store.dispatch("Comments/pin",{event:t})},copyUrl:function(){var t=new URL(window.location.href);t.hash="comments/".concat(this.message.id),vo.copy(t.href)},quoteStart:function(){this.$store.commit("Comments/back",{id_msg_back:this.message.id}),this.$store.commit("Comments/quote",this.message.id)},startGo:function(){this.$store.commit("Comments/back",{id_msg_back:this.message.id,id_msg_view:this.message.id}),this.$store.dispatch("Comments/treeGo",{event:event,id_msg:this.message.id})},setRead:function(){vo.socket.emit("comments set as read",{objKey:this.obj_key,id:this.message.id})},checkViewport:function(){!this.is_flat&&this.is_unread?this.addInViewportHandlers():this.removeInViewportHandlers()},scrollToTargetElement:function(){var t=this;window.scrollTo(window.scrollX,window.scrollY+1),this.$refs.message.scrollIntoView({behavior:"smooth",block:"center"}),this.$store.commit("Comments/action",0),this.is_blink=!1,setTimeout((function(){t.is_blink=!0}),300)},goBack:function(t){this.$store.dispatch("Comments/goBack",{event:t})}},mounted:function(){var t=this;if(this.checkViewport(),this.message.id===this.id_msg_action&&this.$nextTick((function(){t.scrollToTargetElement()})),this.owner_user=this.message.user_key,this.message.id_msg_quote){var e=this.msgById(this.message.id_msg_quote);e&&e.user_key!==this.message.user_key&&(this.heart_user=e.user_key)}else this.obj.obj_user_key!==this.message.user_key&&(this.heart_user=this.obj.obj_user_key)}},ut=Object(N.a)(lt,o,[],!1,null,"b3ee8046",null).exports,ft=function(){var t=this,e=t._self._c;return e("div",{ref:"quote",staticClass:"n-comments__message-con responses"},[e("div",{staticClass:"content-msg-webinar"},[t.is_tree&&t.message&&t.message.id_msg_root?[e("p",{staticClass:"v-edit-comments-block vo-mb05"},[e("i",[e("b",[t._v(t._s(t.user.name))]),t._v(" * "),e("span",{staticClass:"vo-color-silver a-pointer-class",on:{click:t.quoteReset}},[t._v("Скасувати")])])]),t._v(" "),e("div",{staticClass:"respones-msg-block"},[e("i",{staticClass:"vo-icon quote"}),t._v(" "),e("message-view",{attrs:{message:t.message}})],1)]:t._e(),t._v(" "),e("message-update",{attrs:{message:null,id_msg_quote:t.id_msg_quote},on:{"edit-submit":t.quoteSubmit,"edit-cancel":t.quoteCancel}})],2)])};function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===dt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ft._withStripped=!0;var mt=Object(l.a)("Comments"),gt=mt.mapState,yt=mt.mapGetters,_t={name:"QuoteCreate",props:[],components:{MessageUpdate:Z,EditorMsg:H.a,MessageView:R},mixins:[g],data:function(){return{}},computed:pt(pt(pt({},gt(["id_msg_quote","init_mode"])),yt(["msgById","obj_key"])),{},{message:function(){return this.msgById(this.id_msg_quote)},is_tree:function(){return this.init_mode===tt.c}}),methods:{quoteReset:function(){this.$store.commit("Comments/back",{id_msg_back:this.message.id_msg_root}),this.$store.commit("Comments/quote",this.message.id_msg_root)},quoteSubmit:function(){vo.socket.emit("comments set as read",{objKey:this.obj_key,id:this.id_msg_quote}),this.$store.commit("Comments/quote",0)},quoteCancel:function(){this.$store.commit("Comments/quote",0),this.$store.dispatch("Comments/goBack",{event:event})}},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.quote.scrollIntoView({behavior:"smooth",block:"center"})}))}},bt=Object(N.a)(_t,ft,[],!1,null,"638f08c7",null).exports;function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){St(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function St(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==wt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct=Object(l.a)("Comments"),Ot=Ct.mapState,Et=Ct.mapGetters,Pt={name:"CommentFlat",components:{QuoteCreate:bt,CommentBase:ut},props:["id_msg"],data:function(){return{}},computed:xt(xt(xt({},Ot(["id_msg_quote"])),Et(["msgById","childFlat"])),{},{message:function(){return this.msgById(this.id_msg)},childMessages:function(){return this.childFlat(this.id_msg)},is_quote:function(){return this.id_msg_quote&&this.id_msg===this.id_msg_quote}}),methods:{}},At=Object(N.a)(Pt,i,[],!1,null,"e61df53a",null).exports,Tt=function(){var t=this,e=t._self._c;return t.message?e("div",{staticClass:"wrap_comments__message-con"},[e("comment-base",{attrs:{message:t.message,id_msg_prev:t.id_msg_prev,inViewportActive:!1}}),t._v(" "),t.is_wait_min?e("div",{staticStyle:{height:"70px",position:"relative"}},[e("div",{staticClass:"v-preloader"})]):t.child&&!t.child.is_all_min?[e("div",{staticClass:"comments-link-previous-block"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comments-link-previous",on:{click:t.loadPrev}},[t._v("Показати попередні коментарі "+t._s(t.cnt_prev_text))])])]:t._e(),t._v(" "),t._l(t.childMessages,(function(n,r){return e("comment-base",{key:"child-".concat(n.id),attrs:{message:n,id_msg_prev:t.getPrevChild(r),is_response:!0,inViewportActive:!1}})})),t._v(" "),t.is_quote?[e("quote-create",{key:"r"+this.id_msg_quote})]:t.is_wait_max?e("div",{staticStyle:{height:"70px",position:"relative"}},[e("div",{staticClass:"v-preloader"})]):t.child&&!t.child.is_all_max?[e("div",{staticClass:"comments-link-previous-block"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"comments-link-previous",on:{click:t.loadNext}},[t._v("Показати наступні коментарі")])])]:t._e()],2):t._e()};function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Mt(){Mt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,s=Object.create(o.prototype),a=new C(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&n.call(g,o)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==jt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function It(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function Nt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){It(o,r,i,s,a,"next",t)}function a(t){It(o,r,i,s,a,"throw",t)}s(void 0)}))}}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Tt._withStripped=!0;var Bt=Object(l.a)("Comments"),$t=Bt.mapState,Ft=Bt.mapGetters,qt={name:"CommentTree",components:{QuoteCreate:bt,CommentBase:ut},props:["id_msg","id_msg_prev"],data:function(){return{is_wait_min:!1,is_wait_max:!1}},computed:Dt(Dt(Dt({},$t(["id_msg_quote"])),Ft(["msgById","childRoot"])),{},{message:function(){return this.msgById(this.id_msg)},child:function(){var t;return this.message.id_msg_root?null:null!==(t=this.childRoot(this.id_msg))&&void 0!==t?t:null},childMessages:function(){var t=this;return this.child?this.child.messages.map((function(e){return t.msgById(e)})):[]},cnt_prev_text:function(){if(this.child&&this.child.is_all_max){var t=this.message.cnt_msg-this.child.messages.length;if(t>0)return"(+".concat(t,")")}return""},is_quote:function(){return this.id_msg_quote&&(this.message.id===this.id_msg_quote||this.child&&this.child.messages.includes(this.id_msg_quote))}}),methods:{loadPrev:function(){var t=arguments,e=this;return Nt(Mt().mark((function n(){var r;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_min=!0,n.next=4,e.$store.dispatch("Comments/treeChildPrev",{event:r,child:e.child});case 4:e.is_wait_min=!1;case 5:case"end":return n.stop()}}),n)})))()},loadNext:function(){var t=arguments,e=this;return Nt(Mt().mark((function n(){var r;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_max=!0,n.next=4,e.$store.dispatch("Comments/treeChildNext",{event:r,child:e.child});case 4:e.is_wait_max=!1;case 5:case"end":return n.stop()}}),n)})))()},getPrevChild:function(t){return t>0?this.childMessages[t-1].id:null}}},Ut=qt,Vt=Object(N.a)(Ut,Tt,[],!1,null,"66686aee",null).exports,zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-comments__message-con fixed-msg",on:{click:function(e){return e.preventDefault(),t.go.apply(null,arguments)}}},[e("div",{staticClass:"n-comments__name-row"},[e("div",{staticClass:"comments_img-wrap"},[e("span",{staticClass:"comments-img-con"},[e("img",{attrs:{src:t.avatar_url,alt:"Аватар"}})])]),t._v(" "),e("div",{staticClass:"n-name-con"},[e("p",{staticClass:"n-name-comments-user"},[t._v("\n                "+t._s(t.user.name)+"\n            ")]),t._v(" "),e("p",{staticClass:"n-date-comments"},[t._v("\n                "+t._s(t.humanSentAt)+"\n            ")])])]),t._v(" "),e("div",{staticClass:"vo-copy-disabled",staticStyle:{cursor:"pointer"}},[e("message-view",{attrs:{message:t.message}})],1)])};zt._withStripped=!0;var Ht={name:"PinView",props:["message"],components:{MessageView:R},mixins:[g,C.a],methods:{go:function(t){this.$store.dispatch("Comments/treeGo",{event:t,id_msg:this.message.id})}}},Wt=Object(N.a)(Ht,zt,[],!1,null,"8748188a",null).exports,Yt=function(){var t=this,e=t._self._c;return e("div",[e("widget-title"),t._v(" "),e("div",{staticClass:"comments-textarea-con"},[t.stop_msg?[e("div",{domProps:{innerHTML:t._s(t.stop_msg)}})]:[e("editor-msg",{ref:"editor",attrs:{autoFocus:!1},on:{submit:t.send}})],t._v(" "),e("div",{staticClass:"row-msg-btn sm"},[t.stop_msg?t._e():e("button",{staticClass:"msg-btn blue item-msg-row",class:{"a-load-button":t.is_wait_send},on:{click:t.send}},[t._v("\n                "+t._s(t.widgetText.send_btn)+" "),e("small",[t._v("Ctrl+Enter")])]),t._v(" "),t.isAdminExist?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],attrs:{title:"Адміністратор розмови"},on:{click:t.viewAdmin}},[t._v("😎")]):t._e(),t._v(" "),e("div",{staticClass:"pull-right-flex"},[e("div",{staticClass:"item-msg-row"},[e("subscribe-button2",{attrs:{"obj-key":t.obj_key}})],1)])])],2)],1)};Yt._withStripped=!0;var Gt=function(){var t=this,e=t._self._c;return e("div",[t.title?e("p",{staticClass:"vo-title-small"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.is_widget_news?e("div",{staticClass:"comments-title__user-item"},[t.is_user?[e("div",[e("div",{staticClass:"row-user_text vo-mb05"},[e("div",{staticClass:"user-item"},[e("img",{attrs:{src:t.avatarUrl(t.user),alt:""}}),t._v(" "),e("b",{staticStyle:{"vertical-align":"super"}},[t._v(t._s(t.user.name))])])]),t._v(" "),e("p",[t._v("\n                    "+t._s(t.title_text.toLowerCase())+"\n                ")])])]:[e("p",[t._v("\n                "+t._s(t.title_text)+"\n            ")])]],2):t.title_text?e("p",{staticClass:"n-comments__subtitle"},[t._v("\n        "+t._s(t.title_text)+"\n    ")]):t._e()])};function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach((function(e){Xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Gt._withStripped=!0;var Zt=Object(l.a)("Comments"),te=Zt.mapState,ee=Zt.mapGetters,ne={name:"WidgetTitle",filters:{avatarUrl:c.f},computed:Qt(Qt(Qt({},te(["widgetStaticData"])),ee(["widgetText","is_widget_news"])),{},{is_user:function(){return[u.USER_USER,u.USER_PUPIL].includes(this.user.user_type)},user:function(){return vo.user},title:function(){return this.widgetStaticData.title},title_text:function(){var t=this.widgetText.title_text;return this.widgetStaticData.sub_title?t=this.widgetStaticData.sub_title:this.is_widget_news&&!t&&(t="Поділіться враженнями про цю новину."),t}}),methods:{avatarUrl:c.f}},re=Object(N.a)(ne,Gt,[],!1,null,"350c7d92",null).exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"switch-comemnts",class:{"a-load-button":t.is_wait_send},attrs:{title:t.isSubscribed?"Вимкнути сповіщення":"Отримувати сповіщення"}},[e("span",[t._v("Отримувати сповіщення")]),t._v(" "),e("div",{class:t.isNewSubscribe?"vo-checkbox-silver":"vo-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isSubscribed,expression:"isSubscribed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isSubscribed)?t._i(t.isSubscribed,null)>-1:t.isSubscribed},on:{change:function(e){var n=t.isSubscribed,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.isSubscribed=n.concat([null])):o>-1&&(t.isSubscribed=n.slice(0,o).concat(n.slice(o+1)))}else t.isSubscribed=i}}}),t._v(" "),e("div")])])};ie._withStripped=!0;var oe={name:"subscribe-button2",props:{objKey:{type:String,required:!0}},data:function(){return{is_wait_send:!0,count:0,users:[],is_subscribe:!1,is_unsubscribe:!1}},computed:{isNewSubscribe:function(){return!this.is_subscribe&&!this.is_unsubscribe},isSubscribed:{get:function(){return this.is_subscribe},set:function(t){t?this.subscribe(null):this.unsubscribe(null)}}},methods:{subscribe:function(t){var e=this;Object(c.T)()&&(this.is_wait_send=!0,this.is_subscribe=!0,vo.ajaxPromise(t,vo.url_sub+"/ext/web/subscribe",{objKey:this.objKey}).then((function(t){e.is_wait_send=!1})).catch((function(t){e.is_wait_send=!1,e.is_subscribe=!1,vo.popup.errorByResponse(t,!1)})))},unsubscribe:function(t){var e=this;Object(c.T)()&&(this.is_wait_send=!0,this.is_subscribe=!1,this.is_unsubscribe=!0,vo.ajaxPromise(t,vo.url_sub+"/ext/web/unsubscribe",{objKey:this.objKey}).then((function(t){e.is_wait_send=!1})).catch((function(t){e.is_wait_send=!1,e.is_subscribe=!0,e.is_unsubscribe=!1,vo.popup.errorByResponse(t,!1)})))}},mounted:function(){var t=this;Object(c.T)(!1)&&vo.ajaxPromise(null,vo.url_sub+"/ext/web/check-subscribe2",{objKey:this.objKey}).then((function(e){t.is_subscribe=e.is_subscribe,t.is_unsubscribe=e.is_unsubscribe,t.is_wait_send=!1})).catch((function(e){t.is_wait_send=!1}))}},se=Object(N.a)(oe,ie,[],!1,null,"37445c32",null).exports;function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(n),!0).forEach((function(e){ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ue(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ae(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fe=Object(l.a)("Comments"),de=fe.mapState,he=fe.mapGetters,pe={name:"MessageCreate",components:{SubscribeButton2:se,EditorMsg:H.a,WidgetTitle:re},data:function(){return{is_wait_send:!1}},computed:le(le(le({},de(["stop_msg","owner"])),he(["widgetText","obj_key"])),{},{isAdminExist:function(){return this.owner&&[u.USER_USER,u.USER_PUPIL].includes(this.owner.user_type)}}),methods:{viewAdmin:function(){vo.popup('\n            <p class="vo-title-small">Адміністратор розмови</p>\n            <div class="row-user_text vo-mb05">\n                <div class="user-item">\n                    <img src="'.concat(Object(c.f)(this.owner),'" alt="">\n                    <b style="vertical-align: super;">').concat(this.owner.name,'</b>\n                </div>\n            </div>\n            <p class="vo-text">Адміністратор має можливість закріпляти/відкріпляти та видаляти будь-які пвідомлення у цій розмові</p>\n            '))},send:function(t){var e=this;if(!this.is_wait_send){var n=this.$refs.editor.getDataJson();if(null!==n){this.is_wait_send=!0;var r=n.msg,i=void 0===r?null:r,o=n.files,s=void 0===o?[]:o;this.$store.dispatch("Comments/send",{event:t,msg:i,files:s}).then((function(t){e.is_wait_send=!1,e.$refs.editor.clear()})).catch((function(t){e.error="Не вдалося відправити повідомлення...",e.is_wait_send=!1}))}}}}},ve=Object(N.a)(pe,Yt,[],!1,null,"2056dafc",null).exports,me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-static-line"},[t.cnt_new>0?[e("div",{staticClass:"col-line static-items"},[t.is_flat?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"link-thanks vo-color-blue",on:{click:t.setIsTree}},[t._v("Всі")]):e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"link-thanks vo-color-blue",on:{click:t.setIsFlat}},[t._v("Нові +"+t._s(t.cnt_new))]),t._v(" "),t.cnt_new>0?[e("span",{staticClass:"link-separator"}),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"link-thanks vo-color-blue",on:{click:t.setReadAll}},[t._v("Позначити все як прочитане")])]:t._e()],2)]:[t._m(0)]],2)};function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function be(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ge(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ge(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}me._withStripped=!0;var we=Object(l.a)("Comments"),ke=we.mapState,xe={name:"StaticLine",mixins:[],computed:_e(_e(_e({},(0,we.mapGetters)(["obj_key"])),ke(["init_mode","unreadIds","rootMessages","flatMessages"])),{},{cnt_new:function(){return this.unreadIds.length},is_flat:function(){return this.init_mode===tt.b}}),methods:{setIsTree:function(){this.$store.commit("Comments/initMode",tt.c)},setIsFlat:function(t){this.$store.commit("Comments/initMode",tt.d),this.$store.dispatch("Comments/modeFlat",{event:t})},setReadAll:function(){vo.socket.emit("comments set as read all",{objKey:this.obj_key}),this.$store.commit("Comments/initMode",tt.c)}}},Se=Object(N.a)(xe,me,[function(){var t=this._self._c;return t("div",{staticClass:"col-line"},[t("span",{staticClass:"vo-color-silver link-thanks",staticStyle:{"font-style":"italic"}},[this._v("Все прочитано")])])}],!1,null,"e5f10256",null).exports,Ce=n(81);n(221);function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Ee(){Ee=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,s=Object.create(o.prototype),a=new C(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&n.call(g,o)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==Oe(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Pe(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function Ae(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){Pe(o,r,i,s,a,"next",t)}function a(t){Pe(o,r,i,s,a,"throw",t)}s(void 0)}))}}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){Me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Me(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Oe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Oe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ie=Object(l.a)("Comments"),Ne=Ie.mapState,Re=Ie.mapGetters,De={name:"Comments",components:{StaticLine:Se,PinView:Wt,MessageCreate:ve,CommentFlat:At,CommentTree:Vt},props:{obj_type:null,obj_id:null,obj_sub_id:null,widget_type:{default:tt.e},stop_msg:{default:""},is_check_pay:{default:!1},widgetStaticData:null},data:function(){return{is_wait_max:!1,is_wait_min:!1,INIT_WAIT:tt.d,INIT_FAIL:tt.a,INIT_TREE:tt.c,INIT_FLAT:tt.b}},computed:je(je(je({},Re(["msgById","widgetText","obj_key"])),Ne(["init_mode","is_all_max","is_all_min","messages","rootMessages","flatMessages","id_pub","pub","id_msg_pin","deletedIds"])),{},{messagePin:function(){return this.id_msg_pin?this.msgById(this.id_msg_pin):null}}),methods:{treeInit:function(){var t=arguments,e=this;return Ae(Ee().mark((function n(){var r;return Ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_max=!0,n.next=4,e.$store.dispatch("Comments/treeInit",{event:r,obj_type:e.obj_type,obj_id:e.obj_id,obj_sub_id:e.obj_sub_id,widget_type:e.widget_type,stop_msg:e.stop_msg,is_check_pay:e.is_check_pay});case 4:e.is_wait_max=!1;case 5:case"end":return n.stop()}}),n)})))()},loadTree:function(){var t=arguments,e=this;return Ae(Ee().mark((function n(){var r;return Ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_max=!0,n.next=4,e.$store.dispatch("Comments/treeRoot",{event:r});case 4:e.is_wait_max=!1;case 5:case"end":return n.stop()}}),n)})))()},loadTreeId:function(t){var e=this;return Ae(Ee().mark((function n(){return Ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.is_wait_max=!0,n.next=3,e.$store.dispatch("Comments/treeId",{event:null,id_msg:t});case 3:e.is_wait_max=!1,setTimeout((function(){e.$store.commit("Comments/action",t)}),300);case 5:case"end":return n.stop()}}),n)})))()},loadTreeNext:function(){var t=arguments,e=this;return Ae(Ee().mark((function n(){var r;return Ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_min=!0,n.next=4,e.$store.dispatch("Comments/treeRootNext",{event:r});case 4:e.is_wait_min=!1;case 5:case"end":return n.stop()}}),n)})))()},loadTreePrev:function(){var t=arguments,e=this;return Ae(Ee().mark((function n(){var r;return Ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.is_wait_max=!0,n.next=4,e.$store.dispatch("Comments/treeRootPrev",{event:r});case 4:e.is_wait_max=!1;case 5:case"end":return n.stop()}}),n)})))()},getPrevTree:function(t){return t>0?this.rootMessages[t-1].id:null},closeContextMenu:function(t){this.$store.commit("Comments/menu")},socketPubOneListener:function(t){var e=t.action,n=t.message,r=t.pub,i=t.quote,o=t.users,s=t.user_key;vo.user.user_key!==s&&(e!==u.ACTION_DELETE?(n&&([u.ACTION_CREATE,u.ACTION_RESTORE].includes(e)?this.$store.commit("Comments/message",n):this.$store.commit("Comments/messages",[n])),i&&this.$store.commit("Comments/messages",[i]),r&&this.$store.commit("Comments/treeInit",{pub:r}),o&&this.$store.commit("Comments/users",o)):n&&!this.deletedIds.includes(n.id)&&this.$store.commit("Comments/deleteForce",n.id))},socketCommentReadListener:function(t){this.$store.commit("Comments/readIds",t)},socketCommentUnreadListener:function(t){var e=t.event,n=t.emitter_type,r=t.emitter_id,i=t.emitter_user_type,o=t.emitter_user_id;[u.EVENT_COMMENT,u.EVENT_RESPONSE].includes(e)&&vo.user.user_key!==[i,o].join(u.DELIMITER_USER_KEY)&&n===u.OBJ_TYPE_COMMENT&&this.obj_key===Object(Ce.b)(t,"receiver")&&this.$store.commit("Comments/unreadIds",[r])}},mounted:function(){var t=this;return Ae(Ee().mark((function e(){var n,r,i,o;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vo.disable_msg){e.next=2;break}return e.abrupt("return");case 2:return t.$store.commit("Comments/RESET_STATE"),t.$store.commit("Comments/initWidgetStaticData",t.widgetStaticData),document.addEventListener("click",t.closeContextMenu),e.next=7,t.treeInit();case 7:if(t.id_pub){e.next=10;break}return t.$store.commit("Comments/initMode",tt.a),e.abrupt("return");case 10:if(n=window.location.hash,r=n.slice(1).split("/"),i="comments"===r[0],o=parseInt(r[1]),!i||!o){e.next=16;break}return e.next=14,t.loadTreeId(o);case 14:e.next=18;break;case 16:return e.next=18,t.loadTree(null);case 18:return vo.socket.on("pub-one",t.socketPubOneListener),[u.USER_USER,u.USER_PUPIL].includes(vo.user.user_type)&&(vo.socket.on("comments read ".concat(t.obj_key),t.socketCommentReadListener),vo.socket.on("event",t.socketCommentUnreadListener)),e.next=22,t.$store.dispatch("Comments/initUnread");case 22:t.$store.commit("Comments/initMode",tt.c);case 23:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.$store.commit("Comments/initMode",tt.d)},destroyed:function(){document.removeEventListener("click",this.closeContextMenu),vo.socket.off("pub-one",this.socketPubOneListener),[u.USER_USER,u.USER_PUPIL].includes(vo.user.user_type)&&(vo.socket.off("comments read ".concat(this.obj_key),this.socketCommentReadListener),vo.socket.off("event",this.socketCommentUnreadListener))},watch:{}},Le=De,Be=Object(N.a)(Le,r,[function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-block-blue vo-small"},[e("p",[e("b",[t._v("Режим перегляду нових повідомлень")]),t._v(" - Ви бачите тільки нові повідомлення і тільки свої відповіді на них.")]),t._v(" "),e("p",[t._v("Вам потрібно самостійно позначати, що повідомлення прочитане. Або, у разі вашої відповіді, повідомлення буде автоматично позначене як прочитане.")])])}],!1,null,null,null);e.a=Be.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return v}));var r=10,i=20,o=Math.random,s=Math.floor,a=Math.hypot;function c(t,e){return void 0===e?t*o():t+(e-t)*o()}function l(t,e){return void 0===e&&(e=t,t=0),s(t+(e-t)*o())}function u(t,e){this.x=Number(t),this.y=Number(e)}function f(t,e){this.p1=new u(t.x,t.y),this.p2=new u(e.x,e.y)}function d(){this.type="",this.points=[]}function h(t,e){this.ts=new d,this.rs=new d,this.bs=new d,this.ls=new d,this.kx=t,this.ky=e}function p(t,e){this.pckxmin=this.pckxmax=this.pckymin=this.pckymax=t,this.pieces=[t],this.puzzle=e}function v(t){var e,n=null,r=new Promise((function(t,e){n=t,e}));return"string"==typeof t.img?(this.image=new Image,this.image.src=t.img,this.image.addEventListener("load",(e=this,function(){n(e.createPuzzle(t))}))):(this.image=t.img,n(this.createPuzzle(t))),r}u.prototype.copy=function(){return new u(this.x,this.y)},f.prototype.length=function(){var t=this.p1.x-this.p2.x,e=this.p1.y-this.p2.y;return a(t,e)},f.prototype.dx=function(){return this.p2.x-this.p1.x},f.prototype.dy=function(){return this.p2.y-this.p1.y},f.prototype.pointOnRelative=function(t){var e=this.p2.x-this.p1.x,n=this.p2.y-this.p1.y;return new u(this.p1.x+t*e,this.p1.y+t*n)},d.prototype.twist=function(t,e,n,r){var i=new f(this.points[0],this.points[1]),o=i.dx(),s=i.dy(),a=new f(t,e),c=new f(i.pointOnRelative(.5),a.pointOnRelative(.5)),l=c.dx(),d=c.dy(),h=y(5/12,1/12),p=y(4/12,.25),v=y(.5,4/12),m=y(1-4/12,.25),g=y(1-5/12,1/12);function y(t,e){return new u(i.p1.x+t*o+e*l,i.p1.y+t*s+e*d)}this.points=[i.p1,new u(i.p1.x+5/12*o*.52,i.p1.y+5/12*s*.52),new u(h.x-1/12*l*.72,h.y-1/12*d*.72),h,new u(h.x+1/12*l*.72,h.y+1/12*d*.72),new u(p.x-1/12*l*.72,p.y-1/12*d*.72),p,new u(p.x+1/12*l*.52,p.y+1/12*d*.52),new u(v.x-2/12*o*.52*n,v.y-2/12*s*.52*r),v,new u(v.x+2/12*o*.52*n,v.y+2/12*s*.52*r),new u(m.x+1/12*l*.52,m.y+1/12*d*.52),m,new u(m.x-1/12*l*.72,m.y-1/12*d*.72),new u(g.x+1/12*l*.72,g.y+1/12*d*.72),g,new u(g.x-1/12*l*.72,g.y-1/12*d*.72),new u(i.p2.x-5/12*o*.52,i.p2.y-5/12*s*.52),i.p2],this.type="z"},d.prototype.drawPath=function(t,e,n,r,i){var o;if(r)if(i||t.moveTo(this.points[this.points.length-1].x-e,this.points[this.points.length-1].y-n),"d"==this.type)t.lineTo(this.points[0].x-e,this.points[0].y-n);else for(o=this.points.length-2;o>0;o-=3)t.bezierCurveTo(this.points[o].x-e,this.points[o].y-n,this.points[o-1].x-e,this.points[o-1].y-n,this.points[o-2].x-e,this.points[o-2].y-n);else if(i||t.moveTo(this.points[0].x-e,this.points[0].y-n),"d"==this.type)t.lineTo(this.points[1].x-e,this.points[1].y-n);else for(o=1;o<this.points.length-1;o+=3)t.bezierCurveTo(this.points[o].x-e,this.points[o].y-n,this.points[o+1].x-e,this.points[o+1].y-n,this.points[o+2].x-e,this.points[o+2].y-n)},h.prototype.drawPath=function(t,e,n,r){!0!==r&&t.beginPath(),this.ts.drawPath(t,e,n,!1,!1),this.rs.drawPath(t,e,n,!1,!0),this.bs.drawPath(t,e,n,!0,!0),this.ls.drawPath(t,e,n,!0,!0)},h.prototype.createDivPiece=function(t,e,n,r){var i,o,s,a;this.theDiv=document.createElement("div"),this.theDiv.style.width=3*t.dx+"px",this.theDiv.style.height=3*t.dy+"px",this.theDiv.style.position="absolute";var c,l,f,d,h,p,m,g,y=2*(window.devicePixelRatio||1);this.theCanv=document.createElement("canvas"),this.theCanv.width=3*t.dx*y,this.theCanv.height=3*t.dy*y,this.theCanv.style.width=3*t.dx+"px",this.theCanv.style.height=3*t.dy+"px",s=t.dx*(this.kx-1),a=t.dy*(this.ky-1),(o=this.ctx=this.theCanv.getContext("2d")).scale(y,y),this.drawPath(o,s,a),o.clip(),0==this.kx?(c=0*t.dx/e+n,m=2*t.dx,h=t.dx):(c=(this.kx-1)*t.dx/e+n,m=3*t.dx,h=0),f=m/e,0==this.ky?(l=0*t.dy/e+r,g=2*t.dy,p=t.dy):(l=(this.ky-1)*t.dy/e+r,g=3*t.dy,p=0),d=g/e,(30!==t.mode||(null!==(i=t.pieceView)&&void 0!==i?i:[]).includes([this.kx,this.ky].join("-")))&&o.drawImage(t.image,c,l,f,d,h,p,m,g);var _=1,b=2;return t.dx>100&&t.dy>100?(_=2,b=5):t.dx>50&&t.dy>50&&(_=1.5,b=3),this.drawPath(o,s+_,a+_),o.lineWidth=b,o.strokeStyle="rgba(0, 0, 0, 0.3)",o.stroke(),this.drawPath(o,s-_,a-_),o.lineWidth=b,o.strokeStyle="rgba(255, 255, 255, 0.3)",o.stroke(),this.drawPath(o,s,a),this.moveTo(new u((this.kx-1)*t.dx+v.MARGIN1,(this.ky-1)*t.dy+v.MARGIN1)),this.theDiv.appendChild(this.theCanv),this.theDiv},h.prototype.createDivPiece2=function(t,e,n,r){var i,o;(o=this.ctx=t.canvMobile.getContext("2d")).save();var s,a,c=2*(window.devicePixelRatio||1);(o.scale(c,c),this.drawPath(o,0,0),o.clip(),30!==t.mode||(null!==(i=t.pieceView)&&void 0!==i?i:[]).includes([this.kx,this.ky].join("-")))&&(s=t.image.width,a=t.image.height,o.drawImage(t.image,0,0,s,a,v.MARGIN1,v.MARGIN1,t.width,t.height));var l=1,u=2;return t.dx>100&&t.dy>100?(l=2,u=5):t.dx>50&&t.dy>50&&(l=1.5,u=3),this.drawPath(o,0+l,0+l),o.lineWidth=u,o.strokeStyle="rgba(0, 0, 0, 0.3)",o.stroke(),this.drawPath(o,0-l,0-l),o.lineWidth=u,o.strokeStyle="rgba(255, 255, 255, 0.3)",o.stroke(),this.drawPath(o,0,0),o.restore(),this.theDiv},h.prototype.where=function(){return new u(parseFloat(this.theDiv.style.left),parseFloat(this.theDiv.style.top))},h.prototype.moveTo=function(t){this.theDiv.style.top=t.y+"px",this.theDiv.style.left=t.x+"px"},h.prototype.insidePiece=function(t,e){var n=getComputedStyle(this.theDiv),r=t-parseFloat(n.left),i=e-parseFloat(n.top),o=2*(window.devicePixelRatio||1);return this.ctx.isPointInPath(r*o,i*o)},p.prototype.merge=function(t){for(var e=0;e<t.pieces.length;++e)this.pieces.push(t.pieces[e]),t.pieces[e].kx<this.pckxmin.kx&&(this.pckxmin=t.pieces[e]),t.pieces[e].kx>this.pckxmax.kx&&(this.pckxmax=t.pieces[e]),t.pieces[e].ky<this.pckymin.ky&&(this.pckymin=t.pieces[e]),t.pieces[e].ky>this.pckymax.ky&&(this.pckymax=t.pieces[e]);this.moveTo(this.where()),this.pieces.sort((function(t,e){return t.ky<e.ky?-1:t.ky>e.ky?1:t.kx<e.kx?-1:t.kx>e.kx?1:0}))},p.prototype.where=function(){return this.pieces[0].where()},p.prototype.moveTo=function(t){this.pieces[0].moveTo(t);for(var e=1;e<this.pieces.length;++e)this.pieces[e].moveTo(new u(t.x+this.puzzle.dx*(this.pieces[e].kx-this.pieces[0].kx),t.y+this.puzzle.dy*(this.pieces[e].ky-this.pieces[0].ky)))},p.prototype.ifNear=function(t){for(var e,n,r=0;r<this.pieces.length;++r){e=this.pieces[r];for(var i=0;i<t.pieces.length;++i){if(n=t.pieces[i],e.kx==n.kx&&e.ky==n.ky+1&&this.puzzle.near(e,n,0,-1))return!0;if(e.kx==n.kx&&e.ky==n.ky-1&&this.puzzle.near(e,n,0,1))return!0;if(e.kx-1==n.kx&&e.ky==n.ky&&this.puzzle.near(e,n,-1,0))return!0;if(e.kx+1==n.kx&&e.ky==n.ky&&this.puzzle.near(e,n,1,0))return!0}}return!1},v.MARGIN1=5,v.prototype.createPuzzle=function(t){var e=this.image.width,n=this.image.height;this.pieceSave=t.pieceSave,this.pieceView=t.pieceView,this.pieceJoinHandler=t.pieceJoinHandler,this.npieces=t.npieces,this.mode=t.mode,this.reqHeight=t.height,this.reqWidth=t.width,this.height=this.reqHeight-2*v.MARGIN1,this.width=this.reqWidth-2*v.MARGIN1,e/n>this.width/this.height?this.height=this.width*n/e:this.width=this.height*e/n,"string"==typeof t.idiv?this.divGame=document.getElementById(t.idiv):this.divGame=t.idiv,this.divGame.style.overflow="visible",this.divGame.style.position="relative",this.divBoard||(this.divBoard=document.createElement("div"),this.divGame.appendChild(this.divBoard)),this.divBoard.style.overflow="hidden",this.divBoard.style.position="absolute",this.divBoard.style.left=0,this.divBoard.style.top=0,this.listeners=[],this.divGame.style.width=this.divBoard.style.width=this.width+2*v.MARGIN1+"px",this.divGame.style.height=this.divBoard.style.height=this.height+2*v.MARGIN1+"px",this.canvMobile||(this.canvMobile=document.createElement("canvas"),this.divBoard.appendChild(this.canvMobile));var o=2*(window.devicePixelRatio||1);if(this.canvMobile.style.visibility="visible",this.canvMobile.width=parseFloat(this.divBoard.style.width)*o,this.canvMobile.height=parseFloat(this.divBoard.style.height)*o,this.canvMobile.style.position="absolute",this.canvMobile.style.top="0px",this.canvMobile.style.left="0px",this.canvMobile.style.width=parseFloat(this.divBoard.style.width)+"px",this.canvMobile.style.height=parseFloat(this.divBoard.style.height)+"px",this.canvMobile.style.zIndex=100,this.dCoupling=10,this.mode===r){var s=this.canvMobile.getContext("2d");s.scale(o,o),s.drawImage(this.image,0,0,e,n,v.MARGIN1,v.MARGIN1,this.width,this.height)}return this.mode===i&&(this.npieces=this.npieces?this.npieces:25,this.next()),this},v.prototype.setPieceCount=function(t){this.npieces=t,this.next()},v.prototype.next=function(){var t,e,n,r,o,s,a,f=.12;this.mode===i&&(this.canvMobile.style.visibility="hidden"),this.computenxAndny(),t=this.nx,e=this.ny,this.image.width/this.image.height<(this.reqWidth-2*v.MARGIN1)/(this.reqHeight-2*v.MARGIN1)?(this.mode===i&&(this.width=(this.reqWidth-2*v.MARGIN1)/(t+2)*t,this.height=this.width/this.image.width*this.image.height,this.height>this.reqHeight-2*v.MARGIN1&&(this.height=this.reqHeight-2*v.MARGIN1,this.width=this.height*this.image.width/this.image.height)),this.freeSpace=0):(this.mode===i&&(this.height=(this.reqHeight-2*v.MARGIN1)/(e+2)*e,this.width=this.height/this.image.height*this.image.width,this.width>this.reqWidth-2*v.MARGIN1&&(this.width=this.reqWidth-2*v.MARGIN1,this.height=this.width*this.image.height/this.image.width)),this.freeSpace=1);this.height,this.width;for(this.dx=r=this.width/t,this.dy=o=this.height/e,this.dCoupling=Math.max(10,Math.min(r,o)/10);this.divBoard.firstChild;)this.divBoard.removeChild(this.divBoard.firstChild);this.divBoard.appendChild(this.canvMobile);var d=2*(window.devicePixelRatio||1);this.canvMobile.width=this.reqWidth*d,this.divGame.style.width=this.divBoard.style.width=this.canvMobile.style.width=this.reqWidth+"px",this.canvMobile.height=this.reqHeight*d,this.divGame.style.height=this.divBoard.style.height=this.canvMobile.style.height=this.reqHeight+"px";var p=[];for(a=0;a<=e;++a)for(p[a]=[],s=0;s<=t;++s)p[a][s]=new u((s+c(-.12,f))*r,(a+c(-.12,f))*o),0==s&&(p[a][s].x=0),s==t&&(p[a][s].x=this.width),0==a&&(p[a][s].y=0),a==e&&(p[a][s].y=this.height);for(this.pieces=[],a=0;a<e;++a)for(this.pieces[a]=[],s=0;s<t;++s)this.pieces[a][s]=n=new h(s,a),0==a?(n.ts.points=[p[a][s],p[a][s+1]],n.ts.type="d"):n.ts=this.pieces[a-1][s].bs,n.rs.points=[p[a][s+1],p[a+1][s+1]],n.rs.type="d",s<t-1&&(l(2)?n.rs.twist(p[a][s],p[a+1][s],.5,1):n.rs.twist(p[a][s+2],p[a+1][s+2],.5,1)),0==s?(n.ls.points=[p[a][s],p[a+1][s]],n.ls.type="d"):n.ls=this.pieces[a][s-1].rs,n.bs.points=[p[a+1][s],p[a+1][s+1]],n.bs.type="d",a<e-1&&(l(2)?n.bs.twist(p[a][s],p[a][s+1],1,.5):n.bs.twist(p[a+2][s],p[a+2][s+1],1,.5));this.associateImage()},v.prototype.associateImage=function(){var t,e,n,r,o,s,a,c,l,f,d=this;for((a=this.image.width)/(s=this.image.height)>this.width/this.height?(o=this.height/s,l=0,c=(a-this.width/o)/2):(o=this.width/a,c=0,l=(s-this.height/o)/2),this.mech={scale:o,offsx:c,offsy:l},this.polyPieces=[],e=0;e<this.ny;e++)for(t=0;t<this.nx;t++)this.mode===i?this.pieces[e][t].createDivPiece(this,o,c,l):this.pieces[e][t].createDivPiece2(this,o,c,l),this.polyPieces.push(new p(this.pieces[e][t],this));if(this.mode===i){for(function(t){for(var e,n,r=t.length-1;r>=1;--r)e=Math.floor((r+1)*Math.random()),n=t[r],t[r]=t[e],t[e]=n}(this.polyPieces),this.evaluateZIndex(),r=0;r<this.polyPieces.length;r++)for(n=0;n<this.polyPieces[r].pieces.length;n++){switch(f=this.polyPieces[r].pieces[n],this.divBoard.appendChild(f.theDiv),this.freeSpace){case 0:f.pTarget=new u(this.reqWidth-(2.25+Math.random()/4)*this.dx,Math.random()*(this.height-this.dy)-this.dy);break;case 1:f.pTarget=new u(Math.random()*(this.width-this.dx)-this.dx,this.reqHeight-(2.25+Math.random()/4)*this.dy)}this.mode===i&&(f.moveTo(new u(f.pTarget.x,f.pTarget.y)),delete f.pTarget)}if(this.pieceSave&&this.pieceSave.length){var h=function(t,e){return t=parseInt(t),e=parseInt(e),d.polyPieces.reduce((function(n,r,i){return-1!==n||-1===r.pieces.findIndex((function(n){return n.kx===t&&n.ky===e}))?n:i}),-1)};this.pieceSave.forEach((function(t){if(!(t.length<=1)){var e=h(t[0].kx,t[0].ky);-1!==e&&t.forEach((function(t){var n=h(t.kx,t.ky);if(n!==e){d.polyPieces[e];e=d.merge(n,e)}}))}})),this.evaluateZIndex(),this.pieceJoinHandlerEvent()}this.beginGame()}},v.prototype.addRemovableEventListener=function(t,e){this.divBoard.addEventListener(t,e),this.listeners.push({event:t,funct:e})},v.prototype.removeAllListeners=function(){for(var t;this.listeners.length>0;)t=this.listeners.pop(),this.divBoard.removeEventListener(t.event,t.funct)},v.prototype.launchAnimation=function(){var t;this.anim={cpt:this.mode===i?200:100},this.anim.tmr=window.setInterval((t=this,function(){t.animate()}),20)},v.prototype.animate=function(){var t,e,n,r,i;if(0==this.anim.cpt)return window.clearInterval(this.anim.tmr),delete this.anim,this.evaluateZIndex(),void this.beginGame();for(this.anim.cpt--,t=0;t<this.polyPieces.length;t++)for(e=0;e<this.polyPieces[t].pieces.length;e++)r=(n=this.polyPieces[t].pieces[e]).where(),i=n.pTarget,n.moveTo(new u((this.anim.cpt*r.x+i.x)/(this.anim.cpt+1),(this.anim.cpt*r.y+i.y)/(this.anim.cpt+1))),0==this.anim.cpt&&delete n.pTarget},v.prototype.animateEnd=function(){var t,e;if(0==this.anim.cpt)return window.clearInterval(this.anim.tmr),void delete this.anim;this.anim.cpt--,t=parseFloat(this.canvMobile.style.left),e=parseFloat(this.canvMobile.style.top),this.canvMobile.style.left=(this.anim.cpt*t+this.anim.xfin)/(this.anim.cpt+1)+"px",this.canvMobile.style.top=(this.anim.cpt*e+this.anim.yfin)/(this.anim.cpt+1)+"px"},v.prototype.merge=function(t,e){var n,r,i;for(this.polyPieces[t].merge(this.polyPieces[e]),n=this.polyPieces[t],t>e?(this.polyPieces.splice(t,1),this.polyPieces.splice(e,1)):(this.polyPieces.splice(e,1),this.polyPieces.splice(t,1)),r=n.pieces.length,i=0;i<this.polyPieces.length&&this.polyPieces[i].pieces.length>=r;i++);return this.polyPieces.splice(i,0,n),i},v.prototype.evaluateZIndex=function(){var t,e,n;for(n=1,t=0;t<this.polyPieces.length;t++)for(e=0;e<this.polyPieces[t].pieces.length;e++)this.polyPieces[t].pieces[e].theDiv.style.zIndex=n++},v.prototype.beginGame=function(){var t;this.pieceMove=!1,this.addRemovableEventListener("mousedown",(t=this,function(e){e.preventDefault();var n=[e.clientX,e.clientY],r={x:n[0],y:n[1],buttons:e.buttons,origin:"mouse"};t.mouseDownGame(r)})),this.addRemovableEventListener("mouseup",function(t){return function(e){e.preventDefault();var n=[e.clientX,e.clientY],r={x:n[0],y:n[1],buttons:e.buttons,origin:"mouse"};t.mouseUpGame(r)}}(this)),this.addRemovableEventListener("mousemove",function(t){return function(e){e.preventDefault();var n=[e.clientX,e.clientY],r={x:n[0],y:n[1],buttons:e.buttons,origin:"mouse"};t.mouseMoveGame(r)}}(this)),this.addRemovableEventListener("touchstart",function(t){return function(e){if(e.preventDefault(),1==e.touches.length){var n=[e.touches[0].clientX,e.touches[0].clientY],r={x:n[0],y:n[1],buttons:null,origin:"touch"};t.mouseDownGame(r)}}}(this)),this.addRemovableEventListener("touchend",function(t){return function(e){e.preventDefault();t.mouseUpGame({origin:"touch"})}}(this)),this.addRemovableEventListener("touchcancel",function(t){return function(e){e.preventDefault();t.mouseUpGame({origin:"touch"})}}(this)),this.addRemovableEventListener("touchmove",function(t){return function(e){if(e.preventDefault(),1==e.touches.length){var n=[e.touches[0].clientX,e.touches[0].clientY],r={x:n[0],y:n[1],buttons:null,origin:"touch"};t.mouseMoveGame(r)}}}(this))},v.prototype.mouseOffsX=function(){return this.divGame.getBoundingClientRect().left},v.prototype.mouseOffsY=function(){return this.divGame.getBoundingClientRect().top},v.prototype.mouseDownGame=function(t){"mouse"==t.origin&&1!=t.buttons||(this.pieceMove=this.lookForPiece(t),!1!==this.pieceMove&&(this.emphasize(this.pieceMove.pp),this.pieceMove.offsx=t.x-this.mouseOffsX()-parseFloat(this.canvMobile.style.left),this.pieceMove.offsy=t.y-this.mouseOffsY()-parseFloat(this.canvMobile.style.top),this.divGame.style.cursor="move"))},v.prototype.mouseUpGame=function(t){var e,n,r;if(this.divGame.style.cursor="default",!1!==this.pieceMove){var i=parseFloat(this.canvMobile.style.left),o=parseFloat(this.canvMobile.style.top);for(this.canvMobile.getContext("2d").clearRect(0,0,this.canvMobile.width,this.canvMobile.height),n=this.polyPieces[this.pieceMove.pp],e=0;e<n.pieces.length;e++)(r=n.pieces[e]).moveTo(new u(this.dx*(r.kx-1)+i,this.dy*(r.ky-1)+o)),r.theDiv.style.visibility="visible";var s=this.pieceMove.pp,a=!1,c=!1;do{for(a=!1,n=this.polyPieces[s],e=0;e<this.polyPieces.length;e++)if(e!==s&&n.ifNear(this.polyPieces[e])){s=this.merge(e,s),a=!0,c=!0;break}}while(a);if(!c){var l=this.polyPieces[s];for(this.polyPieces.splice(s,1),e=s;e<this.polyPieces.length&&this.polyPieces[e].pieces.length>=l.pieces.length;e++);this.polyPieces.splice(e,0,l)}if(this.evaluateZIndex(),this.pieceMove=!1,this.pieceJoinHandlerEvent(),!(this.polyPieces.length>1)){this.removeAllListeners();var f=this.canvMobile.getContext("2d"),d=2*(window.devicePixelRatio||1);for(f.scale(d,d),f.drawImage(this.image,this.mech.offsx,this.mech.offsy,this.width/this.mech.scale,this.height/this.mech.scale,0,0,this.width,this.height),this.anim={cpt:100,xorg:0,yorg:0,xfin:(this.reqWidth-this.dx*this.nx)/2,yfin:(this.reqHeight-this.dy*this.ny)/2},this.anim.xorg=parseFloat(this.polyPieces[0].pieces[0].theDiv.style.left)+this.dx,this.anim.yorg=parseFloat(this.polyPieces[0].pieces[0].theDiv.style.top)+this.dy,this.canvMobile.style.left=this.anim.xorg+"px",this.canvMobile.style.top=this.anim.yorg+"px",e=0;e<this.polyPieces[0].pieces.length;e++)this.polyPieces[0].pieces[e].theDiv.style.visibility="hidden";var h,p=Math.sqrt((this.anim.xorg-this.anim.xfin)*(this.anim.xorg-this.anim.xfin)+(this.anim.yorg-this.anim.yfin)*(this.anim.yorg-this.anim.yfin));this.anim.cpt=p/2,this.anim.cpt<12&&(this.anim.cpt=12),this.anim.cpt>100&&(this.anim.cpt=100),this.anim.cpt=Math.floor(this.anim.cpt),this.anim.tmr=window.setInterval((h=this,function(){h.animateEnd()}),20)}}},v.prototype.pieceJoinHandlerEvent=function(){if(this.pieceJoinHandler&&"function"==typeof this.pieceJoinHandler){var t=this.npieces-this.polyPieces.length,e=this.polyPieces.map((function(t){return t.pieces.map((function(t){return{kx:t.kx,ky:t.ky}}))}));t&&t++,this.pieceJoinHandler(this.npieces,t,e)}},v.prototype.mouseMoveGame=function(t){if(!1!==this.pieceMove)if("mouse"!=t.origin||0!=(1&t.buttons)){var e=t.x-this.mouseOffsX(),n=t.y-this.mouseOffsY();e<2&&(e=2),e>Math.floor(parseFloat(this.divBoard.style.width))-2&&(e=Math.floor(parseFloat(this.divBoard.style.width))-2),n<2&&(n=2),n>Math.floor(parseFloat(this.divBoard.style.height))-2&&(n=Math.floor(parseFloat(this.divBoard.style.height))-2),this.canvMobile.style.left=e-this.pieceMove.offsx+"px",this.canvMobile.style.top=n-this.pieceMove.offsy+"px"}else this.mouseUpGame(t)},v.prototype.lookForPiece=function(t){var e,n,r=t.x-this.mouseOffsX(),i=t.y-this.mouseOffsY();for(e=this.polyPieces.length-1;e>=0;e--)for(n=this.polyPieces[e].pieces.length-1;n>=0;n--)if(this.polyPieces[e].pieces[n].insidePiece(r,i))return{pp:e,pc:n};return!1},v.prototype.emphasize=function(t){var e,n,r,i,o=this.polyPieces[t],s=this.canvMobile.getContext("2d"),a=function(t){function e(e,n,r){var i;switch(r){case 0:n--;break;case 1:e++;break;case 2:n++;break;case 3:e--}for(i=0;i<t.length;i++)if(e==t[i].kx&&n==t[i].ky)return!0;return!1}function n(t,e,n){var r;for(r=0;r<f.length;r++)if(t==f[r].kx&&e==f[r].ky&&n==f[r].edge)return r;return!1}var r,i,o,s,a,c,l,u=[],f=[],d=[[{dkx:0,dky:0,edge:1},{dkx:1,dky:0,edge:0},{dkx:1,dky:-1,edge:3}],[{dkx:0,dky:0,edge:2},{dkx:0,dky:1,edge:1},{dkx:1,dky:1,edge:0}],[{dkx:0,dky:0,edge:3},{dkx:-1,dky:0,edge:2},{dkx:-1,dky:1,edge:1}],[{dkx:0,dky:0,edge:0},{dkx:0,dky:-1,edge:3},{dkx:-1,dky:-1,edge:2}]];for(r=0;r<t.length;r++)for(i=0;i<4;i++)e(t[r].kx,t[r].ky,i)||f.push({kx:t[r].kx,ky:t[r].ky,edge:i,kp:r});for(;f.length>0;){for(o=[],s=f[0],o.push(s),f.splice(0,1);;){for(a=0;a<3;a++)if(l=d[s.edge][a],!1!==(c=n(s.kx+l.dkx,s.ky+l.dky,l.edge))){s=f[c],o.push(s),f.splice(c,1);break}if(!1===c)break}u.push(o)}return u}(o.pieces);s.save(),s.clearRect(0,0,this.canvMobile.width,this.canvMobile.height);var c=2*(window.devicePixelRatio||1);for(s.scale(c,c),s.beginPath(),e=0;e<a.length;e++)for(n=0;n<a[e].length;n++)switch((i=a[e][n]).edge){case 0:o.pieces[i.kp].ts.drawPath(s,0,0,!1,0!=n);break;case 1:o.pieces[i.kp].rs.drawPath(s,0,0,!1,0!=n);break;case 2:o.pieces[i.kp].bs.drawPath(s,0,0,!0,0!=n);break;case 3:o.pieces[i.kp].ls.drawPath(s,0,0,!0,0!=n)}for(s.fillStyle="none",s.shadowColor="rgba(0, 0, 0, 0.5)",s.shadowBlur=4,s.shadowOffsetX=4,s.shadowOffsetY=4,s.fill(),s.clip("evenodd"),s.shadowColor="rgba(0, 0, 0, 0)",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0,s.drawImage(this.image,this.mech.offsx,this.mech.offsy,this.width/this.mech.scale,this.height/this.mech.scale,0,0,this.width,this.height),r=0;r<o.pieces.length;r++)o.pieces[r].theDiv.style.visibility="hidden";s.restore(),this.canvMobile.style.left=o.pieces[0].where().x-(o.pieces[0].kx-1)*this.dx+"px",this.canvMobile.style.top=o.pieces[0].where().y-(o.pieces[0].ky-1)*this.dy+"px",this.canvMobile.style.visibility="visible"},v.prototype.near=function(t,e,n,r){var i=t.where(),o=e.where();return!(Math.abs(i.x-o.x+n*this.dx)>this.dCoupling)&&!(Math.abs(i.y-o.y+r*this.dy)>this.dCoupling)},v.prototype.computenxAndny=function(){var t,e,n,r,i,o=this.image.width,s=this.image.height,a=this.npieces,c=1e9,l=Math.round(Math.sqrt(a*o/s)),u=Math.round(a/l);for(e=0;e<5;e++)for(r=u+e-2,t=0;t<5;t++)n=(n=(i=l+t-2)*s/r/o)+1/n-2,(n+=Math.abs(1-i*r/a))<c&&(c=n,this.nx=i,this.ny=r)}},function(t,e,n){"use strict";var r=n(1);e.a={data:function(){return{tickIntervalId:!1,tickCounter:0,asLocalDateTime:!1}},computed:{isUpdated:function(){return this.message?this.message.created_at!==this.message.updated_at:""},humanSentAt:function(){return this.message?Object(r.J)(this.message.created_at+(this.tickCounter-this.tickCounter),this.asLocalDateTime):""},sentAt:function(){if(!this.message)return"";var t=new Date(1e3*parseInt(this.message.created_at));return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString())},updatedAt:function(){if(!this.message)return"";var t=parseInt(this.message.updated_at),e=new Date(1e3*t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString())}},methods:{tickTime:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.message)return this.tickIntervalId=!1,"";var n=new Date(1e3*this.message.created_at),r=new Date,i=parseInt(((r-n)/1e3).toFixed(0)),o=Math.abs(parseInt((i/86400).toFixed(0)));o>2?this.tickIntervalId=!1:(e&&(this.tickCounter+=e),this.tickIntervalId=o>=1?setTimeout((function(){t.tickTime(1)}),36e5):i>3600?setTimeout((function(){t.tickTime(1)}),9e5):i>900?setTimeout((function(){t.tickTime(1)}),3e5):setTimeout((function(){t.tickTime(1)}),6e4))}},created:function(){this.tickTime()},beforeDestroy:function(){!1!==this.tickIntervalId&&clearInterval(this.tickIntervalId)}}},function(t,e,n){var r=n(65).f,i=n(106),o=n(55)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(13),i=n(138),o=n(46),s=n(321),a="["+s+"]",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),u=function(t,e,n){var i={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),c=i[t]=a?e(f):s[t];n&&(i[n]=c),r(r.P+r.F*a,"String",i)},f=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},function(t,e,n){"use strict";var r=n(207),i=n(41),o=n(63).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){"use strict";var r,i,o=n(63),s=n(173),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},function(t,e,n){"use strict";var r=n(112),i=n(343);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,e,n){"use strict";var r=n(827);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},function(t,e,n){"use strict";var r=n(267),i=n(113),o=n(189);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){"use strict";var r=n(48);t.exports=r([].slice)},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(68),i=n(56),o=n(101),s=n(270),a=n(472),c=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(r(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},function(t,e,n){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(63);t.exports=r.Promise},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-test-go",class:[t.options.opt_wrap_class]},[e("div",{staticClass:"v-row"},[t._t("top")],2),t._v(" "),e("div",{staticClass:"v-row"},[t._t("header"),t._v(" "),t.isTimerShowed?e("Timer",{attrs:{time_end:t.execution.time_end,second_to_notification:60}}):t._e()],2),t._v(" "),t._l(t.showedQuests,(function(n,r){return e("BaseQuest",{key:n.id,ref:"BaseQuest_".concat(n.id),refInFor:!0,attrs:{quest_store_key:t.quest_store_key(n),quest:n,quest_num:t.options.chunk_quest?t.options.quest_num:r,quest_count:t.countQuests,app_id:n.id,show_control_buttons:!1,show_save_buttons:r===t.lastQuestIdx,show_popup_on_empty_answer:!1,save_button_text:t.isWallMode?"Зберегти відповіді":"Зберегти відповідь",show_stop_button:t.options.show_stop_button},on:{"user-set-answer":function(e){return t.saveExecutionItems(n.id,e.event)},"stop-button-click":function(e){return t.$emit("stop-button-click",e)}}})})),t._v(" "),t._e()],2)};r._withStripped=!0;var i=n(54),o=n(378),s=(n(558),n(380)),a=n(35),c={name:"TestExecutionScreen",components:{Preloader:i.a,BaseQuest:o.a,Timer:s.a},props:{quests:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{id:"",is_wall_mode:0,start_mode:0}}},execution:{type:Object,default:function(){return{time_end:0}}},executionItems:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{show_stop_button:!1,opt_wrap_class:"",chunk_quest:!1,quest_num:0,count_quest:0,time_now:0}}},tes_store_key:{type:[String,Boolean],default:!1}},computed:{quest_store_key:function(){var t=this;return function(e){return t.tes_store_key?"".concat(t.tes_store_key,"-").concat(e.id):""}},lastQuestIdx:function(){return this.showedQuests.length-1},isWallMode:function(){return this.config.is_wall_mode},isTimerShowed:function(){return this.execution.time_end&&this.options.time_now&&30!==this.config.start_mode},showedQuests:function(){return this.isWallMode||this.options.chunk_quest?this.quests:void alert("Not released #1")},countQuests:function(){return this.options.chunk_quest?this.options.count_quest:this.quests.length}},methods:{clearSessionStore:function(){var t=this;this.showedQuests.forEach((function(e){return Object(a.e)(t.quest_store_key(e))}))},saveExecutionItems:function(t,e){this.isWallMode&&(t=0);var n,r,i,o,s=this.showedQuests,a=this.$refs,c={},l=[];for(n in s)r=s[n],t&&r.id!==t||(i=(i=a["BaseQuest_".concat(r.id)])[0])&&(i.isUserSetAnswer()?c[r.id]=i.getUserAnswer():l.push(parseInt(n)+1));l.length?i&&i.showWarningMsg("\n                    Потрібно вказати відповідь на запитання: ".concat(l.map((function(t){return"№".concat(t)})).join(", "),"\n                "),!1):(i&&i.showWarningMsg(!1,!1),o={id_quest:t,answers:c},this.$emit("user-set-answer",o,e))}}},l=n(0),u=Object(l.a)(c,r,[],!1,null,"772dfabc",null);e.a=u.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[t.is_init?t._t("default",null,{rating:t.rating,last_likes:t.last_likes,is_all_likes:t.is_all_likes,buttons:t.buttons,fucSetLike:t.setLike,fucIsUserLike:t.isUserLike,fucNextLikes:t.nextLikes,fucUserByLike:t.user}):e("span",{staticClass:"v-bar"})],2)};r._withStripped=!0;var i=n(5),o=n(44);function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c={name:"BaseButton",props:["obj_key"],data:function(){return{MARK_PLUS:o.c,MARK_MINUS:o.b,is_init:!1,is_all_likes:!1,last_likes:[],users:[],user_likes:[],user_limits:[],rating:null}},computed:{buttons:function(){var t=this,e={type:o.d,items:[o.c,o.b].map((function(e){return{mark:t.mark(e),is_like:t.isUserLike(e),cnt:0}}))},n=[].concat(s(this.user_likes.filter((function(t){return![o.a,o.c,o.b].includes(t.mark_id)})).map((function(e){var n,r;return{mark:t.mark(e.mark_id),is_like:!0,cnt:null!==(n=null===(r=t.user_limits.find((function(t){return t.mark_id===e.mark_id})))||void 0===r?void 0:r.count)&&void 0!==n?n:0}}))),s(this.user_limits.filter((function(e){return!t.isUserLike(e.mark_id)&&e.count>0})).map((function(e){return{mark:t.mark(e.mark_id),is_like:!1,cnt:e.count}})))).filter((function(t){return t.mark})).sort((function(t,e){return t.mark.order-e.mark.order})).reduce((function(t,e){var n=t.findIndex((function(t){return t.type===e.type}));return n<0?t.push({type:e.type,items:[e]}):t[n].items.push(e),t}),[]).sort((function(t,e){return t.type-e.type}));return[e].concat(s(n))}},methods:{mark:function(t){return vo.like_marks.find((function(e){return e.id===t}))},user:function(t){return this.users.find((function(e){return e.user_type===t.user_type&&e.user_id===t.user_id}))},isUserLike:function(t){return this.user_likes.findIndex((function(e){return e.mark_id===t}))>=0},setLike:function(t,e){var n=this.isUserLike(e)?0:1;vo.ajaxPromise(t,vo.url_like+"/ext/web/set-like",{obj_key:this.obj_key,mark_id:e,is_set:n}).catch((function(t){return vo.popup.errorByResponse(t)})),this.$emit("like-dislike")},setData:function(t){var e=this,n=t.last_likes,r=void 0===n?[]:n,i=t.users,o=void 0===i?[]:i,s=t.user_likes,a=void 0===s?[]:s,c=t.user_limits,l=void 0===c?null:c,u=t.rating,f=void 0===u?null:u;r.forEach((function(t){var n=e.last_likes.findIndex((function(e){return e.id===t.id}));n<0?e.last_likes.push(t):e.last_likes.splice(n,1,t)})),this.last_likes=this.last_likes.sort((function(t,e){return e.created_at-t.created_at})),o.forEach((function(t){var n=e.users.findIndex((function(e){return e.user_key===t.user_key}));n<0?e.users.push(t):e.users.splice(n,1,t)})),a.forEach((function(t){var n=e.user_likes.findIndex((function(e){return e.mark_id===t.mark_id}));n<0?e.user_likes.push(t):e.user_likes.splice(n,1,t)})),null!==l&&(this.user_limits=l),null!==f&&(this.rating=f)},nextLikes:function(t){var e=this,n=this.last_likes.length?Math.min.apply(Math,s(this.last_likes.map((function(t){return t.created_at})))):0,r=n?Math.min.apply(Math,s(this.last_likes.filter((function(t){return t.created_at===n})).map((function(t){return t.id})))):0;vo.ajaxPromise(t,vo.url_like+"/ext/web/next-likes",{obj_key:this.obj_key,min_like_at:n,min_like_id:r}).then((function(t){var n=e.last_likes.length;e.setData(t),e.is_all_likes=n===e.last_likes.length})).catch((function(t){return vo.popup.errorByResponse(t)}))},socketLikeRatingListener:function(t){var e=t.obj,n=t.user,r=t.mark,i=(t.like,t.is_set),o=t.rating;if(this.obj_key===e.obj_key){if(this.user_likes=this.user_likes.filter((function(t){return n.user_key!==vo.user.user_key||(i?t.mark_type!==r.type:t.mark_id!==r.id)})),i&&n.user_key===vo.user.user_key){var s=this.user_limits.find((function(t){return t.mark_id===r.id}));s&&this.$set(s,"count",s.count-1)}this.setData({users:[n],user_likes:vo.user.user_key===n.user_key&&i?[{mark_id:r.id,mark_type:r.type}]:[],rating:o})}}},mounted:function(){var t=this;vo.ajaxPromise(null,vo.url_like+"/ext/web/init",{obj_key:this.obj_key}).then((function(e){t.setData(e),t.is_init=!0,vo.socket.emit("object join",t.obj_key.split(i.DELIMITER_OBJ_KEY)),vo.socket.on("like-rating",t.socketLikeRatingListener)})).catch((function(t){return vo.popup.errorByResponse(t)}))},destroyed:function(){vo.socket.off("like-rating",this.socketLikeRatingListener)}},l=n(0),u=Object(l.a)(c,r,[],!1,null,"eef8c294",null);e.a=u.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-modal-category"},[e("span",{staticClass:"vo-color-white n-j-modal-title"},[t._v('\n    Можливо Ви мали на увазі не "'),e("strong",[t._v(t._s(t.title))]),t._v('", а:\n  ')]),t._v(" "),e("hr"),t._v(" "),e("ul",t._l(t.categories,(function(n){return e("li",{on:{click:function(e){return t.$emit("select-from-list",n.title)}}},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}]},[t._v(t._s(n.title))])])})),0),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"n-modal-cat-btn-wrap"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-blue-button n-green",on:{click:function(e){return t.$emit("create-new",t.title)}}},[t._v("Я вказав(ла) правильну назву")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-blue-button",on:{click:function(e){return t.$emit("close",e)}}},[t._v("Змінити назву")])])])};r._withStripped=!0;var i={name:"maybe-proposition",props:["categories","title"]},o=n(0),s=Object(o.a)(i,r,[],!1,null,"6ca5ceee",null);e.a=s.exports},function(t,e,n){"use strict";function r(t){return t+"/"+(parseInt(t)+1)+" н.р."}function i(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=vo.classes.find((function(e){return e.num==t}));return n?e?"(".concat(n.title,")"):n.title:""}function o(t){if(!t)return!1;var e=t.trim().match(/^(\d+)/);if(e){if(0===e[1].indexOf("0"))return!1;var n=parseInt(e[1],10);if(n>=1&&n<=12)return n}return!1}function s(t){if(!t)return null;var e=t.class,n=t.title;if(!1===o(n)||e<0||e>=11)return{title:n,class:0};var r=e+1;return{title:n.trim().replace(/^(\d+)/,r),class:r}}n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}))},,function(t,e,n){"use strict";var r=n(18),i=n(12),o=n(387);r.a.use(i.b);e.a=new i.b.Store({strict:!1,modules:{Comments:o.a}})},,function(t,e,n){var r=n(95),i=n(40),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(166)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(128);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(168),i=n(55)("iterator"),o=n(183);t.exports=n(95).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(36);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(36),i=n(89),o=n(55)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(41);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,e,n){"use strict";var r=n(153),i=n(48);t.exports=function(t){if("Function"===r(t))return i(t)}},function(t,e,n){"use strict";var r=n(90),i=n(56),o=n(50),s=n(452),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},function(t,e,n){"use strict";var r=n(209),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){"use strict";var r=n(41),i=n(60),o=n(207),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(461),i=n(350);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";(function(e){var r=n(153);t.exports=void 0!==e&&"process"==r(e)}).call(this,n(439))},function(t,e,n){"use strict";var r=n(63),i=n(215),o=n(56),s=n(454),a=n(456),c=n(60),l=n(1011),u=n(505),f=n(112),d=n(207),h=i&&i.prototype,p=c("species"),v=!1,m=o(r.PromiseRejectionEvent),g=s("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===d)return!0;if(f&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(v=n.then((function(){}))instanceof r))return!0}return!e&&(l||u)&&!m}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:v}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n(18),i=n(393),o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"t-teg-bloc-dostup"},[t._l(t.folders,(function(n){return e("ListItem",{key:n.id,attrs:{folder:n,emulate_lib_type:t.emulate_lib_type}})})),t._v(" "),e("span",{staticClass:"t-teg-dodat",on:{click:t.dlgManager}},[e("span",{staticClass:"vo-noselect"},[t._v(" Менеджер тек")])])],2)])};o._withStripped=!0;var s=n(136),a=n(105),c=n(1),l=n(12);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"UserLibWidget",props:["emulate_lib_type"],components:{ListItem:s.a},computed:d(d({},Object(l.c)("Folder",["getFoldersByObjType"])),{},{folders:function(){return this.getFoldersByObjType(this.emulate_lib_type)}}),methods:{dlgManager:function(){Object(c.hb)(a.d,{store:this.$store})}},mounted:function(){this.dlgManager()}},v=n(0),m=Object(v.a)(p,o,[],!1,null,"5a193421",null).exports,g=n(299);r.a.use(l.b);var y=new l.b.Store({strict:!1,modules:{Folder:g.a}}),_=n(5);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){var n;return((w(n={},_.OBJ_TYPE_LIBRARY,"/user/id".concat(vo.user_id,"/library")),w(n,_.OBJ_TYPE_TEST,"/user/id".concat(vo.user_id,"/test")),w(n,_.OBJ_TYPE_LESSON,"/user/id".concat(vo.user_id,"/lesson")),w(n,_.OBJ_TYPE_WEBQUEST,"/user/id".concat(vo.user_id,"/webquest")),w(n,_.OBJ_TYPE_BLOG,"/user/id".concat(vo.user_id,"/blog")),n)[t]||"/user/id".concat(vo.user_id))+"?id_folder="+e}window.selectFolderWidget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};new r.a({el:t,render:function(t){return t(i.a,{props:e})},store:y})},window.userLibWidget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;y.dispatch("Folder/init",n).then((function(){new r.a({el:t,render:function(t){return t(m,{props:e})},store:y})}))}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container key_login"},[t.is_update?e("span",{staticClass:"v-bar"}):e("div",{staticClass:"key_login__container"},["sign-up"===t.$route.name&&t.referral?e("div",{staticClass:"key_frendly clear"},[e("p",[e("img",{attrs:{src:t.referral.avatar}}),t._v(" "),e("b",[t._v("Вас запрошує:")]),t._v(" "),e("br"),t._v(t._s(t.referral.full_name)+"\n            ")])]):t._e(),t._v(" "),e("div",{staticClass:"key_login__header"},[t._m(0),t._v(" "),t.isTopMenu?[e("router-link",{staticClass:"key_login__header_link",class:{key_login__header_link_active:"sign-in"===t.$route.name},attrs:{to:{name:"sign-in"}}},[t._v("Вхід")]),t._v(" "),e("router-link",{staticClass:"key_login__header_link",class:{key_login__header_link_active:"sign-up"===t.$route.name},attrs:{to:{name:"sign-up"}}},[t._v("Реєстрація")])]:t._e(),t._v(" "),"sign-in"===t.$route.name&&t.auth?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Авторизація")]):t._e(),t._v(" "),"restore"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Відновлення пароля")]):t._e(),t._v(" "),"sign-oauth"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Авторизація через "+t._s(t.provider))]):t._e(),t._v(" "),"sign-confirm"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Підтвердження")]):t._e(),t._v(" "),"auth-contact"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Контактні дані")]):t._e(),t._v(" "),"auth-check"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Додаткова перевірка")]):t._e(),t._v(" "),"authorized"===t.$route.name?e("div",{staticClass:"key_login__header_link key_login__header_link_active"},[t._v("Авторизовано")]):t._e()],2),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)])};r._withStripped=!0;var i=n(18),o=n(12),s=n(49),a=n(121);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={is_init_auth:!1,is_update:!0,is_update_provider:!0,login:{email:"",password:""},registration:{full_name:"",email:"",phone:"",password:"",type:a.a},oauth:{provider:"",full_name:"",email:"",phone:"",type:a.a},provider:"",profile:{avatar:"",full_name:"",email:"",phone:""},profileVo:null,auth:!1,authStatus:null,authProvider:-1,authProfileAdd:{email:"",phone:""},authProfile:{avatar:"",full_name:""},restore_msg:"",errorSummary:"",addFields:[],copyFields:[],glueIds:[]},d={namespaced:!0,state:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},f)},getters:{authProfileCheck:function(t){var e="email"in t.authProfile&&[s.h,s.i].includes(t.authStatus)?t.authProfile.email:"",n="phone"in t.authProfile&&[s.h,s.j].includes(t.authStatus)?t.authProfile.phone:"";return Object.assign({},t.authProfile,{email:e,phone:n})}},mutations:{RESET_STATE:function(t){Object.assign(t,f)},initAuth:function(t){t.is_init_auth=!0,t.is_update=!1},isInitAuth:function(t,e){t.is_init_auth=!!e},isUpdate:function(t,e){t.is_update=e},restoreMsg:function(t,e){t.restore_msg=e},login:function(t,e){t.login=Object.assign({},t.login,e)},registration:function(t,e){t.registration=Object.assign({},t.registration,e)},oauth:function(t,e){t.oauth=Object.assign({},t.oauth,e,{provider:t.provider})},profile:function(t,e){t.profile=Object.assign({},t.profile,e)},profileVo:function(t,e){t.profileVo=e},provider:function(t,e){t.provider=e},errorSummary:function(t,e){t.errorSummary=e},addFields:function(t,e){t.addFields=e},copyFields:function(t,e){t.copyFields=e},glueIds:function(t,e){t.glueIds=e},authProfileAdd:function(t,e){t.authProfileAdd=Object.assign({},t.authProfileAdd,e)},auth:function(t,e){"auth"in e&&(t.auth=e.auth),e.auth?("authStatus"in e&&(t.authStatus=parseInt(e.authStatus)),"authProfile"in e&&(t.authProfile=e.authProfile),"authProvider"in e&&(t.authProvider=parseInt(e.authProvider))):(t.authStatus=0,t.authProfile={avatar:"",full_name:""})}},actions:{initAuth:function(t){var e=t.commit;return vo.ajaxQueueMain(null,"auth/init-access",{}).then((function(t){"auth"in t&&e("auth",t),e("initAuth")})).catch((function(t){vo.popup.errorByResponse(t,!1)}))},signOauth:function(t,e){var n=t.commit,r=t.state,i=e.form,o=e.event;return n("oauth",null!=i?i:{}),h(n,o,"auth/sign-oauth",r.oauth)},signUp:function(t,e){var n=t.commit,r=(t.dispatch,e.form),i=e.event;return n("registration",r),h(n,i,"auth/sign-up",r)},signConfirm:function(t,e){var n=t.commit,r=(t.dispatch,e.form),i=e.routeName,o=e.confirm;return h(n,e.event,"auth/sign-confirm",{routeName:i,form:r,confirm:o})},signIn:function(t,e){var n=t.commit,r=(t.dispatch,e.login),i=e.event;return n("login",r),h(n,i,"auth/sign-in",r)},signOut:function(t,e){var n=t.commit,r=(t.dispatch,e.event);return n("RESET_STATE"),n("initAuth"),h(n,r,"auth/sign-out",{})},authContact:function(t,e){var n=t.commit,r=(t.dispatch,e.form),i=e.event;return n("authProfileAdd",r),h(n,i,"auth/auth-contact",r)},authCheck:function(t,e){var n=t.commit;t.dispatch;return h(n,e.event,"auth/auth-check",{})},restore:function(t,e){var n=t.commit,r=(t.dispatch,e.email),i=e.event;return n("login",{email:r,password:""}),h(n,i,"auth/restore",{email:r})}}};function h(t,e,n,r){return new Promise((function(i,o){vo.ajaxQueueMain(e,n,r).then((function(e){if("errorSummary"in e)return t("errorSummary",e.errorSummary),void o(e.errorSummary);t("errorSummary",""),t("isUpdate",!1),"profile"in e&&t("profile",e.profile),"profileVo"in e&&t("profileVo",e.profileVo),"addFields"in e&&t("addFields",e.addFields),"copyFields"in e&&t("copyFields",e.copyFields),"glueIds"in e&&t("glueIds",e.glueIds),"auth"in e?t("auth",e):i(e)})).catch((function(e){t("isUpdate",!1),t("errorSummary",e.responseJSON.message),o(e.responseJSON.message)}))}))}i.a.use(o.b);var p=new o.b.Store({strict:!1,modules:{Auth:d}}),v=n(75);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=Object(o.a)("Auth").mapState,w={name:"auth",store:p,mixins:[v.b],props:{routeName:String,referral:Object,oAuth:{type:String,default:null}},computed:y(y({},b(["is_update","provider","auth","authStatus"])),{},{isTopMenu:function(){return!this.$route.name||!this.auth&&["sign-in","sign-up"].includes(this.$route.name)}}),watch:{authStatus:function(t,e){var n=this.routeName?this.routeName:"sign-in";switch(t){case s.k:n=this.auth?"sign-in":n;break;case s.d:case s.e:case s.f:n="auth-contact";break;case s.h:case s.i:case s.j:n="auth-check";break;case s.g:n="authorized",vo.auth.userAuth()}n!==this.$route.name&&this.$router.push({name:n})}},methods:{reload:function(){location.reload()}},mounted:function(){var t=this;this.$store.dispatch("Auth/initAuth").then((function(e){null!==t.oAuth&&(t.$store.commit("Auth/isUpdate",!0),t.$store.commit("Auth/provider",t.oAuth),vo.auth.closeAuthWindow())})),this.routeName&&this.routeName!==this.$route.name&&this.$router.push({name:this.routeName})},created:function(){window.addEventListener("userAuth",this.reload)},destroyed:function(){window.removeEventListener("userAuth",this.reload),this.$router.replace({path:"/"})}},k=(n(1177),n(0)),x=Object(k.a)(w,r,[function(){var t=this._self._c;return t("div",{staticClass:"key_login__lock"},[t("i")])}],!1,null,"63bbad64",null);e.a=x.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-input-category n-icon__predmet",attrs:{id:t.iWidgetContainerId}},[!1!==t.label?e("label",{staticClass:"vo-form-label vo-mb05",attrs:{for:t.iInputId}},[t._v(t._s(t.iLabel))]):t._e(),t._v(" "),e("div",{staticClass:"n-input-category__input-con"},[e("i",{staticClass:"n-top__icon n-icon-l",class:[t.activeCategory?t.activeCategory.icon:""]}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"vo-input",attrs:{type:"text",autocomplete:"off",id:t.iInputId,placeholder:t.placeholder},domProps:{value:t.title},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pressEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.keyNavigation(1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.keyNavigation(-1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.showSelectToggle(e)}],input:[function(e){e.target.composing||(t.title=e.target.value)},function(e){return t.showSelect(e.target.value)}],click:function(e){return t.showSelectToggle(e)},blur:function(e){return t.createOnBlur(e)},mousedown:function(e){return t.checkLogin(e)}}}),t._v(" "),e("i",{staticClass:"n-category-input-delete",attrs:{id:t.iClearId},on:{mousedown:function(e){return e.stopPropagation(),t.setTitleFromList("")}}},[e("span",[t._v("+")])])]),t._v(" "),e("ul",{ref:"autocomplete",staticClass:"js-autocomplete vr-filtered-list",attrs:{id:t.iSelectId}},[t.filteredList.length?e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[e("strong",[t._v("Знайдено "+t._s(t._f("plural")(t.filteredList.length,["{n} запис","{n} записи","{n} записів"]))+":")])]):t.maybeSearchingList.length?e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[e("strong",[t._v("Можливо Ви маєте на увазі:")])]):e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("Буде додано новий предмет: "),e("strong",[t._v(t._s(t.title))])]),t._v(" "),t._l(t.categoriesList,(function(n){return e("li",{staticClass:"rk-filtered-item",class:{"n-active":t.activeCategory&&n.id===t.activeCategory.id},domProps:{innerHTML:t._s((n.icon?"<i class='".concat(n.icon,"'></i> "):"")+(t.isActiveId(n.id)?n.title:t.highlightString(n.title))+(n.id_user?"<i class='v-icon v-icon-user pull-right'></i>":""))},on:{mousedown:function(e){return t.selectClickedNode(e,n.title)}}})}))],2)])};r._withStripped=!0;var i=n(286).a,o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-avatar-wrap vertical-start"},[e(t.url?"a":"span",{tag:"component",attrs:{href:t.url}},[e("img",{class:["vo-avatar-".concat(t.a_size)],attrs:{src:t._f("avatarUrl")(t.userDataProxy,t.a_size,t.a_size),alt:""}})]),t._v(" "),e("div",{staticClass:"vo-avatar-text"},[e(t.url?"a":"span",{tag:"component",attrs:{href:t.url}},[e("p",{staticClass:"vo-link-blue vo-weight-700"},[t._v("\n                "+t._s(t.full_name)+"\n            ")])]),t._v(" "),e("p",{staticClass:"vo-link-silver vo-mt05"},[t.id_user&&!t.hideId?[t._v("ID-код: "+t._s(t.id_user))]:t._e(),t._v(" "),t._t("buttons-after-id")],2)],1)],1)};r._withStripped=!0;var i=n(1),o={name:"UserDataView",props:["userData","hideId","avatarSize"],filters:{avatarUrl:i.f},computed:{userDataProxy:function(){return Object(i.F)(this.userData)},id_user:function(){return this.userDataProxy.id_user},full_name:function(){return this.userDataProxy.full_name},url:function(){return this.userDataProxy.url},a_size:function(){return this.avatarSize?parseInt(this.avatarSize):30}}},s=n(0),a=Object(s.a)(o,r,[],!1,null,"668a5440",null);e.a=a.exports},function(t,e,n){"use strict";var r=n(92);e.a={data:function(){return{marks:JSON.parse(JSON.stringify(r.p))}},methods:{getMarkDesc:r.j,getMarkDescV2:r.k}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-reaction"},[e("base-view",{attrs:{obj_key:t.obj_key,like_json:t.like_json},scopedSlots:t._u([{key:"default",fn:function(n){n.rating;var r=n.cnt_minus,i=n.cnt_plus,o=n.is_heart,s=(n.heart_user,n.cnt_marks);n.last_users,n.fucSetLike;return[e("div",{staticClass:"vo-reaction_static-block"},[e("div",{staticClass:"vo-reaction_row flex-wrap xy-gap y-center"},[e("div",{staticClass:"vo-reaction_row x-gap y-center"},[!t.is_heart_user_local&&o?[e("span",{staticClass:"reaction_heart-item",attrs:{title:t.mark(t.MARK_HEART).title}},[e("i",{class:[t.className(t.MARK_HEART),"i-1 st2 default-elem"]})])]:t._e(),t._v(" "),e("div",{staticClass:"vo-reaction_row x-gap"},[e("div",{staticClass:"vo-reaction_row flex-wrap xy-gap"},[e("div",{staticClass:"vo-reaction_row xy-gap"},[e("span",{staticClass:"reaction-buttons type-static",attrs:{title:t.mark(t.MARK_PLUS).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_PLUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                            "+t._s(i)+"\n                                        ")])])]),t._v(" "),e("span",{staticClass:"reaction-buttons type-static",attrs:{title:t.mark(t.MARK_MINUS).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_MINUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                           "+t._s(r)+"\n                                        ")])])])]),t._v(" "),t._l(s,(function(n){return e("span",{staticClass:"reaction-buttons type-static",attrs:{title:t.mark(n.id).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(n.id)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                    "+t._s(n.cnt)+"\n                                    ")])])])}))],2)])],2)])])]}}])})],1)};r._withStripped=!0;var i=n(5),o=n(217),s=n(306),a=n(44),c={name:"LikeStatic",components:{BaseView:s.a,BaseButton:o.a},props:["obj_key","like_json","owner_user"],data:function(){return{MARK_HEART:a.a,MARK_PLUS:a.c,MARK_MINUS:a.b,heart_user:i.NULL_USER_KEY}},computed:{is_owner_user_local:function(){return this.owner_user===vo.user.user_key&&vo.user.user_key!==i.NULL_USER_KEY},is_heart_user_local:function(){return this.heart_user===vo.user.user_key&&vo.user.user_key!==i.NULL_USER_KEY}},methods:{className:function(t){return"reaction-i i-".concat(t)},mark:function(t){return vo.like_marks.find((function(e){return e.id===t}))}},mounted:function(){}},l=n(0),u=Object(l.a)(c,r,[],!1,null,"402e5383",null);e.a=u.exports},function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}n.d(e,"a",(function(){return Yt}));var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,a=function(t){return encodeURIComponent(t).replace(i,o).replace(s,",")};function c(t){try{return decodeURIComponent(t)}catch(t){0}return t}var l=function(t){return null==t||"object"==typeof t?t:String(t)};function u(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function f(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return a(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(a(e)):r.push(a(e)+"="+a(t)))})),r.join("&")}return a(e)+"="+a(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function h(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=p(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:g(e,i),matched:t?m(t):[]};return n&&(s.redirectedFrom=g(n,i)),Object.freeze(s)}function p(t){if(Array.isArray(t))return t.map(p);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=p(t[n]);return e}return t}var v=h(null,{path:"/"});function m(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function g(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=""),(n||"/")+(e||f)(r)+i}function y(t,e,n){return e===v?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&_(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&_(t.query,e.query)&&_(t.params,e.params))))}function _(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n];if(r[i]!==n)return!1;var s=e[n];return null==o||null==s?o===s:"object"==typeof o&&"object"==typeof s?_(o,s):String(o)===String(s)}))}function b(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var w={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,s=e.data;s.routerView=!0;for(var a=o.$createElement,c=n.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),f=0,d=!1;o&&o._routerRoot!==o;){var h=o.$vnode?o.$vnode.data:{};h.routerView&&f++,h.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(s.routerViewDepth=f,d){var p=u[c],v=p&&p.component;return v?(p.configProps&&k(v,s,p.route,p.configProps),a(v,s,i)):a()}var m=l.matched[f],g=m&&m.components[c];if(!m||!g)return u[c]=null,a();u[c]={component:g},s.registerRouteInstance=function(t,e){var n=m.instances[c];(e&&n!==t||!e&&n===t)&&(m.instances[c]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){m.instances[c]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==m.instances[c]&&(m.instances[c]=t.componentInstance),b(l)};var y=m.props&&m.props[c];return y&&(r(u[c],{route:l,configProps:y}),k(g,s,l,y)),a(g,s,i)}};function k(t,e,n,i){var o=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}(n,i);if(o){o=e.props=r({},o);var s=e.attrs=e.attrs||{};for(var a in o)t.props&&a in t.props||(s[a]=o[a],delete o[a])}}function x(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function S(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var C=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},O=F,E=M,P=function(t,e){return N(M(t,e),e)},A=N,T=$,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(t,e){for(var n,r=[],i=0,o=0,s="",a=e&&e.delimiter||"/";null!=(n=j.exec(t));){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(o,u),o=u+c.length,l)s+=l[1];else{var f=t[o],d=n[2],h=n[3],p=n[4],v=n[5],m=n[6],g=n[7];s&&(r.push(s),s="");var y=null!=d&&null!=f&&f!==d,_="+"===m||"*"===m,b="?"===m||"*"===m,w=n[2]||a,k=p||v;r.push({name:h||i++,prefix:d||"",delimiter:w,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:k?D(k):g?".*":"[^"+R(w)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&r.push(s),r}function I(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function N(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",B(e)));return function(e,r){for(var i="",o=e||{},s=(r||{}).pretty?I:encodeURIComponent,a=0;a<t.length;a++){var c=t[a];if("string"!=typeof c){var l,u=o[c.name];if(null==u){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(C(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<u.length;f++){if(l=s(u[f]),!n[a].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):s(u),!n[a].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function R(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function D(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function L(t,e){return t.keys=e,t}function B(t){return t&&t.sensitive?"":"i"}function $(t,e,n){C(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)o+=R(a);else{var c=R(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),o+=l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=R(n.delimiter||"/"),f=o.slice(-u.length)===u;return r||(o=(f?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+u+"|$)",L(new RegExp("^"+o,B(n)),e)}function F(t,e,n){return C(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return L(t,e)}(t,e):C(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(F(t[i],e,n).source);return L(new RegExp("(?:"+r.join("|")+")",B(n)),e)}(t,e,n):function(t,e,n){return $(M(t,n),e,n)}(t,e,n)}O.parse=E,O.compile=P,O.tokensToFunction=A,O.tokensToRegExp=T;var q=Object.create(null);function U(t,e,n){e=e||{};try{var r=q[t]||(q[t]=O.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function V(t,e,n,i){var o="string"==typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){var s=(o=r({},t)).params;return s&&"object"==typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&e){(o=r({},o))._normalized=!0;var a=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=a;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;o.path=U(c,a,e.path)}else 0;return o}var f=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(o.path||""),d=e&&e.path||"/",h=f.path?x(f.path,d,n||o.append):d,p=function(t,e,n){void 0===e&&(e={});var r,i=n||u;try{r=i(t||"")}catch(t){r={}}for(var o in e){var s=e[o];r[o]=Array.isArray(s)?s.map(l):l(s)}return r}(f.query,o.query,i&&i.options.parseQuery),v=o.hash||f.hash;return v&&"#"!==v.charAt(0)&&(v="#"+v),{_normalized:!0,path:h,query:p,hash:v}}var z,H=function(){},W={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),s=o.location,a=o.route,c=o.href,l={},u=n.options.linkActiveClass,f=n.options.linkExactActiveClass,p=null==u?"router-link-active":u,v=null==f?"router-link-exact-active":f,m=null==this.activeClass?p:this.activeClass,g=null==this.exactActiveClass?v:this.exactActiveClass,_=a.redirectedFrom?h(null,V(a.redirectedFrom),null,n):a;l[g]=y(i,_,this.exactPath),l[m]=this.exact||this.exactPath?l[g]:function(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(i,_);var b=l[g]?this.ariaCurrentValue:null,w=function(t){Y(t)&&(e.replace?n.replace(s,H):n.push(s,H))},k={click:Y};Array.isArray(this.event)?this.event.forEach((function(t){k[t]=w})):k[this.event]=w;var x={class:l},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:w,isActive:l[m],isExactActive:l[g]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)x.on=k,x.attrs={href:c,"aria-current":b};else{var C=G(this.$slots.default);if(C){C.isStatic=!1;var O=C.data=r({},C.data);for(var E in O.on=O.on||{},O.on){var P=O.on[E];E in k&&(O.on[E]=Array.isArray(P)?P:[P])}for(var A in k)A in O.on?O.on[A].push(k[A]):O.on[A]=w;var T=C.data.attrs=r({},C.data.attrs);T.href=c,T["aria-current"]=b}else x.on=k}return t(this.tag,x,this.$slots.default)}};function Y(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function G(t){if(t)for(var e,n=0;n<t.length;n++){if("a"===(e=t[n]).tag)return e;if(e.children&&(e=G(e.children)))return e}}var J="undefined"!=typeof window;function K(t,e,n,r,i){var o=e||[],s=n||Object.create(null),a=r||Object.create(null);t.forEach((function(t){Q(o,s,a,t,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:s,nameMap:a}}function Q(t,e,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},l=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return S(e.path+"/"+t)}(s,i,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:l,regex:X(l,c),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?S(o+"/"+r.path):void 0;Q(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],d=0;d<f.length;++d){0;var h={path:f[d],children:r.children};Q(t,e,n,h,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function X(t,e){return O(t,[],e)}function Z(t,e){var n=K(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(t,n,s){var a=V(t,n,!1,e),l=a.name;if(l){var u=o[l];if(!u)return c(null,a);var f=u.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!=typeof a.params&&(a.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in a.params)&&f.indexOf(d)>-1&&(a.params[d]=n.params[d]);return a.path=U(u.path,a.params),c(u,a,s)}if(a.path){a.params={};for(var h=0;h<r.length;h++){var p=r[h],v=i[p];if(tt(v.regex,a.path,a.params))return c(v,a,s)}}return c(null,a)}function a(t,n){var r=t.redirect,i="function"==typeof r?r(h(t,n,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return c(null,n);var a=i,l=a.name,u=a.path,f=n.query,d=n.hash,p=n.params;if(f=a.hasOwnProperty("query")?a.query:f,d=a.hasOwnProperty("hash")?a.hash:d,p=a.hasOwnProperty("params")?a.params:p,l){o[l];return s({_normalized:!0,name:l,query:f,hash:d,params:p},void 0,n)}if(u){var v=function(t,e){return x(t,e.parent?e.parent.path:"/",!0)}(u,t);return s({_normalized:!0,path:U(v,p),query:f,hash:d},void 0,n)}return c(null,n)}function c(t,n,r){return t&&t.redirect?a(t,r||n):t&&t.matchAs?function(t,e,n){var r=s({_normalized:!0,path:U(n,e.params)});if(r){var i=r.matched,o=i[i.length-1];return e.params=r.params,c(o,e)}return c(null,e)}(0,n,t.matchAs):h(t,n,r,e)}return{match:s,addRoute:function(t,e){var n="object"!=typeof t?o[t]:void 0;K([e||t],r,i,o,n),n&&n.alias.length&&K(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)},getRoutes:function(){return r.map((function(t){return i[t]}))},addRoutes:function(t){K(t,r,i,o)}}}function tt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=t.keys[i-1];s&&(n[s.name||"pathMatch"]="string"==typeof r[i]?c(r[i]):r[i])}return!0}var et=J&&window.performance&&window.performance.now?window.performance:Date;function nt(){return et.now().toFixed(3)}var rt=nt();function it(){return rt}function ot(t){return rt=t}var st=Object.create(null);function at(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=it(),window.history.replaceState(n,"",e),window.addEventListener("popstate",ut),function(){window.removeEventListener("popstate",ut)}}function ct(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=function(){var t=it();if(t)return st[t]}(),s=i.call(t,e,n,r?o:null);s&&("function"==typeof s.then?s.then((function(t){vt(t,o)})).catch((function(t){0})):vt(s,o))}))}}function lt(){var t=it();t&&(st[t]={x:window.pageXOffset,y:window.pageYOffset})}function ut(t){lt(),t.state&&t.state.key&&ot(t.state.key)}function ft(t){return ht(t.x)||ht(t.y)}function dt(t){return{x:ht(t.x)?t.x:window.pageXOffset,y:ht(t.y)?t.y:window.pageYOffset}}function ht(t){return"number"==typeof t}var pt=/^#\d/;function vt(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=pt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,o={x:ht((n=o).x)?n.x:0,y:ht(n.y)?n.y:0})}else ft(t)&&(e=dt(t))}else r&&ft(t)&&(e=dt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var mt,gt=J&&((-1===(mt=window.navigator.userAgent).indexOf("Android 2.")&&-1===mt.indexOf("Android 4.0")||-1===mt.indexOf("Mobile Safari")||-1!==mt.indexOf("Chrome")||-1!==mt.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function yt(t,e){lt();var n=window.history;try{if(e){var i=r({},n.state);i.key=it(),n.replaceState(i,"",t)}else n.pushState({key:ot(nt())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function _t(t){yt(t,!0)}var bt={redirected:2,aborted:4,cancelled:8,duplicated:16};function wt(t,e){return xt(t,e,bt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return St.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function kt(t,e){return xt(t,e,bt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function xt(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var St=["params","query","hash"];function Ct(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Ot(t,e){return Ct(t)&&t._isRouter&&(null==e||t.type===e)}function Et(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Pt(t){return function(e,n,r){var i=!1,o=0,s=null;At(t,(function(t,e,n,a){if("function"==typeof t&&void 0===t.cid){i=!0,o++;var c,l=Mt((function(e){var i;((i=e).__esModule||jt&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:z.extend(e),n.components[a]=e,--o<=0&&r()})),u=Mt((function(t){var e="Failed to resolve async component "+a+": "+t;s||(s=Ct(t)?t:new Error(e),r(s))}));try{c=t(l,u)}catch(t){u(t)}if(c)if("function"==typeof c.then)c.then(l,u);else{var f=c.component;f&&"function"==typeof f.then&&f.then(l,u)}}})),i||r()}}function At(t,e){return Tt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Tt(t){return Array.prototype.concat.apply([],t)}var jt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Mt(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var It=function(t,e){this.router=t,this.base=function(t){if(!t)if(J){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=v,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Nt(t,e,n,r){var i=At(t,(function(t,r,i,o){var s=function(t,e){"function"!=typeof t&&(t=z.extend(t));return t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,o)})):n(s,r,i,o)}));return Tt(r?i.reverse():i)}function Rt(t,e){if(e)return function(){return t.apply(e,arguments)}}It.prototype.listen=function(t){this.cb=t},It.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},It.prototype.onError=function(t){this.errorCbs.push(t)},It.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach((function(e){e(t)})),t}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Ot(t,bt.redirected)&&o===v||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},It.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o,s,a=function(t){!Ot(t)&&Ct(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},c=t.matched.length-1,l=i.matched.length-1;if(y(t,i)&&c===l&&t.matched[c]===i.matched[l])return this.ensureURL(),t.hash&&ct(this.router,i,t,!1),a(((s=xt(o=i,t,bt.duplicated,'Avoided redundant navigation to current location: "'+o.fullPath+'".')).name="NavigationDuplicated",s));var u=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),f=u.updated,d=u.deactivated,h=u.activated,p=[].concat(function(t){return Nt(t,"beforeRouteLeave",Rt,!0)}(d),this.router.beforeHooks,function(t){return Nt(t,"beforeRouteUpdate",Rt)}(f),h.map((function(t){return t.beforeEnter})),Pt(h)),v=function(e,n){if(r.pending!==t)return a(kt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),a(function(t,e){return xt(t,e,bt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,t))):Ct(e)?(r.ensureURL(!0),a(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(a(wt(i,t)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(t){a(t)}};Et(p,v,(function(){var n=function(t){return Nt(t,"beforeRouteEnter",(function(t,e,n,r){return function(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}(t,n,r)}))}(h);Et(n.concat(r.router.resolveHooks),v,(function(){if(r.pending!==t)return a(kt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){b(t)}))}))}))},It.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},It.prototype.setupListeners=function(){},It.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=v,this.pending=null};var Dt=function(t){function e(e,n){t.call(this,e,n),this._startLocation=Lt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=gt&&n;r&&this.listeners.push(at());var i=function(){var n=t.current,i=Lt(t.base);t.current===v&&i===t._startLocation||t.transitionTo(i,(function(t){r&&ct(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){yt(S(r.base+t.fullPath)),ct(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){_t(S(r.base+t.fullPath)),ct(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(Lt(this.base)!==this.current.fullPath){var e=S(this.base+this.current.fullPath);t?yt(e):_t(e)}},e.prototype.getCurrentLocation=function(){return Lt(this.base)},e}(It);function Lt(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(S(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Bt=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=Lt(t);if(!/^\/#/.test(e))return window.location.replace(S(t+"/#"+e)),!0}(this.base)||$t()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=gt&&e;n&&this.listeners.push(at());var r=function(){var e=t.current;$t()&&t.transitionTo(Ft(),(function(r){n&&ct(t.router,r,e,!0),gt||Vt(r.fullPath)}))},i=gt?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){Ut(t.fullPath),ct(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,(function(t){Vt(t.fullPath),ct(r.router,t,i,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Ft()!==e&&(t?Ut(e):Vt(e))},e.prototype.getCurrentLocation=function(){return Ft()},e}(It);function $t(){var t=Ft();return"/"===t.charAt(0)||(Vt("/"+t),!1)}function Ft(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function qt(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Ut(t){gt?yt(qt(t)):window.location.hash=t}function Vt(t){gt?_t(qt(t)):window.location.replace(qt(t))}var zt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Ot(t,bt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(It),Ht=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!gt&&!1!==t.fallback,this.fallback&&(e="hash"),J||(e="abstract"),this.mode=e,e){case"history":this.history=new Dt(this,t.base);break;case"hash":this.history=new Bt(this,t.base,this.fallback);break;case"abstract":this.history=new zt(this,t.base)}},Wt={currentRoute:{configurable:!0}};Ht.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Wt.currentRoute.get=function(){return this.history&&this.history.current},Ht.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof Dt||n instanceof Bt){var r=function(t){n.setupListeners(),function(t){var r=n.current,i=e.options.scrollBehavior;gt&&i&&"fullPath"in t&&ct(e,t,r,!1)}(t)};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},Ht.prototype.beforeEach=function(t){return Gt(this.beforeHooks,t)},Ht.prototype.beforeResolve=function(t){return Gt(this.resolveHooks,t)},Ht.prototype.afterEach=function(t){return Gt(this.afterHooks,t)},Ht.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ht.prototype.onError=function(t){this.history.onError(t)},Ht.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},Ht.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},Ht.prototype.go=function(t){this.history.go(t)},Ht.prototype.back=function(){this.go(-1)},Ht.prototype.forward=function(){this.go(1)},Ht.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},Ht.prototype.resolve=function(t,e,n){var r=V(t,e=e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,s=function(t,e,n){var r="hash"===n?"#"+e:e;return t?S(t+"/"+r):r}(this.history.base,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},Ht.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ht.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Ht.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==v&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ht.prototype,Wt);var Yt=Ht;function Gt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Ht.install=function t(e){if(!t.installed||z!==e){t.installed=!0,z=e;var n=function(t){return void 0!==t},r=function(t,e){var r=t.$options._parentVnode;n(r)&&n(r=r.data)&&n(r=r.registerRouteInstance)&&r(t,e)};e.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",w),e.component("RouterLink",W);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},Ht.version="3.6.5",Ht.isNavigationFailure=Ot,Ht.NavigationFailureType=bt,Ht.START_LOCATION=v,J&&window.Vue&&window.Vue.use(Ht)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n(7),i=n(308),o=Object(i.a)();function s(t){var e=r.Node.fromJSON(o,t),n=document.createElement("div"),i=r.DOMSerializer.fromSchema(o).serializeFragment(e.content);return n.appendChild(i),n.innerHTML}function a(t){return r.Node.fromJSON(o,t).textContent}},function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),l=n("7f20"),u=n("38fd"),f=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),h="keys",p="values",v=function(){return this};t.exports=function(t,e,n,m,g,y,_){c(n,e,m);var b,w,k,x=function(t){if(!d&&t in E)return E[t];switch(t){case h:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",C=g==p,O=!1,E=t.prototype,P=E[f]||E["@@iterator"]||g&&E[g],A=P||x(g),T=g?C?x("entries"):A:void 0,j="Array"==e&&E.entries||P;if(j&&(k=u(j.call(new t)))!==Object.prototype&&k.next&&(l(k,S,!0),r||"function"==typeof k[f]||s(k,f,v)),C&&P&&P.name!==p&&(O=!0,A=function(){return P.call(this)}),r&&!_||!d&&!O&&E[f]||s(E,f,A),a[e]=A,a[S]=v,g)if(b={values:C?A:x(p),keys:y?A:x(h),entries:T},_)for(w in b)w in E||o(E,w,b[w]);else i(i.P+i.F*(d||O),e,b);return b}},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),c=n("520a"),l=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var v=/./[d],m=n(s,d,""[t],(function(t,e,n,r,i){return e.exec===c?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=m[0],y=m[1];r(String.prototype,t,g),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),c="toString",l=(""+a).split(c);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||i(n,s,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n("230e")("iframe"),r=o.length;for(e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l[c][o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=l(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},"520a":function(t,e,n){"use strict";var r,i,o=n("0bfb"),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,l="lastIndex",u=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r[l]||0!==i[l]),f=void 0!==/()??/.exec("")[1];(u||f)&&(c=function(t){var e,n,r,i,c=this;return f&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c[l]),r=s.call(c,t),u&&r&&(c[l]=c.global?r.index+r[0].length:e),f&&r&&r.length>1&&a.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",l=function(t,e,n){var u,f,d,h,p=t&l.F,v=t&l.G,m=t&l.S,g=t&l.P,y=t&l.B,_=v?r:m?r[e]||(r[e]={}):(r[e]||{})[c],b=v?i:i[e]||(i[e]={}),w=b[c]||(b[c]={});for(u in v&&(n=e),n)d=((f=!p&&_&&void 0!==_[u])?_:n)[u],h=y&&f?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,_&&s(_,u,d,t&l.U),b[u]!=d&&o(b,u,h),g&&w[u]!=d&&(w[u]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("0d58"),i=n("2621"),o=n("52a7"),s=n("4bf8"),a=n("626a"),c=Object.assign;t.exports=!c||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=i.f,f=o.f;c>l;)for(var d,h=a(arguments[l++]),p=u?r(h).concat(u(h)):r(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:c},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;null==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,n){e.exports=t},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),c=n("5f1b"),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var m=f.global;if(m){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,d);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(f.lastIndex=a(d,o(f.lastIndex),g))}for(var b,w="",k=0,x=0;x<y.length;x++){_=y[x];for(var S=String(_[0]),C=l(u(s(_.index),d.length),0),O=[],E=1;E<_.length;E++)O.push(void 0===(b=_[E])?b:String(b));var P=_.groups;if(h){var A=[S].concat(O,C,d);void 0!==P&&A.push(P);var T=String(e.apply(void 0,A))}else T=v(S,d,C,O,P,e);C>=k&&(w+=d.slice(k,C)+T,k=C+S.length)}return w+d.slice(k)}];function v(t,e,r,o,s,a){var c=r+t.length,l=o.length,u=h;return void 0!==s&&(s=i(s),u=d),n.call(a,u,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}a=o[u-1]}return void 0===a?"":a}))}}))},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var m,g=p[v],y=h[g],_=s[g],b=_&&_.prototype;if(b&&(b[u]||a(b,u,d),b[f]||a(b,f,g),c[g]=d,y))for(m in r)b[m]||o(b,m,r[m],!0)}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n("a481");var r,i,o="undefined"!=typeof window?window.console:t.console,s=/-(\w)/g,a=(r=function(t){return t.replace(s,(function(t,e){return e?e.toUpperCase():""}))},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))});function c(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function l(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];r(r.P+r.F*n("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},f6fd:function(t,e){!function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})}(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d"),n("6762"),n("2fdb");var c=n("a352"),l=n.n(c),u=n("c649");function f(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function d(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),f.call(e,t,n)}}function h(t){return["transition-group","TransitionGroup"].includes(t)}function p(t,e,n){return t[n]||(e[n]?e[n]():void 0)}var v=["Start","Add","Remove","Update","End"],m=["Choose","Unchoose","Sort","Filter","Clone"],g=["Move"].concat(v,m).map((function(t){return"on"+t})),y=null,_={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=function(t){if(!t||1!==t.length)return!1;var e=s(t,1)[0].componentOptions;return!!e&&h(e.tag)}(e);var n=function(t,e,n){var r=0,i=0,o=p(e,n,"header");o&&(r=o.length,t=t?[].concat(a(o),a(t)):a(o));var s=p(e,n,"footer");return s&&(i=s.length,t=t?[].concat(a(t),a(s)):a(s)),{children:t,headerOffset:r,footerOffset:i}}(e,this.$slots,this.$scopedSlots),r=n.children,i=n.headerOffset,o=n.footerOffset;this.headerOffset=i,this.footerOffset=o;var c=function(t,e){var n=null,r=function(t,e){n=function(t,e,n){return void 0===n||((t=t||{})[e]=n),t}(n,t,e)};if(r("attrs",Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{})),!e)return n;var i=e.on,o=e.props,s=e.attrs;return r("on",i),r("props",o),Object.assign(n.attrs,s),n}(this.$attrs,this.componentData);return t(this.getTag(),c,r)},created:function(){null!==this.list&&null!==this.value&&u.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&u.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&u.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};v.forEach((function(n){e["on"+n]=d.call(t,n)})),m.forEach((function(n){e["on"+n]=f.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(u.a)(n)]=t.$attrs[n],e}),{}),r=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new l.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(u.a)(e);-1===g.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=function(t,e,n,r){if(!t)return[];var i=t.map((function(t){return t.elm})),o=e.length-r,s=a(e).map((function(t,e){return e>=o?i.length:i.indexOf(t)}));return n?s.filter((function(t){return-1!==t})):s}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=function(t,e){return t.map((function(t){return t.elm})).indexOf(e)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&h(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=a(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,a(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};if(e!==n&&i&&r.getUnderlyingVm){var s=r.getUnderlyingVm(n);if(s)return Object.assign(s,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),y=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(u.d)(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var r={element:e,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(t){if(Object(u.c)(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(u.d)(t.clone)},onDragUpdate:function(t){Object(u.d)(t.item),Object(u.c)(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=a(e.to.children).filter((function(t){return"none"!==t.style.display})),r=n.indexOf(e.related),i=t.component.getVmIndex(r);return-1===n.indexOf(y)&&e.willInsertAfter?i+1:i},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),i=this.context,o=this.computeFutureIndex(r,t);return Object.assign(i,{futureIndex:o}),n(Object.assign({},t,{relatedContext:r,draggedContext:i}),e)},onDragEnd:function(){this.computeIndexes(),y=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",_);var b=_;e.default=b}}).default},t.exports=r(n(815))},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"st-achievement-img-close",on:{click:t.close}},[t._v("✖")]),t._v(" "),e("img",{class:{"achievement-img":t.isLoading},style:{width:t.width+"px",height:t.height+"px"},attrs:{src:t.url},on:{click:function(e){return t.next()}}})])};r._withStripped=!0;var i=n(288).a,o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);e.a=s.exports},function(t,e,n){var r=n(96),i=n(62),o=n(181);t.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(128);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(129),i=n(138);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(166),i=n(13),o=n(108),s=n(107),a=n(183),c=n(253),l=n(204),u=n(110),f=n(55)("iterator"),d=!([].keys&&"next"in[].keys()),h="keys",p="values",v=function(){return this};t.exports=function(t,e,n,m,g,y,_){c(n,e,m);var b,w,k,x=function(t){if(!d&&t in E)return E[t];switch(t){case h:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",C=g==p,O=!1,E=t.prototype,P=E[f]||E["@@iterator"]||g&&E[g],A=P||x(g),T=g?C?x("entries"):A:void 0,j="Array"==e&&E.entries||P;if(j&&(k=u(j.call(new t)))!==Object.prototype&&k.next&&(l(k,S,!0),r||"function"==typeof k[f]||s(k,f,v)),C&&P&&P.name!==p&&(O=!0,A=function(){return P.call(this)}),r&&!_||!d&&!O&&E[f]||s(E,f,A),a[e]=A,a[S]=v,g)if(b={values:C?A:x(p),keys:y?A:x(h),entries:T},_)for(w in b)w in E||o(E,w,b[w]);else i(i.P+i.F*(d||O),e,b);return b}},function(t,e,n){"use strict";var r=n(150),i=n(165),o=n(204),s={};n(107)(s,n(55)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(47),i=n(128),o=n(55)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(55)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(168),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(419);var r=n(108),i=n(107),o=n(46),s=n(138),a=n(55),c=n(334),l=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var v=/./[d],m=n(s,d,""[t],(function(t,e,n,r,i){return e.exec===c?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=m[0],y=m[1];r(String.prototype,t,g),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r=n(40).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(40),i=n(13),o=n(108),s=n(186),a=n(167),c=n(170),l=n(185),u=n(47),f=n(46),d=n(255),h=n(204),p=n(322);t.exports=function(t,e,n,v,m,g){var y=r[t],_=y,b=m?"set":"add",w=_&&_.prototype,k={},x=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(g||w.forEach&&!f((function(){(new _).entries().next()})))){var S=new _,C=S[b](g?{}:-0,1)!=S,O=f((function(){S.has(1)})),E=d((function(t){new _(t)})),P=!g&&f((function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)}));E||((_=e((function(e,n){l(e,_,t);var r=p(new y,e,_);return null!=n&&c(n,m,r[b],r),r}))).prototype=w,w.constructor=_),(O||P)&&(x("delete"),x("has"),m&&x("get")),(P||C)&&x(b),g&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,m,b),s(_.prototype,n),a.NEED=!0;return h(_,t),k[t]=_,i(i.G+i.W+i.F*(_!=y),k),g||v.setStrong(_,t,m),_}},function(t,e,n){for(var r,i=n(40),o=n(107),s=n(180),a=s("typed_array"),c=s("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,a,!0),o(r.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:c}},function(t,e,n){"use strict";t.exports=n(166)||!n(46)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n(40)[t]}))},function(t,e,n){"use strict";var r=n(13);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(13),i=n(89),o=n(122),s=n(170);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,c=arguments[1];return i(this),(e=void 0!==c)&&i(c),null==t?new this:(n=[],e?(r=0,a=o(c,arguments[2],2),s(t,!1,(function(t){n.push(a(t,r++))}))):s(t,!1,n.push,n),new this(n))}})}},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){"use strict";var r=n(48),i=n(41),o=n(153),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?a(t,""):s(t)}:s},function(t,e,n){"use strict";var r=n(824),i=n(231);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},function(t,e,n){"use strict";var r=n(48),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},function(t,e,n){"use strict";var r=n(48),i=n(41),o=n(56),s=n(155),a=n(90),c=n(456),l=function(){},u=[],f=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(l),v=function(t){if(!o(t))return!1;try{return f(l,u,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!f||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},function(t,e,n){"use strict";var r=n(208),i=n(268),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){"use strict";var r=n(461),i=n(350).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(60);e.f=r},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(852),i=n(93),o=n(853);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){"use strict";var r=n(155),i=n(342),o=n(190),s=n(212),a=n(60)("iterator");t.exports=function(t){if(!o(t))return i(t,a)||i(t,"@@iterator")||s[r(t)]}},function(t,e,n){"use strict";t.exports=n(860)},function(t,e,n){"use strict";t.exports=n(903)},function(t,e,n){"use strict";var r=n(21),i=n(63),o=n(280),s=n(41),a=n(141),c=n(117),l=n(281),u=n(56),f=n(73),d=n(194),h=n(113).f,p=n(156).forEach,v=n(84),m=n(175),g=m.set,y=m.getterFor;t.exports=function(t,e,n){var m,_=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),w=_?"set":"add",k=i[t],x=k&&k.prototype,S={};if(v&&u(k)&&(b||x.forEach&&!s((function(){(new k).entries().next()})))){var C=(m=e((function(e,n){g(l(e,C),{type:t,collection:new k}),null!=n&&c(n,e[w],{that:e,AS_ENTRIES:_})}))).prototype,O=y(t);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in x)||b&&"clear"==t||a(C,t,(function(n,r){var i=O(this).collection;if(!e&&b&&!f(n))return"get"==t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),b||h(C,"size",{configurable:!0,get:function(){return O(this).collection.size}})}else m=n.getConstructor(e,t,_,w),o.enable();return d(m,t,!1,!0),S[t]=m,r({global:!0,forced:!0},S),b||n.setStrong(m,t,_),m}},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(235),s=n(73),a=n(68),c=n(113).f,l=n(271),u=n(351),f=n(947),d=n(268),h=n(491),p=!1,v=d("meta"),m=0,g=function(t){c(t,v,{value:{objectID:"O"+m++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),n={};n[v]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,v)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[v].objectID},getWeakData:function(t,e){if(!a(t,v)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[v].weakData},onFreeze:function(t){return h&&p&&f(t)&&!a(t,v)&&g(t),t}};o[v]=!0},function(t,e,n){"use strict";var r=n(50),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){"use strict";var r=n(215),i=n(483),o=n(237).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},function(t,e,n){"use strict";t.exports=n(1031)},function(t,e,n){"use strict";(function(t){var r=n(17),i=n(38),o=n(368),s=n(1);e.a={components:{EditorMenuBar:r.d,EditorContent:r.c},props:{content:String,initialAttachments:{default:function(){return[]}},autoFocus:!1},data:function(){var t=this;return{vueObj:null,attachments:[],isUploading:!1,uploadProgress:0,editor:new r.b({autoFocus:this.autoFocus,onPaste:function(e,n){var r=n.clipboardData;r&&r.files&&r.files.length&&t.uploadFile(r.files[0])},onDrop:function(e,n,r,i){n.preventDefault();var o=n.dataTransfer;o&&o.files&&t.uploadFiles(o.files)},disableInputRules:!0,disablePasteRules:!0,extensions:[new o.a({selfData:this}),new i.a,new i.g,new i.k,new i.q,new i.d,new i.e,new i.j({emptyNodeText:"Текст коментаря..."})]})}},methods:{setDataJson:function(t){var e=this;if(Object(s.T)(!0,!0)){var n=null!=t?t:{},r=n.msg,i=void 0===r?null:r,o=n.files,a=void 0===o?[]:o;this.editor.setContent(i),this.attachments.splice(0,this.attachments.length),Array.isArray(a)||Object.keys(a).forEach((function(t){return e.attachments.push(a[t])}))}},getData:function(){if(!Object(s.T)(!0,!0))return null;var e=this.editor.getHTML(),n=this.attachments.map((function(t){return t.file})).join(",");return t(e).text().trim().length||n.length?{text:e,files:n}:(vo.popup("Текст повідомлення порожній"),null)},getDataJson:function(){if(!Object(s.T)(!0,!0))return null;var t=this.editor.state.doc.textContent.length?this.editor.getJSON():null;if(null===t&&!this.attachments.length)return vo.popup("Текст повідомлення порожній"),null;var e={};return this.attachments.forEach((function(t){return e[t.file]=t})),{msg:t,files:e}},clear:function(){this.editor.clearContent(),this.attachments.splice(0,this.attachments.length)},attachFile:function(){var t=this;if(!this.isUploading){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(){t.uploadFiles(e.files)},e.click()}},removeAttachment:function(t){var e=this.attachments.indexOf(t);e>=0&&this.attachments.splice(e,1)},uploadFile:function(t){var e=this;return new Promise((function(n,r){Object(s.T)(!0,!0)&&(e.isUploading=!0,Object(s.mb)({file:t},{success:function(t){var r=t.data;e.isUploading=!1,e.attachments.push(r),n(r)},error:function(t){e.isUploading=!1,r(t)},uploadProgress:function(t,n,r,i){e.uploadProgress=i}}))}))},uploadFiles:function(t){for(var e=this,n=Array.prototype.slice.apply(t),r=Promise.resolve(),i=function(t){r=r.then((function(){return e.uploadFile(n[t])}))},o=0;o<n.length;++o)i(o);r.catch((function(t){return Object(s.ib)(t)}))}},created:function(){this.content&&this.editor.setContent(this.content),this.vueObj=this,this.attachments=this.initialAttachments.slice()},beforeDestroy:function(){this.editor.destroy()}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(18),i=n(218),o=n(1);function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.a={name:"SearchInput",props:["widgetId","hiddenInputId","label","valueId","isSearchMode","isIcon","searchModels","clearOnBad","placeholder","template","fieldsSearch"],components:{MaybeProposition:i.a},filters:{plural:o.ab},data:function(){return{categories:[],is_initialized:!1,is_mounted:!1,is_listeners:!1,is_key_up_down_mode:!1,is_popup_stay:!1,_title:"",search:"",block_focus_save:!1,last_triggered_category:null}},computed:{liContent:function(){var t=this;return function(e){var n="";return n=t.template?t.template.replace(/{{\s*(\w+)\s*}}/g,(function(n,r){return r in e?t.isActiveId(e.id)?e[r]:t.highlightString(e[r]):r})):t.isActiveId(e.id)?e.title:t.highlightString(e.title),t.isIcon&&(n=(e.icon?"<i class='".concat(e.icon,"'></i> "):"")+n+(e.id_user?"<i class='v-icon v-icon-user pull-right'></i>":"")),n}},title:{get:function(){return this.$data._title},set:function(t){this.$data._title=t,this.block_focus_save&&(this.block_focus_save=!1)}},searchInput:function(){return this.$refs.input},dropDownNodes:function(){return this.$refs.autocomplete.childNodes},iWidgetId:function(){return this.widgetId||this.randomString},iLabel:function(){return this.label||"Предмет"},iWidgetContainerId:function(){return this.iWidgetId+"__widget"},iInputId:function(){return this.iWidgetId+"__input"},iSelectId:function(){return this.iWidgetId+"__autocomplete"},iClearId:function(){return this.iWidgetId+"__clear"},iPlaceholder:function(){return this.placeholder||"Введіть назву предмета..."},randomString:function(){return"r"+Math.random().toString(36).substring(7)},categoriesList:function(){return this.filteredList.length?this.filteredList:this.maybeSearchingList},filteredList:function(){return this.mFilteredList(this.search)},maybeSearchingList:function(){return this.mMaybeSearching(this.search)},activeCategory:function(){var t=this;return this.categories.find((function(e){return e.title.toLowerCase().trim()===t.title.toLowerCase().trim()}))},oneById:function(){var t=this;return function(e){return t.categories.find((function(t){return t.id==e}))}}},methods:{mFilteredList:function(t){var e=this,n=this.categories;if(!n)return[];if(!(t=String(t).toLowerCase().trim()))return n;var r=new RegExp(Object(o.q)(t),"i");return n.filter((function(t){var n=t.title;return e.fieldsSearch&&(n="",e.fieldsSearch.forEach((function(e){n+=n?" ".concat(t[e]):t[e]}))),n.match(r)}))},mMaybeSearching:function(t){var e=this,n=this.categories;if(!n)return[];if(!(t=String(t).toLowerCase().trim()))return n;var r,i,a=[],c=function(c){if(e.fieldsSearch?(i=e.fieldsSearch.map((function(e){return Object(o.kb)(t,n[c][e].trim().toLowerCase(),!0)})),r=Math.max.apply(Math,s(i))):r=Object(o.kb)(t,n[c].title.trim().toLowerCase(),!0),r<40)return"continue";a.push({percent:r,id:n[c].id})};for(var l in n)c(l);var u,f,d={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ї",a:"ф",s:"і",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"є",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","ы":"і"},h=t,p=h.split("");for(u=0;u<p.length;u++)p[u]=d[p[u]]||p[u];if((h=p.join(""))!==t){var v=function(c){if(e.fieldsSearch?(i=e.fieldsSearch.map((function(e){return Object(o.kb)(t,n[c][e].trim().toLowerCase(),!0)})),r=Math.max.apply(Math,s(i))):r=Object(o.kb)(h,n[c].title.trim().toLowerCase(),!0),r<40)return"continue";(f=a.findIndex((function(t){return t.id==n[c].id})))<0?a.push({percent:r,id:n[c].id}):a[f].percent<r&&a.splice(f,1,{percent:r,id:n[c].id})};for(var m in n)v(m)}a.sort((function(t,e){return e.percent-t.percent})),a.slice(0,8);var g,y=[],_=function(t){(g=n.find((function(e){return e.id==a[t].id})))&&y.push(g)};for(var b in a)_(b);return y},checkLogin:function(t){return!!this.isSearchMode||(!!Object(o.T)()||(t.preventDefault(),t.stopPropagation(),!1))},isActiveId:function(t){return this.activeCategory&&this.activeCategory.id==t},isActiveTitle:function(t){return this.activeCategory&&this.activeCategory.title.toLowerCase().trim()==t.toLowerCase().trim()},createOnBlur:function(t){this.block_focus_save||this.createNewCategory(t)},createNewCategory:function(e){var n=this,o=String(this.title).trim();if(this.activeCategory||!o)return this.triggerSelectCategory(),void this.hideSelect(!1);if(this.isSearchMode){if(!1===this.clearOnBad){var s=this.oneById(this.last_triggered_category)||"";return this.setTitleFromList(s?s.title:"")}return this.setTitleFromList("")}var a=this.mFilteredList(o);if(a.length||(a=this.mMaybeSearching(o)),!a.length)return this.hideSelect(!1),this.saveNew(o);if(e&&(e.preventDefault(),e.stopPropagation()),!this.is_popup_stay){this.is_popup_stay=!0,this.searchInput.disabled=!0,this.hideSelect(!1),vo.popup("<div id='vr-vue-popup'></div>",!0);var c=function e(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.$destroy(),t("#i-dialog").off("click",".a-delete",e),n.searchInput.disabled=!1,n.is_popup_stay=!1,i||n.searchInput.focus()},l=new(r.a.extend(i.a))({el:"#vr-vue-popup",propsData:{categories:JSON.parse(JSON.stringify(a)),title:JSON.parse(JSON.stringify(o))}});l.$on("create-new",(function(t){n.saveNew(t).then((function(t){vo.popup.hide(),c(e,!0)}))})),l.$on("select-from-list",(function(e){n.setTitleFromList(e),t("#i-popup").find("span.a-delete").trigger("click")})),l.$on("close",(function(t){vo.popup.hide(),c(t)})),t("#i-popup").on("click",".a-delete",c)}},saveNew:function(t){var e=this;return this.block_focus_save=!0,new Promise((function(n,r){e.$emit("save-new",{title:t,callback:function(t){if(t&&"title"in t){var i=i,o=e.categories.find((function(t){return t.id==i.id}));return o>=0?e.categories.splice(o,1,i):e.categories.push(i),n({model:i})}r(t)}})})).then((function(t){return e.title=t.model.title,e.triggerSelectCategory(),e.block_focus_save=!1,t}))},triggerSelectCategory:function(){var t=this.activeCategory?this.activeCategory.id:"";if(this.last_triggered_category!=t){this.last_triggered_category=t;var e=document.getElementById(this.hiddenInputId);if(e)if(e.value=t,"createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),e.dispatchEvent(n)}else e.fireEvent("onchange");this.$emit("select-category",t)}},setTitleFromList:function(t){this.title=String(t).trim(),this.triggerSelectCategory()},showSelectToggle:function(t){if(this.checkLogin(t))return this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display?this.hideSelect():void this.showSelect("")},showSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search=t;var e;this.filteredList.length,this.$refs.autocomplete&&(this.$refs.autocomplete.style.display="block");for(var n=0;n<this.dropDownNodes.length;n++)"LI"===(e=this.dropDownNodes.item(n)).nodeName&&e.classList.contains("rk-filtered-item")&&(e.classList.remove("active"),this.isActiveTitle(e.textContent)&&e.classList.add("active"))},hideSelect:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_key_up_down_mode=!1,this.search="",this.$refs.autocomplete&&(this.$refs.autocomplete.style.display=""),t&&this.searchInput.focus()},selectClickedNode:function(t,e){t.preventDefault(),t.stopPropagation(),this.setTitleFromList(e),this.hideSelect()},pressEnter:function(t){t.preventDefault(),t.stopPropagation();var e=this.dropDownNodes.length;if(this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display)for(var n,r=0;r<e;r++)if("LI"===(n=this.dropDownNodes.item(r)).nodeName&&n.classList.contains("rk-filtered-item")&&n.classList.contains("active"))return this.hideSelect(),void this.setTitleFromList(n.textContent);this.createNewCategory(t),this.hideSelect()},keyNavigation:function(t,e){var n=this.dropDownNodes.length;if(!(n<1)){for(var r,i,o=-1,s=-1,a=0;a<n;a++)if("LI"===(r=this.dropDownNodes.item(a)).nodeName&&r.classList.contains("rk-filtered-item")&&(-1===o&&(o=a),r.classList.contains("active"))){s=a,r.classList.remove("active");break}i=s+t,null!==(r=this.dropDownNodes.item(i))&&"LI"===r.nodeName&&r.classList.contains("rk-filtered-item")||(i=t>0?o:n-1),null!==(r=this.dropDownNodes.item(i))&&"LI"===r.nodeName&&r.classList.contains("rk-filtered-item")&&(e.preventDefault(),this.is_key_up_down_mode=!0,r.classList.add("active"),r.scrollIntoView({behavior:"auto",block:"nearest"}))}},highlightString:function(t){return Object(o.H)(t,this.title)},baseListener:function(t){var e=t.target;!this.searchInput||!e||e.closest("#"+this.iInputId)||e.closest("#"+this.iSelectId)||e.closest("#i-popup")||e.closest("#"+this.iClearId)||this.createNewCategory(t)},addBaseListeners:function(){!this.is_listeners&&this.is_mounted&&this.is_initialized&&(document.addEventListener("click",this.baseListener),document.addEventListener("mousedown",this.baseListener),document.addEventListener("keydown",this.baseListener))},removeBaseListeners:function(){this.is_listeners&&(document.removeEventListener("click",this.baseListener),document.removeEventListener("mousedown",this.baseListener),document.removeEventListener("keydown",this.baseListener))},init:function(){if(this.valueId){var t=this.oneById(JSON.parse(JSON.stringify(this.valueId)));t&&this.setTitleFromList(t.title)}}},created:function(){this.is_initialized?this.init():(this.categories=this.searchModels||[],this.init(),this.is_initialized=!0,this.addBaseListeners())},mounted:function(){var t=this;this.$nextTick((function(){t.is_mounted=!0,t.addBaseListeners()}))},destroyed:function(){this.removeBaseListeners()},watch:{valueId:function(t,e){if(!this.activeCategory||this.activeCategory.id!=t)if(t){var n=this.oneById(JSON.parse(JSON.stringify(this.valueId)));n&&this.setTitleFromList(n.title)}else this.setTitleFromList("")}}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(18),i=n(218),o=n(1);n(559);e.a={name:"App",props:["widgetId","hiddenInputId","label","valueId","isSearchMode","isSchool"],components:{MaybeProposition:i.a},filters:{plural:o.ab},data:function(){return{categories:[],is_initialized:!1,is_mounted:!1,is_listeners:!1,is_key_up_down_mode:!1,is_popup_stay:!1,_title:"",search:"",block_focus_save:!1,last_triggered_category:null}},computed:{title:{get:function(){return this.$data._title},set:function(t){this.$data._title=t,this.block_focus_save&&(this.block_focus_save=!1)}},searchInput:function(){return this.$refs.input},dropDownNodes:function(){return this.$refs.autocomplete.childNodes},iWidgetId:function(){return this.widgetId||this.randomString},iLabel:function(){return this.label||"Предмет"},iWidgetContainerId:function(){return this.iWidgetId+"__widget"},iInputId:function(){return this.iWidgetId+"__input"},iSelectId:function(){return this.iWidgetId+"__autocomplete"},iClearId:function(){return this.iWidgetId+"__clear"},placeholder:function(){return"Введіть назву предмета..."},randomString:function(){return"r"+Math.random().toString(36).substring(7)},categoriesList:function(){return this.filteredList.length?this.filteredList:this.maybeSearchingList},filteredList:function(){return this.mFilteredList(this.search)},maybeSearchingList:function(){return this.mMaybeSearching(this.search)},activeCategory:function(){var t=this;return this.categories.find((function(e){return e.title.toLowerCase().trim()===t.title.toLowerCase().trim()}))},oneById:function(){var t=this;return function(e){return t.categories.find((function(t){return t.id==e}))}}},methods:{mFilteredList:function(t){var e=this.categories;if(!e)return[];if(!(t=String(t).toLowerCase().trim()))return e;var n=new RegExp(Object(o.q)(t),"i");return e.filter((function(t){return t.title.match(n)}))},mMaybeSearching:function(t){var e=this.categories;if(!e)return[];if(!(t=String(t).toLowerCase().trim()))return e;var n,r=[];for(var i in e)(n=Object(o.kb)(t,e[i].title.trim().toLowerCase(),!0))<40||r.push({percent:n,id:e[i].id});var s,a,c={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ї",a:"ф",s:"і",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"є",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","ы":"і"},l=t,u=l.split("");for(s=0;s<u.length;s++)u[s]=c[u[s]]||u[s];if((l=u.join(""))!==t){var f=function(t){if((n=Object(o.kb)(l,e[t].title.trim().toLowerCase(),!0))<40)return"continue";(a=r.findIndex((function(n){return n.id==e[t].id})))<0?r.push({percent:n,id:e[t].id}):r[a].percent<n&&r.splice(a,1,{percent:n,id:e[t].id})};for(var d in e)f(d)}r.sort((function(t,e){return e.percent-t.percent})),r.slice(0,8);var h,p=[],v=function(t){(h=e.find((function(e){return e.id==r[t].id})))&&p.push(h)};for(var m in r)v(m);return p},checkLogin:function(t){return!!this.isSearchMode||(!!Object(o.T)()||(t.preventDefault(),t.stopPropagation(),!1))},isActiveId:function(t){return this.activeCategory&&this.activeCategory.id==t},isActiveTitle:function(t){return this.activeCategory&&this.activeCategory.title.toLowerCase().trim()==t.toLowerCase().trim()},createOnBlur:function(t){this.block_focus_save||this.createNewCategory(t)},createNewCategory:function(e){var n=this,o=String(this.title).trim();if(this.activeCategory||!o)return this.triggerSelectCategory(),void this.hideSelect(!1);if(this.isSearchMode)return this.setTitleFromList("");var s=this.mFilteredList(o);if(s.length||(s=this.mMaybeSearching(o)),!s.length)return this.hideSelect(!1),this.saveNew(o);if(e&&(e.preventDefault(),e.stopPropagation()),!this.is_popup_stay){this.is_popup_stay=!0,this.searchInput.disabled=!0,this.hideSelect(!1),vo.popup("<div id='vr-vue-popup'></div>",!0);var a=function e(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.$destroy(),t("#i-dialog").off("click",".a-delete",e),n.searchInput.disabled=!1,n.is_popup_stay=!1,i||n.searchInput.focus()},c=new(r.a.extend(i.a))({el:"#vr-vue-popup",propsData:{categories:JSON.parse(JSON.stringify(s)),title:JSON.parse(JSON.stringify(o))}});c.$on("create-new",(function(t){n.saveNew(t).then((function(t){vo.popup.hide(),a(e,!0)}))})),c.$on("select-from-list",(function(e){n.setTitleFromList(e),t("#i-popup").find("span.a-delete").trigger("click")})),c.$on("close",(function(t){vo.popup.hide(),a(t)})),t("#i-popup").on("click",".a-delete",a)}},saveNew:function(t){var e=this;return this.block_focus_save=!0,new Promise((function(n,r){vo.ajax(null,(e.isSchool?vo.url_school:"")+"/ext/category/save",{title:t},(function(t){if(t&&"model"in t){var i=t.model,o=e.categories.find((function(t){return t.id==i.id}));return o>=0?e.categories.splice(o,1,i):e.categories.push(i),n(t)}r(t)}))})).then((function(t){return e.title=t.model.title,e.triggerSelectCategory(),e.block_focus_save=!1,t}))},triggerSelectCategory:function(){var t=this.activeCategory,e=t?t.id:"";if(this.last_triggered_category!=e){this.last_triggered_category=e;var n=document.getElementById(this.hiddenInputId);if(n)if(n.value=e,"createEvent"in document){var r=document.createEvent("HTMLEvents");r.initEvent("change",!1,!0),n.dispatchEvent(r)}else n.fireEvent("onchange");this.$emit("select-category",e,t)}},setTitleFromList:function(t){this.title=String(t).trim(),this.triggerSelectCategory()},showSelectToggle:function(t){if(this.checkLogin(t))return this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display?this.hideSelect():void this.showSelect("")},showSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search=t;var e;this.filteredList.length,this.$refs.autocomplete&&(this.$refs.autocomplete.style.display="block");for(var n=this.dropDownNodes,r=0;r<n.length;r++)"LI"===(e=n.item(r)).nodeName&&e.classList.contains("rk-filtered-item")&&(e.classList.remove("active"),this.isActiveTitle(e.textContent)&&e.classList.add("active"))},hideSelect:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_key_up_down_mode=!1,this.search="",this.$refs.autocomplete&&(this.$refs.autocomplete.style.display=""),t&&this.searchInput.focus()},selectClickedNode:function(t,e){t.preventDefault(),t.stopPropagation(),this.setTitleFromList(e),this.hideSelect()},pressEnter:function(t){t.preventDefault(),t.stopPropagation();var e=this.dropDownNodes,n=e.length;if(this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display)for(var r,i=0;i<n;i++)if("LI"===(r=e.item(i)).nodeName&&r.classList.contains("rk-filtered-item")&&r.classList.contains("active"))return this.hideSelect(),void this.setTitleFromList(r.textContent);this.createNewCategory(t),this.hideSelect()},keyNavigation:function(t,e){var n=this.dropDownNodes,r=n.length;if(!(r<1)){for(var i,o,s=-1,a=-1,c=0;c<r;c++)if("LI"===(i=n.item(c)).nodeName&&i.classList.contains("rk-filtered-item")&&(-1===s&&(s=c),i.classList.contains("active"))){a=c,i.classList.remove("active");break}o=a+t,null!==(i=n.item(o))&&"LI"===i.nodeName&&i.classList.contains("rk-filtered-item")||(o=t>0?s:r-1),null!==(i=n.item(o))&&"LI"===i.nodeName&&i.classList.contains("rk-filtered-item")&&(e.preventDefault(),this.is_key_up_down_mode=!0,i.classList.add("active"),i.scrollIntoView({behavior:"auto",block:"nearest"}))}},highlightString:function(t){return Object(o.H)(t,this.title)},baseListener:function(t){var e=t.target;!this.searchInput||e.closest("#"+this.iInputId)||e.closest("#"+this.iSelectId)||e.closest("#i-popup")||e.closest("#"+this.iClearId)||this.createNewCategory(t)},addBaseListeners:function(){var t=this;if(!this.is_listeners&&this.is_mounted&&this.is_initialized){var e=document.getElementById(this.hiddenInputId);e&&(e.myForceChange=function(e){var n=JSON.stringify(e);if((n||t.activeCategory)&&(!n||!t.activeCategory||n!==JSON.stringify(t.activeCategory.id))){var r=t.oneById(JSON.parse(n));return t.setTitleFromList(r?r.title:""),JSON.parse(JSON.stringify(t.title))}}),document.addEventListener("click",this.baseListener),document.addEventListener("mousedown",this.baseListener),document.addEventListener("keydown",this.baseListener)}},removeBaseListeners:function(){this.is_listeners&&(document.removeEventListener("click",this.baseListener),document.removeEventListener("mousedown",this.baseListener),document.removeEventListener("keydown",this.baseListener))},init:function(){if(this.valueId){var t=this.oneById(JSON.parse(JSON.stringify(this.valueId)));t&&this.setTitleFromList(t.title)}}},created:function(){var t=this;this.is_initialized?this.init():vo.ajax(null,(this.isSchool?vo.url_school:"")+"/ext/category/list",null,(function(e){t.categories=e.models,t.init(),t.is_initialized=!0,t.addBaseListeners()}))},mounted:function(){var t=this;this.$nextTick((function(){t.is_mounted=!0,t.addBaseListeners()}))},destroyed:function(){this.removeBaseListeners()},watch:{valueId:function(t,e){if(!this.activeCategory||this.activeCategory.id!=t)if(t){var n=this.oneById(JSON.parse(JSON.stringify(this.valueId)));n&&this.setTitleFromList(n.title)}else this.setTitleFromList("")}}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(12),i=n(384);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={name:"SearchBlock",store:i.a,props:{page:{type:[Number,String],default:0},input_name:{type:String,default:""},input_value:{type:String,default:""},form_id:{type:String,default:""},input_id:{type:String,default:""},input_class:{type:String,default:"input-search"},input_placeholder:{type:String,default:"Пошук по сайту..."},div_class:{type:String,default:"item-search-row input-con"},disabled:{type:Boolean}},computed:a(a({},Object(r.d)("GlobalSearch",["q","suggestions","mySuggestions","focusSuggestion","init","focus","is_suggest_selected","prev_q"])),{},{query:{get:function(){return this.q},set:function(t){this.$store.commit("GlobalSearch/setQ",t)}}}),watch:{query:function(t){""===t?(this.$store.commit("GlobalSearch/setSuggestions",this.mySuggestions),this.$store.commit("GlobalSearch/setPrevQ","")):this.$store.dispatch("GlobalSearch/suggestions")},focus:function(t){t&&(!this.init||this.query.length>0)&&this.$store.dispatch("GlobalSearch/suggestions")}},methods:{enter:function(){this.$refs.input.blur(),this.$store.commit("GlobalSearch/setFocus",!1),this.$emit("search")},clear:function(){this.$store.commit("GlobalSearch/setQ",""),this.$refs.input.focus(),this.$emit("clear")},focusIn:function(){this.$store.commit("GlobalSearch/setFocus",!0)},focusOut:function(){this.$store.commit("GlobalSearch/setFocus",!1)},searchBySuggestion:function(e){this.$store.commit("GlobalSearch/setIsSuggestSelected",!0),this.$store.commit("GlobalSearch/setQ",e),this.$refs.input.value=e,this.$store.commit("GlobalSearch/setFocus",!1),this.$emit("search"),this.form_id&&t("#"+this.form_id).length&&t("#"+this.form_id).find(":submit")[0].click()},formatSuggestion:function(t){var e=t.toLowerCase();if(0===this.q.length)return'<span class="vo-color-blue">'+e+"</span>";var n=e.slice(this.q.length),r=new RegExp(n+"$","igu"),i="<b>"+n+"</b>";return e.replace(r,i)},upSuggestion:function(t){t.preventDefault(),this.suggestions&&0!==this.suggestions.length&&this.$store.commit("GlobalSearch/upSuggestion")},downSuggestion:function(t){t.preventDefault(),this.suggestions&&0!==this.suggestions.length&&this.$store.commit("GlobalSearch/downSuggestion")}},mounted:function(){this.$store.commit("GlobalSearch/setQ",this.input_value),this.$store.commit("GlobalSearch/setPage",parseInt(this.page))}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(1),i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";e.a={name:"dialog-gallery",props:["images","startAt"],data:function(){return{index:0,width:0,height:0,url:i,isLoading:!0}},created:function(){this.index=this.startAt,this.updateSizeV2()},mounted:function(){console.log("this.images",this.images),t("#i-dialog").css({minWidth:"auto",maxWidth:"none"})},destroyed:function(){},methods:{next:function(){this.index=(this.index+1)%this.images.length,this.updateSizeV2()},updateSizeV2:function(){var t,e,n,i=this.images[this.index],o=i.file_width,s=i.file_height,a=o/s,c=window.innerWidth,l=window.innerHeight;c<480?(t=Math.min(.9*c,o),e=Math.min(l/2,s)):(t=Math.min(.8*c,o),e=Math.min(l-200,s)),n=t/e>a?e/s:t/o,o>t||s>e?(this.width=Math.floor(o*n),this.height=Math.floor(s*n)):(this.width=o,this.height=s);var u=Object(r.u)(i.file,o>2e3?2e3:0,0);this.loadImage(u)},updateSize:function(){var t,e,n,i,o=this.images[this.index],s=o.file_width,a=o.file_height,c=s/a,l=window.innerWidth,u=window.innerHeight;l<480?(t=Math.min(.9*l,s),e=Math.min(u/2,a)):(t=Math.min(l/2,s),e=Math.min(u-200,a)),n=t/e>c?e/a:t/s,this.width=Math.floor(s*n),this.height=Math.floor(a*n),i=n>=1?Object(r.u)(o.file,s,a):Object(r.u)(o.file,this.width,this.height),this.loadImage(i)},close:function(){this.$emit("close")},loadImage:function(t){var e=this,n=new Image;this.isLoading=!0,this.url=i,n.onload=function(){e.url=t,e.isLoading=!1},n.onerror=function(){e.isLoading=!1},n.src=t},fileUrl:r.u}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(307),i=n(12);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={name:"CarouselGallery",components:{Img:r.a},props:{id_carousel:{type:String,default:"i-carousel-reviews"}},computed:a(a({},Object(i.d)("Gallery",["zoom_key","images_settings","height"])),{},{id_carousel_anchor:function(){return"#"+this.id_carousel}}),created:function(){var e=this;t(document).ready((function(){t("#i-carousel-reviews").on("slide.bs.carousel",(function(){e.$store.commit("Gallery/setZoom",null)}))}))}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(300),i=n.n(r),o=n(12);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(18).a.use(i.a),e.a={name:"Figure",props:{image_key:{type:Number,required:!0},image_src:{type:String,required:!0}},data:function(){return{x:null,y:null,background:null}},methods:{zoom:function(){if(this.$store.commit("Gallery/setZoom",null!==this.zoom_key?null:this.image_key),null!==this.zoom_key?t(document).ready((function(){t("#i-carousel-reviews").carousel("pause")})):t(document).ready((function(){t("#i-carousel-reviews").carousel("cycle")})),!this.background&&null!==this.zoom_key){var e=this.image_src.split(/(\d+)/),n="-"+e[e.length-4]+"x"+e[e.length-2],r=getComputedStyle(event.target);this.background="url("+this.image_src.replace(n,"-0x0")+") no-repeat, "+r.background}this.setCoordinates(event)},move:function(){null!==this.zoom_key&&this.setCoordinates(event)},touchHold:function(){null!==this.zoom_key&&this.setCoordinates(event)},setCoordinates:function(t){var e,n;e=null!==t.offsetX?t.offsetX:t.touches[0].pageX,null!==t.offsetY?n=t.offsetY:e=t.touches[0].pageX,this.x=e/t.target.offsetWidth*100,this.y=n/t.target.offsetHeight*100},swipeLeft:function(){null===this.zoom_key&&(t(document).ready((function(){t("#i-carousel-reviews").carousel("next")})),this.$store.commit("Gallery/next"))},swipeRight:function(){null===this.zoom_key&&(t(document).ready((function(){t("#i-carousel-reviews").carousel("prev")})),this.$store.commit("Gallery/prev"))}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({size:function(){return null!==this.zoom_key?"":"0px 0px"},cursor:function(){return null!==this.zoom_key?"zoom-out":"zoom-in"},backgroundPosition:function(){return this.x+"% "+this.y+"%"},style:function(){return null===this.zoom_key?{cursor:this.cursor}:{background:this.background,cursor:this.cursor,"background-position":this.backgroundPosition,"justify-content":"center"}},imgStyle:function(){return this.zoom_key===this.image_key?{opacity:0,height:this.height,width:"100%"}:{height:this.height}}},Object(o.d)("Gallery",["height","zoom_key"]))}}).call(this,n(52))},function(t,e,n){"use strict";(function(t){var r=n(543),i=n(544),o=n(12);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={name:"ImagePreview",components:{ImgDraggable:r.a,ControlElements:i.a},props:{id_carousel:{type:String,default:"i-carousel-reviews"}},data:function(){return{carouselEl:null}},computed:c(c({},Object(o.d)("Gallery",["images_settings","active_key"])),{},{id_carousel_anchor:function(){return"#"+this.id_carousel}}),mounted:function(){var e=this;window.init_bscarousel(this.id_carousel_anchor,{interval:!1}),this.carouselEl=t(this.id_carousel_anchor),this.carouselEl.on("slide.bs.carousel",(function(n){e.$store.commit("Gallery/slide",t(n.relatedTarget).index()-1),e.$store.commit("Gallery/setZoom",null)}))}}}).call(this,n(52))},function(t,e,n){"use strict";function r(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function i(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={};let s,a=0,c=0;function l(t){let e="";do{e=r[t%i]+e,t=Math.floor(t/i)}while(t>0);return e}function u(){const t=l(+new Date);return t!==s?(a=0,s=t):t+"."+l(a++)}for(;c<i;c++)o[r[c]]=c},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(171))},function(t,e,n){"use strict";(function(t){var r=n(70),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(360)(t))},function(t,e,n){t.exports=n(495)},function(t,e,n){t.exports=n(1130)},function(t,e,n){t.exports=n(1133)},function(t,e,n){"use strict";var r=n(5);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={namespaced:!0,state:function(){return{is_loading:!0,is_inited:!1,folders:[]}},getters:{getFolderById:function(t){return function(e){return t.folders.find((function(t){return t.id===e}))}},isNeedInit:function(t){return!1===t.is_inited&&!1===t.is_loading},isShowPreloader:function(t){return!1===t.is_inited},getFoldersByObjType:function(t){return function(e){var n,i=t.folders,s=(o(n={},r.OBJ_TYPE_LIBRARY,"cnt_doc"),o(n,r.OBJ_TYPE_TEST,"cnt_test"),o(n,r.OBJ_TYPE_LESSON,"cnt_lesson"),o(n,r.OBJ_TYPE_WEBQUEST,"cnt_webquest"),o(n,r.OBJ_TYPE_BLOG,"cnt_blog"),n)[e];return i.filter((function(t){return t[s]>0}))}}},mutations:{init:function(t,e){var n=e.folders;t.folders=n,t.is_inited=!0},updateFolders:function(t,e){var n;e.folders.forEach((function(e){(n=t.folders.findIndex((function(t){return t.id===e.id})))>-1&&t.folders.splice(n,1,e)})),t.folders.sort((function(t,e){return t.sort_num-e.sort_num}))},save:function(t,e){var n=e.folder,r=t.folders.findIndex((function(t){return t.id===n.id}));-1===r?t.folders.push(n):t.folders.splice(r,1,n),t.folders.sort((function(t,e){return t.title.localeCompare(e.title)}))},delete:function(t,e){var n=e.folder,r=t.folders.findIndex((function(t){return t.id===n.id}));r>-1&&t.folders.splice(r,1)},setIsLoading:function(t,e){t.is_loading=e}},actions:{init:function(t,e){return t.commit("setIsLoading",!0),new Promise((function(n,r){vo.ajax(e,"/ext/folder-v1/my-folders",null,(function(e){if(!e||!("data"in e))return r(e);t.commit("init",e.data),t.commit("setIsLoading",!1),n(e.data)}))}))},save:function(t,e){var n=e.event,r=e.form;return new Promise((function(e,i){vo.ajax(n,"/ext/folder-v1/save-folder",r,(function(n){if(!n||!("data"in n))return i(n);t.commit("save",n.data),e(n.data)}))}))},delete:function(t,e){var n=e.event,r=e.form;return new Promise((function(e,i){vo.ajax(n,"/ext/folder-v1/delete-folder",r,(function(n){if(!n||!("data"in n))return i(n);t.commit("delete",n.data),e(n.data)}))}))},saveNewSort:function(t,e){var n=e.event,r=e.form;return new Promise((function(e,i){vo.ajax(n,"/ext/folder-v1/change-folder-order",r,(function(n){if(!n||!("data"in n))return i(n.data);t.commit("updateFolders",n.data),e(n.data)}))}))}}}},function(t,e,n){function r(t){return-1!==t.type.indexOf("mouse")?t.clientX:t.touches[0].clientX}function i(t){return-1!==t.type.indexOf("mouse")?t.clientY:t.touches[0].clientY}var o=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),s=0,a={install:function(t,e){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",namespace:"touch"},e);function a(t){var e=this.$$touchObj,n=t.type.indexOf("touch")>=0,o=t.type.indexOf("mouse")>=0,a=this;n&&(s=t.timeStamp),o&&s&&t.timeStamp-s<350||e.touchStarted||(p(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=r(t),e.startY=i(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp,e.touchHoldTimer=setTimeout((function(){e.touchHoldTimer=null,h(t,a,"touchhold")}),e.options.touchHoldTolerance),h(t,this,"start"))}function c(t){var e=this.$$touchObj;if(e.currentX=r(t),e.currentY=i(t),e.touchMoved){if(!e.swipeOutBounded){var n=e.options.swipeTolerance;e.swipeOutBounded=Math.abs(e.startX-e.currentX)>n&&Math.abs(e.startY-e.currentY)>n}}else{var o=e.options.tapTolerance;e.touchMoved=Math.abs(e.startX-e.currentX)>o||Math.abs(e.startY-e.currentY)>o,e.touchMoved&&(m(e),h(t,this,"moved"))}e.touchMoved&&h(t,this,"moving")}function l(){var t=this.$$touchObj;m(t),v(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function u(t){var e=this.$$touchObj,n=t.type.indexOf("touch")>=0,r=t.type.indexOf("mouse")>=0;n&&(s=t.timeStamp);var i=n&&!e.touchHoldTimer;if(m(e),e.touchStarted=!1,v(this),!(r&&s&&t.timeStamp-s<350))if(h(t,this,"end"),e.touchMoved){if(!e.swipeOutBounded){var o,a=e.options.swipeTolerance,c=Math.abs(e.startY-e.currentY),l=Math.abs(e.startX-e.currentX);(c>a||l>a)&&(o=c>a?e.startY>e.currentY?"top":"bottom":e.startX>e.currentX?"left":"right",e.callbacks["swipe."+o]?h(t,this,"swipe."+o,o):h(t,this,"swipe",o))}}else if(e.callbacks.longtap&&t.timeStamp-e.touchStartTime>e.options.longTapTimeInterval)t.cancelable&&t.preventDefault(),h(t,this,"longtap");else{if(e.callbacks.touchhold&&i)return void(t.cancelable&&t.preventDefault());h(t,this,"tap")}}function f(){p(this)}function d(){v(this)}function h(t,e,n,r){var i=e.$$touchObj,o=i&&i.callbacks[n]||[];if(0===o.length)return null;for(var s=0;s<o.length;s++){var a=o[s];a.modifiers.stop&&t.stopPropagation(),a.modifiers.prevent&&t.cancelable&&t.preventDefault(),a.modifiers.self&&t.target!==t.currentTarget||"function"==typeof a.value&&(r?a.value(r,t):a.value(t))}}function p(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.add(e)}function v(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.remove(e)}function m(t){t.touchHoldTimer&&(clearTimeout(t.touchHoldTimer),t.touchHoldTimer=null)}function g(t,e){var r=t.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return e&&(r.options=Object.assign({},r.options,e)),t.$$touchObj=r,t.$$touchObj}t.directive(n.namespace,{bind:function(t,e){var n=g(t),r=!!o&&{passive:!0},i=e.arg||"tap";switch(i){case"swipe":var s=e.modifiers;if(s.left||s.right||s.top||s.bottom){for(var h in e.modifiers)if(["left","right","top","bottom"].indexOf(h)>=0){var p="swipe."+h;n.callbacks[p]=n.callbacks[p]||[],n.callbacks[p].push(e)}}else n.callbacks.swipe=n.callbacks.swipe||[],n.callbacks.swipe.push(e);break;case"start":case"moving":e.modifiers.disablePassive&&(r=!1);default:n.callbacks[i]=n.callbacks[i]||[],n.callbacks[i].push(e)}n.hasBindTouchEvents||(t.addEventListener("touchstart",a,r),t.addEventListener("touchmove",c,r),t.addEventListener("touchcancel",l),t.addEventListener("touchend",u),n.options.disableClick||(t.addEventListener("mousedown",a),t.addEventListener("mousemove",c),t.addEventListener("mouseup",u),t.addEventListener("mouseenter",f),t.addEventListener("mouseleave",d)),n.hasBindTouchEvents=!0)},unbind:function(t){t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",c),t.removeEventListener("touchcancel",l),t.removeEventListener("touchend",u),t.$$touchObj&&!t.$$touchObj.options.disableClick&&(t.removeEventListener("mousedown",a),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",u),t.removeEventListener("mouseenter",f),t.removeEventListener("mouseleave",d)),delete t.$$touchObj}}),t.directive(n.namespace+"-class",{bind:function(t,e){g(t,{touchClass:e.value})}}),t.directive(n.namespace+"-options",{bind:function(t,e){g(t,e.value)}})}};t.exports=a},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-reaction"},[e("base-view",{directives:[{name:"show",rawName:"v-show",value:!t.is_active,expression:"!is_active"}],attrs:{obj_key:t.obj_key,like_json:t.like_json},on:{"like-dislike":t.likeDislikeHandler},scopedSlots:t._u([{key:"default",fn:function(n){n.rating;var r=n.cnt_minus,i=n.cnt_plus,o=n.is_heart,s=(n.heart_user,n.cnt_marks),a=n.last_users,c=n.fucSetLike;return[e("div",{staticClass:"vo-reaction_static-block"},[e("div",{staticClass:"vo-reaction_row flex-wrap xy-gap y-center"},[e("div",{staticClass:"vo-reaction_row x-gap y-center"},[t.is_heart_user_local?[t.is_heart_user_local?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"reaction_heart-item type-btn",class:o?"active":"",attrs:{title:t.mark(t.MARK_HEART).title},on:{click:function(e){return c(e,t.MARK_HEART)}}},[e("i",{class:[t.className(t.MARK_HEART),o?" st2 hover-elem":"default-elem"]})]):t._e()]:t._e(),t._v(" "),!t.is_heart_user_local&&o?[e("span",{staticClass:"reaction_heart-item",attrs:{title:t.mark(t.MARK_HEART).title}},[e("i",{class:[t.className(t.MARK_HEART),"i-1 st2 default-elem"]})])]:t._e(),t._v(" "),e("div",{staticClass:"vo-reaction_row x-gap"},[e("div",{staticClass:"vo-reaction_row flex-wrap xy-gap"},[t.is_owner_user_local?e("div",{staticClass:"vo-reaction_row xy-gap"},[e("span",{staticClass:"reaction-buttons",attrs:{title:t.mark(t.MARK_PLUS).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_PLUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                            "+t._s(i)+"\n                                        ")])])]),t._v(" "),e("span",{staticClass:"reaction-buttons",attrs:{title:t.mark(t.MARK_MINUS).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_MINUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                           "+t._s(r)+"\n                                        ")])])])]):e("div",{staticClass:"vo-reaction_row xy-gap"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"reaction-buttons type-btn_st2",attrs:{title:t.mark(t.MARK_PLUS).title},on:{click:function(e){return c(e,t.MARK_PLUS)}}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_PLUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                            "+t._s(i)+"\n                                        ")])])]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"reaction-buttons type-btn_st2",attrs:{title:t.mark(t.MARK_MINUS).title},on:{click:function(e){return c(e,t.MARK_MINUS)}}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(t.MARK_MINUS)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                           "+t._s(r)+"\n                                        ")])])])]),t._v(" "),t._l(s,(function(n){return e("span",{staticClass:"reaction-buttons",attrs:{title:t.mark(n.id).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(n.id)})]),t._v(" "),e("span",{staticClass:"text-con vo-white-space"},[t._v("\n                                    "+t._s(n.cnt)+"\n                                    ")])])])}))],2),t._v(" "),t.is_owner_user_local?t._e():e("span",{staticClass:"settings-btn-container dots",attrs:{title:"Голосувати"},on:{click:function(e){t.is_active=!0}}},[e("i",{staticClass:"reaction-i i-dots"})])])],2),t._v(" "),a?e("div",[e("div",{staticClass:"users-avatars",on:{click:t.info}},t._l(a,(function(n){return e("div",{staticClass:"users"},[e("img",{attrs:{src:t.userAvatar(n[1]),alt:n[2],title:n[2]}})])})),0)]):t._e()])])]}}])}),t._v(" "),t.is_active?e("base-button",{attrs:{obj_key:t.obj_key},on:{"like-dislike":t.likeDislikeHandler},scopedSlots:t._u([{key:"default",fn:function(n){n.rating;var r=n.buttons,i=n.fucSetLike;n.fucNextLikes,n.fucUserByLike;return[e("div",{staticClass:"vo-reaction_action-block"},[e("div",{staticClass:"vo-reaction_row y-end xy-gap"},[e("div",{staticClass:"vo-reaction_row y-end x-gap flex-wrap vo-reaction_container"},t._l(r,(function(n){var r=n.type,o=n.items;return e("div",{staticClass:"vo-reaction_group-block",class:{"type-plus-minus":r===t.TYPE_PLUS_MINUS}},[e("div",{staticClass:"vo-reaction_row flex-wrap y-end xy-gap"},t._l(o,(function(n){return e("div",{staticClass:"buttons-col"},[n.cnt?e("p",{staticClass:"text-in-columns center green"},[t._v(t._s(n.cnt))]):t._e(),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"reaction-buttons type-btn",class:n.is_like?"active":"",attrs:{title:n.mark.title},on:{click:function(t){return i(t,n.mark.id)}}},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(n.mark.id)})])])])})),0)])})),0),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"settings-btn-container",staticStyle:{"margin-top":"auto"},attrs:{title:"Повернутись"},on:{click:function(e){t.is_active=!1}}},[e("i",{staticClass:"reaction-i i-rollback"})])])])]}}],null,!1,4283027499)}):t._e()],1)};r._withStripped=!0;var i=n(217),o=n(1),s=n(44),a=n(306),c=n(5),l=function(){var t=this,e=t._self._c;return e("div",[t.is_init?t.rating?e("div",[e("p",{staticClass:"vo-text"},[t._v("Рейтинг: "),e("b",[t._v(t._s(t.rating.rating))])]),t._v(" "),t.last_likes.length?e("div",[e("div",{staticClass:"v-action-all-people-wrap v-action-all-people-wrap-likes"},[t._l(t.last_likes,(function(n){return e("div",{staticClass:"v-action_olympiads_rate-people"},[e("img",{attrs:{src:t.userAvatar(t.userByLike(n)),alt:t.userName(t.userByLike(n))}}),t._v(" "),e("div",{staticClass:"v-action-people-name"},[t.userByLike(n)?e("a",{attrs:{href:t.userSite(t.userByLike(n)),target:"_blank"}},[t._v(t._s(t.userName(t.userByLike(n))))]):e("span",{staticClass:"vo-color-red"},[t._v("ПРОФІЛЬ ВИДАЛЕНО")])]),t._v(" "),e("div",{staticClass:"v-action-people-date"},[t._v(t._s(t.humanDate(n.created_at,!0)))]),t._v(" "),e("span",{staticClass:"reaction-buttons",attrs:{title:t.mark(n.mark_id).title}},[e("span",{staticClass:"buttons-row"},[e("span",{staticClass:"icon-con"},[e("i",{class:t.className(n.mark_id)})])])])])})),t._v(" "),t.is_all_likes?t._e():e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.nextLikes(e)}}},[t._v("[показати ще]")])],2)]):t._e()]):e("div",[t._v("\n        Реакції відсутні\n    ")]):e("span",{staticClass:"v-bar"})])};function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}l._withStripped=!0;var d={name:"LikeInfo",props:["obj_key"],data:function(){return{MARK_PLUS:s.c,MARK_MINUS:s.b,humanDate:o.J,is_init:!1,is_all_likes:!1,last_likes:[],users:[],rating:null}},methods:{userName:function(t){return t?t.name:"(невідомо)"},userAvatar:function(t){return Object(o.f)(t)},userSite:function(t){return Object(o.bb)(t)},className:function(t){return t===s.a?"reaction-i i-".concat(t," st2 default-elem"):"reaction-i i-".concat(t)},mark:function(t){return vo.like_marks.find((function(e){return e.id===t}))},userByLike:function(t){return this.users.find((function(e){return e.user_type===t.user_type&&e.user_id===t.user_id}))},setData:function(t){var e=this,n=t.last_likes,r=void 0===n?[]:n,i=t.users,o=void 0===i?[]:i,s=t.rating,a=void 0===s?null:s;r.forEach((function(t){var n=e.last_likes.findIndex((function(e){return e.id===t.id}));n<0?e.last_likes.push(t):e.last_likes.splice(n,1,t)})),this.last_likes=this.last_likes.sort((function(t,e){return t.mark_order===e.mark_order?e.id-t.id:t.mark_order-e.mark_order})),o.forEach((function(t){var n=e.users.findIndex((function(e){return e.user_key===t.user_key}));n<0?e.users.push(t):e.users.splice(n,1,t)})),null!==a&&(this.rating=a)},nextLikes:function(t){var e=this,n=this.last_likes.length?Math.max.apply(Math,u(this.last_likes.map((function(t){return t.mark_order})))):0,r=n?Math.min.apply(Math,u(this.last_likes.filter((function(t){return t.mark_order===n})).map((function(t){return t.id})))):0;vo.ajaxPromise(t,vo.url_like+"/ext/web/next-likes-2",{obj_key:this.obj_key,max_mark_order:n,min_like_id:r}).then((function(t){var n=e.last_likes.length;e.setData(t),e.is_all_likes=n===e.last_likes.length})).catch((function(t){return vo.popup.errorByResponse(t)}))}},mounted:function(){var t=this;vo.ajaxPromise(event,vo.url_like+"/ext/web/info-init",{obj_key:this.obj_key}).then((function(e){t.setData(e),t.is_init=!0})).catch((function(t){return vo.popup.errorByResponse(t)}))}},h=n(0),p=Object(h.a)(d,l,[],!1,null,"03a0efda",null).exports,v={name:"LikeCommentButton",components:{BaseView:a.a,BaseButton:i.a},props:["obj_key","like_json","owner_user","heart_user"],computed:{is_owner_user_local:function(){return this.owner_user===vo.user.user_key&&vo.user.user_key!==c.NULL_USER_KEY},is_heart_user_local:function(){return this.heart_user===vo.user.user_key&&vo.user.user_key!==c.NULL_USER_KEY}},data:function(){return{TYPE_PLUS_MINUS:s.d,humanDate:o.J,MARK_HEART:s.a,MARK_PLUS:s.c,MARK_MINUS:s.b,is_active:!1,obj_type:0}},methods:{userName:function(t){return t?t.name:"(невідомо)"},userAvatar:function(t){return Object(o.f)(t)},userSite:function(t){return Object(o.bb)(t)},className:function(t){return"reaction-i i-".concat(t)},mark:function(t){return vo.like_marks.find((function(e){return e.id===t}))},likeDislikeHandler:function(){this.is_active=!1,this.$emit("like-dislike")},info:function(){Object(o.hb)(p,{propsData:{obj_key:this.obj_key}})}}},m=Object(h.a)(v,r,[],!1,null,"0aa4cb8e",null);e.a=m.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{class:t.is_answered?"n-reflection-news-view-question":"n-reflection-news__question"},[e("div",{staticClass:"n-reflection__con-question"},[e("label",{staticClass:"n-reflection__text n-news",domProps:{textContent:t._s(t.text)}}),t._v(" "),e("div",{staticClass:"n-reflection__news"},[e("div",{staticClass:"n-news__reflection-col"},[e("div",{staticClass:"n-news__reflection-item n-left",class:1===t.mark?t.classes["active-class"]:t.classes["default-class"],on:{click:function(e){return t.setMark(e,1)}}},[e("div",{staticClass:"n-progres__reflection",style:{transform:"translateX("+(t.statisticData?t.statisticData.total_false_percent:0)+"%)"}}),t._v(" "),t.statisticData?e("div",{staticClass:"n-procent-text",domProps:{textContent:t._s(t.statisticData.total_true_percent+"%")}}):t._e(),t._v(" "),e("div",{staticClass:"n-answer__item",domProps:{textContent:t._s(t.true_text)}})])]),t._v(" "),e("div",{staticClass:"n-news__reflection-col"},[e("div",{staticClass:"n-news__reflection-item n-right",class:0===t.mark?t.classes["active-class"]:t.classes["default-class"],on:{click:function(e){return t.setMark(e,0)}}},[e("div",{staticClass:"n-progres__reflection",style:{transform:"translateX(-"+(t.statisticData?t.statisticData.total_true_percent:0)+"%)"}}),t._v(" "),t.statisticData?e("div",{staticClass:"n-procent-text",domProps:{textContent:t._s(t.statisticData.total_false_percent+"%")}}):t._e(),t._v(" "),e("div",{staticClass:"n-answer__item",domProps:{textContent:t._s(t.false_text)}})])])]),t._v(" "),e("div",{staticClass:"n-counter__reflection"},[t.statisticData?e("p",{staticClass:"n-anom-text"},[e("span",{domProps:{textContent:t._s(t.statisticData.total_voted_count+".")}})]):t._e(),t._v(" "),t._m(0)])]),t._v(" "),t.is_answered?[t._t("after-answer")]:t._e()],2)};r._withStripped=!0;var i={name:"YesNoTpl",props:["statisticData","widgetConfig","reflectionConfig","reflection"],data:function(){return{classes:{"active-class":"n-active","default-class":" "}}},computed:{mark:function(){var t;return this.widgetConfig.fake_answer?1:null===(t=this.reflection)||void 0===t?void 0:t.mark},is_answered:function(){return-1!==[0,1].indexOf(this.mark)},params:function(){return this.reflectionConfig.data_json},text:function(){return this.params.text?this.params.text:"Сподобалась новина?"},true_text:function(){return this.params.true_text?this.params.true_text:"Так"},false_text:function(){return this.params.false_text?this.params.false_text:"Ні"}},methods:{setMark:function(t,e){this.$emit("save-reflection",t,{mark:e})}}},o=n(0),s=Object(o.a)(i,r,[function(){var t=this._self._c;return t("p",{staticClass:"n-anom-text n-right"},[t("span",[this._v("\n                    Опитування анонімне\n                ")])])}],!1,null,"98f14b06",null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"a-forma-otvet",attrs:{id:"aa-answer"}},[e("div",{staticClass:"v-news-comments",attrs:{id:"aa_comment_list"}},[e("div",{staticClass:"vo-mb2"},[e("div",[e("p",{staticClass:"vo-title-small vo-text-center"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),t.reflection&&!t.is_edit?[e("div",{staticClass:"vo-block-white"},[e("p",{staticClass:"vo-text",domProps:{textContent:t._s(t.reflection.message)}})]),t._v(" "),t.reflection.status_show===t.STATUS_SHOW_PUBLISHED?[t._m(0)]:t.reflection.status_show===t.STATUS_SHOW_MODERATING?[t._m(1)]:(t.reflection.status_show,t.STATUS_SHOW_HIDDEN,t._e()),t._v(" "),t.reflection.can_edit?e("p",[e("span",{staticClass:"vo-color-silver"},[t._v("Редагування доступне до "+t._s(t.reflection.can_edit)+".")])]):t._e(),t._v(" "),t.reflection.can_edit?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"vo-link-blue",on:{click:t.edit}},[t._v("редагувати")]):t._e(),t._v(" "),t.reflection.can_remove?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"vo-link-red pull-right",on:{click:t.tryRemove}},[t._v("видалити")]):t._e()]:[e("div",[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"}),t._v(" "),e("div",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],ref:"TEXTAREA",staticClass:"vo-input",attrs:{disabled:t.disabled,placeholder:t.placeholder,rows:"6"},domProps:{value:t.form.message},on:{focus:t.check,input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"vo-btn-blue",class:{"vo-disabled":t.disabled},attrs:{type:"button"},on:{click:t.save}},[t._v("Зберегти")]),t._v(" "),t.reflection?e("button",{staticClass:"vo-btn-silver pull-right",attrs:{type:"button"},on:{click:function(e){t.is_edit=0}}},[t._v("Скасувати")]):t._e()])]],2)])]),t._v(" "),t.reflection?[t._t("after-answer")]:t._e()],2)};r._withStripped=!0;var i=n(5),o={name:"YesNoTpl",props:["widgetConfig","reflectionConfig","reflection"],data:function(){var t;return{STATUS_SHOW_PUBLISHED:i.STATUS_SHOW_PUBLISHED,STATUS_SHOW_MODERATING:i.STATUS_SHOW_MODERATING,STATUS_SHOW_HIDDEN:i.STATUS_SHOW_HIDDEN,is_edit:0,form:{message:this.widgetConfig.fake_answer?"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.":(null===(t=this.reflection)||void 0===t?void 0:t.message)||""}}},computed:{title:function(){var t=this.reflectionConfig.data_json.text,e=this.reflectionConfig.data_json.text_answered;return this.reflection&&e||t},isOnlineEnd:function(){return!this.widgetConfig.is_online||(this.widgetConfig.is_online_end||this.reflection)},disabled:function(){return!!this.disabled_after_focus&&!this.isOnlineEnd},placeholder:function(){return this.isOnlineEnd?"Місце для вашого відгуку...":"Відгук можна буде залишити після закінчення події!"}},methods:{STATUS_SHOW_PUBLISHED:function(){return i.STATUS_SHOW_PUBLISHED},save:function(t){var e=this;this.disabled_after_focus=!0,this.isOnlineEnd?this.$emit("save-reflection",t,this.form,(function(){e.is_edit=0})):vo.popup("Відгук можна буде залишити після закінчення!")},del:function(t){var e=this;this.$emit("delete-reflection",t,(function(){e.form.message="",e.is_edit=0}))},tryRemove:function(){var t=this;vo.dlg.confirm(null,"Видалити відгук?","Ваш відгук буде видалено.",(function(e){return t.del(e)}))},check:function(t){this.disabled_after_focus=!0,this.isOnlineEnd||(t.target.blur(),vo.popup("Відгук можна буде залишити після закінчення марафону!"))},edit:function(){var t=this;this.is_edit=1,this.$nextTick((function(){return t.$refs.TEXTAREA.focus()}))}},watch:{is_edit:function(){this.form.message=this.reflection?this.reflection.message:""}}},s=n(0),a=Object(s.a)(o,r,[function(){var t=this._self._c;return t("p",[t("span",{staticClass:"vo-color-silver"},[this._v("Статус: Опубліковано")])])},function(){var t=this._self._c;return t("p",[t("span",{staticClass:"vo-color-silver"},[this._v("Статус: Відправлено на модерацію")])])},function(){var t=this._self._c;return t("p",[t("span",{staticClass:"vo-color-silver"},[this._v("Статус: Публікацію відхилено")])])}],!1,null,"42e9b8d8",null);e.a=a.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{class:t.is_answered?"n-reflection-view":"n-reflection__question"},[t.title?e("p",{staticClass:"n-reflection-quest__title n-center n-mb1"},[t._v(t._s(t.title))]):t._e(),t._v(" "),e("div",{staticClass:"n-row__reflection-questions"},[t._l(t.reflectionConfig.data_json.questions,(function(n,r){return[e("div",{staticClass:"n-reflection__question-item"},[e("label",{staticClass:"n-reflection__text n-mb05"},[t._v(t._s(n.text))]),t._v(" "),e("div",{staticClass:"n-question__btn-row"},[n.swap_btn?[e("button",{staticClass:"n-btn__reflection n-green",class:0===t.form.json_data[r]?t.classes["active-class"]:t.classes["default-class"],attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.setAnswer(e,r,0)}}},[t._v(t._s(n.false_text))]),t._v(" "),e("button",{staticClass:"n-btn__reflection n-red",class:1===t.form.json_data[r]?t.classes["active-class"]:t.classes["default-class"],attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.setAnswer(e,r,1)}}},[t._v(t._s(n.true_text))])]:[e("button",{staticClass:"n-btn__reflection n-green",class:1===t.form.json_data[r]?t.classes["active-class"]:t.classes["default-class"],attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.setAnswer(e,r,1)}}},[t._v(t._s(n.true_text))]),t._v(" "),e("button",{staticClass:"n-btn__reflection n-red",class:0===t.form.json_data[r]?t.classes["active-class"]:t.classes["default-class"],attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.setAnswer(e,r,0)}}},[t._v(t._s(n.false_text))])]],2)])]}))],2),t._v(" "),t.is_answered?[t._t("after-answer")]:t._e()],2)};r._withStripped=!0;var i={name:"QuestionsTpl",props:["widgetConfig","reflectionConfig","reflection"],data:function(){return{classes:{"active-class":"n-active","default-class":"n-btn__reflection"},form:{json_data:null}}},computed:{disabled:function(){return this.reflection&&!this.reflection.can_edit},title:function(){var t=this.reflectionConfig.data_json.title,e=this.reflectionConfig.data_json.title_answered;return this.is_answered&&e||t},is_answered:function(){return!!this.widgetConfig.fake_answer||this.reflection&&this.reflection.id},isFullAnswer:function(){var t=this;return!Object.keys(this.form.json_data).find((function(e){return-1===[0,1].indexOf(t.form.json_data[e])}))},mark:function(){var t=this,e=Object.keys(this.form.json_data).length,n=Object.keys(this.form.json_data).reduce((function(e,n){return 1===t.form.json_data[n]&&(e+=1),e}),0);return parseFloat((n/e*100*10/100).toFixed(1))}},methods:{setAnswer:function(t,e,n){this.form.json_data[e]=n,this.isFullAnswer&&this.$emit("save-reflection",t,{json_data:this.form.json_data,mark:this.mark})},initDataJson:function(){var t=this;this.form.json_data=this.reflectionConfig.data_json.questions.reduce((function(e,n,r){return e[r]=null,t.reflection&&Array.isArray(t.reflection.json_data)&&r<t.reflection.json_data.length&&(e[r]=+t.reflection.json_data[r]),t.widgetConfig.fake_answer&&(e[r]=1),e}),{})}},created:function(){this.initDataJson()},watch:{reflection:function(){this.initDataJson()}}},o=n(0),s=Object(o.a)(i,r,[],!1,null,"3bc970cc",null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{class:t.is_answered?"n-reflection-news-view-question":"n-reflection-news__question"},[e("div",{staticClass:"n-reflection__con-question"},[e("label",{staticClass:"n-reflection__text n-news",domProps:{textContent:t._s(t.text)}}),t._v(" "),e("div",[t._l(t.max_mark,(function(n){return[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"vo-label a-pointer-class",class:t.mark===n?t.classes["active-class"]:t.classes["default-class"],on:{click:function(e){return t.setMark(e,n)}}},[t._v("STAR="+t._s(n))])]}))],2)]),t._v(" "),t.is_answered?[t._t("after-answer")]:t._e()],2)};r._withStripped=!0;var i={name:"YesNoTpl",props:["widgetConfig","reflectionConfig","reflection"],data:function(){return{classes:{"active-class":"n-active vo-label-green","default-class":" "}}},computed:{mark:function(){var t;return this.widgetConfig.fake_answer?this.max_mark:null===(t=this.reflection)||void 0===t?void 0:t.mark},is_answered:function(){return this.reflection&&this.reflection.id||this.widgetConfig.fake_answer},params:function(){return this.reflectionConfig.data_json.question},text:function(){return this.params.text},max_mark:function(){return this.params.max_mark}},methods:{setMark:function(t,e){this.$emit("save-reflection",t,{mark:e})}}},o=n(0),s=Object(o.a)(i,r,[],!1,null,"0c87d7e1",null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this;return(0,t._self._c)("div",[t._t("default",null,{rating:t.rating,cnt_all:t.cnt_all,cnt_minus:t.cnt_minus,cnt_plus:t.cnt_plus,cnt_premium:t.cnt_premium,cnt_pro:t.cnt_pro,cnt_pupil:t.cnt_pupil,cnt_user:t.cnt_user,is_heart:t.is_heart,heart_user:t.heart_user,cnt_marks:t.cnt_marks,last_users:t.last_users,fucSetLike:t.setLike})],2)};r._withStripped=!0;var i=n(5),o=n(44),s={name:"BaseView",props:["obj_key","like_json"],data:function(){return{MARK_HEART:o.a,MARK_PLUS:o.c,MARK_MINUS:o.b,rating:0,cnt_all:0,cnt_minus:0,cnt_plus:0,cnt_premium:0,cnt_pro:0,cnt_pupil:0,cnt_user:0,is_heart:0,heart_user:null,cnt_marks:[],last_users:[]}},computed:{},methods:{mark:function(t){return vo.like_marks.find((function(e){return e.id===t}))},setLike:function(t,e){var n=e===o.a&&this.is_heart?0:1;vo.ajaxPromise(t,vo.url_like+"/ext/web/set-like",{obj_key:this.obj_key,mark_id:e,is_set:n}).catch((function(t){return vo.popup.errorByResponse(t)})),this.$emit("like-dislike")},socketLikeRatingListener:function(t){var e=this,n=t.obj,r=(t.user,t.mark,t.like,t.is_set,t.rating);this.obj_key===n.obj_key&&r&&(this.rating=r.rating,this.cnt_all=r.cnt_all,this.cnt_minus=r.cnt_minus,this.cnt_plus=r.cnt_plus,this.cnt_premium=r.cnt_premium,this.cnt_pro=r.cnt_pro,this.cnt_pupil=r.cnt_pupil,this.cnt_user=r.cnt_user,this.is_heart=r.is_heart,this.heart_user=r.heart_user,this.cnt_marks=r.cnt_marks.filter((function(t){return![o.a,o.c,o.b].includes(t.id)})).sort((function(t,n){return e.mark(t.id).order-e.mark(n.id).order})),this.last_users=r.last_users)}},mounted:function(){var t=this;this.like_json&&(this.rating=this.like_json.rating,this.cnt_all=this.like_json.cnt_all,this.cnt_minus=this.like_json.cnt_minus,this.cnt_plus=this.like_json.cnt_plus,this.cnt_premium=this.like_json.cnt_premium,this.cnt_pro=this.like_json.cnt_pro,this.cnt_pupil=this.like_json.cnt_pupil,this.cnt_user=this.like_json.cnt_user,this.is_heart=this.like_json.is_heart,this.heart_user=this.like_json.heart_user,this.cnt_marks=this.like_json.cnt_marks.filter((function(t){return![o.a,o.c,o.b].includes(t.id)})).sort((function(e,n){return t.mark(e.id).order-t.mark(n.id).order})),this.last_users=this.like_json.last_users),vo.socket.emit("object join",this.obj_key.split(i.DELIMITER_OBJ_KEY)),vo.socket.on("like-rating",this.socketLikeRatingListener)},destroyed:function(){vo.socket.off("like-rating",this.socketLikeRatingListener)}},a=n(0),c=Object(a.a)(s,r,[],!1,null,"6dcc59ea",null);e.a=c.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"zoom",style:t.style,on:{click:t.zoom,mousemove:t.move}},[e("img",{directives:[{name:"touch",rawName:"v-touch:swipe.left",value:t.swipeLeft,expression:"swipeLeft",arg:"swipe",modifiers:{left:!0}},{name:"touch",rawName:"v-touch:swipe.right",value:t.swipeRight,expression:"swipeRight",arg:"swipe",modifiers:{right:!0}}],staticClass:"zoom",style:t.imgStyle,attrs:{src:t.image_src,alt:"alt"}})])};r._withStripped=!0;var i=n(290).a,o=(n(1180),n(0)),s=Object(o.a)(i,r,[],!1,null,"7baaeba0",null);e.a=s.exports},function(t,e,n){"use strict";var r=n(7),i=n(17),o=n(38);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.extensions=e}var e,n,r;return e=t,(n=[{key:"nodes",get:function(){return this.extensions.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n=e.name,r=e.schema;return c(c({},t),{},l({},n,r))}),{})}},{key:"marks",get:function(){return this.extensions.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n=e.name,r=e.schema;return c(c({},t),{},l({},n,r))}),{})}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=function(){var t=new d([new i.a,new i.k,new i.h,new o.a,new o.g,new o.k,new o.q,new o.d]);return new r.Schema({topNode:"doc",nodes:t.nodes,marks:t.marks})}},function(t,e,n){"use strict";function r(t){this.schoolsUrl="/ext/institutions/school",this.streetsUrl="/ext/address/street",this.housesUrl="/ext/address/house",this.postIndexesUrl="/ext/address/post-code",this.options=t,this.userLocationInput=document.querySelector(t.userLocationInput),this.userSchoolInput=document.querySelector(t.userSchoolInput),this.userSchoolList=document.querySelector(t.userSchoolList),this.userStreetList=document.querySelector(t.userStreetList),this.userHousesList=document.querySelector(t.userHousesList),this.userIndexesList=document.querySelector(t.userIndexesList),this.searchBySchoolInput=document.querySelector(t.searchBySchoolInput),this.searchByStreetInput=document.querySelector(t.searchByStreetInput),this.searchByHouseInput=document.querySelector(t.searchByHouseInput),this.searchByIndexInput=document.querySelector(t.searchByIndexInput),this.userFlatInput=document.querySelector(t.userFlatInput),this.userPositionInput=document.querySelector(t.userPositionInput),this.currentList={schools:{},streets:{},houses:{},indexes:{}}}n.d(e,"a",(function(){return r})),r.prototype.insertOptionsByArr=function(t,e){var n=e.children.length;if(n>0)for(;n>0;n--)e.removeChild(e.lastChild);var r=document.createDocumentFragment();for(var i in t){var o=document.createElement("li");o.classList.add("rk-filtered-item"),o.innerHTML=t[i],o.setAttribute("data-filtered-code",i),r.appendChild(o)}e.appendChild(r)},r.prototype.filterResults=function(t,e,n){var r={};t.match(/\./)&&(t=t.replace(/\./,"\\."));var i=new RegExp(t,"i");for(var o in e)if(e[o].match(i)){var s=e[o].replace(i,'<span style="color: #fff;background: #5ebcf7;">$&</span>');r[o]=s}this.insertOptionsByArr(r,n)},r.prototype.fetchData=function(t,e,n){var r,i,o={code:e||t.target.value},s=this;switch(n){case"schools":r=s.schoolsUrl,i=s.userSchoolList;break;case"streets":r=s.streetsUrl,i=s.userStreetList;break;case"houses":r=s.housesUrl,i=s.userHousesList,o.street=e,o.code=s.userLocationInput.value;break;case"indexes":r=s.postIndexesUrl,i=s.userIndexesList,o.street=e,o.code=s.userLocationInput.value}if(!o.code)return s.userSchoolList&&document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),s.currentList[n]={},void s.insertOptionsByArr({},i);vo.ajax(null,r,o,(function(t){s.userSchoolList&&document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),s.currentList[n]=t,s.insertOptionsByArr(t,i)}))},r.prototype.focusSearchInput=function(t,e){"block"!==t.style.display&&(t.style.display="block")},r.prototype.initAfterCity=function(t){var e=this;document.addEventListener(t||"select-city-initialized",(function(){e.init(!0)}))},r.prototype.init=function(){var t=this;(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.userLocationInput.value&&(t.userSchoolList&&(document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),t.fetchData(null,t.userLocationInput.value,"schools")),t.userStreetList&&t.fetchData(null,t.userLocationInput.value,"streets")):window.addEventListener("load",(function(){t.userLocationInput.value&&(t.userSchoolList&&(document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),t.fetchData(null,t.userLocationInput.value,"schools")),t.userStreetList&&t.fetchData(null,t.userLocationInput.value,"streets"))})),t.userLocationInput.addEventListener("select_location",(function(e){t.userSchoolList&&(t.setNewValue(t.searchBySchoolInput,""),t.setNewValue(t.userSchoolInput,""),t.fetchData(e,null,"schools")),t.userStreetList&&(t.setNewValue(t.searchByStreetInput,""),t.setNewValue(t.searchByHouseInput,""),t.setNewValue(t.searchByIndexInput,""),t.userFlatInput&&t.setNewValue(t.userFlatInput,""),t.fetchData(e,null,"streets"))})),t.searchBySchoolInput&&(t.userSchoolList.addEventListener("click",(function(e){var n=t.getTrueParent(e);if(n){var r=n.getAttribute("data-filtered-code");t.setNewValue(t.searchBySchoolInput,t.currentList.schools[r]),t.setNewValue(t.userSchoolInput,r),t.userPositionInput&&t.userPositionInput.focus(),this.style.display=""}})),t.searchBySchoolInput.addEventListener("input",(function(e){var n=e.target.value;t.filterResults(n,t.currentList.schools,t.userSchoolList)})),t.searchBySchoolInput.addEventListener("focus",(function(e){t.focusSearchInput(t.userSchoolList,e)})),t.searchBySchoolInput.addEventListener("keydown",(function(t){13===t.keyCode&&t.preventDefault()}))),document.addEventListener("click",(function(e){var n=e.target;t.userSchoolList&&(n.closest(t.options.userSchoolList)||n.closest(t.options.searchBySchoolInput)||(t.searchBySchoolInput.setAttribute("placeholder","Оберіть зі списку"),t.userSchoolList.style.display="")),t.userStreetList&&(n.closest(t.options.searchByStreetInput)||(t.searchByStreetInput.setAttribute("placeholder","Оберіть зі списку"),t.userStreetList.style.display=""),n.closest(t.options.searchByHouseInput)||(t.searchByHouseInput.setAttribute("placeholder","Оберіть зі списку"),t.userHousesList.style.display=""),n.closest(t.options.searchByIndexInput)||(t.searchByIndexInput.setAttribute("placeholder","Оберіть зі списку"),t.userIndexesList.style.display=""))})),t.searchByStreetInput)&&(t.userStreetList.addEventListener("click",(function(e){var n=t.getTrueParent(e);if(n){var r=n.getAttribute("data-filtered-code");t.setNewValue(t.searchByStreetInput,t.currentList.streets[r]),this.style.display="",t.fetchData(null,t.currentList.streets[r],"houses"),t.fetchData(null,t.currentList.streets[r],"indexes")}})),t.userHousesList.addEventListener("click",(function(e){var n=t.getTrueParent(e);if(n){var r=n.getAttribute("data-filtered-code");t.setNewValue(t.searchByHouseInput,t.currentList.houses[r]),this.style.display=""}})),t.userIndexesList.addEventListener("click",(function(e){var n=t.getTrueParent(e);if(n){var r=n.getAttribute("data-filtered-code");t.setNewValue(t.searchByIndexInput,t.currentList.indexes[r]),this.style.display=""}})),t.searchByStreetInput.addEventListener("focus",(function(e){t.focusSearchInput(t.userStreetList,e)})),t.searchByHouseInput.addEventListener("focus",(function(e){t.focusSearchInput(t.userHousesList,e)})),t.searchByIndexInput.addEventListener("focus",(function(e){t.focusSearchInput(t.userIndexesList,e)})),[t.searchByStreetInput,t.searchByHouseInput,t.searchByIndexInput].forEach((function(t){t.addEventListener("keydown",(function(t){13===t.keyCode&&t.preventDefault()}))})),t.searchByStreetInput.addEventListener("input",(function(e){var n=e.target.value;t.filterResults(n,t.currentList.streets,t.userStreetList)})),t.searchByHouseInput.addEventListener("input",(function(e){var n=e.target.value;t.filterResults(n,t.currentList.houses,t.userHousesList)})),t.searchByIndexInput.addEventListener("input",(function(e){var n=e.target.value;t.filterResults(n,t.currentList.indexes,t.userIndexesList)})))},r.prototype.setNewValue=function(t,e){if(t)if(t.value=e,t.title=e,"createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),t.dispatchEvent(n)}else t.fireEvent("onchange")},r.prototype.getTrueParent=function(t){return t?t.target.classList.contains("rk-filtered-item")?t.target:t.target.parentNode.classList.contains("rk-filtered-item")?t.target.parentNode:null:null},Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group n-input-category",class:{"has-error":t.err_msg},attrs:{id:t.iWidgetContainerId},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[!1!==t.inputLabel?e("label",{staticClass:"control-label",attrs:{for:t.iInputId}},[t._v(t._s(t.iLabel))]):t._e(),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.err_msg))]),t._v(" "),e("div",{staticClass:"n-input-city-wrap"},[e("input",{staticClass:"rk-user-location__input",attrs:{type:"hidden",id:t.inputId,name:t.inputName}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_query,expression:"search_query"}],ref:"input",staticClass:"form-control",attrs:{type:"text",autocomplete:"off",id:t.iInputId,placeholder:t.placeholder,maxlength:255},domProps:{value:t.search_query},on:{click:function(e){return t.onInputClick(e)},input:function(e){e.target.composing||(t.search_query=e.target.value)}}}),t._v(" "),t.search_query?e("i",{staticClass:"n-category-input-delete",attrs:{id:t.iClearId},on:{click:function(e){return t.clearSearchInput()}}},[e("span",[t._v("+")])]):t._e(),t._v(" "),e("span",{class:["n-arrow-input-category","a-pointer-class",t.show_select?"active":""],on:{click:function(e){return t.toggleSelect()}}},[e("i")])]),t._v(" "),e("ul",{ref:"autocomplete",staticClass:"js-autocomplete vr-filtered-list",attrs:{id:t.iSelectId}},[t._e(),t._v(" "),t.cities.length?t._e():e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("Місто "),e("strong",[t._v(t._s(t.search_query))]),t._v(" не знайдено...")]),t._v(" "),t._l(t.cities,(function(n){return e("li",{class:["rk-filtered-item",t.id==n.id?"active":""],attrs:{"data-id":n.id},domProps:{innerHTML:t._s(t.id==n.id?n.full_address:t.highlightString(n.full_address))},on:{click:function(e){return t.selectCity(n.id,n.full_address)}}})}))],2)])};r._withStripped=!0;var i=n(1),o={name:"SelectCityNew",filters:{plural:i.ab},props:["widgetId","inputId","inputName","inputValue","inputLabel","err_msg"],data:function(){return{is_initialized:!1,is_disabled_ajax:!1,break_loop:!1,show_select:!1,id:"",full_address:"",search_query:"",last_search_query:"",cache:{}}},computed:{iWidgetId:function(){return this.widgetId||this.randomString},iLabel:function(){return this.inputLabel||"Населений пункт"},iWidgetContainerId:function(){return this.iWidgetId+"__widget"},iInputId:function(){return this.iWidgetId+"__input"},iSelectId:function(){return this.iWidgetId+"__autocomplete"},iClearId:function(){return this.iWidgetId+"__clear"},placeholder:function(){return"Введіть назву населеного пункту..."},randomString:function(){return"c"+Math.random().toString(36).substring(7)},cities:function(){return this.cache[this.last_search_query]||[]}},methods:{triggerId:function(t,e){if(this.is_disabled_ajax&&(this.break_loop=!0),this.id!=t){this.id=t,this.full_address=e;var n=document.getElementById(this.inputId);if(n)if(n.value=t,"createEvent"in document){var r=document.createEvent("HTMLEvents");r.initEvent("change",!1,!0),n.dispatchEvent(r),n.dispatchEvent(new CustomEvent("select_location"))}else n.fireEvent("onchange"),n.fireEvent("select_location");this.$emit("select-city-selected",t,e)}},onInputClick:function(t){t.target.setSelectionRange(0,t.target.value.length),this.showSelect()},showSelect:function(){this.show_select=!0,this.$refs.autocomplete.style.display="block"},toggleSelect:function(){this.show_select?this.skipToDefault():this.showSelect()},highlightString:function(t){return Object(i.H)(t,this.search_query)},clearSearchInput:function(){this.search_query="",this.last_search_query="",this.$refs.input.focus(),this.triggerId("",""),this.showSelect()},selectCity:function(t,e){this.show_select=!1,this.$refs.autocomplete.style.display="",this.search_query=e,this.$refs.input.blur(),this.triggerId(t,e)},fetchData:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.cache[t])return this.last_search_query=t,this.selectCityFromData(this.cache[t],r),void(this.break_loop?this.break_loop=!1:n&&this.showSelect());this.is_disabled_ajax||(this.is_disabled_ajax=!0,setTimeout((function(){e.is_disabled_ajax=!1,e.break_loop?e.break_loop=!1:e.search_query!=t&&e.fetchData(e.search_query)}),1500),vo.ajax(null,"/ext/address/search-city",{query:t,id:r},(function(i){e.$set(e.$data.cache,t,i),e.selectCityFromData(i,r),e.break_loop||(e.last_search_query=t,n&&e.showSelect())})))},selectCityFromData:function(t,e){if(e){var n=t.find((function(t){return t.id==e}));n&&this.selectCity(n.id,n.full_address)}this.is_initialized||this.triggerSelectInitialized()},skipToDefault:function(){var t="",e="";this.search_query&&this.full_address&&this.id?(t=this.full_address,e=this.id):this.last_search_query=t,this.selectCity(e,t)},addBaseListeners:function(){document.addEventListener("click",this.baseListener)},removeBaseListeners:function(){document.removeEventListener("click",this.baseListener)},baseListener:function(t){!!t.target.closest("#"+this.iWidgetContainerId)||this.skipToDefault()},triggerSelectInitialized:function(){this.is_initialized=!0;var t,e="select-city-initialized";this.inputId&&(t=e+":"+this.inputId),this.$emit(e),"dispatchEvent"in document?(document.dispatchEvent(new CustomEvent(e)),t&&document.dispatchEvent(new CustomEvent(t))):"fireEvent"in document&&(document.fireEvent(e),t&&document.fireEvent(t))}},created:function(){var t="LocationWidgetNew_default";t in window&&window[t].length&&this.$set(this.$data.cache,"",window[t])},mounted:function(){var t=this;this.$nextTick((function(){t.fetchData("",!1,t.inputValue),t.addBaseListeners()}))},destroyed:function(){this.removeBaseListeners()},watch:{search_query:function(t,e){t!==e&&t!==this.full_address&&this.fetchData(t)}}},s=o,a=n(0),c=Object(a.a)(s,r,[],!1,null,"3bf0b2c5",null);e.a=c.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"items"},t._l(t.items,(function(n,r){return e("div",{staticClass:"v-file-upload-block"},[e("span",{domProps:{innerHTML:t._s(t.filePreview(n))}}),t._v(" "),e("a",{attrs:{href:t._f("fileUrl")(n.file),target:"_blank"}},[t._v(t._s(n.file))]),t._v(" "),e("a",{staticClass:"v-delete-btn",on:{click:function(e){return t.removeItem(r)}}},[t._v("x")])])})),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.is_uploading,expression:"is_uploading"}],staticClass:"progress",staticStyle:{position:"relative"}},[e("div",{staticClass:"bar",staticStyle:{height:"100%",width:"100%",position:"absolute"}}),t._v(" "),e("div",{staticClass:"percent",staticStyle:{"z-index":"1",position:"relative"}},[t._v(t._s(parseInt(t.upload_progress))+"%")])]),t._v(" "),e("div",{staticClass:"upload"},[e("button",{ref:"Button",staticClass:"v-border-upload",attrs:{type:"button"},on:{click:t.openFileExplorer}},[e("i",{staticClass:"vo-icon download"}),t._v("Обрати файл на вашому ПК")])])])};r._withStripped=!0;var i={name:"FileInput",mixins:[n(382).a]},o=n(0),s=Object(o.a)(i,r,[],!1,null,"94a4f1b4",null);e.a=s.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r="abcdefghijklmnopqrstuvwxyz",i=[{value:0,title:"100% співпадіння (без права на помилку)"},{value:1,title:"З частковим співпадінням (попередня версія до 2021 року)"},{value:2,title:"З частковим співпадінням пропорційна (оновлена, рекомендована)"}]},function(t,e,n){var r=n(47),i=n(40).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(40),i=n(95),o=n(166),s=n(404),a=n(65).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(223)("keys"),i=n(180);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(40).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(61),i=n(149),o=n(249),s=n(225),a=n(76),c=n(224),l=Object.assign;t.exports=!l||n(46)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,u=1,f=o.f,d=s.f;l>u;)for(var h,p=c(arguments[u++]),v=f?i(p).concat(f(p)):i(p),m=v.length,g=0;m>g;)h=v[g++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(t,e,n){var r=n(47),i=n(36),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(122)(Function.call,n(109).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(47),i=n(319).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(129),i=n(138);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(254),i=n(138);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(55)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(183),i=n(55)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(65),i=n(165);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(658);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(76),i=n(181),o=n(62);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(169),i=n(333),o=n(183),s=n(96);t.exports=n(252)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o=n(227),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,l="lastIndex",u=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r[l]||0!==i[l]),f=void 0!==/()??/.exec("")[1];(u||f)&&(c=function(t){var e,n,r,i,c=this;return f&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c[l]),r=s.call(c,t),u&&r&&(c[l]=c.global?r.index+r[0].length:e),f&&r&&r.length>1&&a.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){"use strict";var r=n(251)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,s=n(122),a=n(320),c=n(317),l=n(313),u=n(40),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,v=u.Dispatch,m=0,g={},y="onreadystatechange",_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){_.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete g[t]},"process"==n(128)(f)?r=function(t){f.nextTick(s(_,t,1))}:v&&v.now?r=function(t){v.now(s(_,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r=y in l("script")?function(t){c.appendChild(l("script"))[y]=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){var r=n(40),i=n(336).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(128)(s);t.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(89);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(40),i=n(61),o=n(166),s=n(260),a=n(107),c=n(186),l=n(46),u=n(185),f=n(129),d=n(62),h=n(428),p=n(182).f,v=n(65).f,m=n(331),g=n(204),y="ArrayBuffer",_="DataView",b="prototype",w="Wrong index!",k=r[y],x=r[_],S=r.Math,C=r.RangeError,O=r.Infinity,E=k,P=S.abs,A=S.pow,T=S.floor,j=S.log,M=S.LN2,I="buffer",N="byteLength",R="byteOffset",D=i?"_b":I,L=i?"_l":N,B=i?"_o":R;function $(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,l=c>>1,u=23===e?A(2,-24)-A(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===O?(i=t!=t?1:0,r=c):(r=T(j(t)/M),t*(o=A(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?u/o:u*A(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(t*o-1)*A(2,e),r+=l):(i=t*A(2,l-1)*A(2,e),r=0));e>=8;s[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[f++]=255&r,r/=256,a-=8);return s[--f]|=128*d,s}function F(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,c=n-1,l=t[c--],u=127&l;for(l>>=7;a>0;u=256*u+t[c],c--,a-=8);for(r=u&(1<<-a)-1,u>>=-a,a+=e;a>0;r=256*r+t[c],c--,a-=8);if(0===u)u=1-s;else{if(u===o)return r?NaN:l?-O:O;r+=A(2,e),u-=s}return(l?-1:1)*r*A(2,u-e)}function q(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function V(t){return[255&t,t>>8&255]}function z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return $(t,52,8)}function W(t){return $(t,23,4)}function Y(t,e,n){v(t[b],e,{get:function(){return this[n]}})}function G(t,e,n,r){var i=h(+n);if(i+e>t[L])throw C(w);var o=t[D]._b,s=i+t[B],a=o.slice(s,s+e);return r?a:a.reverse()}function J(t,e,n,r,i,o){var s=h(+n);if(s+e>t[L])throw C(w);for(var a=t[D]._b,c=s+t[B],l=r(+i),u=0;u<e;u++)a[c+u]=l[o?u:e-u-1]}if(s.ABV){if(!l((function(){k(1)}))||!l((function(){new k(-1)}))||l((function(){return new k,new k(1.5),new k(NaN),k.name!=y}))){for(var K,Q=(k=function(t){return u(this,k),new E(h(t))})[b]=E[b],X=p(E),Z=0;X.length>Z;)(K=X[Z++])in k||a(k,K,E[K]);o||(Q.constructor=k)}var tt=new x(new k(2)),et=x[b].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||c(x[b],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else k=function(t){u(this,k,y);var e=h(t);this._b=m.call(new Array(e),0),this[L]=e},x=function(t,e,n){u(this,x,_),u(t,k,_);var r=t[L],i=f(e);if(i<0||i>r)throw C("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw C("Wrong length!");this[D]=t,this[B]=i,this[L]=n},i&&(Y(k,N,"_l"),Y(x,I,"_b"),Y(x,N,"_l"),Y(x,R,"_o")),c(x[b],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return q(G(this,4,t,arguments[1]))},getUint32:function(t){return q(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){J(this,1,t,U,e)},setUint8:function(t,e){J(this,1,t,U,e)},setInt16:function(t,e){J(this,2,t,V,e,arguments[2])},setUint16:function(t,e){J(this,2,t,V,e,arguments[2])},setInt32:function(t,e){J(this,4,t,z,e,arguments[2])},setUint32:function(t,e){J(this,4,t,z,e,arguments[2])},setFloat32:function(t,e){J(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){J(this,8,t,H,e,arguments[2])}});g(k,y),g(x,_),a(x[b],s.VIEW,!0),e[y]=k,e[_]=x},function(t,e,n){var r=n(182),i=n(249),o=n(36),s=n(40).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";var r=n(78),i=n(190);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},function(t,e,n){"use strict";var r=n(63),i=n(826),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},function(t,e,n){"use strict";var r=n(63),i=n(73),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){"use strict";var r={};r[n(60)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(209),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=TypeError;t.exports=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}},function(t,e,n){"use strict";var r=n(829);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(131),i=n(232),o=n(114),s=function(t){return function(e,n,s){var a,c=r(e),l=o(c),u=i(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){"use strict";var r=n(153),i=n(131),o=n(271).f,s=n(463),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return s(a)}}(t):o(i(t))}},function(t,e,n){"use strict";var r=n(113);t.exports=function(t,e,n){return r.f(t,e,n)}},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(112),s=n(470),a=n(56),c=n(851),l=n(213),u=n(275),f=n(194),d=n(141),h=n(174),p=n(60),v=n(212),m=n(471),g=s.PROPER,y=s.CONFIGURABLE,_=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),k="keys",x="values",S="entries",C=function(){return this};t.exports=function(t,e,n,s,p,m,O){c(n,e,s);var E,P,A,T=function(t){if(t===p&&R)return R;if(!b&&t in I)return I[t];switch(t){case k:case x:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},j=e+" Iterator",M=!1,I=t.prototype,N=I[w]||I["@@iterator"]||p&&I[p],R=!b&&N||T(p),D="Array"==e&&I.entries||N;if(D&&(E=l(D.call(new t)))!==Object.prototype&&E.next&&(o||l(E)===_||(u?u(E,_):a(E[w])||h(E,w,C)),f(E,j,!0,!0),o&&(v[j]=C)),g&&p==x&&N&&N.name!==x&&(!o&&y?d(I,"name",x):(M=!0,R=function(){return i(N,this)})),p)if(P={values:T(x),keys:m?R:T(k),entries:T(S)},O)for(A in P)(b||M||!(A in I))&&h(I,A,P[A]);else r({target:e,proto:!0,forced:b||M},P);return o&&!O||I[w]===R||h(I,w,R,{name:p}),v[e]=R,P}},function(t,e,n){"use strict";t.exports=function(t,e){return{value:t,done:e}}},function(t,e,n){"use strict";t.exports=n(855)},function(t,e,n){"use strict";var r=n(66),i=n(78),o=n(93),s=n(191),a=n(276),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return o(r(n,t));throw c(s(t)+" is not iterable")}},function(t,e,n){"use strict";t.exports=n(896)},function(t,e,n){"use strict";var r=n(174);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},function(t,e,n){"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";t.exports=n(972)},function(t,e,n){"use strict";t.exports=n(988)},function(t,e,n){"use strict";var r=n(269),i=n(191),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a constructor")}},function(t,e,n){var r=n(362),i=n(283);function o(e,n){var s;return t.exports=o=r?i(s=r).call(s):function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e,n)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1091),i=TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){"use strict";var r=n(60)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows()}};function i(t,e){[].forEach.call(t,(function(t){var n=t.getAttribute("href");if(n){var r=n.substr(1),i=document.getElementById(r);i&&(e&&i.classList.add("anchor-target"),t.addEventListener("click",(function(t){return t.preventDefault(),vo.scrollTo(i),!1})))}}))}var o=function(){var t=document.querySelector(".js-i-profile-menu"),e=document.querySelector(".n-menu-col-kabinet"),n=document.querySelector(".js-v-icon-toggle-trigger-icon"),o=document.querySelector(".cabItemTextBtn"),s=document.querySelector("#n-mobile-nav-btn"),a=document.querySelector(".vr-hide-on-mobile-new"),c=document.querySelector(".vr-hide-on-mobile-old"),l=document.querySelector(".vr-toggle-button-old"),u=document.querySelector(".v-main-header"),f=document.querySelector(".js-v-profile-menu-wrap"),d=document.querySelectorAll(".anchor"),h=document.querySelectorAll('a[href^="#"]'),p=document.querySelector("#content-wrap"),v=document.querySelector(".v-toggle-button-kab"),m=document.querySelector(".v-hide-on-mobile-kab"),g=!1,y=function(){var t=parseInt(document.documentElement.clientWidth),e=parseInt(window.innerWidth)-t;return e}();v&&m&&v.addEventListener("click",(function(t){t.preventDefault(),m.classList.toggle("open")}));var _=function(t){if(f)return f.getBoundingClientRect().top<=0?f.style.maxHeight="".concat(window.innerHeight-(u.innerHeight-10),"px"):f.style.maxHeight="".concat(window.innerHeight-(f.getBoundingClientRect().top+20),"px")},b=function(){p&&(u.classList.contains("i-fixed")?p.style.cssText="margin-top:".concat(u.offsetHeight,"px;"):p.style.cssText="margin-top:0px;")},w=function(){var t,e,n,r,i=[].map.call(document.querySelectorAll(".anchor-target"),(function(t){return{top:t.offsetTop,el:t}})),o=0;for(u&&(o=u.clientHeight),t=0;t<i.length&&!(i[t].top>window.pageYOffset+o+42+100);++t);e=i[t-1]?"#"+i[t-1].el.id:null,n=d,r=e,[].forEach.call(n,(function(t){r===t.hash?t.classList.add("active"):t.classList.remove("active")}))};function k(n){t.classList.toggle("open"),t.classList.toggle("close"),o&&(o.innerText="Мій профіль (відкрити)",t.classList.contains("open")&&(o.innerText="Мій профіль (закрити)")),_(),document.addEventListener("click",(function(n){e.contains(n.target)||(o&&(o.innerText="Мій профіль (відкрити)"),t.classList.remove("open"),t.classList.add("close"))}))}if(o&&(t?(o.style.cssText="\n                display: block;\n            ",o.innerText="Мій профіль (відкрити)",window.innerWidth<1240&&(o.style.cssText+="\n                z-index: 999;\n                cursor: pointer;\n            ")):(o.style.cssText+="\n                display: none !important;\n            ",o.innerText="")),r.any()||window.innerWidth<1240)s&&s.addEventListener("click",(function(t){s.querySelector(".v-toggle-button").classList.toggle("close"),t.preventDefault(),a.classList.toggle("open"),x()})),f&&(n&&n.addEventListener("click",k),o&&o.addEventListener("click",k));else{function S(){t.classList.add("open"),t.classList.remove("close")}function C(){t.classList.remove("open"),t.classList.add("close")}f&&function(t,e,n,r){if(t){var i=null,o=function(){clearTimeout(i),i=null};t.onmouseover=function(){o(),i=setTimeout(e,null)},t.onmouseout=function(){o(),i=setTimeout(n,r)}}}(t,S,C,200)}var x=function(){var t=document.documentElement,e=u.querySelector(".n-header__mobile-row").offsetHeight;(g=!g)||(u.style.cssText+="\n                    width: 100%;\n                "),g?(a.style.cssText+="\n                    height: calc(100vh - ".concat(e,"px);\n                "),t.style.cssText+="\n                      overflow: hidden;\n                ",u.style.cssText+="\n                    top: 0;\n                    width: calc(100% - ".concat(y,"px);\n                ")):(a.style.cssText+="",t.style.cssText="")};if(l&&l.addEventListener("click",(function(t){t.preventDefault(),c.classList.toggle("open")})),d.length){i(d);i(d,"anchor-target"),w(),window.addEventListener("scroll",w)}if(u){b(),_();u.classList.contains("no-scroll")||window.addEventListener("scroll",(function(t){var e=u.getBoundingClientRect().bottom;window.pageYOffset>e?(u.classList.add("i-fixed"),g&&(u.style.cssText+="\n                    top: 0;\n                    width: calc(100% - ".concat(y,"px);\n                ")),g||(u.style.cssText+="\n                    width: 100%;\n                ")):(u.classList.remove("i-fixed"),g&&(u.style.cssText+="\n                    top: 0;\n                    position: fixed;\n                    width: calc(100% - ".concat(y,"px);\n                ")),g||(u.style.cssText+="\n                    width: 100%;\n                ")),_(),b()})),window.addEventListener("resize",_)}vo.lp.init_accordion(),h&&i(h)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(17),i=(n(19),n(126)),o=n(91);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(o)?o:String(o)),r)}var i,o}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(f,t);var e,n,s,u=l(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),u.apply(this,arguments)}return e=f,(n=[{key:"name",get:function(){return"editor_nl"}},{key:"defaultOptions",get:function(){return{selfData:null}}},{key:"plugins",get:function(){var t=this;return[Object(i.b)({"Mod-я":o.d,"Shift-Mod-я":o.b}),new r.i({props:{handleKeyDown:function(e,n){return!("Enter"!==n.key||!n.ctrlKey||(t.options.selfData.vueObj.$emit("submit",n),0))}}})]}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),f}(r.e)},function(t,e,n){var r=n(283),i=n(515),o=n(357),s=n(364),a=n(1073);function c(e,n,l){var u;a()?(t.exports=c=r(u=i).call(u),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=c=function(t,e,n){var i=[null];o(i).apply(i,e);var a=new(r(Function).apply(t,i));return n&&s(a,n.prototype),a},t.exports.__esModule=!0,t.exports.default=t.exports);return c.apply(null,arguments)}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="05014kuv-497a.png",i="02003fc9-49c1.jpg"},function(t,e,n){"use strict";var r=n(784),i=n(802);e.highlight=s,e.highlightAuto=function(t,e){var n,a,c,l,u=e||{},f=u.subset||r.listLanguages(),d=u.prefix,h=f.length,p=-1;null==d&&(d=o);if("string"!=typeof t)throw i("Expected `string` for value, got `%s`",t);a={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};for(;++p<h;)l=f[p],r.getLanguage(l)&&((c=s(l,t,e)).language=l,c.relevance>a.relevance&&(a=c),c.relevance>n.relevance&&(a=n,n=c));a.language&&(n.secondBest=a);return n},e.registerLanguage=function(t,e){r.registerLanguage(t,e)},e.listLanguages=function(){return r.listLanguages()},e.registerAlias=function(t,e){var n,i=t;e&&((i={})[t]=e);for(n in i)r.registerAliases(i[n],{languageName:n})},a.prototype.addText=function(t){var e,n,r=this.stack;if(""===t)return;e=r[r.length-1],(n=e.children[e.children.length-1])&&"text"===n.type?n.value+=t:e.children.push({type:"text",value:t})},a.prototype.addKeyword=function(t,e){this.openNode(e),this.addText(t),this.closeNode()},a.prototype.addSublanguage=function(t,e){var n=this.stack,r=n[n.length-1],i=t.rootNode.children,o=e?{type:"element",tagName:"span",properties:{className:[e]},children:i}:i;r.children=r.children.concat(o)},a.prototype.openNode=function(t){var e=this.stack,n=this.options.classPrefix+t,r=e[e.length-1],i={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(i),e.push(i)},a.prototype.closeNode=function(){this.stack.pop()},a.prototype.closeAllNodes=c,a.prototype.finalize=c,a.prototype.toHTML=function(){return""};var o="hljs-";function s(t,e,n){var s,c=r.configure({}),l=(n||{}).prefix;if("string"!=typeof t)throw i("Expected `string` for name, got `%s`",t);if(!r.getLanguage(t))throw i("Unknown language: `%s` is not registered",t);if("string"!=typeof e)throw i("Expected `string` for value, got `%s`",e);if(null==l&&(l=o),r.configure({__emitter:a,classPrefix:l}),s=r.highlight(e,{language:t,ignoreIllegals:!0}),r.configure(c||{}),s.errorRaised)throw s.errorRaised;return{relevance:s.relevance,language:s.language,value:s.emitter.rootNode.children}}function a(t){this.options=t,this.rootNode={children:[]},this.stack=[this.rootNode]}function c(){}},function(t,e,n){t.exports=n(1092)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(7),o=n(67),s=function(t,e){return function(n){Array.isArray(t)||(t=[t]);for(var r=0,i=t.length;r<i;r++){var o=M(t[r])(n.selection);if(o){var s=v(o.pos,e)(n);if(s!==n)return s}}return n}},a=function(t){return function(e){if(d(e.selection)){var n=e.selection,o=n.$from,s=n.$to;if(t instanceof i.Fragment&&o.parent.canReplace(o.index(),o.indexAfter(),t)||o.parent.canReplaceWith(o.index(),o.indexAfter(),t.type))return p(e.replaceWith(o.pos,s.pos,t).setSelection(new r.NodeSelection(e.doc.resolve(o.pos))))}return e}},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var i=r.Selection.findFrom(n.doc.resolve(t),e,!0);return i?n.setSelection(i):n}},l=function(t){return t.type&&t.type.spec.selectable},u=function(t,e,n){return function(t){return l(t)&&t.type.isLeaf}(t)?n.setSelection(new r.NodeSelection(n.doc.resolve(e))):c(e)(n)},f=function(t,e,n){return function(r){var i="number"==typeof e,o=r.selection.$from,c=i?r.doc.resolve(e):d(r.selection)?r.doc.resolve(o.pos+1):o,f=c.parent;if(d(r.selection)&&n&&r!==(r=a(t)(r)))return r;if(b(f)&&r!==(r=s(f.type,t)(r))){var h=l(t)?c.before(c.depth):c.pos;return u(t,h,r)}if(_(c,t)){r.insert(c.pos,t);var v=i?c.pos:l(t)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return p(u(t,v,r))}for(var m=c.depth;m>0;m--){var g=c.after(m),y=r.doc.resolve(g);if(_(y,t))return r.insert(g,t),p(u(t,g,r))}return r}},d=function(t){return t instanceof r.NodeSelection},h=function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t},p=function(t){return Object.assign(Object.create(t),t).setTime(Date.now())},v=function(t,e){return function(n){var r=n.doc.nodeAt(t),i=n.doc.resolve(t);if(m(i,e)){var o=(n=n.replaceWith(t,t+r.nodeSize,e)).selection.$from.pos-1;return n=c(Math.max(o,0),-1)(n),n=c(n.selection.$from.start())(n),p(n)}return n}},m=function(t,e){var n=t.node(t.depth);return n&&n.type.validContent(e instanceof i.Fragment?e:i.Fragment.from(e))},g=function(t){return function(e){var n=e.doc.nodeAt(t);return p(e.delete(t,t+n.nodeSize))}},y=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;var e={};return Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)})),t.cached.tableNodeTypes=e,e},_=function(t,e){var n=t.index();return e instanceof i.Fragment?t.parent.canReplace(n,n,e):e instanceof i.Node&&t.parent.canReplaceWith(n,n,e.type)},b=function(t){return!t||"paragraph"===t.type.name&&2===t.nodeSize},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t.createChecked(null,e):t.createAndFill()},k=function(t){return function(e){for(var n=o.TableMap.get(e.$anchorCell.node(-1)),r=e.$anchorCell.start(-1),i=n.cellsInRect(t),s=n.cellsInRect(n.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r)),a=0,c=i.length;a<c;a++)if(-1===s.indexOf(i[a]))return!1;return!0}},x=function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))},S=function(t){for(var e=o.TableMap.get(t),n=[],r=0;r<e.height;r++){for(var i=[],s={},a=0;a<e.width;a++){var c=e.map[r*e.width+a],l=t.nodeAt(c),u=e.findCell(c);s[c]||u.top!==r?i.push(null):(s[c]=!0,i.push(l))}n.push(i)}return n},C=function(t,e){for(var n=[],r=o.TableMap.get(t),i=0;i<r.height;i++){for(var s=t.child(i),a=[],c=0;c<r.width;c++)if(e[i][c]){var l=r.map[i*r.width+c],u=e[i][c],f=t.nodeAt(l).type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(f)}n.push(s.type.createChecked(s.attrs,a,s.marks))}return t.type.createChecked(t.attrs,n,t.marks)},O=function(t,e,n,r){var i=e[0]>n[0]?-1:1,o=t.splice(e[0],e.length),s=o.length%2==0?1:0,a=void 0;return a=-1===r&&1===i?n[0]-1:1===r&&-1===i?n[n.length-1]-s+1:-1===i?n[0]:n[n.length-1]-s,t.splice.apply(t,[a,0].concat(o)),t},E=function(t,e,n,r){var i="Target position is invalid, you can't move the "+r+" "+t+" to "+e+", the target can't be split. You could use tryToFit option.";if(1===(t>e?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(e))throw new Error(i)}else if(-1!==n.slice(1).indexOf(e))throw new Error(i);return!0},P=function(t){return function(e){var n=e.$from;return A(n,t)}},A=function(t,e){for(var n=t.depth;n>0;n--){var r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}},T=function(t,e){return function(n){var r=P(t)(n);if(r)return N(r.pos,e)}},j=function(t){return function(e){return!!P(t)(e)}},M=function(t){return function(e){return P((function(e){return h(t,e)}))(e)}},I=function(t){var e=t.$from.nodeBefore,n=r.Selection.findFrom(t.$from,-1);if(n&&e){var i=M(e.type)(n);return i?i.pos:n.$from.pos}},N=function(t,e){var n=e(t),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},R=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');var n=[];return t.descendants((function(t,r){if(n.push({node:t,pos:r}),!e)return!1})),n},D=function(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return R(t,n).filter((function(t){return e(t.node)}))},L=function(t,e,n){return D(t,(function(t){return t.type===e}),n)};var B=function(t){return P((function(t){return t.type.spec.tableRole&&"table"===t.type.spec.tableRole}))(t)},$=function(t){return t instanceof o.CellSelection},F=function(t){if($(t)){var e=o.TableMap.get(t.$anchorCell.node(-1));return k({left:0,right:e.width,top:0,bottom:e.height})(t)}return!1},q=function(t){return function(e){var n=B(e);if(n){var r=o.TableMap.get(n.node);return(Array.isArray(t)?t:Array.from([t])).reduce((function(t,e){if(e>=0&&e<=r.width-1){var i=r.cellsInRect({left:e,right:e+1,top:0,bottom:r.height});return t.concat(i.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},U=function(t){return function(e){var n=B(e);if(n){var r=o.TableMap.get(n.node);return(Array.isArray(t)?t:Array.from([t])).reduce((function(t,e){if(e>=0&&e<=r.height-1){var i=r.cellsInRect({left:0,right:r.width,top:e,bottom:e+1});return t.concat(i.map((function(t){var e=n.node.nodeAt(t),r=t+n.start;return{pos:r,start:r+1,node:e}})))}}),[])}}},V=function(t){return function(e,n){return function(r){var i=B(r.selection),s="row"===t;if(i){var a=o.TableMap.get(i.node);if(e>=0&&e<(s?a.height:a.width)){var c=s?0:e,l=s?e:0,u=s?a.width:e+1,f=s?e+1:a.height;if(n){var d=Q(r.selection.$from);if(!d)return r;var h=a.findCell(d.pos-i.start);s?(l=Math.min(l,h.top),f=Math.max(f,h.bottom)):(c=Math.min(c,h.left),u=Math.max(u,h.right))}var v=a.cellsInRect({left:c,top:l,right:s?u:c+1,bottom:s?l+1:f}),m=f-l==1?v:a.cellsInRect({left:s?c:u-1,top:s?f-1:l,right:u,bottom:f}),g=i.start+v[0],y=i.start+m[m.length-1],_=r.doc.resolve(g),b=r.doc.resolve(y);return p(r.setSelection(new o.CellSelection(b,_)))}}return r}}},z=V("column"),H=V("row"),W=function(t){return function(e){var n=B(e.selection);if(n){var r=o.TableMap.get(n.node);if(t>=0&&t<=r.height){for(var i=n.node,s=y(i.type.schema),a=n.start,c=0;c<t+1;c++)a+=i.child(c).nodeSize;var l=i.child(t),u=[],d=0;if(l.forEach((function(t){1===t.attrs.rowspan&&(d+=t.attrs.colspan,u.push(s[t.type.spec.tableRole].createAndFill(t.attrs,t.marks)))})),d<r.width){for(var h=[],p=function(n){var r=Z(n,(function(e,r){var i=e.node.attrs.rowspan;return i>1&&n+i>t}))(e);h.push.apply(h,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r))},v=t;v>=0;v--)p(v);h.length&&h.forEach((function(t){e=K(t,{rowspan:t.node.attrs.rowspan+1})(e)}))}return f(s.row.create(l.attrs,u),a)(e)}}return e}},Y=function(t){return function(e){var n=B(e.selection);if(n){var r=o.TableMap.get(n.node);if(0===t&&1===r.width)return J(e);if(t>=0&&t<=r.width)return o.removeColumn(e,{map:r,tableStart:n.start,table:n.node},t),p(e)}return e}},G=function(t){return function(e){var n=B(e.selection);if(n){var r=o.TableMap.get(n.node);if(0===t&&1===r.height)return J(e);if(t>=0&&t<=r.height)return o.removeRow(e,{map:r,tableStart:n.start,table:n.node},t),p(e)}return e}},J=function(t){for(var e=t.selection.$from,n=e.depth;n>0;n--){if("table"===e.node(n).type.spec.tableRole)return p(t.delete(e.before(n),e.after(n)))}return t},K=function(t,e){return function(n){return t?(n.setNodeMarkup(t.pos,null,Object.assign({},t.node.attrs,e)),p(n)):n}},Q=function(t){return A(t,(function(t){return t.type.spec.tableRole&&/cell/i.test(t.type.spec.tableRole)}))},X=function(t){var e=Q(t);if(e){var n=function(t){return A(t,(function(t){return t.type.spec.tableRole&&/table/i.test(t.type.spec.tableRole)}))}(t),r=o.TableMap.get(n.node),i=e.pos-n.start;return r.rectBetween(i,i)}},Z=function(t,e){return function(n){var r=[],i=U(t)(n.selection);if(i)for(var o=i.length-1;o>=0;o--)e(i[o],n)&&r.push(i[o]);return r}},tt=function(t){return function(e){for(var n=t,r=t,i=function(t){var i=q(t)(e.selection);i&&i.forEach((function(e){var i=e.node.attrs.colspan+t-1;i>=n&&(n=t),i>r&&(r=i)}))},o=t;o>=0;o--)i(o);var s=function(t){var n=q(t)(e.selection);n&&n.forEach((function(e){var n=e.node.attrs.colspan+t-1;e.node.attrs.colspan>1&&n>r&&(r=n)}))};for(o=t;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var c=q(o)(e.selection);c&&c.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var l=q(n)(e.selection),u=U(0)(e.selection),f=e.doc.resolve(l[l.length-1].pos),d=void 0,h=r;h>=n;h--){var p=q(h)(e.selection);if(p&&p.length){for(var v=u.length-1;v>=0;v--)if(u[v].pos===p[0].pos){d=p[0];break}if(d)break}}return{$anchor:f,$head:e.doc.resolve(d.pos),indexes:a}}},et=function(t){return function(e){for(var n=t,r=t,i=function(t){U(t)(e.selection).forEach((function(e){var i=e.node.attrs.rowspan+t-1;i>=n&&(n=t),i>r&&(r=i)}))},o=t;o>=0;o--)i(o);var s=function(t){U(t)(e.selection).forEach((function(e){var n=e.node.attrs.rowspan+t-1;e.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(o=t;o<=r;o++)s(o);var a=[];for(o=n;o<=r;o++){var c=U(o)(e.selection);c&&c.length&&a.push(o)}n=a[0],r=a[a.length-1];for(var l=U(n)(e.selection),u=q(0)(e.selection),f=e.doc.resolve(l[l.length-1].pos),d=void 0,h=r;h>=n;h--){var p=U(h)(e.selection);if(p&&p.length){for(var v=u.length-1;v>=0;v--)if(u[v].pos===p[0].pos){d=p[0];break}if(d)break}}return{$anchor:f,$head:e.doc.resolve(d.pos),indexes:a}}};e.isNodeSelection=d,e.canInsert=_,e.convertTableNodeToArrayOfRows=S,e.convertArrayOfRowsToTableNode=C,e.findParentNode=P,e.findParentNodeClosestToPos=A,e.findParentDomRef=T,e.hasParentNode=j,e.findParentNodeOfType=M,e.findParentNodeOfTypeClosestToPos=function(t,e){return A(t,(function(t){return h(e,t)}))},e.hasParentNodeOfType=function(t){return function(e){return j((function(e){return h(t,e)}))(e)}},e.findParentDomRefOfType=function(t,e){return function(n){return T((function(e){return h(t,e)}),e)(n)}},e.findSelectedNodeOfType=function(t){return function(e){if(d(e)){var n=e.node,r=e.$from;if(h(t,n))return{node:n,pos:r.pos,depth:r.depth}}}},e.findPositionOfNodeBefore=I,e.findDomRefAtPos=N,e.flatten=R,e.findChildren=D,e.findTextNodes=function(t,e){return D(t,(function(t){return t.isText}),e)},e.findInlineNodes=function(t,e){return D(t,(function(t){return t.isInline}),e)},e.findBlockNodes=function(t,e){return D(t,(function(t){return t.isBlock}),e)},e.findChildrenByAttr=function(t,e,n){return D(t,(function(t){return!!e(t.attrs)}),n)},e.findChildrenByType=L,e.findChildrenByMark=function(t,e,n){return D(t,(function(t){return e.isInSet(t.marks)}),n)},e.contains=function(t,e){return!!L(t,e).length},e.findTable=B,e.isCellSelection=$,e.getSelectionRect=function(t){if($(t)){var e=t.$anchorCell.start(-1);return o.TableMap.get(t.$anchorCell.node(-1)).rectBetween(t.$anchorCell.pos-e,t.$headCell.pos-e)}},e.isColumnSelected=function(t){return function(e){if($(e)){var n=o.TableMap.get(e.$anchorCell.node(-1));return k({left:t,right:t+1,top:0,bottom:n.height})(e)}return!1}},e.isRowSelected=function(t){return function(e){if($(e)){var n=o.TableMap.get(e.$anchorCell.node(-1));return k({left:0,right:n.width,top:t,bottom:t+1})(e)}return!1}},e.isTableSelected=F,e.getCellsInColumn=q,e.getCellsInRow=U,e.getCellsInTable=function(t){var e=B(t);if(e){var n=o.TableMap.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((function(t){var n=e.node.nodeAt(t),r=t+e.start;return{pos:r,start:r+1,node:n}}))}},e.selectColumn=z,e.selectRow=H,e.selectTable=function(t){var e=B(t.selection);if(e){var n=o.TableMap.get(e.node).map;if(n&&n.length){var r=e.start+n[0],i=e.start+n[n.length-1],s=t.doc.resolve(r),a=t.doc.resolve(i);return p(t.setSelection(new o.CellSelection(a,s)))}}return t},e.emptyCell=function(t,e){return function(n){if(t){var r=y(e).cell.createAndFill().content;if(!t.node.content.eq(r))return n.replaceWith(t.pos+1,t.pos+t.node.nodeSize,r),p(n)}return n}},e.addColumnAt=function(t){return function(e){var n=B(e.selection);if(n){var r=o.TableMap.get(n.node);if(t>=0&&t<=r.width)return p(o.addColumn(e,{map:r,tableStart:n.start,table:n.node},t))}return e}},e.moveRow=function(t,e,n){return function(r){var i=Object.assign({tryToFit:!1,direction:0},n),o=B(r.selection);if(!o)return r;var s=et(t)(r).indexes,a=et(e)(r).indexes;if(s.indexOf(e)>-1)return r;!i.tryToFit&&a.length>1&&E(t,e,a,"row");var c=function(t,e,n,r){var i=S(t.node);return i=O(i,e,n,r),C(t.node,i)}(o,s,a,i.direction);return p(r).replaceWith(o.pos,o.pos+o.node.nodeSize,c)}},e.moveColumn=function(t,e,n){return function(r){var i=Object.assign({tryToFit:!1,direction:0},n),o=B(r.selection);if(!o)return r;var s=tt(t)(r).indexes,a=tt(e)(r).indexes;if(s.indexOf(e)>-1)return r;!i.tryToFit&&a.length>1&&E(t,e,a,"column");var c=function(t,e,n,r){var i=x(S(t.node));return i=O(i,e,n,r),i=x(i),C(t.node,i)}(o,s,a,i.direction);return p(r).replaceWith(o.pos,o.pos+o.node.nodeSize,c)}},e.addRowAt=function(t,e){return function(n){var r=B(n.selection);if(r){var i=o.TableMap.get(r.node),s=t-1;if(e&&s>=0)return p(W(s)(n));if(t>=0&&t<=i.height)return p(o.addRow(n,{map:i,tableStart:r.start,table:r.node},t))}return n}},e.cloneRowAt=W,e.removeColumnAt=Y,e.removeRowAt=G,e.removeTable=J,e.removeSelectedColumns=function(t){var e=t.selection;if(F(e))return J(t);if($(e)){var n=B(e);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==i.left&&i.right==r.width)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.right-1;o.removeColumn(t,s,a),a!==s.left;a--)s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=o.TableMap.get(s.table);return p(t)}}return t},e.removeSelectedRows=function(t){var e=t.selection;if(F(e))return J(t);if($(e)){var n=B(e);if(n){var r=o.TableMap.get(n.node),i=r.rectBetween(e.$anchorCell.pos-n.start,e.$headCell.pos-n.start);if(0==i.top&&i.bottom==r.height)return!1;for(var s=Object.assign({},i,{map:r,table:n.node,tableStart:n.start}),a=s.bottom-1;o.removeRow(t,s,a),a!==s.top;a--)s.table=s.tableStart?t.doc.nodeAt(s.tableStart-1):t.doc,s.map=o.TableMap.get(s.table);return p(t)}}return t},e.removeColumnClosestToPos=function(t){return function(e){var n=X(t);return n?Y(n.left)(c(t.pos)(e)):e}},e.removeRowClosestToPos=function(t){return function(e){var n=X(t);return n?G(n.top)(c(t.pos)(e)):e}},e.forEachCellInColumn=function(t,e,n){return function(i){var o=q(t)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=e(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}return p(i)}return i}},e.forEachCellInRow=function(t,e,n){return function(i){var o=U(t)(i.selection);if(o){for(var s=o.length-1;s>=0;s--)i=e(o[s],i);if(n){var a=i.doc.resolve(i.mapping.map(o[o.length-1].pos));i.setSelection(r.Selection.near(a))}}return i}},e.setCellAttrs=K,e.createTable=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=y(t),s=o.cell,a=o.header_cell,c=o.row,l=o.table,u=[],f=[],d=0;d<n;d++)u.push(w(s,i)),r&&f.push(w(a,i));for(var h=[],p=0;p<e;p++)h.push(c.createChecked(null,r&&0===p?f:u));return l.createChecked(null,h)},e.findCellClosestToPos=Q,e.findCellRectClosestToPos=X,e.getSelectionRangeInColumn=tt,e.getSelectionRangeInRow=et,e.removeParentNodeOfType=function(t){return function(e){var n=M(t)(e.selection);return n?g(n.pos)(e):e}},e.replaceParentNodeOfType=s,e.removeSelectedNode=function(t){if(d(t.selection)){var e=t.selection.$from.pos,n=t.selection.$to.pos;return p(t.delete(e,n))}return t},e.replaceSelectedNode=a,e.setTextSelection=c,e.safeInsert=f,e.setParentNodeMarkup=function(t,e,n,r){return function(i){var o=M(t)(i.selection);return o?p(i.setNodeMarkup(o.pos,e,Object.assign({},o.node.attrs,n),r)):i}},e.selectParentNodeOfType=function(t){return function(e){if(!d(e.selection)){var n=M(t)(e.selection);if(n)return p(e.setSelection(r.NodeSelection.create(e.doc,n.pos)))}return e}},e.removeNodeBefore=function(t){var e=I(t.selection);return"number"==typeof e?g(e)(t):t}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n(18),i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"fixed",bottom:"10px","z-index":"9999",left:"20px"}},[t._l(t.events,(function(n){return e("item",{key:t.getKey(n),attrs:{msg:n},on:{close:t.close}})})),t._v(" "),t._l(t.dialogs,(function(n){return e("item-dialog",{key:"user-".concat(n.userKey),attrs:{msg:n},on:{close:t.closeDialog}})}))],2)};i._withStripped=!0;var o=n(81),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-message-all-popup",staticStyle:{width:"280px",background:"white"}},[t.objTitle?e("div",{staticClass:"v-row"},[e("div",{staticClass:"v-col-12"},[t._v("\n            "+t._s(t.objTitle)+"\n        ")])]):t._e(),t._v(" "),e("div",{staticClass:"v-row"},[e("div",{staticClass:"v-col-3"},[e("img",{staticClass:"v-message-all-popup-img",attrs:{src:t.userAvatar}})]),t._v(" "),e("div",{staticClass:"v-col-9 v-col-last"},[e("span",{staticClass:"v-message-all-popup-name"},[t._v(" "+t._s(t.msg.emitter_user_name)+" ")]),t._v(" "),e("div",[e("span",{staticClass:"i-text-limit v-message-all-popup-text"},[t._v(" "+t._s(t.userTitle)+" ")])]),t._v(" "),t.title?e("div",[e("span",{staticClass:"i-text-limit v-message-all-popup-text"},[t._v(" "+t._s(t.title)+" ")])]):t._e()])]),t._v(" "),e("a",{staticClass:"v-hidden-link",attrs:{href:t.url}}),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-message-all-popup-close",on:{click:function(e){return t.$emit("close",t.msg,!0)}}},[e("span",[t._v("✖")])])])};s._withStripped=!0;var a=n(1),c=n(5),l={props:{msg:Object},data:function(){return{vo:vo,avatarUrl:a.f,humanDate:a.J,Label:c.Label,trim:o.e,view_timeout:null}},watch:{msg:function(t){this.startTimeout()}},computed:{userAvatar:function(){return Object(a.f)(this.msg.emitter_user_avatar)},userTitle:function(){return[Object(c.Label)(this.msg.event,"event.emoji"),Object(c.Label)(this.msg.event,"event.verb",null,this.emitter_user_sex)].join(" ")},title:function(){return this.msg.emitter_type&&![c.OBJ_TYPE_USER,c.OBJ_TYPE_OLP_PUPIL].includes(this.msg.emitter_type)?Object(o.e)(this.msg.emitter_title):""},objTitle:function(){return this.msg.place_type?Object(c.Label)(this.msg.place_type,"obj_type")+" "+Object(o.e)(this.msg.place_title,!1):this.msg.receiver_type?Object(c.Label)(this.msg.receiver_type,"obj_type")+" "+Object(o.e)(this.msg.receiver_title,!1):""},url:function(){return Object(o.d)(Object(o.c)(this.msg),this.msg.event,Object(o.c)(this.msg,"emitter"),Object(o.c)(this.msg,"place"))}},methods:{startTimeout:function(){var t=this;this.view_timeout&&this.clearTimeout(),this.view_timeout=setTimeout((function(){t.$emit("close",t.msg),t.clearTimeout()}),1e4)},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.view_timeout&&(clearTimeout(this.view_timeout),this.view_timeout=null)}))},mounted:function(){this.startTimeout()},destroyed:function(){this.clearTimeout()}},u=l,f=n(0),d=Object(f.a)(u,s,[],!1,null,"0a4c5982",null).exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-message-all-popup",staticStyle:{width:"280px",background:"white"}},[e("div",{staticClass:"v-row"},[e("div",{staticClass:"v-col-3"},[e("img",{staticClass:"v-message-all-popup-img",attrs:{src:t.msg.avatar}})]),t._v(" "),e("div",{staticClass:"v-col-9 v-col-last"},[e("span",{staticClass:"v-message-all-popup-name"},[e("a",{attrs:{href:t.msg.profileUrl}},[t._v(t._s(t.msg.name))])]),t._v(" "),e("div",[e("span",{staticClass:"i-text-limit v-message-all-popup-text"},[t._v(t._s(t.msg.text))])])])]),t._v(" "),e("a",{staticClass:"v-hidden-link",attrs:{href:t.msg.url}}),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-message-all-popup-close",on:{click:function(e){return t.$emit("close",t.msg,!0)}}},[e("span",[t._v("✖")])])])};h._withStripped=!0;var p={props:{msg:Object},data:function(){return{view_timeout:null}},watch:{msg:function(t){this.startTimeout()}},methods:{startTimeout:function(){var t=this;this.view_timeout&&this.clearTimeout(),this.view_timeout=setTimeout((function(){t.$emit("close",t.msg),t.clearTimeout()}),1e4)},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.view_timeout&&(clearTimeout(this.view_timeout),this.view_timeout=null)}))},mounted:function(){this.startTimeout()},destroyed:function(){this.clearTimeout()}},v=p,m=Object(f.a)(v,h,[],!1,null,"3e09ba21",null).exports,g=n(245),y={components:{ItemDialog:m,Item:d},data:function(){return{events:[],disabled:[],vo:vo,dialogs:[],disabledDialog:[]}},computed:{},methods:{getKey:function(t){return["popup",t.receiver_type,t.receiver_id,t.receiver_sub_id].join("-")},pushToEvents:function(t){if(!this.disabled.includes(this.getKey(t))&&!Object(o.a)(vo,Object(o.c)(t),"obj")){var e=this.events.findIndex((function(e){return Object(o.a)(e,t)}));e<0?this.events.unshift(t):this.events.splice(e,1,t)}},close:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.disabled.push(this.getKey(t));var e=this.events.findIndex((function(e){return Object(o.a)(e,t)}));e>=0&&this.events.splice(e,1)},closeDialog:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.disabledDialog.push("user-".concat(t.userKey));var e=this.dialogs.findIndex((function(e){return e.userKey===t.userKey}));e>=0&&this.dialogs.splice(e,1)},processEvent:function(t){var e=t.action,n=t.user,r=t.message;if(e===c.ACTION_CREATE&&!(vo.user_id&&[c.USER_USER,vo.user_id].join(c.DELIMITER_USER_KEY)===n.user_key||vo.pupil_access&&[c.USER_PUPIL,vo.pupil_access].join(c.DELIMITER_USER_KEY)===n.user_key||vo.openDialogUserKey===n.user_key||this.disabledDialog.includes("user-".concat(n.user_key)))){var i=n.user_type===c.USER_USER?"/profile/messages?user="+n.user_id:"",o=Object(a.f)(n.avatar),s=n.user_type===c.USER_USER?"/user/id"+n.user_id:"",l={name:n.name,text:r.data_json&&r.data_json.msg?Object(g.b)(r.data_json.msg):"",id:r.id,avatar:o,userKey:n.user_key,url:i,profileUrl:s},u=this.dialogs.findIndex((function(t){return t.userKey===l.userKey}));u<0?this.dialogs.unshift(l):this.dialogs.splice(u,1,l)}}},mounted:function(){var t=this;vo.socket.on("event",(function(e){t.pushToEvents(e)})),vo.socket.on("dlg-one",(function(e){t.processEvent(e)}))}},_=y,b=Object(f.a)(_,i,[],!1,null,"4298be30",null).exports;function w(){var t=document.createElement("div");document.body.appendChild(t),new r.a({el:t,render:function(t){return t(b,{})}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(18),i=function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"active",attrs:{href:t.url,onclick:"event.stopPropagation()",title:"Персональні події","data-set-active":"1"}},[e("i",{staticClass:"n-icon-header v-icon-header-note"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.unread_count,expression:"unread_count"}],staticClass:"v-profile-count v-profile-count-green"},[t._v(t._s(t.unread_count))])])])};i._withStripped=!0;var o=n(81),s=n(82),a={data:function(){return{view_timeout:null,unread_count:0,unread_obj_auto:0,objKey:null}},computed:{url:function(){return vo.auth_mode===s.c?"/go/notifications":"/profile/notifications"}},watch:{unread_obj_auto:function(t,e){var n=this;!this.view_timeout&&this.objKey&&this.unread_obj_auto&&(this.view_timeout=setTimeout((function(){return vo.socket.emit("object set as read auto",{objKey:n.objKey})}),5e3))}},methods:{initListener:function(t){this.unread_count=t.unread_count||0,this.unread_obj_auto=t.unread_obj_auto||0},counListener:function(t){this.unread_count+=1}},mounted:function(){this.objKey=Object(o.b)(vo),vo.socket.on("event",this.counListener),vo.socket.on("event unread count",this.initListener),(vo.user_id||vo.pupil_access)&&vo.ajaxPromise(event,vo.url_sub+"/ext/web/unread-count",{objKey:this.objKey}).then(this.initListener)},destroyed:function(){vo.socket.off("event unread count",this.initListener)}},c=n(0),l=Object(c.a)(a,i,[],!1,null,"769add50",null).exports,u=function(){var t=this,e=t._self._c;return e("div",[t.viewSubscribe?e("div",[t.localIsSubscribe?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-profile-page-btn green",on:{click:function(e){return t.unsubscribe(e)}}},[t._m(0)]):e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-profile-page-btn orange",on:{click:function(e){return t.subscribe(e)}}},[t._m(1)])]):t._e(),t._v(" "),t.localCount?e("div",{staticClass:"friends-con"},[e("p",{staticClass:"friends-title"},[e("i"),t._v("Підписано: "),e("b",[t._v(t._s(t.localCountTxt))])]),t._v(" "),e("div",{staticClass:"friends-items"},t._l(t.localUsers,(function(n){return e("a",{key:t.userKey(n),staticClass:"friends",attrs:{href:t.userUrl(n)}},[e("img",{attrs:{title:n.name,src:t.userAvatar(n)}})])})),0)]):t._e()])};u._withStripped=!0;var f=n(1),d=n(5),h={name:"subscribe-button",props:{objKey:{type:String,required:!0},count:{type:Number,default:null},users:{type:Array,default:null},is_subscribe:{type:Boolean,default:null}},data:function(){return{local_count:0,local_users:[],local_is_subscribe:!1}},computed:{viewSubscribe:function(){if(this.localIsSubscribe)return!0;var t=this.objKey.split(d.DELIMITER_OBJ_KEY).map((function(t){return parseInt(t)}));if(3!==t.length)return!1;if([d.OBJ_TYPE_USER,d.OBJ_TYPE_OLP_PUPIL].includes(t[0])&&((t[0]===d.OBJ_TYPE_USER?d.USER_USER:d.USER_PUPIL)===d.USER_USER&&t[1]===vo.user_id))return!1;return!0},localCount:function(){var t;return null!==(t=this.count)&&void 0!==t?t:this.local_count},localCountTxt:function(){return Object(f.ab)(this.localCount,["{n} людина","{n} людини","{n} людей"])},localUsers:function(){var t;return null!==(t=this.users)&&void 0!==t?t:this.local_users},localIsSubscribe:function(){var t;return null!==(t=this.is_subscribe)&&void 0!==t?t:this.local_is_subscribe}},methods:{userKey:function(t){return["user",t.user_type,t.user_id].join("-")},userUrl:function(t){return vo.url+"/user/id".concat(t.user_id)},userAvatar:function(t){return Object(f.f)(t)},subscribe:function(t){var e=this;Object(f.T)()&&(this.local_is_subscribe=!0,this.local_count++,vo.ajaxPromise(t,vo.url_sub+"/ext/web/subscribe",{objKey:this.objKey}).catch((function(t){e.local_is_subscribe=!1,e.local_count--,vo.popup.errorByResponse(t,!1)})))},unsubscribe:function(t){var e=this;Object(f.T)()&&(this.local_is_subscribe=!1,this.local_count--,vo.ajaxPromise(t,vo.url_sub+"/ext/web/unsubscribe",{objKey:this.objKey}).catch((function(t){e.is_subscribe=!0,e.local_count++,vo.popup.errorByResponse(t,!1)})))}},mounted:function(){var t=this;null!==this.count&&null!==this.users&&null!==this.is_subscribe||vo.ajaxPromise(null,vo.url_sub+"/ext/web/check-subscribe",{objKey:this.objKey}).then((function(e){t.local_count=e.count,t.local_is_subscribe=e.is_subscribe,t.local_users=e.users.sort((function(){return Math.random()-.5})).slice(0,48)}))}},p=Object(c.a)(h,u,[function(){var t=this._self._c;return t("span",{staticClass:"n-icon-con"},[t("i",{staticClass:"i-tick"},[t("span",{staticClass:"body-tick"})]),this._v("Ви підписані")])},function(){var t=this._self._c;return t("span",{staticClass:"n-icon-con"},[t("i",{staticClass:"i-plus"}),this._v("Підписатися")])}],!1,null,"54675e6d",null).exports;function v(){if(vo.disable_sub)return!1;var t=document.getElementById("sys-notice-indicator");t&&new r.a({el:t,render:function(t){return t(l,{})}})}window.VoSubscribeButton=function(t,e){new r.a({el:t,render:function(t){return t(p,{props:{objKey:e}})}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(18),i=function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"active",attrs:{href:t.url,onclick:"event.stopPropagation()",title:"Повідомлення","data-set-active":"1"}},[e("i",{staticClass:"n-icon-header v-icon-header-mail"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.unread_count,expression:"unread_count"}],staticClass:"v-profile-count v-profile-count-green i-profile-message-count"},[t._v(t._s(t.unread_count))])])])};i._withStripped=!0;var o=n(82),s={data:function(){return{unread_count:0}},computed:{url:function(){return vo.auth_mode===o.c?"/go/messages":"/profile/messages"}},methods:{initListener:function(t){this.unread_count=t.count||0}},mounted:function(){vo.socket.on("dlg-one",this.initListener),(vo.user_id||vo.pupil_access)&&vo.ajaxPromise(null,vo.url_msg+"/ext/dlg-all/count",{}).then(this.initListener)},destroyed:function(){vo.socket.off("dlg-one",this.initListener)}},a=n(0),c=Object(a.a)(s,i,[],!1,null,"1aeefe56",null).exports;function l(){if(vo.disable_msg)return!1;var t=document.getElementById("sys-dialog-indicator");t&&new r.a({el:t,render:function(t){return t(c,{})}})}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{ref:"quest-container",staticClass:"v-test-go-bg"},[e("div",{staticClass:"v-test-go-body v-z-index v-news-content"},[e("div",{staticClass:"v-test-question vo-noselect",attrs:{id:"i-test-question-"+t.app_id}},[e("div",{staticClass:"v-test-questions-block"},[e("div",{staticClass:"v-test-questions-title",class:{"vo-copy-disabled":!!t.voCopyDisabled}},[e("span",{staticClass:"v-numbertest"},[e("span",{staticClass:"occasional_class occ1"},[e("span",{staticClass:"occasional_class occ2"},[t._v("Питання:")]),t._v(" "+t._s(t.quest_num+1)+"/"+t._s(t.quest_count))])]),t._v(" "),e("div",{staticClass:"content-box"},[t.questType.isDescComponentView?[t.questType.componentTesting&&t.$options.components[t.questType.componentTesting]?[e(t.questType.componentTesting,{ref:"activeQuestBlock",tag:"component",attrs:{testQuest:t.quest,executionItem:t.user_answer,app_id:t.app_id,shuffle:t.shuffle,bq_store_key:t.bq_store_key}})]:[e("h1",{staticClass:"vo-color-red"},[t._v("КОМПОНЕНТ ДЛЯ ВЗАЄМОДІЇ НЕ ІМПОРТОВАНО")])]]:[e("div",{directives:[{name:"description",rawName:"v-description"}],domProps:{innerHTML:t._s(t.lazyInHtml(t.quest.quest_desc))}})]],2)]),t._v(" "),e("div",[t.questType.isDescComponentView?t._e():[t.questType.componentTesting&&t.$options.components[t.questType.componentTesting]?[e(t.questType.componentTesting,{ref:"activeQuestBlock",tag:"component",attrs:{testQuest:t.quest,executionItem:t.user_answer,app_id:t.app_id,shuffle:t.shuffle,bq_store_key:t.bq_store_key},on:{"internal-send-answer":t.internalSendAnswerHandler}})]:[e("h1",{staticClass:"vo-color-red"},[t._v("КОМПОНЕНТ ДЛЯ ВЗАЄМОДІЇ НЕ ІМПОРТОВАНО")])]]],2)])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.warning_message,expression:"warning_message"}],staticClass:"error-size"},[e("div",{directives:[{name:"description",rawName:"v-description"}],staticStyle:{color:"#ff0e0e","font-size":"24px"},domProps:{innerHTML:t._s(t.lazyInHtml(t.warning_message))}})]),t._v(" "),t.isFileAttach?e("div",{staticClass:"size-block"},[e("br"),t._v(" "),t._m(0),t._v(" "),e("FileInput",{attrs:{is_fake_click:t.is_fullscreen,is_multiple:!0},on:{"start-add-file":function(e){return t.$emit("start-add-file",t.quest.id)}},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1):t._e(),t._v(" "),t.show_control_buttons?e("div",{staticClass:"v-test-go-body-test-button"},[e("button",{class:["n-go-body-btn-col v-blue-button-test",(t.show_control_buttons,"")],attrs:{type:"submit"},domProps:{innerHTML:t._s(t.save_button_text)},on:{click:function(e){return e.preventDefault(),t.userSetAnswer.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"n-go-body-btn-col right"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.quest_num>0,expression:"quest_num > 0"}],staticClass:"btn-go-col-body btn1 a-pointer-class",attrs:{type:"button"},on:{click:t.prevQuest}},[t._m(1)]),t._v(" "),e("button",{staticClass:"btn-go-col-body btn2 a-pointer-class",attrs:{type:"button"},on:{click:t.nextQuest}},[t._m(2)])])]):t.show_save_buttons?e("div",{staticClass:"v-test-go-body-test-button"},[t.show_stop_button?e("button",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"a-pointer-class btn-go-col-body v-pink-button-test pull-left",on:{click:function(e){return t.$emit("stop-button-click")}}},[t._v("Завершити тестування\n            ")]):t._e(),t._v(" "),e("button",{class:["n-go-body-btn-col n-go-body-btn-col-flex-end v-blue-button-test",(t.show_control_buttons,"")],attrs:{type:"submit"},domProps:{innerHTML:t._s(t.save_button_text)},on:{click:function(e){return e.preventDefault(),t.userSetAnswer.apply(null,arguments)}}})]):t._e()])])};r._withStripped=!0;var i=n(311),o=n(75),s=n(83),a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-block-answers-cross-wrapper"},[e("div",{staticClass:"v-block-answers-cross_row v-row"},[e("div",{staticClass:"v-col-6"},[t.numbersTitle?e("div",{staticClass:"v-cross-group-title"},[t._v(t._s(t.numbersTitle))]):t._e(),t._v(" "),t._l(this.$data.__numbersColumn,(function(n,r){return t.isCheckedPair(n.index,n.type)?t._e():e("div",{staticClass:"v-block-answers-cross-block a-pointer-class",class:["selected"===n.status?"n-checked":"","inactive"===n.status?"n-none-checked":"",t.isLetterColumnChecked?"n-all-checked":"",t.$options.filters.colorClass(r)],on:{click:function(e){return t.selectItem(n.index,n.type)}}},[e("div",{staticClass:"rk-cross__item v-block-answers-table-numb",class:n.status},[e("span",{staticClass:"numb-item"},[t._v(t._s(t.getNumByIndex(r)))])]),t._v(" "),e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(t.lazyInHtml(n.value))}})])}))],2),t._v(" "),e("div",{staticClass:"v-col-6 v-col-last"},[t.lettersTitle?e("div",{staticClass:"v-cross-group-title"},[t._v(t._s(t.lettersTitle))]):t._e(),t._v(" "),t._l(this.$data.__lettersColumn,(function(n,r){return t.isCheckedPair(n.index,n.type)?t._e():e("div",{staticClass:"v-block-answers-cross-block a-pointer-class",class:["selected"===n.status?"n-checked":"","inactive"===n.status?"n-none-checked":"",t.isNumberColumnChecked?"n-all-checked":"",t.$options.filters.colorClass(r,!0)],on:{click:function(e){return t.selectItem(n.index,n.type)}}},[e("div",{staticClass:"rk-cross__item v-block-answers-table-numb",class:n.status},[e("span",{staticClass:"numb-item"},[t._v(t._s(t.getLetterByIndex(r)))])]),t._v(" "),e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(t.lazyInHtml(n.value))}})])}))],2)]),t._v(" "),Object.keys(t.userAnswer).length>0?[e("div",{staticClass:"block-answers-separator-block",class:{"hide-border":t.isNoMoreItems}},[t._m(0),t._v(" "),t._l(t.sortedLeftCheckedIndex,(function(n){return[e("div",{staticClass:"v-block-answers-cross_row v-row overflow",class:{connected:n===t.lastSelectedNumIndex}},[e("div",{staticClass:"v-col-6 v-block-answers-cross-block a-pointer-class connected-item-styled",class:[t.$options.filters.colorClass(n)]},[e("div",{staticClass:"rk-cross__item v-block-answers-table-numb inactive"},[e("span",{staticClass:"numb-item"},[t._v(t._s(t.getNumByIndex(n)))])]),t._v(" "),e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(t.lazyInHtml(t.$data.__numbersColumn[n].value))}}),t._v(" "),t.isCheckedPair(t.$data.__numbersColumn[n].index,t.$data.__numbersColumn[n].type)?e("div",[Object.keys(t.userAnswer).length>0?[e("div",{staticClass:"arrow-cross_block"},[e("div",{staticClass:"arrow"}),t._v(" "),e("div",{staticClass:"rk-pair__remove",on:{click:function(e){return t.removePair(n)}}},[t._v("✖\n                                        ")])])]:t._e()],2):t._e()]),t._v(" "),e("div",{staticClass:"v-col-6 v-col-last v-block-answers-cross-block a-pointer-class connected-item-styled",class:[t.$options.filters.colorClass(n)]},[e("div",{staticClass:"rk-cross__item v-block-answers-table-numb inactive"},[e("span",{staticClass:"numb-item"},[t._v(t._s(t.getLetterByIndex(t.userAnswer[n])))])]),t._v(" "),e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(t.lazyInHtml(t.$data.__lettersColumn[t.userAnswer[n]].value))}})])])]}))],2)]:t._e()],2),t._v(" "),t._e()])};a._withStripped=!0;var c=n(35),l=n(1);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var f={name:"AnswerCross",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],mixins:[o.c],filters:{colorClass:l.o},data:function(){return{__numbersColumn:[],__lettersColumn:[],userAnswer:{},lastSelectedNumIndex:null}},computed:{isLetterColumnChecked:function(){return this.$data.__lettersColumn.some((function(t){return"selected"===t.status}))},isNumberColumnChecked:function(){return this.$data.__numbersColumn.some((function(t){return"selected"===t.status}))},numbers:function(){var t=[];return void 0!==this.testQuest.answer_arr.group&&void 0!==this.testQuest.answer_arr.group[0]&&(t=this.testQuest.answer_arr.group[0]),t},letters:function(){var t=[];return void 0!==this.testQuest.answer_arr.group&&void 0!==this.testQuest.answer_arr.group[1]&&(t=this.testQuest.answer_arr.group[1]),t},numbersTitle:function(){var t="";return void 0!==this.testQuest.answer_arr.group_name&&void 0!==this.testQuest.answer_arr.group_name[0]&&(t=this.testQuest.answer_arr.group_name[0].trim()),t},lettersTitle:function(){var t="";return void 0!==this.testQuest.answer_arr.group_name&&void 0!==this.testQuest.answer_arr.group_name[1]&&(t=this.testQuest.answer_arr.group_name[1].trim()),t},isCheckedPair:function(){var t=this;return function(e,n){if("number"===n&&void 0!==t.$data.userAnswer[e])return!0;if("letter"===n)for(var r in t.$data.userAnswer)if(t.$data.userAnswer.hasOwnProperty(r)&&t.$data.userAnswer[r]===e)return!0;return!1}},getLetterByIndex:function(){return function(t){return"АБВГҐДЕЄЖЗИІЇЙКЛМНОПРСТУФХЦ"[t]}},getNumByIndex:function(){return function(t){return parseInt(t)+1}},getColumnKeyByIndex:function(){var t=this;return function(e,n){var r="__numbersColumn";for(var i in"letter"===n&&(r="__lettersColumn"),t.$data[r])if(t.$data[r][i].index===e)return i;return 0}},sortedLeftCheckedIndex:function(){var t=Object.keys(this.userAnswer);return t.sort((function(t,e){return t-e})),t},isNoMoreItems:function(){var t=this;return!this.$data.__lettersColumn.some((function(e){return!t.isCheckedPair(e.index,e.type)}))&&!this.$data.__numbersColumn.some((function(e){return!t.isCheckedPair(e.index,e.type)}))}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},removePair:function(t){this.lastSelectedNumIndex=null,this.$delete(this.$data.userAnswer,t),this.saveToLocalStore()},selectItem:function(t,e){this._selectItem(t,e),this.saveToLocalStore()},_selectItem:function(t,e){if(this.setPair(t,e))this.clearColumnsStatus();else{var n="__numbersColumn",r="__lettersColumn";for(var i in"letter"===e&&(n="__lettersColumn",r="__numbersColumn"),this.$data[n])if(this.$data[n][i].index===t&&"selected"===this.$data[n][i].status)return void this.clearColumnsStatus();for(var o in this.$data[r])this.$data[r][o].status="highlight";for(var s in this.$data[n])this.$data[n][s].status=this.$data[n][s].index===t?"selected":"inactive"}},setPair:function(t,e){var n=!1;if("number"===e)for(var r in this.$data.__lettersColumn)"selected"===this.$data.__lettersColumn[r].status&&(this.$set(this.$data.userAnswer,t,this.$data.__lettersColumn[r].index),this.lastSelectedNumIndex=t,n=!0);if("letter"===e)for(var i in this.$data.__numbersColumn)"selected"===this.$data.__numbersColumn[i].status&&(this.$set(this.$data.userAnswer,this.$data.__numbersColumn[i].index,t),this.lastSelectedNumIndex=this.$data.__numbersColumn[i].index,n=!0);return n||(this.lastSelectedNumIndex=null),n},clearColumnsStatus:function(){for(var t in this.$data.__numbersColumn)this.$data.__numbersColumn[t].status="";for(var e in this.$data.__lettersColumn)this.$data.__lettersColumn[e].status=""},getShuffleKeys:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},setDataColumn:function(t,e,n){var r,i,o;o=Object.keys(t),this.shuffle&&(o=this.getShuffleKeys(o));var s=[];for(r=0,i=o.length;r<i;r++)s[r]={index:o[r],value:t[o[r]],type:n,status:""};this.$set(this.$data,e,s)},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"__numbersColumn",t.__numbersColumn),this.$set(this.$data,"__lettersColumn",t.__lettersColumn),this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={__numbersColumn:this.$data.__numbersColumn,__lettersColumn:this.$data.__lettersColumn,userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){if(this.restoreFromSessionStore()||(this.setDataColumn(this.numbers,"__numbersColumn","number"),this.setDataColumn(this.letters,"__lettersColumn","letter"),this.saveToLocalStore()),"object"===u(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer&&"object"===u(this.executionItem.answer)&&Object.keys(this.executionItem.answer).length){var t={};for(var e in this.executionItem.answer)t[e]=this.executionItem.answer[e];this.$set(this.$data,"userAnswer",t),this.saveToLocalStore()}}},d=n(0),h=Object(d.a)(f,a,[function(){var t=this._self._c;return t("div",{staticClass:"border-wrap"},[t("div",{staticClass:"border-con"},[t("div",{staticClass:"border"})])])}],!1,null,null,null).exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"a-test-lab-inp"},[e("div",{staticClass:"content-box"},[e("label",[t._v("Введіть відповідь:")]),t._v(" "),e("input",{ref:"answer-"+t.testQuest.id,attrs:{type:"text",placeholder:"Введіть відповідь...",name:t.testQuest.id,id:t.app_id+"-answer-"+t.testQuest.id,maxlength:"255",autocomplete:"off"},domProps:{value:t.userAnswer},on:{change:function(e){return t.changeAnswer(e.target.value)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendAnswer(e)}}})])])};function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}p._withStripped=!0;var m={name:"AnswerText",props:["testQuest","executionItem","app_id","bq_store_key"],data:function(){return{userAnswer:null}},computed:{},methods:{isUserSetAnswer:function(){var t=JSON.parse(JSON.stringify(this.userAnswer));return null!==t&&""!==t},changeAnswer:function(t){this._changeAnswer(t),this.saveToLocalStore()},_changeAnswer:function(t){this.userAnswer="string"==typeof t?t.trim():t},sendAnswer:function(t){this.changeAnswer(t.target.value),""!==this.userAnswer&&null!==this.userAnswer&&this.$emit("internal-send-answer")},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){this.restoreFromSessionStore(),"object"===v(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer&&this.changeAnswer(this.executionItem.answer)}},g=Object(d.a)(m,p,[],!1,null,"2eaf19d8",null).exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-row-test"},t._l(t.answer_keys,(function(n,r){return e("div",{class:["v-test-questions-radio-block",t.userAnswer[0]==n?"n-checked":"",t.$options.filters.colorClass(r)]},[e("input",{ref:"answer-"+n,refInFor:!0,attrs:{type:"radio",name:t.testQuest.id,id:t.app_id+"-answer-"+n},domProps:{checked:t.userAnswer[0]==n,value:n},on:{change:function(e){return t.selectRadio(e.target.value)}}}),t._v(" "),e("label",{directives:[{name:"description",rawName:"v-description"}],attrs:{for:t.app_id+"-answer-"+n},domProps:{innerHTML:t._s(t.lazyInHtml(t.answer_arr[n]))}})])})),0)};function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}y._withStripped=!0;var k={name:"RadioBlock",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],mixins:[o.c],filters:{colorClass:l.o},data:function(){return{__answer_keys:null,userAnswer:{0:null}}},computed:{answer_arr:function(){return this.testQuest.answer_arr},answer_keys:function(){return this.$data.__answer_keys}},methods:{isUserSetAnswer:function(){return null!==this.userAnswer[0]},selectRadio:function(t){this.userAnswer[0]=t,this.saveToLocalStore()},getShuffleKeys:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"__answer_keys",t.__answer_keys),this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={__answer_keys:this.$data.__answer_keys,userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){if(!this.restoreFromSessionStore()){var t,e=[],n=0,r=b(this.answer_arr.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;e[n]=i,n++}}catch(t){r.e(t)}finally{r.f()}this.shuffle&&(e=this.getShuffleKeys(e)),this.$data.__answer_keys=e,this.saveToLocalStore()}"object"===_(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer.length&&this.selectRadio(this.executionItem.answer[0])}},x=Object(d.a)(k,y,[],!1,null,"7ef164b4",null).exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-row-test"},t._l(t.answer_keys,(function(n,r){return e("div",{class:["v-test-questions-checkbox-block",Object.values(t.userAnswer).findIndex((function(t){return t==n}))>-1?"n-checked":"",t.$options.filters.colorClass(r)]},[e("input",{ref:"answer-"+n,refInFor:!0,attrs:{type:"checkbox",name:t.testQuest.id,id:t.app_id+"-answer-"+n},domProps:{value:n,checked:Object.values(t.userAnswer).findIndex((function(t){return t==n}))>-1},on:{change:t.selectCheckbox}}),t._v(" "),e("label",{directives:[{name:"description",rawName:"v-description"}],attrs:{for:t.app_id+"-answer-"+n},domProps:{innerHTML:t._s(t.lazyInHtml(t.answer_arr[n]))}})])})),0)};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function O(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}S._withStripped=!0;var P={name:"CheckboxBlock",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],mixins:[o.c],filters:{colorClass:l.o},data:function(){return{__answer_keys:null,userAnswer:{}}},computed:{answer_arr:function(){return this.testQuest.answer_arr},answer_keys:function(){return this.$data.__answer_keys}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},selectCheckbox:function(t){var e=t.target,n=e.value;e.checked?this.$set(this.$data.userAnswer,n,n):this.$delete(this.$data.userAnswer,n),this.saveToLocalStore()},getShuffleKeys:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"__answer_keys",t.__answer_keys),this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={__answer_keys:this.$data.__answer_keys,userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){if(!this.restoreFromSessionStore()){var t,e=[],n=0,r=O(this.answer_arr.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;e[n]=i,n++}}catch(t){r.e(t)}finally{r.f()}this.shuffle&&(e=this.getShuffleKeys(e)),this.$data.__answer_keys=e,this.saveToLocalStore()}if("object"===C(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer&&this.executionItem.answer.length){for(var o=Object.values(this.executionItem.answer),s={},a=0;a<o.length;a++)s[o[a]]=o[a];this.$set(this.$data,"userAnswer",s),this.saveToLocalStore()}}},A=Object(d.a)(P,S,[],!1,null,"226ebdd5",null).exports,T=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"description",rawName:"v-description"}],domProps:{innerHTML:t._s(t.lazyInHtml(t.desc))}}),t._v(" "),e("div",{style:{opacity:0,height:0}},[e("p",{attrs:{id:"vr-width-container-"+t.app_id}})])])};function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function M(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}T._withStripped=!0;var N={name:"FillTheGap",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],mixins:[o.c],data:function(){return{desc:"",__answer_keys:{},userAnswer:{}}},computed:{warningMsgIfAnswerNotSet:function(){return"Необхідно заповнити усі поля та/або обрати усі варіанти відповіді!"},questContainerId:function(){return"i-test-question-"+this.app_id}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>=Object.keys(this.testQuest.answer_arr).length},answer_keys:function(t){if(!this.$data.__answer_keys.hasOwnProperty(t)){var e,n=[],r=0,i=M(this.testQuest.answer_arr[t].values.keys());try{for(i.s();!(e=i.n()).done;){var o=e.value;n[r]=o,r++}}catch(t){i.e(t)}finally{i.f()}this.shuffle&&(n=this.getShuffleKeys(n)),this.$set(this.$data.__answer_keys,t,n)}return this.$data.__answer_keys[t]},getWidthOfInput:function(t){var e=document.getElementById("vr-width-container-"+this.app_id),n=document.createElement("span");e.appendChild(n);var r=[0],i=!1;if(this.testQuest.answer_arr.hasOwnProperty(t)){var o=this.testQuest.answer_arr[t];i="select"===o.type;for(var s=0;s<o.values.length;s++)n.innerHTML=o.values[s].value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r.push(n.getBoundingClientRect().width)}e.removeChild(n);var a=document.createElement("span");a.classList.add("vr-fill-the-gap-select");var c=document.createElement("select");a.appendChild(c),e.appendChild(a);var l=c.getBoundingClientRect().width;return c.remove(),a.remove(),Math.ceil(Math.max.apply(Math,r))+Math.ceil(l)+(i?0:10)},getAnswerWithMaxLength:function(t){if(!this.testQuest.answer_arr.hasOwnProperty(t))return"";for(var e=this.testQuest.answer_arr[t],n="",r=0;r<e.values.length;r++)e.values[r].value.length>n.length&&(n=e.values[r].value);return n},setInputWidth:function(){for(var t,e,n=document.querySelectorAll("#"+this.questContainerId+" span[data-key]"),r=0;r<n.length;r++)(e=n.item(r).firstChild)&&!1!==(t=this.getWidthOfInput(e.getAttribute("data-key")))&&e.setAttribute("style","width: "+t+"px;")},parseDesc:function(t){for(var e=(new DOMParser).parseFromString(String(t||""),"text/html"),n=e.getElementsByClassName("vr-control"),r=0;r<n.length;r++){var i=n.item(r),o=i.getAttribute("data-key");if(this.testQuest.answer_arr.hasOwnProperty(o)){var s=void 0,a=void 0;if("select"===this.testQuest.answer_arr[o].type){s=document.createElement("select"),(a=document.createElement("option")).innerHTML="...",a.value="",s.appendChild(a);for(var c=this.answer_keys(o),l=0;l<c.length;l++){var u;a=document.createElement("option");var f=null===(u=this.testQuest.answer_arr[o].values[c[l]])||void 0===u?void 0:u.value;void 0!==f&&(a.innerHTML=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a.value=l.toString(),void 0!==this.userAnswer[o]&&this.userAnswer[o]==f&&a.setAttribute("selected","selected"),s.appendChild(a))}}else(s=document.createElement("input")).type="text",s.maxLength=255,s.placeholder="...",void 0!==this.userAnswer[o]&&s.setAttribute("value",this.userAnswer[o]);s.setAttribute("data-key",o),i.innerHTML="",i.appendChild(s)}}return e.body.innerHTML},addAnswerListeners:function(){for(var t,e=document.querySelectorAll("#"+this.questContainerId+" input[data-key], #"+this.questContainerId+" select[data-key]"),n=0;n<e.length;n++)"SELECT"===(t=e.item(n)).tagName?t.addEventListener("change",this.setAnswer):t.addEventListener("input",this.setAnswer)},setAnswer:function(t){var e=t.target.getAttribute("data-key"),n=t.target.value.trim();""===n&&this.userAnswer.hasOwnProperty(e)?delete this.userAnswer[e]:("select-one"===t.target.type&&(n=this.testQuest.answer_arr[e].values[this.answer_keys(e)[parseInt(n)]].value),this.$set(this.$data.userAnswer,e,n),this.saveToLocalStore())},getShuffleKeys:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"__answer_keys",t.__answer_keys),this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={__answer_keys:this.$data.__answer_keys,userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){this.restoreFromSessionStore(),"object"===j(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer&&Object.keys(this.executionItem.answer).length&&this.$set(this.$data,"userAnswer",this.executionItem.answer),this.desc=this.parseDesc(this.testQuest.quest_desc),this.saveToLocalStore()},mounted:function(){this.setInputWidth(),this.addAnswerListeners()}},R=Object(d.a)(N,T,[],!1,null,null,null).exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"t-test-questions"},[t._e(),t._v(" "),e("draggable",{model:{value:t.myList,callback:function(e){t.myList=e},expression:"myList"}},[e("transition-group",{attrs:{name:"flip-list",tag:"div"}},t._l(t.r_answer_keys,(function(n){return e("div",{key:n,staticClass:"v-test-questions-select-block",class:[t.$options.filters.colorClass(n)]},[t._e(),t._v(" "),e("span",{staticClass:"vr-queue-select t-sel-guest",on:{click:function(t){t.stopPropagation()}}},[e("a",{staticClass:"a-pointer-class",attrs:{title:"Поставити вище"},on:{click:function(e){return t.upAnswer(n)}}},[e("i",{staticClass:"t-icon n-arrow-top"})]),t._v(" "),e("a",{staticClass:"a-pointer-class",attrs:{title:"Поставити нижче"},on:{click:function(e){return t.downAnswer(n)}}},[e("i",{staticClass:"t-icon n-arrow-bottom"})])]),t._v(" "),e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"t-text-guest",domProps:{innerHTML:t._s(t.lazyInHtml(t.answer_arr[n]))}}),t._v(" "),e("div",{staticClass:"test-btn_cross"},[e("i",{staticClass:"vo-icon arrow-cross"})])],2)})),0)],1),t._v(" "),t._e()],1)};D._withStripped=!0;var L=n(246),B=n.n(L);function $(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}var U={name:"Queue",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],mixins:[o.c],filters:{getLetterByNum:l.C,colorClass:l.o},components:{draggable:B.a},data:function(){return{__answer_keys:null,is_default_order:!0,userAnswer:{},fixedShowRules:[],r_answer_keys:[]}},computed:{answer_arr:function(){return this.testQuest.answer_arr},answer_keys:function(){return this.$data.__answer_keys},myList:{get:function(){return this.r_answer_keys},set:function(t){var e={};t.forEach((function(t,n){e[t]=n})),this.$set(this.$data,"userAnswer",e),this.set_r_answer_keys(),this.saveToLocalStore()}}},methods:{set_r_answer_keys:function(){var t={},e=[],n=this.userAnswer;for(var r in n)t[Number(n[r])]=Number(r);var i=Object.keys(t);i.sort((function(t,e){return t-e})),i.forEach((function(n){e.push(t[n])})),this.r_answer_keys=e},upAnswer:function(t){var e=this.userAnswer,n=e[t];if(!(n<1)){this.is_default_order=!1;var r=n-1;for(var i in e[t]=r,e)e[i]<r||e[i]>n||Number(i)!==Number(t)&&(e[i]+=1);this.$set(this.$data,"userAnswer",e),this.set_r_answer_keys(),this.saveToLocalStore()}},downAnswer:function(t){var e=this.userAnswer,n=e[t];if(!(n>=Object.keys(e).length-1)){this.is_default_order=!1;var r=n+1;for(var i in e[t]=r,e)e[i]>r||e[i]<n||Number(i)!==Number(t)&&(e[i]-=1);this.$set(this.$data,"userAnswer",e),this.set_r_answer_keys(),this.saveToLocalStore()}},isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},getUserShowInformation:function(){return this.answer_keys},getShuffleKeys:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"__answer_keys",t.__answer_keys),this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={__answer_keys:this.$data.__answer_keys,userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){if("object"===q(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer)for(var t in this.executionItem.answer)"@show-rules"!==t?(this.$set(this.$data.userAnswer,parseInt(t),parseInt(this.executionItem.answer[t])),this.is_default_order=!1):this.$set(this.$data,"fixedShowRules",this.executionItem.answer[t]);if(!this.restoreFromSessionStore()){if(this.fixedShowRules.length)this.$data.__answer_keys=this.fixedShowRules;else{var e,n=[],r=0,i=$(this.answer_arr.keys());try{for(i.s();!(e=i.n()).done;){var o=e.value;n[r]=o,r++}}catch(t){i.e(t)}finally{i.f()}this.shuffle&&(n=this.getShuffleKeys(n)),this.$data.__answer_keys=n}this.saveToLocalStore()}var s=this.userAnswer,a=this.answer_keys,c=[],l=0,u=null;for(var f in s)c.push(Number(s[f]));for(var d in a)if(!(a[u=Number(d)]in s)){for(;c.indexOf(l)>=0;){var h;if(++l>1e3)return void vo.popup.error("Переповнення вільних номерів при генерації варіантів. Зверніть в службу підтримки [запитання: "+((null===(h=this.testQuest)||void 0===h?void 0:h.id)||0)+"]")}s[String(a[u])]=l,c.push(l),++l}this.$set(this.$data,"userAnswer",s),this.set_r_answer_keys()}},V=(n(816),Object(d.a)(U,D,[],!1,null,"69337c2a",null).exports),z=function(){var t=this,e=t._self._c;return e("div",{ref:"imageArea",staticClass:"n-class-visually-impaired-img test-img-con vo-text-center"},[2===t.step?[e("svg",{style:t.style,attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:t.viewBox},on:{click:function(e){return t.onClickItem(e,null)}}},[e("image",{staticClass:"lazyload",attrs:{"xlink:href":t.preloaderUrl,"data-src":t.imageUrl,x:"0",y:"0",height:t.height,width:t.width}}),t._v(" "),t._l(t.userAnswer,(function(n){return e("g",{staticStyle:{cursor:"pointer"},attrs:{transform:"translate("+(n[0]/t.k-10)+", "+(n[1]/t.k-10)+")"},on:{click:function(e){return t.onClickItem(e,n)}}},[e("ellipse",{attrs:{cx:"10",cy:"10",rx:"10",ry:"10",fill:"red",stroke:"black","stroke-width":"2"}}),t._v(" "),e("svg",{staticStyle:{cursor:"pointer"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"}},[e("path",{attrs:{transform:"translate(4,4)",d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z",fill:"white"}})])])}))],2)]:t._e()],2)};function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}z._withStripped=!0;var W={name:"ImageArea",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],data:function(){return{userAnswer:[],step:1,image:null,type:null,count:null}},computed:{k:{get:function(){return this.image.file_width/this.width}},width:{get:function(){return Math.min(this.image.file_width,Math.round(this.$refs.imageArea.clientWidth))}},height:{get:function(){return Math.round("file_width"in this.image&&"file_height"in this.image?this.image.file_height/this.k:0)}},imageUrl:{get:function(){return Object(l.u)(this.image.file,this.$refs.imageArea.clientWidth<760?Math.min(this.image.file_width,760):this.width,0)}},preloaderUrl:{get:function(){return"".concat(vo.url_assets,"/img/preloader-mid.gif")}},viewBox:{get:function(){return"0 0 "+this.width+" "+this.height}},style:{get:function(){return"max-width: ".concat(this.width,"px;")}}},methods:{isUserSetAnswer:function(){return this.userAnswer.length},onClickItem:function(t,e){this._onClickItem(t,e),this.saveToLocalStore()},_onClickItem:function(t,e){if(t.stopPropagation(),e)this.userAnswer=this.userAnswer.filter((function(t){return t!==e}));else if(this.userAnswer.length>=this.count)vo.popup("Дозволено ставити лише "+Object(l.ab)(this.count,["{n} відмітку","{n} відмітки","{n} відміток"]));else{this.image.file_width,this.width;this.userAnswer.push([Math.round(t.offsetX*this.k),Math.round(t.offsetY*this.k),Math.round(10*this.k)])}},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},mounted:function(){if(this.restoreFromSessionStore(),"object"===H(this.executionItem)&&"answer"in this.executionItem&&this.executionItem.answer&&this.executionItem.answer.length){var t=[];this.executionItem.answer.forEach((function(e){t.push(e)})),this.$set(this.$data,"userAnswer",t),this.saveToLocalStore()}this.image={file:this.testQuest.answer_arr[0],file_width:this.testQuest.answer_arr[1],file_height:this.testQuest.answer_arr[2]},this.type=this.testQuest.answer_arr[3]||0,this.count=this.testQuest.answer_arr[4]||0,this.step=2}},Y=Object(d.a)(W,z,[],!1,null,"25350d9a",null).exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"imagePuzzle_test is-testing"},[e("div",{staticClass:"result-text"},[e("span",[t._v("Кількість елементів: "),e("b",[t._v(t._s(t.userAnswer.pieceCount))]),t._v(". ")]),t._v(" "),e("span",[t._v("З'єднано елементів: "),e("b",[t._v(t._s(t.userAnswer.pieceJoin))]),t._v(". ")])]),t._v(" "),e("div",{ref:"imageArea"},[e("div",{ref:"puzzleArea",staticStyle:{border:"none",left:"0px",top:"0px"}})]),t._v(" "),t.is_wait?e("span",{staticClass:"v-bar"}):t._e()])};G._withStripped=!0;var J=n(202);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(){Q=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,s=Object.create(o.prototype),a=new C(i||[]);return r(s,"_invoke",{value:w(t,n,a)}),s}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};c(v,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&n.call(g,o)&&(v=g);var y=p.prototype=d.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,a){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==K(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=u(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function X(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}var Z={name:"ImagePuzzle",props:["testQuest","executionItem","bq_store_key"],filters:{fileUrl:l.u},data:function(){return{puzzle:null,userAnswer:{pieceCount:0,pieceJoin:0},isSetAnswer:!1,is_wait:!0}},methods:{isUserSetAnswer:function(){return this.isSetAnswer},pieceJoinHandler:function(t,e,n){this.userAnswer.pieceCount=t,this.userAnswer.pieceJoin=e,this.userAnswer.pieceSave=n,this.isSetAnswer=!0,this.saveToLocalStore()},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},mounted:function(){var t,e=this;return(t=Q().mark((function t(){var n,r,i,o,s,a,c,u,f,d,h,p;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.restoreFromSessionStore(),!("image"in e.testQuest.answer_arr)){t.next=12;break}if(o=e.testQuest.answer_arr.image,s=o.file,a=void 0===s?null:s,c=o.file_height,u=void 0===c?null:c,f=o.file_width,d=void 0===f?null:f,e.userAnswer.pieceCount=parseInt(null===(n=e.testQuest.answer_arr)||void 0===n?void 0:n.pieceCount),d=parseInt(d),u=parseInt(u),null!==(i=(r=e.userAnswer).pieceSave)&&void 0!==i||(r.pieceSave=[]),!e.userAnswer.pieceSave.length&&e.executionItem&&"answer"in e.executionItem&&(e.userAnswer.pieceSave=null!==(h=null===(p=e.executionItem.answer)||void 0===p?void 0:p.pieceSave)&&void 0!==h?h:[]),!(a&&d&&u&&e.userAnswer.pieceCount)){t.next=12;break}return t.next=11,new J.c({img:Object(l.u)(a,d,u),width:e.$refs.imageArea.clientWidth,height:e.$refs.imageArea.clientWidth*u/d,idiv:e.$refs.puzzleArea,npieces:e.userAnswer.pieceCount,pieceSave:e.userAnswer.pieceSave,mode:J.b,pieceJoinHandler:e.pieceJoinHandler});case 11:e.puzzle=t.sent;case 12:e.is_wait=!1;case 13:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){X(o,r,i,s,a,"next",t)}function a(t){X(o,r,i,s,a,"throw",t)}s(void 0)}))})()}},tt=Z,et=Object(d.a)(tt,G,[],!1,null,"d2131942",null).exports,nt=function(){var t=this,e=t._self._c;return e("div",t._l(t.testQuest.answer_arr,(function(n,r){return e("div",{staticClass:"a-test-lab-inp with_label"},[e("div",{staticClass:"content-box"},[e("label",[t._v("Відповідь "+t._s(r+1)+":")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userAnswer[r],expression:"userAnswer[idx]"}],ref:"answer-"+t.testQuest.id,refInFor:!0,attrs:{type:"text",placeholder:"Введіть відповідь...",name:t.testQuest.id,id:"answer-"+t.app_id+"-"+r+"-"+t.testQuest.id,maxlength:"255",autocomplete:"off"},domProps:{value:t.userAnswer[r]},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendAnswer(e)},input:function(e){e.target.composing||t.$set(t.userAnswer,r,e.target.value)}}})])])})),0)};function rt(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}nt._withStripped=!0;var ot={name:"TextMany",props:["testQuest","executionItem","app_id","bq_store_key"],data:function(){return{is_inited:!1,userAnswer:[]}},computed:{bitmaskExplanation:function(){return function(t){for(var e={1:"цифри",2:"кирилицю",4:"латиницю",8:"кому, крапку",16:"пробіли",32:"мінус"},n=[],r=0;r<8;r++)t&1<<r&&n.push(e[1<<r]);if(n.length)return"Дозволено вводити: "+n.join(", ")+".";return""}(this.testQuest.input_bit)}},methods:{isUserSetAnswer:function(){return JSON.parse(JSON.stringify(this.userAnswer)).filter((function(t){return t&&""!==t.trim()})).length>=this.testQuest.answer_arr.length},sendAnswer:function(t){this.saveToLocalStore(),this.$emit("internal-send-answer")},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!(!t||!Array.isArray(t.userAnswer))&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){var t;this.restoreFromSessionStore();var e=this.testQuest.answer_arr.map((function(t){return""}));this.userAnswer.forEach((function(t,n){e.length>n&&(e[n]=t)})),this.executionItem&&"answer"in this.executionItem&&this.executionItem.answer&&this.executionItem.answer.forEach((function(t,n){e.length>n&&(e[n]=t)})),(t=this.userAnswer).splice.apply(t,[0,this.userAnswer.length].concat(rt(e))),this.saveToLocalStore(),this.is_inited=!0},watch:{userAnswer:function(t,e){this.is_inited&&this.saveToLocalStore()}}},st=Object(d.a)(ot,nt,[],!1,null,"42e1b4e4",null).exports,at=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"question-sort-category_wrap"},[e("div",{staticClass:"question-sort-category_body"},[e("div",{ref:"imageArea",staticClass:"question-sort-category_body2"},[e("div",{staticClass:"question-sort-category_con",style:[t.windowSizeStyles,t.imageBackgroundStyles]},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.addToArea||t.removeFromArea,expression:"addToArea || removeFromArea"}],staticClass:"dlg_question-sort",style:t.menuPositionStyles},[e("span",{staticClass:"dlg_question_close-btn",on:{click:function(e){return t.openMenu(null,null)}}},[e("i",{staticClass:"vo-icon close"})]),t._v(" "),e("div",{staticClass:"dlg_question-sort-body"},[t.addToArea?[e("p",{staticClass:"dlg-title vo-mb05"},[t._v("Додати:")]),t._v(" "),t.freeItems.length?[e("table",{staticClass:"vo-mb0"},t._l(t.freeItems,(function(n){return e("tr",[e("td",{staticStyle:{border:"none!important","vertical-align":"middle!important"}},[e("button",{staticClass:"dlg-circle_btn blue",attrs:{type:"button"},on:{click:function(e){t.selectAnswer(t.addToArea.key,n.key,null),t.openMenu(null,null)}}},[e("i",{staticClass:"vo-icon plus"})])]),t._v(" "),e("td",["image"===n.type?[e("div",[e("img",{directives:[{name:"lazy",rawName:"v-lazy"}],staticStyle:{"pointer-events":"none"},attrs:{src:t._f("fileUrl")(n.file,150,0),alt:n.title,title:n.title}})])]:[e("p",{staticClass:"dlg-text"},[t._v(t._s(n.title))])]],2)])})),0)]:[e("p",{staticClass:"dlg-text vo-mb0"},[t._v("Доступні елементи відсутні.")])]]:t._e(),t._v(" "),t.removeFromArea?[e("p",{staticClass:"dlg-title vo-mb05"},[t._v("Обрані:")]),t._v(" "),t.userAnswer[t.removeFromArea.key].length?[e("table",{staticClass:"vo-mb0"},t._l(t.userAnswer[t.removeFromArea.key],(function(n){return e("tr",[e("td",{staticStyle:{border:"none!important","vertical-align":"middle!important"}},[e("button",{staticClass:"dlg-circle_btn red",attrs:{type:"button"},on:{click:function(e){t.selectAnswer(null,n,t.removeFromArea.key),t.openMenu(null,null)}}},[e("span",[t._v("-")])])]),t._v(" "),e("td",[t.itemsMap[n]?"image"===t.itemsMap[n].type?[e("div",{staticStyle:{"z-index":"9"}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy"}],staticStyle:{"pointer-events":"none"},attrs:{src:t._f("fileUrl")(t.itemsMap[n].file,150,0),alt:t.itemsMap[n].title,title:t.itemsMap[n].title}})])]:[e("p",{staticClass:"dlg-text",staticStyle:{"z-index":"9"}},[t._v(t._s(t.itemsMap[n].title))])]:[e("b",{staticClass:"dlg-text vo-color-red"},[t._v("ВИДАЛЕНО")])]],2)])})),0)]:[e("p",{staticClass:"dlg-text vo-mb0"},[t._v("Не додано жодного елемента.")])]]:t._e()],2)]),t._v(" "),e("div",{staticClass:"help-centered"}),t._v(" "),t._l(t.areas,(function(n){return[e("div",{key:n.key,ref:"areasRef",refInFor:!0,staticClass:"vr-area_wrap",class:{circle:"ellipse"===n.type},style:{width:Math.round(n.w*t.k)+"px",height:Math.round(n.h*t.k)+"px",left:Math.round(n.x*t.k)+"px",top:Math.round(n.y*t.k)+"px"}},[e("div",{staticClass:"control-test_buttons"},[e("span",{staticClass:"area-add_btn vr-add",attrs:{title:"Додати елемент"},on:{click:function(e){return t.openMenu(null,n)}}},[e("i",{staticClass:"vo-icon plus"})]),t._v(" "),t.userAnswer[n.key]&&t.userAnswer[n.key].length>1?e("div",{staticClass:"area-counter vr-remove",attrs:{title:"Переглянути/прибрати елемент"},on:{click:function(e){return t.openMenu(n,null)}}},[e("span",[t._v(t._s(t.userAnswer[n.key].length))])]):t._e()]),t._v(" "),n.title?e("div",{staticClass:"area_title_con"},[e("p",{staticClass:"area_title"},[t._v(t._s(n.title))])]):t._e(),t._v(" "),e("div",{staticClass:"vr-area",class:{noScroll:t.oneAreaOneWord||t.userAnswer[n.key]&&1===t.userAnswer[n.key].length}},[e("div",{staticClass:"content-box_vr-area"},[t._l((t.userAnswer[n.key]||[]).slice().reverse(),(function(r){return[e("div",{staticClass:"question-sort-category_item",class:[t.itemsMap[r]?t.itemsMap[r].type:"text"],style:t.niceImageWidthInArea(t.itemsMap[r],n,t.k,t.userAnswer[n.key]&&t.userAnswer[n.key].length>1,!1),on:{mousedown:function(e){return t.touchStart(e,r,n.key,!1)},touchstart:function(e){return t.touchStart(e,r,n.key,!0)}}},[t.itemsMap[r]?"image"===t.itemsMap[r].type?[e("span",{staticClass:"icon-con"},[t.itemsMap[r].file?[e("img",{directives:[{name:"lazy",rawName:"v-lazy"}],staticStyle:{"pointer-events":"none"},style:["ellipse"===n.type&&(t.oneAreaOneWord||t.userAnswer[n.key]&&1===t.userAnswer[n.key].length)?{borderRadius:"50%"}:{}],attrs:{src:t.niceImageWidthInArea(t.itemsMap[r],n,t.k,t.userAnswer[n.key]&&t.userAnswer[n.key].length>1,!0),alt:t.itemsMap[r].title,title:t.itemsMap[r].title}}),t._v(" "),t._m(0,!0)]:[e("span",{staticClass:"vo-color-red"},[t._v("ФАЙЛ НЕ ДОДАНО")])]],2)]:[e("span",{staticClass:"icon-con"},[t._v("\n                                                    "+t._s(t.itemsMap[r].title)+"\n                                                  "),e("i",{staticClass:"vo-icon arrow-cross"})])]:[e("b",{staticClass:"vo-color-red"},[t._v("'ВИДАЛЕНО'")])]],2)]}))],2)])])]}))],2),t._v(" "),t.freeItems.length>=1?e("div",{ref:"selectArea",staticClass:"question-sort-category_items",style:{width:t.windowSizeStyles.width,maxWidth:t.windowSizeStyles.maxWidth}},[e("div",{staticClass:"btn-slider_item left",on:{click:function(e){t.$refs.ItemsContainer.scrollLeft-=Math.floor(.615*t.$refs.ItemsContainer.clientWidth)}}},[e("i",{staticClass:"vo-icon arrow-d"})]),t._v(" "),e("div",{staticClass:"btn-slider_item right",on:{click:function(e){t.$refs.ItemsContainer.scrollLeft+=Math.floor(.615*t.$refs.ItemsContainer.clientWidth)}}},[e("i",{staticClass:"vo-icon arrow-d"})]),t._v(" "),e("div",{ref:"ItemsContainer",staticClass:"question-sort-category_items-row",class:[t.touchData&&!t.touchData.area_key?"safari-style":""],staticStyle:{"scroll-behavior":"smooth"},style:[t.touchData&&!t.touchData.area_key?{overflow:"scroll"}:{}]},[t._l(t.freeItems,(function(n){return[e("div",{key:n.key,staticClass:"question-sort-category_item",class:[n.type],on:{mousedown:function(e){return t.touchStart(e,n.key,null,!1)},touchstart:function(e){return t.touchStart(e,n.key,null,!0)}}},["image"===n.type?[e("span",{staticClass:"icon-con"},[n.file?[e("img",{directives:[{name:"lazy",rawName:"v-lazy"}],staticStyle:{"pointer-events":"none"},attrs:{src:t._f("fileUrl")(n.file,t.itemImageWidth,0),alt:n.title,title:n.title}}),t._m(1,!0)]:[e("span",{staticClass:"vo-color-red"},[t._v("ФАЙЛ НЕ ДОДАНО")])]],2)]:[e("span",{staticClass:"icon-con"},[t._v(t._s(n.title)),e("i",{staticClass:"vo-icon arrow-cross"})])]],2)]}))],2)]):t._e()])])])])};at._withStripped=!0;var ct={name:"WordBasket",props:["testQuest","executionItem","bq_store_key"],mixins:[o.c],filters:{fileUrl:l.u},data:function(){return{isMounted:!1,userAnswer:{},newHeight:null,windowInnerWidth:null,initialHeight:this.testQuest.answer_arr.window.height,clientWidth:null,touchData:null,dragel:null,dragelplaceholder:null,ticking:!1,touchTarget:null,logs:[],addToArea:null,removeFromArea:null,isScrollingNow:!1}},computed:{answer_arr:function(){return this.testQuest.answer_arr},window:function(){return this.answer_arr.window},areas:function(){return this.answer_arr.areas},items:function(){return this.answer_arr.items},settings:function(){return this.answer_arr.settings},freeItems:function(){var t=this,e=Object.values(this.userAnswer).reduce((function(t,e){return t.concat(e)}),[]);return this.items.filter((function(n){return-1===e.indexOf(n.key)||t.settings.one_word_many_area}))},itemsMap:function(){return this.items.reduce((function(t,e){return t[e.key]=e,t}),{})},k:function(){if(this.isMounted){var t=this.clientWidth;return t>=this.answer_arr.window.width?1:t/this.answer_arr.window.width}return 1},windowSizeStyles:function(){var t={width:"100%"};return this.isMounted&&(t.maxWidth=Math.round(this.answer_arr.window.width*this.k)+"px",t.height=(this.newHeight||Math.round(this.answer_arr.window.height*this.k))+"px"),t},imageBackgroundStyles:function(){return this.isMounted&&this.answer_arr.image?{backgroundImage:"url("+Object(l.u)(this.answer_arr.image.file,0,0)+")",backgroundSize:this.imageSizes.width+"px auto",backgroundRepeat:"no-repeat"}:{}},imageSizes:function(){var t=this.answer_arr.image,e=Math.min(t.file_width,this.clientWidth);return{width:e,height:Math.round(e*(t.file_height/t.file_width))}},oneAreaOneWord:function(){return!!this.settings.one_area_one_word},menuPositionStyles:function(){var t={position:"absolute",left:"0px",top:"0px"};if(this.addToArea||this.removeFromArea){var e=this.addToArea||this.removeFromArea,n=this.$refs.areasRef[this.areas.indexOf(e)],r=n.querySelector(this.addToArea?".vr-add":".vr-remove").getBoundingClientRect(),i=n.parentNode.getBoundingClientRect(),o=r.left-i.left+r.width+10;o+200>window.innerWidth&&(o+=window.innerWidth-(o+200)),t.top=r.top-i.top+"px",t.left=o+"px"}return t},itemImageWidth:function(){return 150}},methods:{touchStart:function(t,e,n,r){if(this.openMenu(null,null),this.dragel)r&&t.changedTouches[0]&&(this.touchData.lastTouch.id=t.changedTouches[0].identifier,this.touchData.lastTouch.clientX=t.changedTouches[0].clientX,this.touchData.lastTouch.clientY=t.changedTouches[0].clientY);else{var i,o=r?t.targetTouches[0]:t,s=t.currentTarget;if(this.dragel=s,this.touchTarget=o.target,n){var a=this.answer_arr.areas.findIndex((function(t){return t.key===n}));i=this.$refs.areasRef[a].querySelector(".vr-area").getBoundingClientRect()}else i=this.$refs.selectArea.getBoundingClientRect();var c=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window,l=c===window?window.scrollX:c.scrollLeft,u=c===window?window.scrollY:c.scrollTop,f=o.clientX+l,d=o.clientY+u,h=s.getBoundingClientRect(),p=i.top+u,v=i.left+l,m=h.top+u,g=h.left+l;this.touchData={is_touch:r,item_key:e,area_key:n,touch_id:o.identifier,lastTouch:{id:o.identifier,clientY:0,clientX:0},pageX:f,pageY:d,x:f+v-g,y:d+p-m,prevScroll:{x:l,y:u},newScroll:{x:l,y:u}},s.classList.add("green"),this.checkAreaState(!1),r?(document.addEventListener("touchstart",this.touchStart),document.addEventListener("touchmove",this.touchMove),document.addEventListener("touchend",this.touchEnd),document.addEventListener("touchcancel ",this.touchCancel)):(document.addEventListener("mousemove",this.touchMove),document.addEventListener("mouseup",this.touchEnd)),c.addEventListener("scroll",this.touchScroll)}},touchMove:function(t){var e=t,n=this.touchData,r=this.dragel;if(n.is_touch){if(t.target!==this.touchTarget){if((e=t.changedTouches[0])&&e.identifier===n.lastTouch.id){var i=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window,o=i===window?window.scrollY:i.scrollTop,s=i===window?document.body.scrollHeight:i.scrollHeight,a=window.innerHeight,c=n.lastTouch.clientY-e.clientY;c<0?c=-1*Math.min(o,Math.abs(c)):c>0&&(c=Math.min(Math.max(s-(o+a),0),c)),c&&s>a&&(i.removeEventListener("scroll",this.touchScroll),i.scrollTo(0,o+c),n.lastTouch.clientY=e.clientY,n.lastTouch.clientX=e.clientX,n.pageY-=c,this.dragelplaceholder||(this.dragelplaceholder=r.cloneNode(!0),this.dragelplaceholder.classList.add("vr-placeholder"),r.parentNode.insertBefore(this.dragelplaceholder,r.nextSibling),this.dragelplaceholder.style.height="".concat(r.height,"px")),r.style.left="".concat(n.pageX-n.x,"px"),r.style.top="".concat(n.pageY-n.y,"px"),r.style.position="absolute",this.checkAreaState(),i.addEventListener("scroll",this.touchScroll))}return}for(var l=0;l<t.targetTouches.length;l++)if(t.changedTouches[l].identifier===n.touch_id){e=t.changedTouches[l];break}}var u=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window,f=u===window?window.scrollX:u.scrollLeft,d=u===window?window.scrollY:u.scrollTop;n.pageX=e.clientX+f,n.pageY=e.clientY+d,this.dragelplaceholder||(this.dragelplaceholder=r.cloneNode(!0),this.dragelplaceholder.classList.add("vr-placeholder"),r.parentNode.insertBefore(this.dragelplaceholder,r.nextSibling),this.dragelplaceholder.style.height="".concat(r.height,"px")),r.style.left="".concat(n.pageX-n.x,"px"),r.style.top="".concat(n.pageY-n.y,"px"),r.style.position="absolute",this.checkAreaState(!1),this.autoscroll()},touchScroll:function(t){var e=this;if(this.touchData){var n=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window;n===window?(this.touchData.newScroll.x=window.scrollX,this.touchData.newScroll.y=window.scrollY):(this.touchData.newScroll.x=n.scrollLeft,this.touchData.newScroll.y=n.scrollTop),this.ticking||(window.requestAnimationFrame((function(){var t=e.touchData,n=e.dragel;t.pageX-=t.prevScroll.x-t.newScroll.x,t.pageY-=t.prevScroll.y-t.newScroll.y,t.prevScroll.x=t.newScroll.x,t.prevScroll.y=t.newScroll.y,e.dragelplaceholder||(e.dragelplaceholder=n.cloneNode(!0),e.dragelplaceholder.classList.add("vr-placeholder"),n.parentNode.insertBefore(e.dragelplaceholder,n.nextSibling),e.dragelplaceholder.style.height="".concat(n.height,"px")),n.style.left="".concat(t.pageX-t.x,"px"),n.style.top="".concat(t.pageY-t.y,"px"),n.style.position="absolute",e.checkAreaState(!1),e.ticking=!1})),this.ticking=!0)}},touchCancel:function(){(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window).removeEventListener("scroll",this.touchScroll),document.removeEventListener("mousemove",this.touchMove),document.removeEventListener("mouseup",this.touchEnd),document.removeEventListener("touchstart",this.touchStart),document.removeEventListener("touchmove",this.touchMove),document.removeEventListener("touchend",this.touchEnd),document.removeEventListener("touchCancel",this.touchCancel)},touchEnd:function(t){var e=this.dragel;!e||this.touchData&&this.touchData.is_touch&&t.target!==this.touchTarget?this.touchData&&this.touchData.is_touch&&t.changedTouches[0].identifier===this.touchData.lastTouch.id&&(this.touchData.lastTouch.id=null,this.touchData.lastTouch.clientY=null,this.touchData.lastTouch.clientX=null):(this.touchCancel(),this.checkAreaState(!0),e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("position"),e.classList.remove("green"),this.dragelplaceholder&&this.dragelplaceholder.parentNode.removeChild(this.dragelplaceholder),this.dragelplaceholder=null,this.dragel=null,this.touchData=null,this.touchTarget=null)},checkAreaState:function(t){for(var e=this.$refs.areasRef,n=this.touchData,r=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window,i=r===window?window.scrollX:r.scrollLeft,o=r===window?window.scrollY:r.scrollTop,s=null,a=0,c=this.answer_arr.areas.length;a<c;a++){var l=e[a];if(l){var u=l.getBoundingClientRect(),f=u.left+i,d=u.right+i,h=u.top+o,p=u.bottom+o,v=n.pageX,m=n.pageY;null===s&&v>=f&&v<=d&&m>=h&&m<=p?(s=this.answer_arr.areas[a].key,t?l.classList.remove("area-active"):l.classList.add("area-active")):l.classList.remove("area-active")}}t&&this.selectAnswer(s,n.item_key,n.area_key)},autoscroll:function(){var t,e=this,n=this.dragel,r=this.$refs.ItemsContainer,i=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window;!this.isScrollingNow&&n&&r&&(n.getBoundingClientRect().top<20?t=-window.innerHeight/30:window.innerHeight-n.getBoundingClientRect().bottom<0&&r.getBoundingClientRect().bottom>n.getBoundingClientRect().top&&(t=+window.innerHeight/30),t&&(this.isScrollingNow=!0,i.scrollTo({top:(i===window?window.scrollY:i.scrollTop)+t}),setTimeout((function(){e.isScrollingNow=!1,e.autoscroll()}),30)))},isUserSetAnswer:function(){return Object.values(this.userAnswer).some((function(t){return t.length>0}))},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)},checkWindowHeight:function(){var t=this,e=this.initialHeight,n=0;this.answer_arr.areas.forEach((function(e,r){var i=t.$refs.areasRef[r];if(i){var o=Math.round((i.clientHeight+i.offsetTop)/t.k);o>n&&(n=o)}})),this.newHeight=n>e?n+2:e},initNewWindowSize:function(){var t=this;this.windowInnerWidth!==window.innerWidth&&(this.windowInnerWidth=window.innerWidth,this.isMounted=!1,this.$nextTick((function(){var e=Math.round(t.$refs.imageArea.clientWidth),n=t.window.width,r=e>=n?1:e/n,i=Math.round(t.window.height*r),o=Math.round(.8*window.innerHeight);if(e>780&&r<1&&i>o){var s=t.window.height/t.window.width;t.clientWidth=s>1.3?Math.round(780/s):s<=.37?e:780}else t.clientWidth=e;t.isMounted=!0})))},selectAnswer:function(t,e,n){var r=this;t&&this.oneAreaOneWord&&this.userAnswer[t].splice(0,this.userAnswer[t].length),Object.keys(this.userAnswer).forEach((function(i){var o=r.userAnswer[i].indexOf(e);t?t!==i?-1===o||n!==i&&r.settings.one_word_many_area||r.userAnswer[i].splice(o,1):(-1===o||r.settings.one_word_many_area&&n!==i)&&r.userAnswer[i].push(e):-1!==o&&n===i&&r.userAnswer[i].splice(o,1)})),this.saveToLocalStore()},niceImageWidthInArea:s.s,openMenu:function(t,e){e?(this.removeFromArea=null,this.addToArea=this.addToArea===e?null:e):t?(this.addToArea=null,this.removeFromArea=this.removeFromArea===t?null:t):this.addToArea=this.removeFromArea=null}},mounted:function(){var t=this;this.restoreFromSessionStore(),this.executionItem&&this.executionItem.answer&&(this.$set(this.$data,"userAnswer",JSON.parse(JSON.stringify(this.executionItem.answer))),this.saveToLocalStore()),this.areas.forEach((function(e){t.$data.userAnswer.hasOwnProperty(e.key)||t.$set(t.$data.userAnswer,e.key,[])})),this.initNewWindowSize(),window.addEventListener("resize",this.initNewWindowSize)},beforeDestroy:function(){window.removeEventListener("resize",this.initNewWindowSize),this.touchEnd(null)}},lt=(n(817),Object(d.a)(ct,at,[function(){var t=this._self._c;return t("span",{staticClass:"btn_move"},[t("i",{staticClass:"vo-icon arrow-cross"})])},function(){var t=this._self._c;return t("span",{staticClass:"btn_move"},[t("i",{staticClass:"vo-icon arrow-cross"})])}],!1,null,"14900398",null).exports),ut=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"true-false_test-wrap is-testing"},[e("div",{staticClass:"true-false_test-con"},[t._l(t.testQuest.answer_arr.buttons,(function(n,r){return[e("button",{staticClass:"item-true-false btn",class:{green:1===n.style,red:2===n.style,active:-1!==t.userAnswer.indexOf(r)},attrs:{type:"button"},on:{click:function(e){return t.checkAnswer(r)}}},[t._m(0,!0),t._v(" "),e("span",{staticClass:"text-btn"},[t._v("\n                         "+t._s(n.title)+"\n                    ")])])]}))],2)])])};ut._withStripped=!0;var ft={name:"TrueFalse",props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],data:function(){return{userAnswer:[]}},methods:{isUserSetAnswer:function(){return this.userAnswer.length>0},checkAnswer:function(t){this.userAnswer=-1===this.userAnswer.indexOf(t)?[t]:[],this.saveToLocalStore()},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)}},created:function(){this.restoreFromSessionStore(),this.executionItem&&"answer"in this.executionItem&&this.executionItem.answer&&(this.userAnswer=JSON.parse(JSON.stringify(this.executionItem.answer)),this.saveToLocalStore())}},dt=Object(d.a)(ft,ut,[function(){var t=this._self._c;return t("div",{staticClass:"overflow-block"},[t("div",{staticClass:"animation-el_true-false"})])}],!1,null,"9d924ce2",null).exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"word-queue-test_question_sentence-wrap-testing"},[t._l(t.testQuest.answer_arr,(function(n,r){return[e("div",{staticClass:"word-queue-test_question_sentence-con-testing"},[e("draggable",{staticClass:"word-queue-test_question_sentence-row",model:{value:t.userAnswer[r],callback:function(e){t.$set(t.userAnswer,r,e)},expression:"userAnswer[row_num]"}},[t._l(t.userAnswer[r],(function(r){return[e("span",{staticClass:"word-queue-test_question_sentence-item"},[e("span",{staticClass:"draggable-icon-con"},[t._v("\n                            "+t._s(n.parts[r]?n.parts[r].title:"ВИДАЛЕНО")+"\n                            "),e("i",{staticClass:"vo-icon arrow-cross"})])])]}))],2)],1)]}))],2)};function pt(t){return function(t){if(Array.isArray(t))return vt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ht._withStripped=!0;var mt={name:"WordQueue",components:{draggable:B.a},props:["testQuest","executionItem","app_id","shuffle","bq_store_key"],data:function(){return{is_inited:!1,is_default_order:!0,userAnswer:[]}},methods:{isUserSetAnswer:function(){return this.userAnswer.length>0},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(this.$set(this.$data,"userAnswer",t.userAnswer),this.is_default_order=!1,!0)},saveToLocalStore:function(){var t={userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)},fixAnswerLength:function(){var t=this;this.userAnswer.length>this.testQuest.answer_arr.length&&this.userAnswer.splice(this.userAnswer.length-1,1/0),this.testQuest.answer_arr.forEach((function(e,n){var r;(t.userAnswer[n]||t.userAnswer.push([]),t.userAnswer[n].length!==e.parts.length)&&(r=t.userAnswer[n]).splice.apply(r,[0,1/0].concat(pt(Array.from(Array(Array.isArray(e.parts)?e.parts.length:Object.keys(e.parts).length).keys()))))}))}},created:function(){this.restoreFromSessionStore(),this.executionItem&&"answer"in this.executionItem&&this.executionItem.answer&&(this.userAnswer=JSON.parse(JSON.stringify(this.executionItem.answer))),this.fixAnswerLength(),this.is_inited=!0},watch:{userAnswer:function(t){this.is_inited&&(this.saveToLocalStore(),this.is_default_order=!1)}}},gt=(n(818),Object(d.a)(mt,ht,[],!1,null,"5b968ec5",null).exports),yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"crosword_fillword-wrap"},[e("div",{ref:"puzzleScene",staticClass:"fillWord_table",class:["crossword-".concat(t.puzzle_type)],style:[t.isCrossword?{}:{"touch-action":"none"}],attrs:{id:"scene"}},t._l(t.scene,(function(n,r){return e("div",{key:r,staticClass:"row"},t._l(n,(function(n,i){return e("div",{key:i,staticClass:"ceil",class:{word:n.css_word,lightup:n.lightup,active:n.active},attrs:{y:r,x:i},on:{mousedown:function(e){return t.startTurn(e,n,!1)},mouseenter:function(e){return t.mouseMove(e,n)},mouseup:function(e){return t.endTurn(e,n,!1)},touchstart:function(e){return t.startTurn(e,n,!0)},touchmove:function(e){return t.touchMove(e,n)},touchend:function(e){return t.endTurn(e,n,!0)}}},[e("div",{staticClass:"cell_body"},[e("div",{staticClass:"cell-content"},[t.isFillword?[t._v("\n                            "+t._s(n.char)+"\n                        ")]:t.userAnswerGreed[r]&&t.userAnswerGreed[r][i]?[t.userAnswerGreed[r][i].dirs.length?t._l(t.userAnswerGreed[r][i].dirs,(function(n){return e("span",{class:["dir-"+n.dir]},[t._v(t._s(n.num))])})):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userAnswer[t.numToIndex[t.userAnswerGreed[r][i].answer_index]].line[t.userAnswerGreed[r][i].char_index].char,expression:"userAnswer[ numToIndex[userAnswerGreed[rowIndex][ceilIndex].answer_index] ]['line'][ userAnswerGreed[rowIndex][ceilIndex].char_index ]['char']"}],ref:"cellInputs",refInFor:!0,attrs:{y:r,x:i,type:"text",maxlength:"1"},domProps:{value:t.userAnswer[t.numToIndex[t.userAnswerGreed[r][i].answer_index]].line[t.userAnswerGreed[r][i].char_index].char},on:{change:function(e){return t.checkChange(t.numToIndex[t.userAnswerGreed[r][i].answer_index],t.userAnswerGreed[r][i].char_index)},focus:function(e){return t.checkCell(e,n,t.userAnswerGreed[r][i])},blur:function(e){return t.checkCell(e,n,t.userAnswerGreed[r][i])},keyup:function(e){return t.checkKeyMove(e,n)},input:function(e){e.target.composing||t.$set(t.userAnswer[t.numToIndex[t.userAnswerGreed[r][i].answer_index]].line[t.userAnswerGreed[r][i].char_index],"char",e.target.value)}}})]:t._e()],2)])])})),0)})),0),t._v(" "),t.isFillword?[e("p",{staticClass:"vo-text vo-mb0 vo-mt05"},[e("span",{staticClass:"vo-color-silver"},[t._v("Знайдено слів: "+t._s(t.userAnswer.length))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_words||t.userAnswer.length,expression:"show_words || userAnswer.length"}],staticClass:"word-queue-test_question_sentence-con"},[e("div",{staticClass:"word-queue-test_question_sentence-row"},[t.show_words?[t._l(t.wordsBank,(function(n,r){return[e("span",{staticClass:"word-queue-test_question_sentence-item",class:{"word-cross":t.isFillword&&-1!==t.foundedWords.indexOf(n.title.toLowerCase())}},[e("span",[t._v(t._s(n.title))]),t._v(" "),-1!==t.foundedWords.indexOf(n.title.toLowerCase())?e("span",{staticClass:"delete-btn",staticStyle:{margin:"0 8px"},on:{click:function(e){return t.removeAnswerByWord(n.title)}}},[e("i",{staticClass:"icons-question-sort-category trash"})]):t._e()])]}))]:t._e(),t._v(" "),t._l(t.userAnswer,(function(n,r){return[t.show_words&&-1!==t.foundedWords.indexOf(n.word.toLowerCase())?t._e():e("span",{staticClass:"word-queue-test_question_sentence-item",class:{"word-cross":!1}},[e("span",{staticClass:"aroow_con",staticStyle:{margin:"0 8px 0 0"},attrs:{title:"Розвернути слово в зворотному порядку"},on:{click:function(e){return t.reverseAnswer(r)}}},[t._m(0,!0)]),t._v(" "),e("span",[t._v(t._s(n.word))]),t._v(" "),e("span",{staticClass:"delete-btn",staticStyle:{margin:"0 8px"},on:{click:function(e){return t.removeAnswer(r,1)}}},[e("i",{staticClass:"icons-question-sort-category trash"})])])]}))],2)])]:t.isCrossword?[e("div",{staticClass:"vo-pt1"}),t._v(" "),e("div",{staticClass:"fillWord_text_styling-text-wrap"},[t._l(t.wordsBankCrossword,(function(n,r){return[e("div",{staticClass:"fillWord_text type-list inline",on:{click:function(e){return t.checkAnswer(t.numToIndex[r])}}},[e("b",{staticClass:"numb-item"},[t._v(t._s(r+1)+".")]),t._v(" "),e("span",{staticClass:"text-con"},[n.desc?t._e():e("span",{staticClass:"vo-color-silver"},[t._v("опис до слова не вказано")]),t._v(t._s(n.desc)+"\n                ")])])]}))],2)]:[e("h1",{staticClass:"vo-color-red"},[t._v("Некоректний тип кросворда. Опис слів відсутній.")])]],2)};function _t(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}yt._withStripped=!0;var wt={name:"FillWord",props:["testQuest","isDesigner","executionItem","app_id","bq_store_key"],data:function(){return{scene:[],userAnswer:[],startSquare:null,lastSquare:null,curOrientation:null,startAnswerNum:null,touchPoints:[]}},computed:{puzzle_type:function(){return this.testQuest.answer_arr.puzzle_type},puzzle_string:function(){return this.testQuest.answer_arr.puzzle_string},wordsBank:function(){return this.testQuest.answer_arr.wordsBank},solution:function(){return this.testQuest.answer_set_true},puzzle:function(){return this.puzzle_string.split("\n").map((function(t){return t.split("")}))},show_words:function(){return this.testQuest.answer_arr.settings.show_words},isFillword:function(){return this.puzzle_type===s.i},isCrossword:function(){return this.puzzle_type===s.h},wordsLower:function(){return this.wordsBank.map((function(t){return t.title.toLowerCase()}))},foundedWords:function(){var t=this;return this.userAnswer.map((function(t){return t.word.toLowerCase()})).filter((function(e){return-1!==t.wordsLower.indexOf(e)}))},wordsBankCrossword:function(){if(!this.isCrossword)return null;var t=_t(this.testQuest.answer_arr.wordsBank);return t.sort((function(t,e){var n=t.solution.line[0],r=e.solution.line[0];if(n.y!==r.y)return n.y<r.y?-1:1;if(n.x!==r.x)return n.x<r.x?-1:1;var i=t.solution.dir;return i!==e.solution.dir?i===s.f?-1:1:0})),t},numToIndex:function(){if(!this.isCrossword)return null;var t=this.wordsBank;return this.wordsBankCrossword.reduce((function(e,n,r){return e[r]=t.indexOf(n),e}),{})},userAnswerGreed:function(){var t=this;if(this.isFillword)return null;var e={};return this.wordsBankCrossword.forEach((function(n,r){n.solution.line.forEach((function(i,o){var s=i.x,a=i.y;e[a]||(e[a]={}),e[a][s]||(e[a][s]={answer_index:!1,char_index:!1,dirs:[],answers:[]}),e[a][s].answer_index=r,e[a][s].char_index=o,e[a][s].answers.push(t.numToIndex[r]),0===o&&e[a][s].dirs.push({dir:n.solution.dir,answer_num:t.numToIndex[r],num:r+1})}))})),e}},methods:{isUserSetAnswer:function(){return this.isCrossword?this.userAnswer.find((function(t){return t.line.find((function(t){return""!==t.char}))})):this.userAnswer.length},createScene:function(){this.scene=[];for(var t=0,e=this.puzzle.length;t<e;t++){this.scene.push([]);for(var n=0,r=this.puzzle[t].length;n<r;n++)this.scene[t].push({x:n,y:t,char:""===this.puzzle[t][n]?null:this.puzzle[t][n],active:!1,lightup:!1,css_word:!1})}for(var i=0,o=this.userAnswer.length;i<o;i++)for(var s=0,a=this.userAnswer[i].line.length;s<a;s++){var c=this.userAnswer[i].line[s];this.scene[c.y][c.x].css_word=!0}},startTurn:function(t,e,n){if(!this.isCrossword){if(n){for(var r=t.changedTouches,i=0;i<r.length;i++)this.touchPoints.push(this.copyTouch(r[i]));if(this.startSquare)return}this.startSquare=e,this.lastSquare=e,e.active=!0,this.userAnswer.push({word:e.char,dir:0,line:[{x:e.x,y:e.y,char:e.char}]})}},mouseMove:function(t,e){this.select(e)},touchMove:function(t,e){if(!this.isCrossword){var n=t.changedTouches;if(this.touchPoints.length){var r=null,i=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||window,o=this.touchPoints;t.preventDefault(),t.stopPropagation();for(var s=0;s<n.length;s++){var a=this.ongoingTouchIndexById(n[s].identifier);switch(a){case-1:o.push(this.copyTouch(n[s]));break;case 0:r=n[s];break;default:var c=n[s].pageX-(i===window?window.scrollX:0),l=n[s].pageY-(i===window?window.scrollY:0),u=o[a].pageX-c,f=o[a].pageY-l;o[a].pageX=c,o[a].pageY=l,i.scrollTo({top:(i===window?window.scrollY:i.scrollTop)+f,left:(i===window?window.scrollX:i.scrollLeft)+u,behavior:"instant"})}}if(r){var d=r.pageX-(i===window?window.scrollX:0),h=r.pageY-(i===window?window.scrollY:0),p=document.elementFromPoint(d,h);if(p){if(!p.classList.contains("ceil")){if(!(p=p.closest("#scene > div.row > div.ceil")))return;var v=+p.getAttribute("x"),m=+p.getAttribute("y");this.scene[m]&&this.scene[m][v]&&(e=this.scene[m][v])}this.select(e)}}}else this.startTurn(t,e,!0)}},endTurn:function(t,e,n){var r=this;if(!this.isCrossword){if(n){for(var i=t.changedTouches,o=null,s=0;s<i.length;s++){var a=this.ongoingTouchIndexById(i[s].identifier);switch(a){case-1:break;case 0:o=i[a];break;default:this.touchPoints.splice(a,1)}}if(!o&&this.touchPoints.length)return}var c=this.userAnswer[this.userAnswer.length-1];if(c.line.forEach((function(t){r.scene[t.y][t.x].active=!1})),c.line.length<3)this.userAnswer.pop();else if(this.show_words){var l=this.wordsLower,u=c.word.toLowerCase(),f=l.indexOf(u);-1===f&&(f=l.indexOf(u.split("").reverse().join(""))),-1===f?this.removeAnswer(this.userAnswer.length-1,1):(c.line.forEach((function(t){r.scene[t.y][t.x].css_word=!0})),c.word=this.wordsBank[f].title)}else c.line.forEach((function(t){r.scene[t.y][t.x].css_word=!0}));this.startSquare=null,this.lastSquare=null,this.curOrientation=null,this.touchPoints.splice(0,1/0),this.saveToLocalStore()}},select:function(t){if(this.startSquare&&t!==this.lastSquare){for(var e=this.userAnswer[this.userAnswer.length-1],n=this.startSquare,r=-1,i=0,o=e.line.length;i<o;i++)if(t.x===e.line[i].x&&t.y===e.line[i].y){r=i+1;break}-1!==r&&r<e.line.length&&(this.clearLine(this.userAnswer.length-1,r),this.lastSquare=this.scene[e.line[r-1].y][e.line[r-1].x]);var s=this.calcOrientation(n.x,n.y,t.x,t.y);if(s){this.clearLine(this.userAnswer.length-1);var a,c=n,l=0;for(e.line.push({x:c.x,y:c.y,char:c.char}),e.dir=s.value,e.word=c.char,c.active=!0,this.lastSquare=c;c!==t;)a=s.nextFn(n.x,n.y,++l),c=this.scene[a.y][a.x],e.line.push({x:c.x,y:c.y,char:c.char}),e.word+=c.char,c.active=!0,this.lastSquare=c;this.curOrientation=s}}},calcOrientation:function(t,e,n,r){for(var i in s.e){var o=(0,s.e[i].nextFn)(t,e,Math.max(Math.abs(n-t),Math.abs(r-e)));if(o.x===n&&o.y===r)return s.e[i]}return null},removeAnswer:function(t,e){var n=this,r=this.userAnswer.splice(t,e),i=this.userAnswer.reduce((function(t,e){return e.line.forEach((function(e){t["".concat(e.x,"-").concat(e.y)]=!0})),t}),{});r.forEach((function(t){t.line.forEach((function(t){n.scene[t.y][t.x].active=!1,i["".concat(t.x,"-").concat(t.y)]||(n.scene[t.y][t.x].css_word=!1)}))})),this.saveToLocalStore()},removeAnswerByWord:function(t){t=t.toLowerCase();var e=this.foundedWords.indexOf(t);-1!==e&&this.removeAnswer(e,1)},clearLine:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,i=this.userAnswer[t].line.splice(n,r),o=this.userAnswer.reduce((function(t,e){return e.line.forEach((function(e){t["".concat(e.x,"-").concat(e.y)]=!0})),t}),{});i.forEach((function(t){e.scene[t.y][t.x].active=!1,o["".concat(t.x,"-").concat(t.y)]||(e.scene[t.y][t.x].css_word=!1)}))},reverseAnswer:function(t){this.userAnswer[t].line.reverse(),this.userAnswer[t].word=this.userAnswer[t].line.map((function(t){return t.char})).join(""),this.userAnswer[t].dir=this.calcOrientation(this.userAnswer[t].line[0].x,this.userAnswer[t].line[0].y,this.userAnswer[t].line[1].x,this.userAnswer[t].line[1].y).value,this.saveToLocalStore()},setOuterUserAnswer:function(t){var e=this;t&&Array.isArray(t)&&t.forEach((function(t,n){e.isFillword?e.userAnswer.push(t):e.userAnswer[n]&&e.userAnswer[n].line.forEach((function(r,i){var o=t.line[i];if(o){var s=parseInt(o.x),a=parseInt(o.y);r.x===s&&r.y===a&&(e.userAnswer[n].line[i].char=o.char)}}))}))},restoreFromSessionStore:function(){var t=Object(c.d)(this.bq_store_key,this.testQuest.id);return!!t&&(String(Object(l.G)(this.puzzle_string))===String(t.puzzle_hash)&&(this.setOuterUserAnswer(t.userAnswer),!0))},saveToLocalStore:function(){var t={puzzle_hash:String(Object(l.G)(this.puzzle_string)),userAnswer:this.$data.userAnswer};Object(c.f)(this.bq_store_key,t,this.testQuest.id)},checkChange:function(t,e){for(var n=this.userAnswer[t].line[e],r=n.char,i=0,o=this.userAnswer.length;i<o;i++)this.userAnswer[i].line.forEach((function(t){n.x===t.x&&n.y===t.y&&(t.char=r)}));this.saveToLocalStore()},checkCell:function(t,e,n){for(var r,i="focus"===t.type,o=this.scene,a=0,c=this.scene.length;a<c;a++)for(var l=0,u=this.scene[a].length;l<u;l++)o[a][l].lightup=!1,o[a][l].active=!1;if(!1===this.startAnswerNum||!~n.answers.indexOf(this.startAnswerNum)){var f=n.dirs.reduce((function(t,e){return t[e.dir]=e,t}),{}),d=f[s.f]||f[s.g];this.startAnswerNum=d?d.answer_num:n.answers[0]}if(i){for(var h=this.userAnswer[this.startAnswerNum].line,p=0,v=h.length;p<v;p++)o[h[p].y][h[p].x].lightup=i;null==t||null===(r=t.target)||void 0===r||r.select()}},checkAnswer:function(t){for(var e=0,n=this.$refs.cellInputs.length;e<n;e++)for(var r=+this.$refs.cellInputs[e].getAttribute("x"),i=+this.$refs.cellInputs[e].getAttribute("y"),o=0,s=this.userAnswer[t].line.length;o<s;o++){var a=this.userAnswer[t].line[o];if(a.x===r&&a.y===i)return void this.$refs.cellInputs[e].focus()}},checkKeyMove:function(t,e){var n,r,i,o=String(t.keyCode),s=t.key,a=!1,c=this.userAnswer[this.startAnswerNum]?this.userAnswer[this.startAnswerNum].line:null,l=e.x,u=e.y;if(c){var f=c.findIndex((function(t){return t.x===l&&t.y===u}));~f&&(n=f,r=f-1,i=f+1)}switch(o){case"38":u--;break;case"40":u++;break;case"37":l--;break;case"39":l++;break;case"8":case"46":c&&c[r]&&(l=c[r].x,u=c[r].y);break;default:if("string"!=typeof s||1!==s.length||!c)return;c&&c[i]?(l=c[i].x,u=c[i].y):(l=c[n].x,u=c[n].y,a=!0)}if(this.scene[u]&&this.scene[u][l]&&this.scene[u][l].css_word)for(var d=0,h=this.$refs.cellInputs.length;d<h;d++){var p=+this.$refs.cellInputs[d].getAttribute("x"),v=+this.$refs.cellInputs[d].getAttribute("y");if(p===l&&v===u)return a?this.$refs.cellInputs[d].blur():(this.$refs.cellInputs[d].focus(),this.$refs.cellInputs[d].select()),void this.saveToLocalStore()}},copyTouch:function(t){return{identifier:t.identifier,pageX:t.pageX,pageY:t.pageY}},ongoingTouchIndexById:function(t){for(var e=this.touchPoints,n=0;n<e.length;n++){if(e[n].identifier===t)return n}return-1}},created:function(){var t=this;this.isCrossword&&this.wordsBank.forEach((function(e){t.userAnswer.push(e.solution)})),this.createScene(),this.restoreFromSessionStore(),this.executionItem&&"answer"in this.executionItem&&this.setOuterUserAnswer(this.executionItem.answer),this.userAnswer.forEach((function(e){e.line.forEach((function(e){t.scene[e.y][e.x].css_word=!0}))}))}},kt=wt,xt=(n(819),Object(d.a)(kt,yt,[function(){var t=this._self._c;return t("span",{staticStyle:{display:"block",position:"relative",transform:"rotate(90deg)"}},[t("i",{staticClass:"icons-question-sort-category arrow-top",staticStyle:{"font-size":"12px",transform:"translate(4px, 0px)",position:"relative"}}),this._v(" "),t("i",{staticClass:"icons-question-sort-category arrow-bottom",staticStyle:{"font-size":"12px",transform:"translate(-4px, 0px)",position:"relative"}})])}],!1,null,"6dfbc4de",null).exports),St={name:"BaseQuest",props:{quest:Object,quest_num:Number,app_id:[String,Number],shuffle:[Boolean,String,Number],quest_count:[String,Number],prev_quest_id:[String,Number],next_quest_id:[String,Number],user_answer:[String,Number,Object],user_answer_files:String,show_control_buttons:[Boolean,String,Number],voCopyDisabled:[Boolean,String,Number],quest_store_key:{type:[String,Boolean],default:!1},show_save_buttons:{type:[Boolean,String,Number],default:!0},show_stop_button:{type:[Boolean,String,Number],default:!1},show_popup_on_empty_answer:{type:[Boolean,String,Number],default:!0},save_button_text:{type:String,default:'<span class="occasional_class occ1"><span class="occasional_class occ2">Зберегти</span> і перейти далі</span>'},is_fullscreen:!1},components:{WordBasket:lt,TextMany:st,AnswerCross:h,AnswerText:g,CheckboxBlock:A,RadioBlock:x,FillTheGap:R,Queue:V,ImageArea:Y,TrueFalse:dt,WordQueue:gt,FileInput:i.a,FillWord:xt,ImagePuzzle:et},mixins:[o.c],data:function(){return{warning_message:"",files:this.user_answer_files||""}},computed:{isFileAttach:function(){return 128&this.quest.pib},bq_store_key:function(){return this.quest_store_key},questType:function(){return Object(s.r)(this.quest.quest_type)}},methods:{prevQuest:function(t){this.prev_quest_id?this.$emit("set-show-quest-id",this.prev_quest_id,t):this.$emit("change-quest","prev",t)},nextQuest:function(t){this.next_quest_id?this.$emit("set-show-quest-id",this.next_quest_id,t):this.$emit("change-quest","next",t)},getUserAnswerFiles:function(){return this.files},getUserAnswer:function(){var t=JSON.parse(JSON.stringify(this.$refs.activeQuestBlock.userAnswer)),e=this.getUserShowInformation();return void 0!==e&&(t["@show-rules"]=e),t},getUserShowInformation:function(){if(void 0!==this.$refs.activeQuestBlock.getUserShowInformation)return JSON.parse(JSON.stringify(this.$refs.activeQuestBlock.getUserShowInformation()))},warningMsgIfAnswerNotSet:function(){var t=this.$refs.activeQuestBlock.warningMsgIfAnswerNotSet;return void 0===t&&(t=""),t},showWarningMsg:function(t,e){var n=this;this.warning_message=t,!1!==e&&setTimeout((function(){n.warning_message=""}),e&&e>0?e:3e3)},isUserSetAnswer:function(){return this.$refs.activeQuestBlock.isUserSetAnswer()},userSetAnswer:function(t){if(!this.isUserSetAnswer()){var e="Необхідно вказати відповідь",n=this.warningMsgIfAnswerNotSet();return n&&(e=n),this.show_popup_on_empty_answer&&vo.popup(e),this.showWarningMsg(e),!1}return this.$emit("user-set-answer",{event:t}),!0},internalSendAnswerHandler:function(){this.userSetAnswer()}}},Ct=Object(d.a)(St,r,[function(){var t=this._self._c;return t("p",{staticClass:"vo-text"},[t("span",{staticClass:"vo-color-blue"},[this._v("До цього запитання додатково можна прикріпити файл:")])])},function(){var t=this._self._c;return t("span",{staticClass:"occasional_class occ1"},[t("span",{staticClass:"occasional_class occ2"}),this._v("Назад")])},function(){var t=this._self._c;return t("span",{staticClass:"occasional_class occ1"},[t("span",{staticClass:"occasional_class occ2"}),this._v("Пропустити")])}],!1,null,"d947689e",null);e.a=Ct.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return t.pagination.pageCount>1?e("div",{staticClass:"pagination n-j-pagination"},[e("ul",[e("li",{class:{prev:!0,"a-pointer-class":t.isPrevActive,disabled:!t.isPrevActive}},[t.isPrevActive?e("a",{on:{click:function(e){return t.$emit("turn-to-page",t.pagination.page,e)}}},[t._v("«")]):e("span",[t._v("«")])]),t._v(" "),t._l(t.getPageRange,(function(n){return e("li",{class:{"a-pointer-class":!0,active:n===t.pagination.page}},[e("a",{on:{click:function(e){return t.$emit("turn-to-page",n+1,e)}}},[t._v(t._s(n+1))])])})),t._v(" "),e("li",{class:{next:!0,"a-pointer-class":t.isNextActive,disabled:!t.isNextActive}},[t.isNextActive?e("a",{on:{click:function(e){return t.$emit("turn-to-page",t.pagination.page+2,e)}}},[t._v("»")]):e("span",[t._v("»")])])],2)]):t._e()};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}r._withStripped=!0;var o={name:"v-pager",props:{pagination:{type:Object,validator:function(t){return"object"===i(t)&&"page"in t&&"pageCount"in t&&"pageSize"in t},default:function(){return{page:0,pageCount:20,pageSize:20}}},maxButtonCount:{type:[Number,String],default:10}},computed:{getPageRange:function(){var t=parseInt(this.pagination.page),e=parseInt(this.pagination.pageCount),n=Number(this.maxButtonCount/2).toString(),r=Math.max(0,t-parseInt(n)),i=r+this.maxButtonCount-1;i>=e&&(i=e-1,r=Math.max(0,i-this.maxButtonCount+1));for(var o=[];r<=i;r++)o.push(r);return o},isPrevActive:function(){return this.pagination.page>0},isNextActive:function(){return this.pagination.page<this.pagination.pageCount-1}}},s=n(0),a=Object(s.a)(o,r,[],!1,null,"0316cfb9",null);e.a=a.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[t.is_preloading?[e("Preloader")]:t.isTimer?"hello-screen"===t.mode?[e("div",{staticClass:"v-test-timer-new",class:[t.css_class]},[t.time_to_end<0?e("span",[t._v("\n            "+t._s(t.end_title)+" "+t._s(t.timeEndFormattedString())+".\n            ")]):e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!!t.title,expression:"!!title"}],staticClass:"v-lib-rating-timer-title-main"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"v-lib-rating-timer"},[e("div",{staticClass:"v-lib-rating-timer-cirlce v-lib-rating-timer-cirlce-d",attrs:{id:"vr-td-countdown-days"}},[e("div",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v("0")]),t._v(" "),e("div",{staticClass:"i-cd-word v-lib-rating-timer-count-label"},[t._v("Днів")]),t._v(" "),e("svg",{attrs:{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"}},[e("g",[e("circle",{staticClass:"i-cd-circle v-circle_animation",attrs:{r:"42",cy:"30",cx:"14","stroke-width":"8",stroke:"#6fdb6f",fill:"none"}})])])]),t._v(" "),e("div",{staticClass:"v-lib-rating-timer-cirlce v-lib-rating-timer-cirlce-h",attrs:{id:"vr-td-countdown-hours"}},[e("div",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v("0")]),t._v(" "),e("div",{staticClass:"i-cd-word v-lib-rating-timer-count-label"},[t._v("Годин")]),t._v(" "),e("svg",{attrs:{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"}},[e("g",[e("circle",{staticClass:"i-cd-circle v-circle_animation",attrs:{r:"42",cy:"30",cx:"14","stroke-width":"8",stroke:"#6fdb6f",fill:"none"}})])])]),t._v(" "),e("div",{staticClass:"v-lib-rating-timer-cirlce v-lib-rating-timer-cirlce-m",attrs:{id:"vr-td-countdown-minutes"}},[e("div",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v("0")]),t._v(" "),e("div",{staticClass:"i-cd-word v-lib-rating-timer-count-label"},[t._v("Хвилин")]),t._v(" "),e("svg",{attrs:{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"}},[e("g",[e("circle",{staticClass:"i-cd-circle v-circle_animation",attrs:{r:"42",cy:"30",cx:"14","stroke-width":"8",stroke:"#6fdb6f",fill:"none"}})])])]),t._v(" "),e("div",{staticClass:"v-lib-rating-timer-cirlce v-lib-rating-timer-cirlce-s",attrs:{id:"vr-td-countdown-seconds"}},[e("div",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v("0")]),t._v(" "),e("div",{staticClass:"i-cd-word v-lib-rating-timer-count-label"},[t._v("Секунд")]),t._v(" "),e("svg",{attrs:{width:"60",height:"60",xmlns:"http://www.w3.org/2000/svg"}},[e("g",[e("circle",{staticClass:"i-cd-circle v-circle_animation",attrs:{r:"42",cy:"30",cx:"14","stroke-width":"8",stroke:"#6fdb6f",fill:"none"}})])])])])])])]:"timer-inline"===t.mode?[t.time_to_end<0?e("span",[t._v("\n            "+t._s(t.end_title)+" "+t._s(t.timeEndFormattedString())+".\n        ")]):e("span",{staticClass:"n-course-timer-wrap"},[e("span",{staticClass:"n-course-count-timer"},[e("span",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v(t._s(t.day||"0"))]),t._v(" "),e("span",{staticClass:"v-lib-rating-timer-count-label"},[t._v("дн")]),t._v(" "),t._m(0)]),t._v(" "),e("span",{staticClass:"n-course-count-timer"},[e("span",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v(t._s(t.hour||"00"))]),t._v(" "),e("span",{staticClass:"v-lib-rating-timer-count-label"},[t._v("год")]),t._v(" "),t._m(1)]),t._v(" "),e("span",{staticClass:"n-course-count-timer"},[e("span",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v(t._s(t.min||"00"))]),t._v(" "),e("span",{staticClass:"v-lib-rating-timer-count-label"},[t._v("хв")]),t._v(" "),t._m(2)]),t._v(" "),e("span",{staticClass:"n-course-count-timer n-second"},[e("span",{staticClass:"i-cd-number v-lib-rating-timer-count"},[t._v(t._s(t.sec||"00"))]),t._v(" "),e("span",{staticClass:"v-lib-rating-timer-count-label"},[t._v("сек")])])])]:[e("div",{class:["v-test-timer-new","pull-right","v-z-index",t.time_to_end<this.second_to_notification?"vr-red-timer":""]},[e("i",{staticClass:"v-icon-timer-new"}),e("span",{staticClass:"occasional_class occ1"},[t._v(t._s(t.time_to_end<0?"-":"")),t.day>0?e("span",[t._v(t._s(t.day||"00")+":")]):t._e(),t.hour>0?e("span",[t._v(t._s(t.hour||"00")+":")]):t._e(),e("span",{staticClass:"occasional_class occ2"},[t._v(t._s(t.min||"00")+":"+t._s(t.sec||"00"))])])])]:[e("span",[t._v("---")])]],2)};r._withStripped=!0;var i={name:"Timer",props:{css_class:{default:"pull-right v-z-index"},time_end:{default:null},mode:{default:null},time_start:{default:null},second_to_notification:{default:null},title:{default:"До початку тестування залишилось:"},end_title:{default:"Реєстрація завершилася"}},components:{Preloader:n(54).a},data:function(){return{is_preloading:!0,current_time:vo.unix_time,timer_red:!1,time_to_start:!1,time_to_end:0,timer:null,lastSync:(new Date).getTime()}},computed:{isTimer:function(){return!!parseInt(this.time_end)},sec:function(){var t=this.time_to_end%60;return this.twoSigns(Math.abs(t))},min:function(){var t=Math.floor(this.time_to_end/60)%60;return this.twoSigns(Math.abs(t))},hour:function(){var t=Math.floor(this.time_to_end/3600)%24;return this.twoSigns(Math.abs(t))},day:function(){var t=Math.floor(this.time_to_end/86400);return this.twoSigns(Math.abs(t))}},methods:{timeToEnd:function(){var t=!1!==this.time_to_start?this.time_to_start:this.current_time;return parseInt(this.time_end)-t},handleTimer:function(){var t=this;this.timer=setInterval((function(){(new Date).getTime()-t.lastSync>5e3&&t.time_to_end>0?t.refreshTimer():(t.lastSync=(new Date).getTime(),!1!==t.time_to_start&&t.time_to_start++,t.current_time++,t.time_to_end=t.timeToEnd(),t.time_to_end==t.second_to_notification&&t.$emit("time-notification"),t.time_to_end<=0&&(t.cancelAutoUpdate(),t.$emit("time-finish")))}),1e3)},cancelAutoUpdate:function(){clearInterval(this.timer)},twoSigns:function(t){var e=String(t);return e.length<2&&(e="0"+e),e},timeEndFormattedString:function(){return new Date(1e3*this.time_end).toLocaleString()},startCountdownTimer:function(){window.initCountdownTimer({timerEnd:this.time_end,timerStart:!1!==this.time_to_start?this.time_to_start:this.current_time,days:"#vr-td-countdown-days",hours:"#vr-td-countdown-hours",minutes:"#vr-td-countdown-minutes",seconds:"#vr-td-countdown-seconds"})},init:function(){var t=this;this.time_start&&(this.time_to_start=this.time_start),this.time_to_end=this.timeToEnd(),this.isTimer&&(this.handleTimer(),"hello-screen"===this.mode&&this.time_to_end>=0&&this.$nextTick((function(){t.startCountdownTimer()})))},refreshTimer:function(){var t=this;this.cancelAutoUpdate(),this.is_preloading=!0,vo.ajax(null,"/ext/site/time",null,(function(e){e&&"data"in e&&(t.current_time=parseInt(e.data.unix_time)),t.is_preloading=!1,t.time_start&&(t.time_to_start=t.time_start),t.time_to_end=t.timeToEnd(),t.lastSync=(new Date).getTime(),t.handleTimer()}))}},created:function(){var t=this;this.is_preloading=!0,vo.ajax(null,"/ext/site/time",null,(function(e){e&&"data"in e&&(t.current_time=parseInt(e.data.unix_time)),t.is_preloading=!1,t.init()}))},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},o=(n(820),n(0)),s=Object(o.a)(i,r,[function(){var t=this._self._c;return t("span",{staticClass:"n-item-course-timer"},[t("span",[this._v(":")])])},function(){var t=this._self._c;return t("span",{staticClass:"n-item-course-timer"},[t("span",[this._v(":")])])},function(){var t=this._self._c;return t("span",{staticClass:"n-item-course-timer"},[t("span",[this._v(":")])])}],!1,null,"d9c1bde4",null);e.a=s.exports},,function(t,e,n){"use strict";var r=n(1);e.a={filters:{fileUrl:r.u},props:{value:null,accept:{type:String,default:"*/*"},is_fake_click:!1,is_multiple:!1},data:function(){return{is_uploading:!1,upload_progress:0,items:[],uploadingFiles:[],fileExplorerOptions:{type:"file",default:"*/*",multiple:!!this.is_multiple},logs:[]}},computed:{filePreview:function(){return function(t){var e=Object(r.r)(t.file),n=Object(r.t)(e);return"img"===n?'<div class="upload-img-preview"><img  src="'.concat(Object(r.u)(t.file,90,0),'"></div>'):'<i className="v-doc-icon '.concat(n,'">').concat(e,"</i>")}},isMobile:function(){return/Android|webOS|IEMobile/i.test(navigator.userAgent)}},methods:{uploadFile:function(t){var e=this;return new Promise((function(n,i){var o={file:t,is_uploading:!0,is_error:!1,upload_progress:0};e.uploadingFiles.push(o),e.refreshUploadIndicators(),Object(r.mb)({file:t},{success:function(t){var r=t.data;o.is_uploading=!1,o.upload_progress=100,e.refreshUploadIndicators(),!e.fileExplorerOptions.multiple&&e.items.length&&e.items.splice(0,1/0),e.items.push({file:r.file,file_width:r.file_width,file_height:r.file_height}),e.updateItems(),n(r)},error:function(t){o.is_uploading=!1,o.upload_progress=100,o.is_error=!0,e.refreshUploadIndicators(),Object(r.ib)(t),i(t)},uploadProgress:function(t,n,r,i){o.upload_progress=i,e.refreshUploadIndicators()}})}))},openFileExplorer:function(t){var e=this;if(this.is_uploading)vo.popup("Дочекайтеся завершення завантаження попередніх файлів");else if(this.is_fake_click&&t&&t.preventDefault(),this.$emit("start-add-file"),!this.is_fake_click){this.logs=[],this.logs.push("INIT INPUT");var n=document.createElement("input");n.type=this.fileExplorerOptions.type,n.multiple=!this.isMobile&&this.fileExplorerOptions.multiple,n.accept=this.fileExplorerOptions.accept,n.onchange=function(t){e.logs.push("ONCHANGE CALL");for(var n=t.target.files,r=0;r<n.length;r++)e.logs.push("ADD FILE i=".concat(r,"...")),e.uploadFile(n[r]);e.logs.push("FILES ADDED...")},n.click()}},removeItem:function(t){this.items.splice(t,1),this.updateItems()},updateItems:function(){this.$emit("input",this.items.map((function(t){return t.file})).join(","),this.items)},addDragSupport:function(t){var e=this,n="v-button-drag";t.ondrop=function(r){t.classList.remove(n),r.preventDefault();var i=r.dataTransfer,o=[];if(i.items)for(var s=0;s<i.items.length;s++)"file"===i.items[s].kind&&o.push(i.items[s].getAsFile());else for(var a=0;a<i.files.length;a++)o.push(i.files[a]);o.forEach((function(t){return e.uploadFile(t)}))},t.ondragover=function(e){t.classList.add(n),e.preventDefault()},t.ondragleave=function(){t.classList.remove(n)},t.ondragend=function(e){t.classList.remove(n);var r=e.dataTransfer;if(r.items)for(var i=0;i<r.items.length;i++)r.items.remove(i);else e.dataTransfer.clearData()}},refreshUploadIndicators:function(){var t=this.uploadingFiles;t.length?(this.is_uploading=-1!==t.findIndex((function(t){return!0===t.is_uploading})),this.upload_progress=Math.round(t.reduce((function(t,e){return t+e.upload_progress}),0)/t.length)):(this.is_uploading=!1,this.upload_progress=0),!1===this.is_uploading&&t.length&&this.uploadingFiles.splice(0,1/0)},showAvatar:function(t){vo.magnifyImg(t.target)}},created:function(){var t=this;this.fileExplorerOptions.accept=this.accept,(this.value&&"string"==typeof this.value?this.value.trim():"").split(",").map((function(t){return t.trim()})).filter((function(t){return!!t})).forEach((function(e){return t.items.push({file:e})}))},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.Button&&t.addDragSupport(t.$refs.Button)}))}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{class:t.div_class,attrs:{tabindex:"-1"},on:{focusout:function(e){return t.focusOut()},focus:function(e){return t.focusIn()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",class:t.input_class,attrs:{type:"text",autocomplete:"off",id:t.input_id,placeholder:t.input_placeholder,name:t.input_name,maxlength:"200",disabled:t.disabled},domProps:{value:t.query},on:{focus:function(e){return t.focusIn()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.upSuggestion(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.downSuggestion(e)}],input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),e("ul",{staticClass:"list-item__search-input",class:{active:t.suggestions.length&&t.focus}},t._l(t.suggestions,(function(n,r){return e("li",{staticClass:"list-item",class:{focus:r+1===t.focusSuggestion},domProps:{innerHTML:t._s(t.formatSuggestion(n))},on:{click:function(e){return t.searchBySuggestion(n)}}})})),0),t._v(" "),t.query.length>0?e("span",{staticClass:"clear",on:{click:function(e){return t.clear()}}}):t._e()])};r._withStripped=!0;var i=n(287).a,o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var r=n(18),i=n(12),o={namespaced:!0,state:{bootloaders:{search:!1},responseData:null,dataProvider:{models:[],pagination:{page:0,pageSize:0,pageCount:0},totalCount:0},types:[],_classes:[],q:"",prev_q:"",suggestions:[],focusSuggestion:0,init:!1,mySuggestions:[],focus:!1,is_suggest_selected:!1,save_q:"",page:0},getters:{},mutations:{search:function(t,e){t.responseData=e,t.responseData.dataProvider?(t.dataProvider.models=t.responseData.dataProvider.models,t.dataProvider.pagination=t.responseData.dataProvider.pagination,t.dataProvider.totalCount=t.responseData.dataProvider.totalCount):(t.dataProvider.models=[],t.dataProvider.pagination={page:0,pageCount:0},t.dataProvider.totalCount=0)},startBootloader:function(t,e){t.bootloaders[e]=!0},endBootloader:function(t,e){t.bootloaders[e]=!1},setTypes:function(t,e){t.types=e},setClasses:function(t,e){t._classes=e},setIsSuggestSelected:function(t,e){t.is_suggest_selected=e},setSuggestions:function(t,e){t.suggestions=e},setMySuggestions:function(t,e){t.mySuggestions=e},setQ:function(t,e){t.q=e},setPrevQ:function(t,e){t.prev_q=e},setFocus:function(t,e){t.focus=e},setPage:function(t,e){t.page=e},init:function(t){t.init=!0},upSuggestion:function(t){0===t.focusSuggestion?t.focusSuggestion=t.suggestions.length:t.focusSuggestion--,t.focusSuggestion>0?(t.save_q||(t.save_q=t.q),t.q=t.suggestions[t.focusSuggestion-1]):(t.q=t.save_q,t.save_q="")},downSuggestion:function(t){t.focusSuggestion===t.suggestions.length?t.focusSuggestion=0:t.focusSuggestion++,t.focusSuggestion>0?(t.save_q||(t.save_q=t.q),t.q=t.suggestions[t.focusSuggestion-1]):(t.q=t.save_q,t.save_q="")},setFocusSuggestion:function(t,e){t.focusSuggestion=e}},actions:{search:function(t,e){var n=e.event,r=void 0===n?null:n,i=e.form,o=void 0===i?{}:i,s=e.options,a=void 0===s?{}:s;return a.load&&t.commit("startBootloader","search"),new Promise((function(e,n){vo.ajax(r,"/ext/search/"+(""!==o.group?"group":"global"),o,(function(r){if(!r||!("data"in r))return a.load&&t.commit("endBootloader","search"),void n("Data load error");t.commit("search",r.data),t.commit("setTypes",r.data.types),t.commit("setClasses",r.data.classes),a.load&&t.commit("endBootloader","search"),a.scrollTop&&vo.scrollTo("#search-filters"),e(r.data)}))}))},suggestions:function(t){if(t.state.is_suggest_selected)t.commit("setIsSuggestSelected",!1);else if(!(t.state.focusSuggestion>0||t.state.q.length>0&&t.state.prev_q===t.state.q))return new Promise((function(e,n){vo.ajax(null,"/ext/search/suggestion",{q:t.state.q,page:t.state.page},(function(r){if(!r||!("data"in r))return n("Data load error"),void t.commit("setSuggestions",[]);!1===t.state.init&&(t.commit("init"),t.commit("setMySuggestions",r.data.suggestions)),t.state.q.length>0?t.commit("setSuggestions",r.data.suggestions):t.commit("setSuggestions",t.state.mySuggestions),t.commit("setPrevQ",t.state.q),t.commit("setFocusSuggestion",0),e(r.data)}))}))}}};r.a.use(i.b);e.a=new i.b.Store({strict:!1,modules:{GlobalSearch:o}})},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isReflectionLoaded,expression:"isReflectionLoaded"}]},[t.tpl&&t.tpl.vueComponent?e(t.tpl.vueComponent,{ref:"Reflection",tag:"component",attrs:{widgetConfig:t.widgetConfig||{},statisticData:t.statisticData,reflectionConfig:t.reflectionConfig,reflection:t.localReflection},on:{"save-reflection":t.saveReflection,"delete-reflection":t.deleteReflection}}):t._e()],1)};r._withStripped=!0;var i=n(302),o=n(303),s=n(304),a=n(305),c=n(18),l=n(12),u={namespaced:!0,state:{reflections:[],statisticDataMap:{},reflectionsLoaded:{}},getters:{getReflectionByIdConfig:function(t){return function(e){return t.reflections.find((function(t){return t.id_config===e}))}}},mutations:{initReflection:function(t,e){if(e){var n=t.reflections.findIndex((function(t){return t.id===e.id}));-1===n?t.reflections.push(e):t.reflections.splice(n,1,e)}},deleteReflection:function(t,e){if(e){var n=t.reflections.findIndex((function(t){return t.id===e.id}));-1!==n&&t.reflections.splice(n,1)}},switchReflectionLoader:function(t,e){var n=e.reflectionConfig,r=e.value;c.a.set(t.reflectionsLoaded,n.id,r)},switchStatisticData:function(t,e){var n=e.reflectionConfig,r=e.statistic;c.a.set(t.statisticDataMap,n.id,r)},deleteStatisticData:function(t,e){var n=e.reflectionConfig;c.a.set(t.statisticDataMap,n.id,null)}},actions:{initByObject:function(t,e){return t.state.reflectionsLoaded.hasOwnProperty(e.id)?new Promise((function(t){t()})):(t.commit("switchReflectionLoader",{reflectionConfig:e,value:!1}),new Promise((function(n,r){var i={obj_type:e.obj_type,obj_id:e.obj_id,obj_sub_id:e.obj_sub_id,id_reflection_config:e.id};vo.ajax(null,"/ext/reflection/get-or-save-reflection-by-object",i,(function(i){i&&"data"in i?(t.commit("initReflection",i.data.reflection),t.commit("switchStatisticData",{reflectionConfig:e,statistic:i.data.statistic}),t.commit("switchReflectionLoader",{reflectionConfig:e,value:!0}),n()):r()}))})))},saveByObject:function(t,e){var n=e.event,r=e.form,i=e.reflectionConfig;return new Promise((function(e,o){r.obj_type=i.obj_type,r.obj_id=i.obj_id,r.obj_sub_id=i.obj_sub_id,r.id_reflection_config=i.id,vo.ajax(n,"/ext/reflection/get-or-save-reflection-by-object",r,(function(n){n&&"data"in n?(t.commit("initReflection",n.data.reflection),t.commit("switchStatisticData",{reflectionConfig:i,statistic:n.data.statistic}),e()):o()}))}))},deleteByObject:function(t,e){var n=e.event,r=e.reflectionConfig,i=e.form;return new Promise((function(e,o){i.obj_type=r.obj_type,i.obj_id=r.obj_id,i.obj_sub_id=r.obj_sub_id,i.id_reflection_config=r.id,vo.ajax(n,"/ext/reflection/delete-reflection-by-object",i,(function(n){n&&"data"in n?(t.commit("deleteReflection",n.data.reflection),t.commit("deleteStatisticData",{reflectionConfig:r}),e()):o()}))}))}}};n(396);c.a.use(l.b);var f=new l.b.Store({strict:!1,modules:{ReflectionStore:u}});function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"ReflectionByObjectApp",props:["tpl","reflectionConfig","reflection","widgetConfig"],components:{YesNoTpl:i.a,TextTpl:o.a,QuestionsTpl:s.a,StarsTpl:a.a},store:f,computed:p(p(p({},Object(l.c)("ReflectionStore",["getReflectionByIdConfig"])),Object(l.d)("ReflectionStore",["reflectionsLoaded","statisticDataMap"])),{},{localReflection:function(){return this.getReflectionByIdConfig(this.reflectionConfig.id)},isReflectionLoaded:function(){return this.reflectionsLoaded[this.reflectionConfig.id]},statisticData:function(){return this.statisticDataMap[this.reflectionConfig.id]}}),methods:{saveReflection:function(t,e,n){var r=this;if(!this.localReflection||this.localReflection.can_edit){var i={event:t,reflectionConfig:this.reflectionConfig,form:{auth_mode:this.widgetConfig?this.widgetConfig.auth_mode:null,is_save:1,Reflection:p({},e)}};this.$store.dispatch("ReflectionStore/saveByObject",i).then((function(){r.$emit("save-reflection",r.localReflection),"function"==typeof n&&n()}))}},deleteReflection:function(t,e){var n=this;if(this.localReflection&&this.localReflection.can_remove){var r={event:t,reflectionConfig:this.reflectionConfig,form:{auth_mode:this.widgetConfig?this.widgetConfig.auth_mode:null}};this.$store.dispatch("ReflectionStore/deleteByObject",r).then((function(){n.$emit("save-reflection",n.localReflection),"function"==typeof e&&e()}))}}},created:function(){this.reflection?(this.$store.commit("ReflectionStore/initReflection",this.reflection),this.$store.commit("ReflectionStore/switchReflectionLoader",{reflectionConfig:this.reflectionConfig,value:!0})):this.$store.dispatch("ReflectionStore/initByObject",this.reflectionConfig)}},g=n(0),y=Object(g.a)(m,r,[],!1,null,"f97a4f7a",null);e.a=y.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-dairy__filter-col flex1",style:t.containerStyle,attrs:{id:t.randomString}},[e("div",{staticClass:"n-input-category n-input-category__dairy n-icon__predmet"},[!1!==t.label?e("p",{staticClass:"vo-form-group"},[e("label",[t._v(t._s(t.label))])]):t._e(),t._v(" "),e("div",{ref:"selectedResult",staticClass:"n-input-category__input-con a-pointer-class",class:{open:!!t.display,"vo-disabled":t.disabled},on:{click:function(e){e.stopPropagation(),!t.disabled&&(t.display=!t.display)}}},[e("div",{staticClass:"vo-noselect"},[e("div",{staticClass:"vo-white-space vo-flex-row vertical-center gap05",domProps:{innerHTML:t._s(t.activeModel?t.liContent(t.activeModel):t.prompt||"[ОБЕРІТЬ ЗІ СПИСКУ]")}})]),t._v(" "),e("div",{staticClass:"select-btns"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.activeModel&&t.activeModel[t.id_attr]!==t.promptValue&&!t.prompt_off,expression:"activeModel && activeModel[id_attr] !== promptValue && !prompt_off"}],staticClass:"clear-select",attrs:{title:"Очистити вибір"},on:{click:function(e){e.stopPropagation(),!t.disabled&&(t.inputValue=t.promptValue)}}}),t._v(" "),e("span",{staticClass:"arrow-select",attrs:{title:t.display?"Згорнути список":"Розгорнути список"}})])]),t._v(" "),e("ul",{ref:"listContainer",staticClass:"js-autocomplete vr-filtered-list vo-noselect"},[e("li",{staticClass:"n-disabled-li-category",on:{click:function(t){t.stopPropagation()}}},[e("strong",{staticClass:"vo-white-space"},[t._v("Оберіть зі списку:")])]),t._v(" "),t.prompt_interactive?[e("li",{staticClass:"rk-filtered-item",class:{"n-active":t.promptValue===t.inputValue},attrs:{"data-id":t.promptValue},domProps:{innerHTML:t._s(t.prompt||"[ОБЕРІТЬ ЗІ СПИСКУ]")},on:{click:function(e){e.stopPropagation(),t.inputValue=t.promptValue}}})]:t._e(),t._v(" "),t._l(t.models,(function(n){return[e("li",{key:n[t.id_attr],staticClass:"rk-filtered-item",class:{"n-active":n[t.id_attr]===t.inputValue},attrs:{"data-id":n[t.id_attr]},domProps:{innerHTML:t._s(t.liContent(n))},on:{click:function(e){e.stopPropagation(),t.inputValue=n[t.id_attr]}}})]})),t._v(" "),t._l(t.appendRows,(function(n){return[e("li",{key:n.value,staticClass:"rk-filtered-item",class:{"n-active":n.value===t.inputValue},attrs:{"data-id":n.value},domProps:{innerHTML:t._s(n.html)},on:{click:function(e){e.stopPropagation(),t.inputValue=n.value}}})]}))],2)])])};r._withStripped=!0;var i=n(1),o={name:"SelectInput",props:["value","label","template","models","prompt","prompt_interactive","prompt_value","prompt_off","appendRows","is_html_encode_off","containerStyle","use_id_attr","disabled"],filters:{plural:i.ab},data:function(){return{id_attr:this.use_id_attr||"id",is_opened:!1}},computed:{promptValue:function(){return void 0===this.prompt_value?"":this.prompt_value},inputValue:{get:function(){return this.value},set:function(t){this.display=!1,this.value!==t&&this.$emit("input",t)}},display:{get:function(){return this.is_opened},set:function(t){if(this.is_opened=t,this.$refs.listContainer){var e=this.$refs.selectedResult?this.$refs.selectedResult.getBoundingClientRect():null,n=e?Math.floor(window.innerHeight-e.bottom-20):0;this.$refs.listContainer.style.height=t&&n<500&&n>=150?n+"px":null,this.$refs.listContainer.style.display=t?"block":null}}},activeModel:function(){var t=this;return this.models.find((function(e){return e[t.id_attr]===t.inputValue}))},liContent:function(){var t=this;return function(e){if(!t.template)return t.is_html_encode_off?e.title:Object(i.I)(e.title);t.inputValue;return t.template.replace(/{{\s*(\w+)\s*}}/g,(function(n,r){return"avatar"===r?Object(i.f)(e[r]):r in e?t.is_html_encode_off?e[r]:Object(i.I)(e[r]):r}))}},randomString:function(){return"r"+Math.random().toString(36).substring(7)}},methods:{checkClickTarget:function(t){this.display=!1}},mounted:function(){var t=this;this.$nextTick((function(){document.addEventListener("click",t.checkClickTarget)}))},destroyed:function(){document.removeEventListener("click",this.checkClickTarget)}},s=(n(1175),n(0)),a=Object(s.a)(o,r,[],!1,null,"b045462a",null);e.a=a.exports},function(t,e,n){"use strict";var r=n(39),i=n(5);function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function f(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,s=Object.create(o.prototype),a=new E(i||[]);return r(s,"_invoke",{value:x(t,n,a)}),s}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};u(g,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(P([])));_&&_!==e&&n.call(_,s)&&(g=_);var b=m.prototype=p.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function i(r,o,s,a){var l=d(t[r],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(f(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(b),u(b,l,"Generator"),u(b,s,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function s(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,c,"next",t)}function c(t){s(o,r,i,a,c,"throw",t)}a(void 0)}))}}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(){return{init_mode:r.d,obj_type:0,obj_id:0,obj_sub_id:0,widget_type:r.e,stop_msg:null,is_check_pay:!1,id_msg_update:0,id_msg_quote:0,id_msg_action:0,id_msg_menu:0,msgBack:null,pub:null,obj:null,owner:null,id_pub:null,id_msg_pin:null,messages:[],rootMessages:[],childMessages:[],flatMessages:[],unreadIds:[],payIds:[],deletedIds:[],users:[],is_all_max:!0,id_max:0,is_all_min:!0,id_min:!1,version:0,widgetStaticData:{title:"",sub_title:""}}};e.a={namespaced:!0,state:function(){return p()},getters:{msgById:function(t){return function(e){return t.messages.find((function(t){return t.id===e}))}},userByKey:function(t){return function(e){return t.users.find((function(t){return t.user_key===e}))}},childRoot:function(t){return function(e){return t.childMessages.find((function(t){return t.id_msg_root===e}))}},childFlat:function(t){return function(e){return t.messages.filter((function(t){return t.id_msg_quote===e&&t.user_key===vo.user.user_key}))}},is_widget_comment:function(t){return t.widget_type===r.e},is_widget_webinar:function(t){return t.widget_type===r.g},is_widget_news:function(t){return t.widget_type===r.f},obj_key:function(t){return[t.obj_type,t.obj_id,t.obj_sub_id].join(i.DELIMITER_OBJ_KEY)},widgetText:function(t){return t.widget_type===r.e?r.h[r.e]:d(d({},r.h[r.e]),r.h[t.widget_type])}},mutations:{RESET_STATE:function(t){Object.assign(t,p())},init:function(t,e){var n=e.obj_type,r=e.obj_id,i=e.obj_sub_id,o=e.widget_type,s=e.stop_msg,a=e.is_check_pay;t.obj_type=n,t.obj_id=r,t.obj_sub_id=i,t.widget_type=o,t.stop_msg=s,t.is_check_pay=a},treeInit:function(t,e){var n=e.pub,r=e.obj,i=void 0===r?t.obj:r,o=e.owner,s=void 0===o?t.owner:o,a=e.version,c=void 0===a?t.version:a;t.version=c,t.pub=n,t.obj=i,t.owner=s,t.id_pub=null==n?void 0:n.id,t.id_msg_pin=null==n?void 0:n.id_msg_pin},pin:function(t,e){t.id_msg_pin=e},treeRoot:function(t,e){this.commit("Comments/treeInit",e);var n=e.users,r=e.messages,i=e.rootMessages,o=e.childMessages,s=e.id_max,a=e.id_min,c=e.is_all_max,u=void 0===c?t.is_all_max:c,f=e.is_all_min,d=void 0===f?t.is_all_min:f;t.id_max=s,t.id_min=a,t.is_all_max=u,t.is_all_min=d,r.forEach((function(e){var n=t.messages.findIndex((function(t){return t.id===e.id}));n<0?t.messages.push(e):t.messages.splice(n,1,e)})),t.rootMessages=l(new Set([].concat(l(t.rootMessages),l(i)))).sort((function(t,e){return e-t})),o.forEach((function(e){e.messages=e.messages.map((function(t){return parseInt(t)})).sort((function(t,e){return t-e}));var n=t.childMessages.findIndex((function(t){return t.id_msg_root===e.id_msg_root}));if(n<0)t.childMessages.push(e);else{var r=t.childMessages[n];e.messages=l(new Set([].concat(l(r.messages),l(e.messages)))).sort((function(t,e){return t-e})),t.childMessages.splice(n,1,e)}})),this.commit("Comments/users",n)},treeChild:function(t,e){var n=e.users,r=e.messages,i=e.childMessage;e.version;r.forEach((function(e){var n=t.messages.findIndex((function(t){return t.id===e.id}));n<0?t.messages.push(e):t.messages.splice(n,1,e)})),i.messages=i.messages.map((function(t){return parseInt(t)})).sort((function(t,e){return t-e}));var o=t.childMessages.findIndex((function(t){return t.id_msg_root===i.id_msg_root}));if(o<0){var s,a;i.is_all_max=null===(s=i.is_all_max)||void 0===s||s,i.is_all_min=null===(a=i.is_all_min)||void 0===a||a,t.childMessages.push(i)}else{var c=t.childMessages[o],u=i.id_msg_root,f=i.is_all_max,d=void 0===f?c.is_all_max:f,h=i.is_all_min,p=void 0===h?c.is_all_min:h,v=l(new Set([].concat(l(c.messages),l(i.messages)))).sort((function(t,e){return t-e})),m=Math.max.apply(Math,l(v)),g=Math.min.apply(Math,l(v));t.childMessages.splice(o,1,{id_msg_root:u,messages:v,id_max:m,id_min:g,is_all_max:d,is_all_min:p})}this.commit("Comments/users",n)},socketMessage:function(t,e){var n=e.quote,r=e.message,i=e.users,o=e.pub;if(t.pub=o,t.id_pub=o.id,n){var s=t.messages.findIndex((function(t){return t.id===n.id}));s<0?t.messages.push(n):t.messages.splice(s,1,n)}this.commit("Comments/message",r),this.commit("Comments/users",i)},users:function(t,e){e.forEach((function(e){var n=t.users.findIndex((function(t){return t.user_key===e.user_key}));n<0?t.users.push(e):t.users.splice(n,1,e)}))},messages:function(t,e){e.forEach((function(e){var n=t.messages.findIndex((function(t){return t.id===e.id}));n<0?t.messages.push(e):t.messages.splice(n,1,e)}))},message:function(t,e){var n=t.messages.findIndex((function(t){return t.id===e.id}));if(n<0?t.messages.push(e):t.messages.splice(n,1,e),e.id_msg_root){var r=t.childMessages.findIndex((function(t){return t.id_msg_root===e.id_msg_root}));if(r<0)t.childMessages.push({id_msg_root:e.id_msg_root,messages:[e.id],is_all_max:!0,id_max:e.id,is_all_min:!0,id_min:e.id});else{var i=t.childMessages[r];(e.id<=i.id_max&&e.id>=i.id_min||e.id>i.id_max&&i.is_all_max||e.id<i.id_min&&i.is_all_min)&&(i.messages=l(new Set([].concat(l(i.messages),[e.id]))).sort((function(t,e){return t-e})),t.childMessages.splice(r,1,i))}}else(e.id<=t.id_max&&e.id>=t.id_min||e.id>t.id_max&&t.is_all_max||e.id<t.id_min&&t.is_all_min)&&(t.rootMessages=l(new Set([].concat(l(t.rootMessages),[e.id]))).sort((function(t,e){return e-t})))},update:function(t,e){t.id_msg_update=e},quote:function(t,e){t.id_msg_quote=e},action:function(t,e){t.id_msg_action=e},back:function(t,e){var n=e.id_msg_back,i=void 0===n?0:n,o=e.id_msg_view,s=void 0===o?0:o;if(i){if(t.init_mode===r.b){var a=t.messages.find((function(t){return t.id===i}));if(!a||!t.unreadIds.includes(a.id)&&!t.unreadIds.includes(a.id_msg_quote))return void(t.msgBack=null)}t.msgBack={init_mode:t.init_mode,id_msg_back:i,id_msg_view:s}}else t.msgBack=null},menu:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.id_msg_menu=e},delete:function(t,e){t.deletedIds.findIndex((function(t){return t===e}))<0&&t.deletedIds.push(e)},restore:function(t,e){var n=t.deletedIds.findIndex((function(t){return t===e}));n>=0&&t.deletedIds.splice(n,1)},deleteForce:function(t,e){var n=t.messages.findIndex((function(t){return t.id===e}));if(n>=0){var r=t.messages[n];if(r.id_msg_root){var i=t.childMessages.findIndex((function(t){return t.id_msg_root===r.id_msg_root}));if(i>=0){var o=t.childMessages[i],s=o.messages.findIndex((function(t){return t===e}));s>=0&&(o.messages.splice(s,1),t.childMessages.splice(i,1,o))}}else{var a=t.rootMessages.findIndex((function(t){return t===e}));a>=0&&t.rootMessages.splice(a,1)}t.messages.splice(n,1)}(n=t.deletedIds.findIndex((function(t){return t===e})))>=0&&t.deletedIds.splice(n,1)},unreadIds:function(t,e){t.unreadIds=l(new Set([].concat(l(t.unreadIds),l(e))))},readIds:function(t,e){t.unreadIds=t.unreadIds.filter((function(t){return!e.includes(t)}))},flatMessages:function(t){var e=[],n=t.msgBack;if(n&&n.init_mode===r.b){var i=t.messages.find((function(t){return t.id===n.id_msg_back}));i&&(i.id_msg_quote&&i.user_key===vo.user.user_key?e.push(i.id_msg_quote):e.push(i.id))}t.flatMessages=l(new Set([].concat(l(t.unreadIds),e))).sort((function(t,e){return e-t}))},initMode:function(t,e){t.init_mode=e},initWidgetStaticData:function(t,e){e&&"object"===c(e)&&Object.assign(t.widgetStaticData,e)}},actions:{treeInit:function(t,e){var n=t.commit,r=t.state;n("init",e);var i=e.event,o=void 0===i?null:i,s=r.obj_type,a=r.obj_id,c=r.obj_sub_id;return vo.obj_type=s,vo.obj_id=a,vo.obj_sub_id=c,vo.socket.emit("object join",[s,a,c]),vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/init"),{obj_type:s,obj_id:a,obj_sub_id:c}).then((function(t){n("treeInit",t),n("users",vo.users)})).catch((function(t){vo.popup.errorByResponse(t,!1)}))},initUnread:function(t,e){var n=t.commit,r=(t.state,t.getters);if([i.USER_USER,i.USER_PUPIL].includes(vo.user.user_type)){var o=r.obj_key;vo.socket.emit("comments unread ids",{objKey:o},(function(t){n("unreadIds",null!=t?t:[])}))}},modeFlat:function(t,e){return a(o().mark((function n(){var i,s,a,c,l,u,f,d,h,p,v,m;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t.commit,(a=t.state).init_mode!==r.b){n.next=3;break}return n.abrupt("return");case 3:if(s("flatMessages"),c=e.event,l=void 0===c?null:c,u=a.id_pub,!(f=null!==(i=a.flatMessages.filter((function(t){return!a.messages.some((function(e){return e.id===t}))})))&&void 0!==i?i:[]).length){n.next=15;break}return n.next=8,vo.ajaxPromise(l,"".concat(vo.url_msg,"/ext/pub-tree/messages"),{id_pub:u,msg_ids:f});case 8:d=n.sent,h=d.users,p=void 0===h?[]:h,v=d.messages,m=void 0===v?[]:v,s("users",p),s("messages",m);case 15:s("initMode",r.b);case 16:case"end":return n.stop()}}),n)})))()},goBack:function(t,e){return a(o().mark((function n(){var i,s,a,c,l,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.commit,s=t.state,a=t.dispatch,c=e.event,l=void 0===c?null:c,null!==(u=s.msgBack)){n.next=4;break}return n.abrupt("return");case 4:n.t0=u.init_mode,n.next=n.t0===r.c?7:n.t0===r.b?10:14;break;case 7:return n.next=9,a("treeGo",{event:l,id_msg:u.id_msg_back});case 9:return n.abrupt("break",14);case 10:return n.next=12,a("modeFlat",{event:l});case 12:return i("action",u.id_msg_back),n.abrupt("break",14);case 14:i("back",{});case 15:case"end":return n.stop()}}),n)})))()},treeId:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/id"),{id_pub:a,id_msg:s}).then((function(t){n("treeRoot",t)}))},treeRoot:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/root"),{id_pub:s}).then((function(t){n("treeRoot",t)}))},treeRootNext:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=r.id_pub,a=r.id_min;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/root-next"),{id_pub:s,id_msg:a}).then((function(t){n("treeRoot",t)}))},treeRootPrev:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=r.id_pub,a=r.id_max;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/root-prev"),{id_pub:s,id_msg:a}).then((function(t){n("treeRoot",t)}))},treeChildNext:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.child,a=s.id_msg_root,c=s.id_max,l=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/child-next"),{id_pub:l,id_msg:c,id_msg_root:a}).then((function(t){n("treeChild",t)}))},treeChildPrev:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.child,a=s.id_msg_root,c=s.id_min,l=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/child-prev"),{id_pub:l,id_msg:c,id_msg_root:a}).then((function(t){n("treeChild",t)}))},treeGo:function(t,e){return a(o().mark((function n(){var i,s,a,c,l,u,f,d,h,p,v,m,g,y,_,b;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.commit,s=t.state,a=t.getters,c=e.event,l=void 0===c?null:c,u=e.id_msg,f=a.msgById(u),d=s.id_pub,h=s.id_max,p=s.id_min,v=null,m=null,f){n.next=8;break}return n.next=6,vo.ajaxPromise(l,"".concat(vo.url_msg,"/ext/pub-tree/message"),{id_pub:d,id_msg:u});case 6:g=n.sent,f=null==g?void 0:g.message;case 8:if(!f){n.next=36;break}if(i("initMode",r.c),!f.id_msg_root){n.next=20;break}if(!(y=a.childRoot(f.id_msg_root))){n.next=18;break}if(!y.messages.includes(u)){n.next=16;break}return i("action",u),n.abrupt("return");case 16:v=y.id_max,m=y.id_min;case 18:n.next=23;break;case 20:if(!s.rootMessages.includes(u)){n.next=23;break}return i("action",u),n.abrupt("return");case 23:return n.next=25,vo.ajaxPromise(l,"".concat(vo.url_msg,"/ext/pub-tree/go"),{id_pub:d,id_msg:u,id_max_root:h,id_min_root:p,id_max_child:v,id_min_child:m});case 25:_=n.sent,b=_.mode,n.t0=b,n.next="root"===n.t0?30:"child"===n.t0?33:36;break;case 30:return i("treeRoot",_),i("action",u),n.abrupt("break",36);case 33:return i("treeChild",_),i("action",u),n.abrupt("break",36);case 36:case"end":return n.stop()}}),n)})))()},send:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=void 0===s?null:s,c=e.id_msg_quote,l=void 0===c?null:c,u=e.msg,f=e.files,d=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/send"),{id_pub:d,id_msg:a,id_msg_quote:l,msg:u,files:f}).then((function(t){var e=t.message;n("message",e),n("action",e.id)})).catch((function(t){vo.popup.errorByResponse(t,!1)}))},pin:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=void 0===s?null:s,c=r.id_pub;return n("pin",a),vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/pin"),{id_pub:c,id_msg:a}).then((function(t){n("treeInit",t),a&&n("action",a)})).catch((function(t){vo.popup.errorByResponse(t,!1)}))},delete:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=r.id_pub;return n("delete",s),vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/delete"),{id_pub:a,id_msg:s}).then((function(t){"message"in t?n("message",t):(n("restore",s),n("action",s))})).catch((function(t){vo.popup.errorByResponse(t,!1),n("restore",s),n("action",s)}))},deleteForce:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=r.id_pub;return n("delete",s),vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/delete"),{id_pub:a,id_msg:s}).then((function(t){"message"in t?n("deleteForce",s):(n("restore",s),n("action",s))})).catch((function(t){vo.popup.errorByResponse(t,!1),n("restore",s),n("action",s)}))},restore:function(t,e){var n=t.commit,r=t.state,i=e.event,o=void 0===i?null:i,s=e.id_msg,a=r.id_pub;return vo.ajaxPromise(o,"".concat(vo.url_msg,"/ext/pub-tree/restore"),{id_pub:a,id_msg:s}).then((function(t){"message"in t&&(n("message",t),n("restore",s),n("action",s))})).catch((function(t){vo.popup.errorByResponse(t,!1),n("restore",s),n("action",s)}))},socketPubOne:function(t,e){var n=t.commit,r=(t.state,e.action);e.quote,e.message,e.users,e.pub;switch(r){case"create":case"update":case"restore":n("socketMessage",e)}}}}},function(t,e,n){"use strict";var r=function(){var t=this;return(0,t._self._c)("input",{directives:[{name:"model",rawName:"v-model",value:t.maskedValue,expression:"maskedValue"}],ref:"InputMask",staticClass:"vo-input",class:t.attr_class,style:t.styleAdmin,attrs:{type:"text",id:t.attr_id,autocomplete:t.attr_autocomplete,name:t.attr_name},domProps:{value:t.maskedValue},on:{change:t.refresh,input:function(e){e.target.composing||(t.maskedValue=e.target.value)}}})};r._withStripped=!0;n(443),n(444);var i={name:"xInputMask",props:{value:"",def:null,al:null,opt:{type:Object,required:!0},attr_id:"",attr_class:"",attr_autocomplete:"",attr_name:"",styleAdmin:""},data:function(){return null!==this.def&&Inputmask.extendDefinitions(this.def),null!==this.al&&Inputmask.extendAliases(this.al),{inputmask:Inputmask(this.opt),_maskedValue:this.value||""}},computed:{maskedValue:{get:function(){return this.$data._maskedValue},set:function(t){this.$data._maskedValue=t,this.$emit("input",t)}}},methods:{refresh:function(t){this.maskedValue=JSON.parse(JSON.stringify(t.target.value))}},mounted:function(){this.inputmask.mask(this.$refs.InputMask)}},o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);e.a=s.exports},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=11)}([function(t,e,n){"use strict";e.__esModule=!0;var r,i=(r=n(43))&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports=!n(1)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports={version:"2.5.6"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(8),i=n(7);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o={basic:{swatches:["#1FBC9C","#1CA085","#2ECC70","#27AF60","#3398DB","#2980B9","#A463BF","#8E43AD","#3D556E","#222F3D","#F2C511","#F39C19","#E84B3C","#C0382B","#DDE6E8","#BDC3C8"],rowLength:4},"text-basic":{swatches:["#CC0001","#E36101","#FFCC00","#009900","#0066CB","#000000","#FFFFFF"],showBorder:!0},"text-advanced":{swatches:[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]],borderRadius:"0",rowLength:10,swatchSize:24,spacingSize:0},"material-basic":{swatches:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},"material-light":{swatches:["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5"]},"material-dark":{swatches:["#D32F2F","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64"]}};function s(t,e,n,r,i,o,s,a){var c=typeof(t=t||{}).default;"object"!==c&&"function"!==c||(t=t.default);var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId=o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var f=u.render;u.render=function(t,e){return l.call(e),f(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}var a=s({name:"swatches",components:{Swatch:s({name:"swatch",components:{Check:s({name:"check",data:function(){return{}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-swatches__check__wrapper vue-swatches--has-children-centered"},[e("div",{staticClass:"vue-swatches__check__circle vue-swatches--has-children-centered"},[e("svg",{staticClass:"check",attrs:{version:"1.1",role:"presentation",width:"12",height:"12",viewBox:"0 0 1792 1792"}},[e("path",{staticClass:"vue-swatches__check__path",attrs:{d:"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z"}})])])])}),[],!1,(function(t){n(13)}),null,null).exports},props:{borderRadius:{type:String},disabled:{type:Boolean},exceptionMode:{type:String},isException:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},showCheckbox:{type:Boolean},showBorder:{type:Boolean},size:{type:Number},spacingSize:{type:Number},swatchColor:{type:String,default:""},swatchStyle:{type:Object}},data:function(){return{}},computed:{computedSwatchStyle:function(){return{display:this.isException&&"hidden"===this.exceptionMode?"none":"inline-block",width:this.size+"px",height:this.size+"px",marginBottom:this.spacingSize+"px",marginRight:this.spacingSize+"px",borderRadius:this.borderRadius,backgroundColor:""!==this.swatchColor?this.swatchColor:"#FFFFFF",cursor:this.cursorStyle}},cursorStyle:function(){return this.disabled||this.isException&&"disabled"===this.exceptionMode?"not-allowed":"pointer"},swatchStyles:function(){return[this.computedSwatchStyle,this.swatchStyle]}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-swatches__swatch",class:{"vue-swatches__swatch--border":t.showBorder,"vue-swatches__swatch--selected":t.selected,"vue-swatches__swatch--is-exception":t.isException||t.disabled},style:t.swatchStyles},[""===t.swatchColor?n("div",{staticClass:"vue-swatches__diagonal--wrapper vue-swatches--has-children-centered"},[n("div",{staticClass:"vue-swatches__diagonal"})]):t._e(),t._v(" "),n("check",{directives:[{name:"show",rawName:"v-show",value:t.showCheckbox&&t.selected,expression:"showCheckbox && selected"}]})],1)}),[],!1,(function(t){n(15)}),null,null).exports},props:{backgroundColor:{type:String,default:"#ffffff"},closeOnSelect:{type:Boolean,default:!0},colors:{type:[Array,Object,String],default:"basic"},exceptions:{type:Array,default:function(){return[]}},exceptionMode:{type:String,default:"disabled"},disabled:{type:Boolean,default:!1},fallbackInputClass:{type:[Array,Object,String],default:null},fallbackOkClass:{type:[Array,Object,String],default:null},fallbackOkText:{type:String,default:"Ok"},fallbackInputType:{type:String,default:function(){return"text"},validator:function(t){return-1!==["text","color"].indexOf(t)}},inline:{type:Boolean,default:!1},maxHeight:{type:[Number,String],default:null},shapes:{type:String,default:"squares"},popoverTo:{type:String,default:"right"},rowLength:{type:[Number,String],default:null},showBorder:{type:Boolean,default:null},showFallback:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!0},swatchSize:{type:[Number,String],default:null},swatchStyle:{type:[Object,Array],default:function(){}},triggerStyle:{type:[Object,Array],default:function(){}},wrapperStyle:{type:[Object,Array],default:function(){}},value:{type:String,default:null}},data:function(){return{presetBorderRadius:null,presetMaxHeight:null,presetRowLength:null,presetShowBorder:null,presetSwatchSize:null,presetSpacingSize:null,internalValue:this.value,internalIsOpen:!1}},computed:{isNested:function(){return!!(this.computedColors&&this.computedColors.length>0&&this.computedColors[0]instanceof Array)},isOpen:function(){return!this.inline&&this.internalIsOpen},isNoColor:function(){return this.checkEquality("",this.value)},computedColors:function(){return this.colors instanceof Array?this.colors:this.extractSwatchesFromPreset(this.colors)},computedBorderRadius:function(){return null!==this.presetBorderRadius?this.presetBorderRadius:this.borderRadius},computedExceptionMode:function(){return"hidden"===this.exceptionMode||"disabled"===this.exceptionMode?this.exceptionMode:void 0},computedMaxHeight:function(){return null!==this.maxHeight?Number(this.maxHeight):null!==this.presetMaxHeight?this.presetMaxHeight:300},computedRowLength:function(){return null!==this.rowLength?Number(this.rowLength):null!==this.presetRowLength?this.presetRowLength:4},computedSwatchSize:function(){return null!==this.swatchSize?Number(this.swatchSize):null!==this.presetSwatchSize?this.presetSwatchSize:42},computedSpacingSize:function(){return null!==this.presetSpacingSize?this.presetSpacingSize:this.spacingSize},computedShowBorder:function(){return null!==this.showBorder?this.showBorder:null!==this.presetShowBorder&&this.presetShowBorder},borderRadius:function(){return"squares"===this.shapes?Math.round(.25*this.computedSwatchSize)+"px":"circles"===this.shapes?"50%":void 0},spacingSize:function(){return Math.round(.25*this.computedSwatchSize)},wrapperWidth:function(){return this.computedRowLength*(this.computedSwatchSize+this.computedSpacingSize)},computedtriggerStyle:function(){return{width:"42px",height:"42px",backgroundColor:this.value?this.value:"#ffffff",borderRadius:"circles"===this.shapes?"50%":"10px"}},triggerStyles:function(){return[this.computedtriggerStyle,this.triggerStyle]},containerStyle:function(){var t={backgroundColor:this.backgroundColor},e={};return this.inline?t:("right"===this.popoverTo?e={left:0}:"left"===this.popoverTo&&(e={right:0}),i()({},e,t,{maxHeight:this.computedMaxHeight+"px"}))},containerStyles:function(){return[this.containerStyle]},computedWrapperStyle:function(){var t={paddingTop:this.computedSpacingSize+"px",paddingLeft:this.computedSpacingSize+"px"};return this.inline?t:i()({},t,{width:this.wrapperWidth+"px"})},wrapperStyles:function(){return[this.computedWrapperStyle,this.wrapperStyle]},computedFallbackWrapperStyle:function(){var t={marginLeft:this.computedSpacingSize+"px",paddingBottom:this.computedSpacingSize+"px"};return this.inline?t:i()({},t,{width:this.wrapperWidth-this.computedSpacingSize+"px"})},computedFallbackWrapperStyles:function(){return[this.computedFallbackWrapperStyle]}},watch:{value:function(t){this.internalValue=t}},methods:{checkEquality:function(t,e){return!(!t&&""!==t||!e&&""!==e)&&t.toUpperCase()===e.toUpperCase()},checkException:function(t){return-1!==this.exceptions.map((function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())},hidePopover:function(){this.internalIsOpen=!1,this.$el.blur(),this.$emit("close",this.internalValue)},onBlur:function(t){this.isOpen&&(null!==t&&this.$el.contains(t)||(this.internalIsOpen=!1,this.$emit("close",this.internalValue)))},onFallbackButtonClick:function(){this.hidePopover()},showPopover:function(){this.isOpen||this.inline||this.disabled||(this.internalIsOpen=!0,this.$el.focus(),this.$emit("open"))},togglePopover:function(){this.isOpen?this.hidePopover():this.showPopover()},updateSwatch:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fromFallbackInput;this.checkException(t)||this.disabled||(this.internalValue=t,this.$emit("input",t),!this.closeOnSelect||this.inline||e||this.hidePopover())},extractSwatchesFromPreset:function(t){var e=null;return(e=t instanceof Object?t:o[t]).borderRadius&&(this.presetBorderRadius=e.borderRadius),e.maxHeight&&(this.presetMaxHeight=e.maxHeight),e.rowLength&&(this.presetRowLength=e.rowLength),e.showBorder&&(this.presetShowBorder=e.showBorder),e.swatchSize&&(this.presetSwatchSize=e.swatchSize),(0===e.spacingSize||e.spacingSize)&&(this.presetSpacingSize=e.spacingSize),e.swatches}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-swatches",attrs:{tabindex:"0"},on:{blur:function(e){return e.target!==e.currentTarget?null:(n=e,t.onBlur(n.relatedTarget));var n}}},[t.inline?t._e():n("div",{ref:"trigger-wrapper",on:{click:t.togglePopover}},[t._t("trigger",[n("div",{staticClass:"vue-swatches__trigger",class:{"vue-swatches--is-empty":!t.value,"vue-swatches--is-disabled":t.disabled},style:t.triggerStyles},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isNoColor,expression:"isNoColor"}],staticClass:"vue-swatches__diagonal--wrapper vue-swatches--has-children-centered"},[n("div",{staticClass:"vue-swatches__diagonal"})])])])],2),t._v(" "),n("transition",{attrs:{name:"vue-swatches-show-hide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.inline||t.isOpen,expression:"inline || isOpen"}],staticClass:"vue-swatches__container",class:{"vue-swatches--inline":t.inline},style:t.containerStyles},[n("div",{staticClass:"vue-swatches__wrapper",style:t.wrapperStyles},[t.isNested?t._l(t.computedColors,(function(e,r){return n("div",{key:r,staticClass:"vue-swatches__row"},t._l(e,(function(e){return n("swatch",{key:e,attrs:{"border-radius":t.computedBorderRadius,disabled:t.disabled,"exception-mode":t.computedExceptionMode,"is-exception":t.checkException(e),selected:t.checkEquality(e,t.value),size:t.computedSwatchSize,"spacing-size":t.computedSpacingSize,"show-border":t.computedShowBorder,"show-checkbox":t.showCheckbox,"swatch-color":e,"swatch-style":t.swatchStyle},nativeOn:{click:function(n){t.updateSwatch(e)}}})})))})):t._l(t.computedColors,(function(e){return n("swatch",{key:e,attrs:{"border-radius":t.computedBorderRadius,disabled:t.disabled,"exception-mode":t.computedExceptionMode,"is-exception":t.checkException(e),selected:t.checkEquality(e,t.value),size:t.computedSwatchSize,"spacing-size":t.computedSpacingSize,"show-border":t.computedShowBorder,"show-checkbox":t.showCheckbox,"swatch-color":e,"swatch-style":t.swatchStyle},nativeOn:{click:function(n){t.updateSwatch(e)}}})}))],2),t._v(" "),t.showFallback?n("div",{staticClass:"vue-swatches__fallback__wrapper",style:t.computedFallbackWrapperStyles},[n("span",{staticClass:"vue-swatches__fallback__input--wrapper"},[n("input",{ref:"fallbackInput",staticClass:"vue-swatches__fallback__input",class:t.fallbackInputClass,attrs:{type:t.fallbackInputType},domProps:{value:t.internalValue},on:{input:function(e){return t.updateSwatch(e.target.value,{fromFallbackInput:!0})}}})]),t._v(" "),n("button",{staticClass:"vue-swatches__fallback__button",class:t.fallbackOkClass,on:{click:function(e){return e.preventDefault(),t.onFallbackButtonClick(e)}}},[t._v("\n          "+t._s(t.fallbackOkText)+"\n        ")])]):t._e()])])],1)}),[],!1,(function(t){n(45)}),null,null).exports;n.d(e,"Swatches",(function(){return a})),e.default=a},,function(t,e,n){},,function(t,e,n){},function(t,e,n){var r=n(7);t.exports=function(t){return Object(r(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!0},function(t,e,n){var r=n(4),i=n(5),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(22)("keys"),i=n(20);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(6),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(6),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(9),i=n(25),o=n(24);t.exports=function(t){return function(e,n,s){var a,c=r(e),l=i(c.length),u=o(s,l);if(t&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(10),i=n(9),o=n(26)(!1),s=n(23)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(28),i=n(19);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(29),i=n(18),o=n(17),s=n(16),a=n(8),c=Object.assign;t.exports=!c||n(1)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=s(t),c=arguments.length,l=1,u=i.f,f=o.f;c>l;)for(var d,h=a(arguments[l++]),p=u?r(h).concat(u(h)):r(h),v=p.length,m=0;v>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:c},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(3),i=n(5).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(2)&&!n(1)((function(){return 7!=Object.defineProperty(n(33)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(35),i=n(34),o=n(32),s=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(36),i=n(31);t.exports=n(2)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(38);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(5),i=n(4),o=n(39),s=n(37),a=n(10),c=function(t,e,n){var l,u,f,d=t&c.F,h=t&c.G,p=t&c.S,v=t&c.P,m=t&c.B,g=t&c.W,y=h?i:i[e]||(i[e]={}),_=y.prototype,b=h?r:p?r[e]:(r[e]||{}).prototype;for(l in h&&(n=e),n)(u=!d&&b&&void 0!==b[l])&&a(y,l)||(f=u?b[l]:n[l],y[l]=h&&"function"!=typeof b[l]?n[l]:m&&u?o(f,r):g&&b[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[l]=f,t&c.R&&_&&!_[l]&&s(_,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(40);r(r.S+r.F,"Object",{assign:n(30)})},function(t,e,n){n(41),t.exports=n(4).Object.assign},function(t,e,n){t.exports={default:n(42),__esModule:!0}},,function(t,e,n){}])},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-wraper-modal"},[e("div",{staticClass:"n-modal-lessons-wrap-header"},[e("div",{class:["n-modal-filter",t.show_filter?"active":""]},[e("div",{staticClass:"n-modal-filter-top-wrap"},[e("div",{staticClass:"n-modal-item-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.title,expression:"filter.title"}],attrs:{type:"text",autocomplete:"off",placeholder:"Введіть назву..."},domProps:{value:t.filter.title},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchTestsNew()},input:function(e){e.target.composing||t.$set(t.filter,"title",e.target.value)}}}),t._v(" "),e("button",{on:{click:function(e){return t.fetchTestsNew()}}},[e("i")])]),t._v(" "),e("div",{staticClass:"n-modal-item-btn"},[t.show_filter?e("a",{staticClass:"n-closed-span",on:{click:function(e){t.show_filter=!1}}},[t._v("Закрити фільтр "),e("i")]):e("a",{staticClass:"n-open-span",on:{click:function(e){t.show_filter=!0}}},[t._v("Відкрити фільтр "),e("i")])])]),t._v(" "),e("div",{staticClass:"n-modal-filter-bottom-wrap"},[e("div",{staticClass:"n-modal-filter-checkbox"},[e("label",{staticClass:"n-checkbox-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchShowMode,expression:"searchShowMode"}],attrs:{type:"radio",value:""},domProps:{checked:t._q(t.searchShowMode,"")},on:{change:function(e){t.searchShowMode=""}}}),t._v(" "),e("span",[t._v("Пошук серед усіх")])]),t._v(" "),e("label",{staticClass:"n-checkbox-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchShowMode,expression:"searchShowMode"}],attrs:{type:"radio",value:"my"},domProps:{checked:t._q(t.searchShowMode,"my")},on:{change:function(e){t.searchShowMode="my"}}}),t._v(" "),e("span",[t._v("Пошук серед моїх")])]),t._v(" "),e("label",{staticClass:"n-checkbox-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchShowMode,expression:"searchShowMode"}],attrs:{type:"radio",value:"not-my"},domProps:{checked:t._q(t.searchShowMode,"not-my")},on:{change:function(e){t.searchShowMode="not-my"}}}),t._v(" "),e("span",[t._v("Пошук серед чужих")])])]),t._v(" "),e("div",{staticClass:"n-modal-select-wrap"},[e("div",{staticClass:"n-modal-select-item"},[e("i",{staticClass:"n-arrow-modal-select"}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.searchClassInt,expression:"searchClassInt"}],staticClass:"vo-input",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.searchClassInt=e.target.multiple?n:n[0]}}},[e("option",{domProps:{value:""}},[t._v("Обрати клас")]),t._v(" "),t._l([-2,-3,-1,1,2,3,4,5,6,7,8,9,10,11,12,13],(function(n){return e("option",{domProps:{value:n}},[t._v("\n                "+t._s(t._f("classIntTitle")(n)))])}))],2)]),t._v(" "),e("div",{staticClass:"n-modal-select-item"},[e("SetCategory",{attrs:{label:!1,"is-search-mode":!0,"value-id":t.searchIdCategory},on:{"select-category":function(e){t.searchIdCategory=e}}})],1)]),t._v(" "),t.isSearch?e("div",{staticClass:"n-modal-clear-filter-wrap"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.clearSearch}},[t._v("Очистити фільтр "),e("i",[t._v("+")])])]):t._e()])]),t._v(" "),e("div",{staticClass:"n-triangle"})]),t._v(" "),t.dataProvider?e("div",{staticClass:"v-info-library n-info-library"},[e("div",{staticClass:"v-achievements-wrap v-achievements-wrap-modal"},[t.countTest?e("div",{staticClass:"n-test-title-modal"},[t._v("\n                Доступно "+t._s(t._f("plural")(t.countTest,["{n} тест","{n} тести","{n} тестів"]))+"\n            ")]):t._e(),t._v(" "),t._l(t.dataProvider.models,(function(n){return e("div",{class:["v-row","v-row-lib","a-bor-b-test","n-bor-b-test",t.isMy(n.id_user)?"vr-test-my":""],on:{click:function(e){return t.$emit("select-test",n)}}},[e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"v-library-block v-test-new-block"},[e("div",{staticClass:"v-library-block-info v-library-block-info-space"},[e("div",{staticClass:"v-col-12"},[e("span",{staticClass:"v-library-block-title n-library-block-title"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-test-add-test-btn"},[t._v("Обрати "+t._s(n.is_poll?"це опитування":"цей тест")+" +")]),t._v(" "),e("a",{staticClass:"n-j-title-test",attrs:{href:n._meta.test.url||"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openTest(n)}}},[t._v(t._s(n.title))])]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject"},[e("i",{staticClass:"v-icon v-icon-category"}),t._v(t._s(n._meta.category?n._meta.category.title:"-")+"\n                                ")]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject"},[e("i",{staticClass:"v-icon v-icon-class"}),t._v(" "),e("b",[t._v(t._s(n.count_quest))]),t._v(" питань\n                                ")]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject"},[e("i",{staticClass:"v-icon v-icon-number"}),t._v(" "),e("b",[t._v(t._s(n.count_execution))]),t._v(" проходжень\n                                ")]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject v-library-block-info-date"},[e("i",{staticClass:"v-icon v-icon-date"}),t._v(t._s(n._meta.test.date)+"\n                                ")]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject v-library-block-info-views"},[e("i",{staticClass:"v-icon v-icon-views"}),t._v(t._s(n.cnt_view)+"\n                                ")]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject v-library-block-info-comments"},[e("a",{attrs:{href:"javascript:void(0)"}},[e("i",{staticClass:"v-icon v-icon-comment"}),t._v(t._s(n.cnt_comment))])]),t._v(" "),e("div",{staticClass:"v-library-block-info-subject v-library-block-info-downloads"},[e("i",{staticClass:"v-icon v-icon-downloads"}),t._v(t._s(n.cnt_download)+"\n                                ")]),t._v(" "),e("LikeStatic",{attrs:{obj_key:n._meta.like.obj_key,owner_user:n._meta.like.owner_user,like_json:n._meta.like.like_json}})],1)])])])])})),t._v(" "),t.dataProvider.models.length?t._e():e("div",{staticClass:"v-row v-row-lib a-bor-b-test n-bor-b-test n-bor-b-test-none"},[t._m(0)]),t._v(" "),t.dataProvider.pagination.page<t.dataProvider.pagination.pageCount-1?e("div",{staticClass:"n-modal-wrap-h-w-btn"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-modal-blue-btn",on:{click:function(e){return t.showMode("page")}}},[t._v("Показати ще")])]):t._e()],2)]):t._e()])};r._withStripped=!0;var i=n(54),o=n(379),s=function(){var t=this;return(0,t._self._c)("div",{staticClass:"v-info-library-total"},[t._v("\n    "+t._s(t.firstText)+" "+t._s(t.totalCount)+" "+t._s(t._f("plural")(t.totalCount,[t.one,t.two,t.five]))+"\n")])};s._withStripped=!0;var a=n(1),c={name:"v-summary",filters:{plural:a.ab},props:{firstText:String,totalCount:{type:[Number,String],default:0},one:{type:String,default:"завдання"},two:{type:String,default:"завдання"},five:{type:String,default:"завдань"}}},l=n(0),u=Object(l.a)(c,s,[],!1,null,"cb33679a",null).exports,f=n(240),d={name:"SelectTest",props:["id_category","class_bit","class_int"],components:{LikeStatic:n(243).a,Preloader:i.a,vPager:o.a,vSummary:u,SetCategory:f.a},filters:{classIntTitle:a.l,plural:a.ab},data:function(){return{uniqueId:null,is_init:!1,dataProvider:null,filter:{title:"",id_category:"",class_int:"",show_mode:"my"},page:1,show_filter:!1}},computed:{countTest:function(){var t=0;return this.is_init?t+=this.dataProvider.totalCount:t},searchIdCategory:{get:function(){return this.filter.id_category},set:function(t){this.filter.id_category!=t&&(this.filter.id_category=t,this.fetchTestsNew())}},searchClassInt:{get:function(){return this.filter.class_int},set:function(t){this.filter.class_int=t,this.fetchTestsNew()}},searchShowMode:{get:function(){return this.filter.show_mode},set:function(t){this.filter.show_mode=t,this.fetchTestsNew()}},isSearch:function(){var t=!1;for(var e in this.filter)if(this.filter[e]){t=!0;break}return t},isMy:function(){return function(t){return t&&t==vo.user_id}}},methods:{fetchTestsNew:function(){this.page=1,this.fetchTests()},fetchTests:function(){var t=this;this.is_init=!1,vo.ajax(null,"/ext/test/test-list?page="+this.page,JSON.parse(JSON.stringify(this.filter)),(function(e){e.dataProvider.pagination.page>0?(t.$set(t.$data.dataProvider.pagination,"page",e.dataProvider.pagination.page),t.$set(t.$data.dataProvider,"models",t.dataProvider.models.concat(e.dataProvider.models)),t.page=e.dataProvider.pagination.page+1):(t.dataProvider=e.dataProvider,t.page=1),t.is_init=!0}))},showMode:function(t){this[t]+=1,this.fetchTests()},clearSearch:function(){for(var t in this.filter)"show_mode"!==t&&(this.filter[t]="");this.fetchTestsNew()},openTest:function(t){t&&window.open(t._meta.test.url,"_blank").focus()}},created:function(){if(this.uniqueId="sr"+Math.random().toString(36).substring(7),this.id_category&&(this.filter.id_category=parseInt(this.id_category)),this.class_bit){var t=Object(a.i)(this.class_bit);this.filter.class_int=t.length>0?t[0]:""}this.class_int&&(this.filter.class_int=parseInt(this.class_int)),this.show_filter=this.isSearch,this.fetchTestsNew()}},h=Object(l.a)(d,r,[function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"v-library-block v-test-new-block"},[e("div",{staticClass:"v-library-block-info v-library-block-info-space"},[e("div",{staticClass:"v-col-12"},[e("span",{staticClass:"v-library-block-title n-library-block-title"},[t._v("\n                                    Тестів по заданим фільтрам не знайдено.\n                                ")]),t._v(" "),e("a",{staticClass:"vo-btn-blue",attrs:{href:"/test/my/designer"}},[t._v("Створити новий тест")])])])])])}],!1,null,"6fbd639a",null);e.a=h.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-input-block main-page"},[e("div",{staticClass:"search-input-row"},[e("SearchBlock",{on:{search:function(e){return t.buttonSearch()}}}),t._v(" "),e("button",{staticClass:"btn-search item-search-row",on:{click:function(e){return t.buttonSearch()}}},[e("span",{staticClass:"desktop-text-btn"},[t._v("Шукати")])])],1)])};r._withStripped=!0;var i=n(383),o=n(12);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"Input",components:{SearchBlock:i.a},props:{page:{type:Number,default:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.d)("GlobalSearch",["q"])),methods:{buttonSearch:function(t){var e=this;return new Promise((function(n,r){vo.ajax(t,"/ext/search/access",{q:e.q},(function(t){t?"modal"in t?n(t.data):window.location.href="/site/search?q="+e.q+"&referrer_page="+e.page:r("Data load error")}))}))}}},u=l,f=n(0),d=Object(f.a)(u,r,[],!1,null,null,null);e.a=d.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("span",{staticClass:"vo-help",class:[t.css_class||"silver inverse"],staticStyle:{"margin-left":"5px"}},[e("span",{staticClass:"icon-con"},[e("span",{staticClass:"icon"},[t._v(t._s(t.label||"?"))])]),t._v(" "),e("span",{staticClass:"hide-block"},[t.html?e("span",{staticClass:"vo-text",domProps:{innerHTML:t._s(t.html)}}):t._e(),t._v(" "),t.text?e("span",{staticClass:"vo-text",domProps:{textContent:t._s(t.text)}}):t._e()])])};r._withStripped=!0;var i={name:"HelpLabel",props:["css_class","label","html","text"]},o=n(0),s=Object(o.a)(i,r,[],!1,null,"b8a8fdd6",null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-mb05"},[t._e(),t._v(" "),t.html_input_name?[e("input",{attrs:{type:"hidden",name:t.html_input_name,form:t.html_form_id||""},domProps:{value:""}}),t._v(" "),t._l(t.selectedIds,(function(n){return e("input",{attrs:{type:"hidden",name:t.html_input_name+"[]",form:t.html_form_id},domProps:{value:n}})}))]:t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedFolders.length&&!t.is_select_open,expression:"selectedFolders.length && !is_select_open"}]},[e("div",{staticClass:"t-teg-bloc-dostup vo-mb05"},t._l(t.selectedFolders,(function(n){return e("ListItem",{key:n.id,attrs:{folder:n,is_editable:!1,emulate_lib_type:t.emulate_lib_type}})})),1)]),t._v(" "),t.is_select_open?e("div",{staticClass:"t-teg-bloc-dostup vo-mb05"},[t._l(t.selectedFolders,(function(n){return e("ListItem",{key:n.id,attrs:{folder:n,is_editable:!0,emulate_lib_type:t.emulate_lib_type},on:{edit:function(e){return t.dlgManager(t.STEP_FORM,n.id)},del:function(e){return t.dlgManager(t.STEP_DELETE,n.id)}},scopedSlots:t._u([{key:"interactive",fn:function(){return[e("span",{directives:[{name:"show",rawName:"v-show",value:t.is_select_open,expression:"is_select_open"}],staticClass:"vr-el",attrs:{title:"Прибрати з теки"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.unselectFolder(n,e)}}},[e("i",{staticClass:"b-icon b-icon-otnat"})])]},proxy:!0}],null,!0)})})),t._v(" "),e("div",{staticStyle:{display:"inline-block"}},[e("SelectInput",{attrs:{label:!1,prompt:"<b class='vo-text'>Обрати теку</b>",models:t.freeFolders,value:0,template:'<span class="vr-tag t-style-{{style}}"><span class="n-icon-con"></span> {{title}}</span>',appendRows:[{value:-1,html:"<span class='t-teg-stvor'><span class='vo-noselect'> + створити нову теку</span></span>"},{value:-2,html:"<span class='t-teg-stvor'><span class='vo-noselect'> + Менеджер тек</span></span>"}]},on:{input:t.selectFolderById}})],1)],2):t._e()],2)};r._withStripped=!0;var i=n(136),o=n(1),s=n(105),a=n(12),c=n(386),l=n(299);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"AdminSelectFolderWidget",components:{ListItem:i.a,SelectInput:c.a},props:{html_form_id:String,html_input_name:String,active_obj_data:Object,value:[String,Number,Array,Object],emulate_lib_type:Number,open_manager:Boolean},data:function(){return{STEP_LIST:s.c,STEP_DELETE:s.a,STEP_FORM:s.b,is_select_open:!0,selectedIds:[]}},computed:d(d(d({},Object(a.d)("Folder",["folders","is_loading"])),Object(a.c)("Folder",["getFolderById"])),{},{obj_data:function(){var t,e,n;return{obj_type:null===(t=this.active_obj_data)||void 0===t?void 0:t.obj_type,obj_id:null===(e=this.active_obj_data)||void 0===e?void 0:e.obj_id,obj_sub_id:null===(n=this.active_obj_data)||void 0===n?void 0:n.obj_sub_id}},isAutoSelect:function(){return this.obj_data.obj_type&&this.obj_data.obj_id},selectedFolders:function(){var t=this;return this.folders.filter((function(e){return t.selectedIds.indexOf(e.id)>-1}))},freeFolders:function(){var t=this;return this.folders.filter((function(e){return-1===t.selectedIds.indexOf(e.id)}))}}),methods:{selectFolderById:function(t){if(-2!==t)if(-1!==t){var e=this.getFolderById(t);e&&this.selectFolder(e,null)}else this.dlgManager(s.b);else this.dlgManager(s.c)},dlgManager:function(t,e){var n=this;if(Object(o.T)(!0)){var r=Object(o.hb)(s.d,{propsData:{active_step:t,active_id_folder:e,close_on_go_back:t!==s.c},store:this.$store});r.$on("deleted",(function(e){n.selectedIds=n.selectedIds.filter((function(t){return t.id!==e.id})),n.$emit("input",JSON.parse(JSON.stringify(n.selectedIds))),t!==s.c&&r.$emit("close")})),r.$on("added",(function(e){t!==s.c&&(r.$emit("close"),n.selectFolder(e))}))}},trySelectOrAdd:function(){Object(o.T)(!0)&&(this.is_select_open=!0)},selectFolder:function(t,e){var n=this;if(!(this.selectedIds.indexOf(t.id)>-1)){if(!this.isAutoSelect)return this.selectedIds.push(t.id),void this.$emit("input",JSON.parse(JSON.stringify(this.selectedIds)));var r=d({id_folder:t.id},this.obj_data);vo.ajax(e,"/ext/folder-v1/save-object-folder",r,(function(e){e&&"data"in e&&(n.selectedIds.push(t.id),n.$emit("input",JSON.parse(JSON.stringify(n.selectedIds))))}))}},unselectFolder:function(t,e){var n=this;if(!this.isAutoSelect)return this.selectedIds=this.selectedIds.filter((function(e){return e!==t.id})),void this.$emit("input",JSON.parse(JSON.stringify(this.selectedIds)));var r=d({id_folder:t.id},this.obj_data);vo.ajax(e,"/ext/folder-v1/delete-object-folder",r,(function(e){e&&"data"in e&&(n.selectedIds=n.selectedIds.filter((function(e){return e!==t.id})),n.$emit("input",JSON.parse(JSON.stringify(n.selectedIds))))}))},setSelectedIds:function(t){var e=JSON.parse(JSON.stringify(t));Array.isArray(e)||(e=e?[e]:[]),this.selectedIds=t.map((function(t){return parseInt(t)}))}},created:function(){var t=this;this.$store.hasModule("Folder")||this.$store.registerModule("Folder",l.a),this.setSelectedIds(this.value),this.$store.dispatch("Folder/init").then((function(){t.$emit("input",JSON.parse(JSON.stringify(t.selectedIds))),t.emulate_lib_type&&!t.open_manager&&t.trySelectOrAdd()})),this.open_manager&&this.dlgManager(s.c)},watch:{value:function(t){this.setSelectedIds(t)}}},v=n(0),m=Object(v.a)(p,r,[],!1,null,null,null);e.a=m.exports},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=[].indexOf,a=[].slice,c={props:{inViewportActive:{type:Boolean,default:!0},inViewportOnce:{type:Boolean,default:!1},inViewportRootMargin:{type:Number|String,default:"0px 0px -1px 0px"},inViewportRoot:{type:String|Function|Object,default:void 0},inViewportThreshold:{type:Number|Array,default:function(){return[0,1]}}},data:function(){return{inViewport:{now:null,fully:null,above:null,below:null,listening:!1,maxThreshold:1}}},mounted:function(){return this.$nextTick(this.inViewportInit)},destroyed:function(){return this.removeInViewportHandlers()},computed:{inViewportThresholdWithMax:function(){var t,e;return e="object"===o(this.inViewportThreshold)?this.inViewportThreshold:[this.inViewportThreshold],t=this.inViewport.maxThreshold,s.call(e,t)>=0?e:e.concat(this.inViewport.maxThreshold)}},watch:{inViewportActive:function(t){return t?this.addInViewportHandlers():this.removeInViewportHandlers()},inViewportRootMargin:function(){return this.reInitInViewportMixin()},inViewportRoot:function(){return this.reInitInViewportMixin()},inViewportThresholdWithMax:function(t,e){if(t.toString()!==e.toString())return this.reInitInViewportMixin()}},methods:{reInitInViewportMixin:function(){return this.removeInViewportHandlers(),this.inViewportInit()},inViewportInit:function(){if(this.inViewportActive)return this.addInViewportHandlers()},addInViewportHandlers:function(){if(!this.inViewport.listening)return this.inViewport.listening=!0,this.inViewportObserver=new IntersectionObserver(this.updateInViewport,{root:function(){switch(o(this.inViewportRoot)){case"function":return this.inViewportRoot();case"string":return document.querySelector(this.inViewportRoot);case"object":return this.inViewportRoot;default:return}}.call(this),rootMargin:this.inViewportRootMargin,threshold:this.inViewportThresholdWithMax}),this.inViewportObserver.observe(this.$el)},removeInViewportHandlers:function(){var t;if(this.inViewport.listening)return this.inViewport.listening=!1,null!=(t=this.inViewportObserver)&&t.disconnect(),delete this.inViewportObserver},updateInViewport:function(t){var e,n,i=r(a.call(t,-1),1)[0];return n=i.boundingClientRect,e=i.rootBounds,n&&e?(this.inViewport.maxThreshold=n.height>0?Math.min(1,e.height/n.height):1,this.inViewport.now=n.top<=e.bottom&&n.bottom>e.top,this.inViewport.above=n.top<e.top,this.inViewport.below=n.bottom>e.bottom+1,this.inViewport.fully=n.height>e.height?n.top<=e.top&&n.bottom>=e.bottom+1:!this.inViewport.above&&!this.inViewport.below,this.inViewportOnce&&this.inViewport.now?this.removeInViewportHandlers():void 0):this.removeInViewportHandlers()}}};e.default=c},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[t.preloader.init?[e("Preloader")]:t.is_error?[e("Preloader"),t._v(" "),e("button",{staticClass:"vo-btn-blue",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Згорнути вікно")])]:t.is_not_ended?[e("p",{staticClass:"vo-text"},[t._v("\n            Тестування буде доступне після завершення онлайн-трансляції.\n        ")]),t._v(" "),e("button",{staticClass:"vo-btn-blue",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Згорнути вікно")])]:t.is_tested?[t._m(0),t._v(" "),e("button",{staticClass:"vo-btn-blue",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Згорнути вікно")])]:t.is_empty_test?[e("p",{staticClass:"vo-text"},[t._v("\n            Тест незабаром буде додано.\n        ")]),t._v(" "),e("button",{staticClass:"vo-btn-blue",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Згорнути вікно")])]:t.is_preview?[e("div",[e("div",{staticClass:"v-subject-select-title"},[t._v("Ви можете пройти тестування.")]),t._v(" "),e("p",{staticClass:"vo-text-small"},[t._v("Після успішного завершення тесту Ви зможете отримати Сертифікат з відповідним записом в ньому щодо тестування на тематику даного вебінару.")]),t._v(" "),e("p",{staticClass:"vo-text-small"},[t._v("Якщо тест не буде пройдено, Ви можете спробувати знову.")]),t._v(" "),e("div",{staticClass:"vo-btn-wrap"},[e("a",{staticClass:"vo-btn-blue",on:{click:function(e){t.is_preview=!1}}},[t._v("Почати тест")])])])]:[e("div",{staticClass:"v-subject-select-title"},[t._v("Тестування по вебінару")]),t._v(" "),e("div",{staticClass:"v-list-pupils v-list-pupils-answers v-list-video-test n-vebinar-test"},[e("TestExecutionScreen",{ref:"testExecutionScreen",attrs:{quests:t.quests,tes_store_key:"webexc-".concat(t.id_webinar,"-").concat(t.userData.id_user),config:t.config},on:{"user-set-answer":t.saveAnswer}})],1)]],2)};r._withStripped=!0;var i=n(54),o=n(216),s={name:"App",components:{Preloader:i.a,TestExecutionScreen:o.a},props:{id_webinar:0},data:function(){return{webinar:null,webinarUserData:null,userData:null,is_error:!1,is_preview:!1,quests:[],config:null,preloader:{init:!1}}},computed:{is_not_ended:function(){return this.webinar&&this.webinar.is_online&&!this.webinar.is_online_end},is_tested:function(){return this.webinarUserData&&this.webinarUserData.is_tested},is_empty_test:function(){return 0===this.quests.length}},methods:{init:function(){var t=this;this.preloader.init=!0;var e={id_webinar:this.id_webinar};new Promise((function(t,n){vo.ajax(null,"/ext/test-execution/webinar-get-test",e,(function(e){if(!e||!("data"in e))return n(e);t(e.data)}))})).then((function(e){t.quests=e.quests||[],t.config=e.config||null,t.webinar=e.webinar||null,t.webinarUserData=e.webinarUserData||null,t.userData=e.userData,t.is_preview=!0})).catch((function(){t.is_error=!0})).finally((function(){t.preloader.init=!1}))},saveAnswer:function(t,e){var n=this;t.id_webinar=this.id_webinar,new Promise((function(r,i){vo.ajax(e,"/ext/test-execution/webinar-set-test",t,(function(t){if(!t||!("data"in t))return i(t);n.$refs.testExecutionScreen&&n.$refs.testExecutionScreen.clearSessionStore(),r(t.data)}))})).then((function(t){n.$emit("test-execution-finish",t.webinarUserData)}))}},created:function(){this.init()}},a=n(0),c=Object(a.a)(s,r,[function(){var t=this._self._c;return t("p",{staticClass:"vo-text"},[t("span",{staticClass:"vo-color-green;"},[this._v("Вітаємо! Ви пройшли тестування.")])])}],!1,null,"ca3946aa",null);e.a=c.exports},function(t,e,n){},function(t,e,n){"use strict";e.a={data:function(){return{is_items_event_listeners_add:!1,dragCont:null,draggingEle:null,x:0,y:0,placeholder:null,isDraggingStarted:!1,draggingData:{targetId:0,direction:-1}}},computed:{sortableList:function(){return[]}},methods:{mouseDownHandler:function(t){this.draggingEle=t.currentTarget;var e=this.dragCont.getBoundingClientRect(),n=e.top,r=e.left,i=this.draggingEle.getBoundingClientRect(),o=i.top,s=i.left;this.x=t.pageX-s+r,this.y=t.pageY-o+n,this.draggingEle.classList.add("vr-active"),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler)},mouseMoveHandler:function(t){var e=this.draggingEle,n=this.placeholder,r=e.getBoundingClientRect();this.isDraggingStarted||(this.isDraggingStarted=!0,(n=document.createElement("li")).innerHTML=e.innerHTML,n.classList.add("n-j-drag-list-con","vr-placeholder","n-disabled"),e.parentNode.insertBefore(n,e.nextSibling),n.style.height="".concat(r.height,"px"),this.placeholder=n),e.style.position="absolute",e.style.top="".concat(t.pageY-this.y,"px"),e.style.left="".concat(t.pageX-this.x,"px");var i=e.previousElementSibling,o=n.nextElementSibling;if(i&&this.isAbove(e,i))return this.swap(n,e),this.swap(n,i),void(this.draggingData={direction:0,targetId:i.getAttribute("data-id")});o&&this.isAbove(o,e)&&(this.swap(o,n),this.swap(o,e),this.draggingData={direction:1,targetId:o.getAttribute("data-id")})},mouseUpHandler:function(t){var e=this.draggingEle;this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null,this.isDraggingStarted=!1,e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("position"),e.classList.remove("vr-active"),this.x=0,this.y=0,this.draggingEle=null,document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler);var n=parseInt(e.getAttribute("data-id")),r=parseInt(this.draggingData.targetId),i=this.draggingData.direction;this.draggingData={targetId:null,direction:-1},this.setDirection(n,r,i)},swap:function(t,e){var n=t.parentNode,r=t.nextSibling===e?t:t.nextSibling;e.parentNode.insertBefore(t,e),n.insertBefore(e,r)},addItemsEventListeners:function(){var t=this;if(!this.is_items_event_listeners_add){var e=this.dragCont;[].slice.call(e.getElementsByClassName("vr-draggable")).forEach((function(e){e.addEventListener("mousedown",t.mouseDownHandler)})),this.is_items_event_listeners_add=!0}},removeItemsEventListeners:function(){var t=this;if(this.is_items_event_listeners_add){var e=this.dragCont;[].slice.call(e.getElementsByClassName("vr-draggable")).forEach((function(e){e.removeEventListener("mousedown",t.mouseDownHandler)})),this.is_items_event_listeners_add=!1}},isAbove:function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return n.top+n.height/2<r.top+r.height/2},moveStart:function(t){var e=this.sortableList[0];e&&this.insertBefore(t,e.id)},moveUp:function(t){var e=this.sortableList.findIndex((function(e){return e.id===t})),n=this.sortableList[e-1];n&&this.insertBefore(t,n.id)},moveDown:function(t){var e=this.sortableList.findIndex((function(e){return e.id===t})),n=this.sortableList[e+1];n&&this.insertAfter(t,n.id)},moveEnd:function(t){var e=this.sortableList[this.sortableList.length-1];e&&this.insertAfter(t,e.id)},insertBefore:function(t,e){this.setDirection(t,e,0)},insertAfter:function(t,e){this.setDirection(t,e,1)},setDirection:function(t,e,n){if(t&&e&&e!==t&&!(n<0)){var r=this.sortableList.findIndex((function(e){return e.id===t})),i=this.sortableList.findIndex((function(t){return t.id===e}));if(!(r<0||r<0)){if(1===Math.abs(i-r)){if(r>i&&1===n)return;if(r<i&&0===n)return}this.hookChangeDirection(t,e,n)}}},hookChangeDirection:function(t,e,n){}},mounted:function(){var t=this;this.$nextTick((function(){t.dragCont=document.getElementById("vr-drag-list"),t.addItemsEventListeners()}))},beforeDestroy:function(){this.removeItemsEventListeners()}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("CreateLessonTestingForm",{ref:"formData",attrs:{lessonConfig:t.lessonConfig,lesson:t.lesson}}),t._v(" "),e("div",{staticClass:"v-test-page-modal"},[e("div",{staticClass:"n-test-wrap-btn-modal"},[e("button",{staticClass:"v-blue-button v-blue-button-big",on:{click:t.save}},[t._v("\n                "+t._s(t.isNew?"Створити":"Зберегти зміни")+"\n            ")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-red-button pull-right",on:{click:t.cancel}},[t._v("\n                Скасувати\n            ")])])])],1)};r._withStripped=!0;var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-test-page-modal"},[e("div",{staticClass:"n-top-subject-title fiolet"},[t._v("\n        Створіть своє проходження\n    ")]),t._v(" "),e("div",{staticClass:"v-test-page-modal-name fiolet"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[t._v("\n                Назва:\n            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"vo-input",attrs:{type:"text",placeholder:"Назва",autocomplete:"off"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),e("small",{staticClass:"vo-color-white"},[t._v("* ця назва відображатиметься учням")])]),t._v(" "),e("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[e("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n            Оцінювання:\n        ")]),t._v(" "),e("div",{staticClass:"vo-form-group vo-mb1"},[e("label",[t._v("Система оцінювання:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.markSystem,expression:"markSystem"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.markSystem=e.target.multiple?n:n[0]}}},[e("option",{domProps:{value:t.MARK_SYSTEM_CUSTOM}},[t._v("--довільна--")]),t._v(" "),e("option",{domProps:{value:t.MARK_SYSTEM_SCHOOL}},[t._v("Для учнів (12 балів)")]),t._v(" "),e("option",{domProps:{value:t.MARK_SYSTEM_CHILD}},[t._v("Для дошкільнят/Початкова освіта (без оцінок)")]),t._v(" "),e("option",{domProps:{value:t.MARK_SYSTEM_UNIVERSITY}},[t._v("Для студентів (100 балів, A-Fx)")]),t._v(" "),e("option",{domProps:{value:t.MARK_SYSTEM_CHILD_2}},[t._v("Рівнева оцінка (НУШ, 3-4 класи)")])])]),t._v(" "),e("div",{staticClass:"create-testing-row md vo-mb1"},[e("div",{staticClass:"vo-form-group flex1"},[e("label",[t._v("\n                    Максимальний бал:\n                ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxMark,expression:"maxMark"}],staticClass:"n-form-control-input",attrs:{type:"text",required:"",name:"TestExecutionConfig[max_mark]"},domProps:{value:t.maxMark},on:{input:function(e){e.target.composing||(t.maxMark=e.target.value)}}})])]),t._v(" "),""!==t.marks[t.form.mark_system].desc?e("div",{staticClass:"v-check-not-allow-check"},[e("div",{staticClass:"form-group"},[e("p",{staticClass:"a-inform-otsinka",domProps:{innerHTML:t._s(t.marks[t.form.mark_system].desc)}})])]):t._e()]),t._v(" "),e("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[e("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n            Додаткові опції:\n        ")]),t._v(" "),e("div",{staticClass:"v-test-page-modal-dates"},[e("div",[e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_cert,expression:"form.is_cert"}],attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.form.is_cert)?t._i(t.form.is_cert,null)>-1:t._q(t.form.is_cert,1)},on:{change:function(e){var n=t.form.is_cert,r=e.target,i=r.checked?1:0;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.form,"is_cert",n.concat([null])):o>-1&&t.$set(t.form,"is_cert",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_cert",i)}}}),t._v("\n                        Видати сертифікат після проходження\n                    ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.is_cert,expression:"form.is_cert"}],staticClass:"form-group"},[e("label",{staticClass:"vo-form-label vo-mt05"},[t._v("\n                        Код шаблона сертифікату:\n                    ")]),t._v(" "),e("div",{staticClass:"row-sert-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id_cert_tpl,expression:"form.id_cert_tpl"}],staticClass:"vo-input",attrs:{type:"text",autocomplete:"off",name:"TestExecutionConfig[id_cert_tpl]"},domProps:{value:t.form.id_cert_tpl},on:{input:function(e){e.target.composing||t.$set(t.form,"id_cert_tpl",e.target.value)}}}),t._v(" "),e("a",{staticClass:"vo-link-blue",attrs:{target:"_blank",href:"/certificates"}},[t._v("редактор сертифікатів")])])]),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_description,expression:"form.is_description"}],attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.form.is_description)?t._i(t.form.is_description,null)>-1:t._q(t.form.is_description,1)},on:{change:function(e){var n=t.form.is_description,r=e.target,i=r.checked?1:0;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.form,"is_description",n.concat([null])):o>-1&&t.$set(t.form,"is_description",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_description",i)}}}),t._v("\n                        Вказати свій опис для учня перед початком і в кінці уроку\n                    ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.is_description,expression:"form.is_description"}]},[e("div",{staticClass:"form-group vo-mb1"},[e("label",{staticClass:"vo-form-label vo-mb05"},[t._v("\n                            Опис, який учні побачать перед початком уроку\n                        ")]),t._v(" "),e("Editor",{attrs:{mode:"test",height:180,placeholder:"Опис..."},model:{value:t.form.description_start,callback:function(e){t.$set(t.form,"description_start",e)},expression:"form.description_start"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"vo-form-label vo-mb05"},[t._v("\n                            Опис, який учні побачать після проходження уроку\n                        ")]),t._v(" "),e("Editor",{attrs:{mode:"test",height:180,placeholder:"Опис..."},model:{value:t.form.description_end,callback:function(e){t.$set(t.form,"description_end",e)},expression:"form.description_end"}})],1)])])])])])};i._withStripped=!0;var o=n(242),s=n(134),a=n(92),c={name:"CreateLessonTestingForm",components:{Editor:s.a},mixins:[o.a],props:["lessonConfig","lesson"],data:function(){return{MARK_SYSTEM_CUSTOM:a.g,MARK_SYSTEM_SCHOOL:a.h,MARK_SYSTEM_CHILD:a.d,MARK_SYSTEM_CHILD_2:a.e,MARK_SYSTEM_CREDIT:a.f,MARK_SYSTEM_UNIVERSITY:a.i,form:{title:this.lessonConfig?this.lessonConfig.title:this.lesson?this.lesson.title:"",mark_system:this.lessonConfig?this.lessonConfig.mark_system:a.h,max_mark:this.lessonConfig?this.lessonConfig.max_mark:12,min_mark:this.lessonConfig?this.lessonConfig.min_mark:1,is_cert:this.lessonConfig?this.lessonConfig.is_cert:0,id_cert_tpl:this.lessonConfig&&this.lessonConfig.id_cert_tpl||"",is_description:this.lessonConfig?this.lessonConfig.is_description:0,description_start:this.lessonConfig&&this.lessonConfig.is_description?this.lessonConfig.description_start:this.lesson?this.lesson.description_start:"",description_end:this.lessonConfig&&this.lessonConfig.is_description?this.lessonConfig.description_end:this.lesson?this.lesson.description_end:""}}},computed:{markSystem:{get:function(){return this.form.mark_system},set:function(t){this.form.mark_system=t,this.form.min_mark=this.marks[t].min_mark,this.form.max_mark=this.marks[t].max_mark}},maxMark:{get:function(){return this.form.max_mark},set:function(t){this.form.mark_system&&(this.form.mark_system=0),this.form.max_mark=t}}},methods:{getFormData:function(){return this.form}}},l=n(0);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"CreateLessonTesting",components:{CreateLessonTestingForm:Object(l.a)(c,i,[],!1,null,"10d56534",null).exports},props:["lessonConfig","lesson","callbackAfterSave","callbackAfterCancel"],data:function(){return{isNew:!this.lessonConfig}},methods:{save:function(t){var e,n,r=this,i={id_lesson:null===(e=this.lesson)||void 0===e?void 0:e.id,id_config:null===(n=this.lessonConfig)||void 0===n?void 0:n.id,LessonConfig:d({},this.$refs.formData.getFormData())};vo.ajax(t,"/ext/lesson/save-config",i,(function(t){t&&t.data&&("function"==typeof r.callbackAfterSave&&r.callbackAfterSave(t.data.config),r.$emit("saved",t.data.config))}))},cancel:function(){"function"==typeof this.callbackAfterCancel&&this.callbackAfterCancel(),this.$emit("cancel")}}},v=Object(l.a)(p,r,[],!1,null,null,null);e.a=v.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[t.is_init?e("div",[t.isPupil?e("div",{staticClass:"vo-mb2"},[e("a",{staticClass:"vo-btn-blue",attrs:{href:"/go/olp"}},[t._v("Повернутися до кабінету учня")]),t._v(" "),e("a",{staticClass:"vo-btn-green pull-right",attrs:{href:"/go/task/".concat(t.id_task,"/execute")}},[t._v("Перейти до завдання")])]):e("div",{staticClass:"vo-mb2"},[e("a",{staticClass:"vo-btn-blue",attrs:{href:t.url_journal}},[t._v("Повернутися до проходження")])]),t._v(" "),e("div",{staticClass:"wrap",attrs:{id:"comments"}},[e("div",{staticClass:"v-news-comments",attrs:{id:"aa_comment_list"}},[e("Comments",{attrs:{obj_type:t.OBJ_TYPE_JOURNAL_TASK,obj_id:t.id_task,obj_sub_id:t.pupil_access}})],1)])]):e("span",{staticClass:"v-bar"})])};r._withStripped=!0;var i=n(82),o=n(201),s=n(5),a={components:{Comments:o.a},props:{id_task:{type:Number,required:!0},access:{type:Number,default:0},auth_mode:{type:String,default:i.c}},data:function(){return{OBJ_TYPE_JOURNAL_TASK:s.OBJ_TYPE_JOURNAL_TASK,is_init:!1,pupil_access:0,url_journal:""}},computed:{isPupil:function(){return this.auth_mode===i.c}},mounted:function(){var t=this;this.auth_mode===i.c&&vo.user.user_type===s.USER_PUPIL?this.pupil_access=vo.user.user_id:this.pupil_access=this.access,this.auth_mode!==i.c?vo.ajaxPromise(null,vo.url_school+"/ext/journal-v2/task-data",{id_task:this.id_task}).then((function(e){t.is_init=!0,t.url_journal=["/journal",e.year,e.id_pupil_class,e.id_journal,"cell-execution?id_column=".concat(e.id_column,"&access=").concat(t.pupil_access)].join("/")})).catch((function(t){vo.popup.errorByResponse(t,!1)})):this.is_init=!0}},c=n(0),l=Object(c.a)(a,r,[],!1,null,"37be605a",null);e.a=l.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[t.is_init?e("div",[t.isPupil?e("div",{staticClass:"vo-mb2"},[e("a",{staticClass:"vo-btn-blue",attrs:{href:"/go/olp"}},[t._v("Повернутися до кабінету учня")])]):e("div",{staticClass:"vo-mb2"},[e("a",{staticClass:"vo-btn-blue",attrs:{href:t.url_journal}},[t._v("Повернутися до предмету")])]),t._v(" "),e("div",{staticClass:"wrap",attrs:{id:"comments"}},[e("div",{staticClass:"v-news-comments",attrs:{id:"aa_comment_list"}},[e("Comments",{attrs:{obj_type:t.OBJ_TYPE_JOURNAL,obj_id:t.id_journal,obj_sub_id:0}})],1)])]):e("span",{staticClass:"v-bar"})])};r._withStripped=!0;var i=n(82),o=n(201),s=n(5),a={components:{Comments:o.a},props:{id_journal:{type:Number,required:!0},auth_mode:{type:String,default:i.c}},data:function(){return{OBJ_TYPE_JOURNAL:s.OBJ_TYPE_JOURNAL,is_init:!1,url_journal:""}},computed:{isPupil:function(){return this.auth_mode===i.c}},mounted:function(){var t=this;this.auth_mode!==i.c?vo.ajaxPromise(null,vo.url_school+"/ext/journal-v2/journal-data",{id_journal:this.id_journal}).then((function(e){t.is_init=!0,t.url_journal=["/journal",e.year,e.id_pupil_class,e.id_journal].join("/")})).catch((function(t){vo.popup.errorByResponse(t,!1)})):this.is_init=!0}},c=n(0),l=Object(c.a)(a,r,[],!1,null,"a3fa4120",null);e.a=l.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"nLikes"}},[e("div",{staticClass:"lib-inside_likes"},[e("p",{staticClass:"lib-inside-title center vo-mb1"},[t._v("\n            Будь ласка, оцініть "+t._s(t.objTitle)+"!\n        ")]),t._v(" "),e("div",{staticClass:"lib-inside_likes_wrap"},[e("like-comment-button",{attrs:{obj_key:t.obj_key,like_json:t.like_json,owner_user:t.owner_user,heart_user:t.heart_user},on:{"like-dislike":function(e){return t.$emit("like-dislike")}}})],1)])])};r._withStripped=!0;var i=n(5),o=n(217),s={name:"LikeButton",components:{LikeCommentButton:n(301).a,BaseButton:o.a},props:["obj_key","like_json","owner_user"],data:function(){return{obj_type:0,heart_user:i.NULL_USER_KEY}},computed:{objTitle:function(){var t,e;return null!==(t=null===(e=Object(i.Label)(this.obj_type,"obj_type",null,i.CASE_Z))||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""}},methods:{},mounted:function(){var t=this.obj_key.split(i.DELIMITER_OBJ_KEY);this.obj_type=t[0]}},a=n(0),c=Object(a.a)(s,r,[],!1,null,"3b5c5f7f",null);e.a=c.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("span",{staticClass:"vo-icon close n-close",on:{click:function(e){return t.$emit("close")}}}),t._v(" "),t.load.global?[e("Preloader")]:0===t.showedPupilClasses.length&&0===t.can_transfer_info.length?[e("div",[e("p",{staticClass:"n-j-modal-title"},[t._v("Класи з учнями за "),e("b",[t._v(t._s(t.PREVIOUS_YEAR)+"/"+t._s(t.PREVIOUS_YEAR+1)+" навчальний рік")]),t._v(" відсутні.")]),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-silver n-item-row",attrs:{type:"button"},on:{click:function(e){t.isOlpDlgPage?t.$emit("stop-add"):t.$emit("close")}}},[t._v("\n                    Закрити\n                ")])])])]:t.pupilClassNew?[e("div",[e("p",{staticClass:"n-j-modal-title"},[t._v("Клас разом з учнями перенесено в "),e("b",[t._v(t._s(t.ACTIVE_YEAR)+"/"+t._s(t.ACTIVE_YEAR+1)+" навчальний рік")]),t._v(".")]),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("a",{staticClass:"n-modal-btn-blue n-item-row",on:{click:t.startNew}},[t._v("Перенести ще один клас")]),t._v(" "),e("a",{staticClass:"n-modal-btn-green n-item-row",attrs:{href:"/journal/".concat(t.pupilClassNew.year,"/").concat(t.pupilClassNew.id)}},[t._v("Перейти до класу")])])])]:t._e(),t._v(" "),!t.pupilClassNew&&t.showedPupilClasses.length>0?[e("p",{staticClass:"vo-title-small",class:{"vo-color-silver":t.pupilClassOld}},[t._v("Крок 1. Оберіть клас з минулого навчального року")]),t._v(" "),t.can_transfer_info.length>0?e("div",{staticClass:"vo-mb1"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.is_part_classes,expression:"is_part_classes"}],attrs:{type:"checkbox",disabled:t.is_part_fixed},domProps:{checked:Array.isArray(t.is_part_classes)?t._i(t.is_part_classes,null)>-1:t.is_part_classes},on:{change:function(e){var n=t.is_part_classes,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.is_part_classes=n.concat([null])):o>-1&&(t.is_part_classes=n.slice(0,o).concat(n.slice(o+1)))}else t.is_part_classes=i}}}),t._v(" Показати лише частково переведені класи\n            ")])]):t._e(),t._v(" "),e("div",{staticClass:"n-wrap-input__next-year"},[e("div",{staticClass:"n-j-select-wrap",class:{"n-j-select-active":t.showList,"vr-open-prevent":!t.pupilClassOld}},[e("div",{staticClass:"m-j-select",on:{click:function(e){t.showList=!(t.showList&&t.pupilClassOld)}}},[t.pupilClassOld?e("div",{staticClass:"n-j-select-info"},[e("div",{staticClass:"n-j-select-info__content"},[e("span",{staticClass:"n-select-text-black"},[t._v("\n                            "+t._s(t.pupilClassOld.title)+"\n                        ")]),t._v(" "),e("span",{staticClass:"n-select-text-silver"},[t.showClassLvl(t.pupilClassOld)?[t._v(t._s(t._f("classTitle")(t.pupilClassOld.class,!1))+", ")]:t._e(),t._v("\n                            "+t._s(t._f("plural")(t.pupilClassOld.cnt_pupil,["{n} учень(ця)","{n} учні","{n} учнів"]))+"\n                        ")],2)]),t._v(" "),e("i",{staticClass:"vo-icon arrow-sharing"})]):e("div",{staticClass:"n-j-select-info"},[e("span",{staticClass:"n-select-text-black"},[t._v("\n                        Список доступних класів за "),e("b",[t._v(t._s(t.PREVIOUS_YEAR)+"/"+t._s(t.PREVIOUS_YEAR+1))]),t._v(" навчальний рік\n                    ")])]),t._v(" "),e("i",{staticClass:"vo-icon arrow-d"})]),t._v(" "),e("div",{staticClass:"n-j-select-list"},[e("div",{staticClass:"n-j-select-scroll-con"},t._l(t.showedPupilClasses,(function(n){return e("div",{key:n.id,staticClass:"n-j-select-info",class:{"n-active":t.pupilClassOld&&n.id===t.pupilClassOld.id,"n-sharing":!n.is_owner},on:{click:function(e){return t.selectPupilClassOld(n)}}},[e("p",{staticClass:"n-j-select-info__content"},[t.transfer_ids.indexOf(n.id)>=0?e("span",{staticClass:"vo-color-orange"},[t._v("+")]):t._e(),t._v(" "),e("span",{staticClass:"n-select-text-black"},[t._v("\n                                    "+t._s(n.title)+"\n                                ")]),t._v(" "),e("span",{staticClass:"n-select-text-silver"},[t.showClassLvl(n)?[t._v(t._s(t._f("classTitle")(n.class,!1))+", ")]:t._e(),t._v("\n                                    "+t._s(t._f("plural")(n.cnt_pupil,["{n} учень(ця)","{n} учні","{n} учнів"]))+"\n                                ")],2)]),t._v(" "),e("i",{staticClass:"vo-icon arrow-sharing"})])})),0)])])]),t._v(" "),t.pupilClassNew||!t.pupilClassOld?e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-silver n-item-row",attrs:{type:"button"},on:{click:function(e){t.isOlpDlgPage?t.$emit("stop-add"):t.$emit("close")}}},[t._v("\n                Скасувати\n            ")])]):t._e()]:t._e(),t._v(" "),!t.pupilClassNew&&t.pupilClassOld?[e("p",{staticClass:"vo-title-small",class:{"vo-color-silver":t.pupilClassOld}},[t._v("Крок 2. Переведіть клас в новий навчальний рік")]),t._v(" "),t.canPreviousPupilClass?[e("p",{staticClass:"vo-text-small"},[t._v("\n                Ви можете перевести учнів з обраного класу в клас\n                "),e("b",{staticClass:"vo-color-black"},[t._v(t._s(t.canPreviousPupilClass.title))]),t._v(" "),e("span",{staticClass:"vo-color-silver"},[t.showClassLvl(t.canPreviousPupilClass)?[t._v(t._s(t._f("classTitle")(t.canPreviousPupilClass.class,!1)))]:t._e()],2),t._v(".\n            ")])]:[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                        Назва класу в навчальному році "+t._s(t.ACTIVE_YEAR)+"/"+t._s(t.ACTIVE_YEAR+1)+":"),e("b",{staticClass:"n-needs-item vo-color-red"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.classTitle,expression:"classTitle"}],attrs:{id:"vr-class-title",autocomplete:"off",type:"text",placeholder:"Наприклад 7Б або 9А"},domProps:{value:t.classTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.savePupilClass.apply(null,arguments)},input:function(e){e.target.composing||(t.classTitle=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"n-j-moddal-block-hide"},[t.pupilClassOld?e("p",{staticClass:"n-j-label-modal"},[t._v("\n                    Рівень завдань класу в навчальному році "+t._s(t.ACTIVE_YEAR)+"/"+t._s(t.ACTIVE_YEAR+1)+":\n                ")]):e("p",{staticClass:"n-j-moddal-text-alert"},[t._v("\n                    Уточніть, будь-ласка, рівень завдань\n                ")]),t._v(" "),e("div",{staticClass:"n-j-row-modal-tag"},[t._l(t.classes_info,(function(n){return[e("span",{staticClass:"n-j-modal-tag",class:{"n-active":t.form.class===n.num},on:{click:function(e){return t.setClassNumber(n.num)}}},[t._v("\n                            "+t._s(n.title)+"\n                        ")])]}))],2)])],t._v(" "),[t.prevTransferedClass&&t.prevTransferedClass.from_is_journal?t._e():e("div",{staticClass:"vo-mb1"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_journal,expression:"form.is_journal"}],attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.form.is_journal)?t._i(t.form.is_journal,null)>-1:t._q(t.form.is_journal,1)},on:{change:function(e){var n=t.form.is_journal,r=e.target,i=r.checked?1:0;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.form,"is_journal",n.concat([null])):o>-1&&t.$set(t.form,"is_journal",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_journal",i)}}}),t._v(" Перенести журнали\n                ")])]),t._v(" "),e("p",{staticClass:"n-j-label-modal"},[t._v("\n                До класу буде додано "),t.form.checked_accesses.length>=t.showedPupils.length?e("span",[t._v("всіх учнів.")]):e("span",[t._v(t._s(t.form.checked_accesses.length)+" з "+t._s(t._f("plural")(t.showedPupils.length,["{n} учня","{n} учнів","{n} учнів"]))+".")])]),t._v(" "),e("div",{staticClass:"n-j-option-journal-wrap"},[e("ul",{staticClass:"n-j-option-journal-con"},[e("li",{staticClass:"n-j-option-journal-item n-top-item"},[e("p",{staticClass:"n-j-option-col-item",class:{"n-active":t.form.is_all_pupils},on:{click:t.selectAll}},[e("span",{staticClass:"n-j-checkbox-castom"}),e("span",{staticClass:"vo-text-bold n-option-all-li"},[t._v("\n                            "+t._s(t.form.is_all_pupils?"Обрано всіх учнів":"Обрати всіх учнів")+"\n                        ")])]),t._v(" "),e("p",{staticClass:"n-btn-arrow",class:{"n-active":t.selectPupils.show_select},on:{click:function(e){t.selectPupils.show_select=!t.selectPupils.show_select}}},[t._v("\n                            "+t._s(t.selectPupils.show_select?"Згорнути":"Відкрити")+" список учнів\n                            "),e("i",{staticClass:"n-arrow"})])])]),t._v(" "),e("transition",{attrs:{name:"vr-vue-slide"}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:t.selectPupils.show_select,expression:"selectPupils.show_select"}],staticClass:"n-j-option-journal-con"},t._l(t.showedPupils,(function(n,r){return e("li",{staticClass:"n-j-option-journal-item",class:{"n-active":t.form.checked_accesses.indexOf(n.access)>=0},on:{click:function(e){return t.selectOne(n.access)}}},[e("span",{staticClass:"n-j-checkbox-castom"}),t._v("\n                            "+t._s(n.full_name)+" "),n.is_archive?e("span",[t._v(" "),e("b",{staticClass:"vo-color-red"},[t._v("(учень в архіві)")])]):t._e()])})),0)])],1)],t._v(" "),[t.errors.length?e("div",{staticClass:"error-summary"},[e("p",[t._v("Будь ласка, виправте наступні помилки:")]),t._v(" "),e("ul",t._l(t.errors,(function(n){return e("li",[t._v(t._s(n)+";")])})),0)]):t._e(),t._v(" "),t.load.save?e("Preloader"):e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"n-modal-btn-blue n-item-row",class:{"n-btn-disabled":!t.canPreviousPupilClass&&(!t.form.title||t.is_custom&&[0,""].indexOf(t.form.class)>=0)},attrs:{type:"button"},on:{click:t.savePupilClass}},[t._v("\n                    Зберегти\n                ")]),t._v(" "),e("button",{staticClass:"n-modal-btn-silver n-item-row",attrs:{type:"button"},on:{click:function(e){t.isOlpDlgPage?t.$emit("stop-add"):t.$emit("close")}}},[t._v("\n                    Скасувати\n                ")])])]]:t._e()],2)};r._withStripped=!0;var i=n(54),o=n(1),s=n(219),a={name:"App",props:["ACTIVE_YEAR","PAGE"],components:{Preloader:i.a},filters:{plural:o.ab,classTitle:s.b},data:function(){return{load:{global:!0,pupils:!0,save:!1},selectPupils:{show_select:!1},selectClass:{is_open:!1},errors:[],pupilClasses:[],pupilClassOld:null,pupilsOld:[],pupilClassNew:null,is_custom:0,form:{title:"",class:"",is_all_pupils:0,is_journal:1,checked_accesses:[]},previous_ids:[],transfer_ids:[],can_transfer_info:[],can_previous_pupils:[],is_part_classes:!1,is_part_fixed:!1}},computed:{classes_info:function(){return JSON.parse(JSON.stringify(vo.classes))},canPreviousPupilClass:function(){var t=this;return this.pupilClassOld?this.can_transfer_info.find((function(e){return e.from_pupil_class===t.pupilClassOld.id})):null},isOlpDlgPage:function(){return"OLP_DLG"===this.PAGE},showedPupils:function(){if(!this.canPreviousPupilClass)return this.pupilsOld;var t=this.canPreviousPupilClass.from_pupil_class,e=this.can_previous_pupils.filter((function(e){return e.id_pupil_class===t})).map((function(t){return t.access}));return this.pupilsOld.filter((function(t){return e.indexOf(t.access)>=0}))},showedPupilClasses:function(){var t=this.transfer_ids;if(!this.is_part_classes)return this.pupilClasses.filter((function(e){return e.cnt_pupil>0&&!e.is_archive&&e.is_owner&&t.indexOf(e.id)<0}));var e=this.can_transfer_info.map((function(t){return t.from_pupil_class}));return this.pupilClasses.filter((function(t){return t.cnt_pupil>0&&!t.is_archive&&t.is_owner&&e.indexOf(t.id)>=0}))},PREVIOUS_YEAR:function(){return this.ACTIVE_YEAR-1},showClassLvl:function(){var t=this;return function(e){if(!e)return 0;var n=t.getNumber(e.title);return n&&n===e.class?0:e.class}},classTitle:{get:function(){return this.form.title},set:function(t){if(this.form.title=t,this.is_custom&&!this.pupilClassOld){var e=this.getNumber(t);e&&e!==this.form.class&&(this.form.class=e,this.is_custom=0)}}},isOpenPrevent:function(){return!this.pupilClassOld},showList:{get:function(){return!this.pupilClassOld||this.selectClass.is_open},set:function(t){this.isOpenPrevent?this.selectClass.is_open=!0:this.selectClass.is_open=t}},prevTransferedClass:function(){var t=this.pupilClassOld;return t?this.can_transfer_info.find((function(e){return e.from_pupil_class===t.id})):null}},methods:{startNew:function(){this.pupilClassOld=null,this.pupilClassNew=null,this.is_custom=0,this.pupilsOld=[],this.form.title="",this.form.class="",this.form.is_all_pupils=0,this.form.is_journal=1,this.form.checked_accesses=[]},selectAll:function(){this.form.checked_accesses=this.showedPupils.length>this.form.checked_accesses.length?this.showedPupils.map((function(t){return t.access})):[],this.show_select||(this.show_select=!0)},selectOne:function(t){this.form.checked_accesses.indexOf(t)>=0?this.form.checked_accesses.splice(this.form.checked_accesses.indexOf(t),1):this.form.checked_accesses.push(t)},setClassNumber:function(t){this.form.class=(this.form.class,t)},getNumber:function(t){return Object(s.a)(t)},selectPupilClassOld:function(t){if(this.selectClass.is_open=!t,!t)return this.form.is_journal=1,void(this.pupilClassOld=null);if(!this.pupilClassOld||this.pupilClassOld.id!==t.id){this.pupilClassOld=t;var e=Object(s.c)(this.pupilClassOld),n=this.can_transfer_info.find((function(e){return e.from_pupil_class===t.id}));this.is_custom=1,this.form.is_journal=n?n.from_is_journal:1,this.form.title=e?e.title:this.pupilClassOld.title,this.form.class=e?e.class:this.pupilClassOld.class,this.getPupilClass()}},savePupilClass:function(t){var e=this;if(this.errors=[],""===this.form.title)return this.pupilClassOld||(this.is_custom=0),void this.errors.push("Вкажіть назву");if(!this.pupilClassOld){var n=this.getNumber(this.form.title);if(n)this.form.class=n;else{if(!this.is_custom)return void(this.is_custom=1);if(!this.form.class)return}}var r={PupilClassNextYear:this.form,id_pupil_class:this.pupilClassOld.id,year:this.PREVIOUS_YEAR},i=new Promise((function(n,i){e.load.save=!0,vo.ajax(t,vo.url_school+"/ext/journal-v2/pupil-class-next-year",r,(function(t){if(!t||!("data"in t))return i(t);n(t.data)}))}));i.then((function(t){if(e.pupilClassNew=t.pupilClass,e.pupilClassOld&&e.transfer_ids.push(e.pupilClassOld.id),e.canPreviousPupilClass){var n=e.form.checked_accesses,r=e.can_previous_pupils.filter((function(t){return n.indexOf(t.access)<0})),i=r.map((function(t){return t.id_pupil_class})),o=e.can_transfer_info.filter((function(t){return i.indexOf(t.from_pupil_class)>=0}));e.can_previous_pupils=r,e.can_transfer_info=o,e.is_part_classes=!1}else if(!e.form.is_all_pupils){var s=t.pupilClass,a=t.pupils.filter((function(t){return t.from_pupil>0})).map((function(t){return t.from_pupil})),c=e.pupilsOld.filter((function(t){return a.indexOf(t.access)<0}));e.can_previous_pupils=c.concat(e.can_previous_pupils),e.can_transfer_info.push(s),e.is_part_classes=!1}e.$emit("add-pupil-class",t.pupilClass,t.pupils)})),i.finally((function(){return e.load.save=!1}))},getPreviousClasses:function(){var t=this,e=new Promise((function(e,n){t.load.global=!0,vo.ajax(null,vo.url_school+"/ext/journal-v2/init",{year:t.PREVIOUS_YEAR},(function(t){if(!t||!("data"in t))return n(t);e(t.data)}))}));return e.then((function(e){return t.pupilClasses=e.pupilClasses})),e.finally((function(){return t.load.global=!1})),e},getPupilClass:function(){var t=this,e=new Promise((function(e,n){t.load.pupils=!0,vo.ajax(null,vo.url_school+"/ext/journal-v2/pupil-class",{year:t.PREVIOUS_YEAR,id_pupil_class:t.pupilClassOld.id},(function(t){if(!t||!("data"in t))return n(t);e(t.data)}))}));e.then((function(e){t.pupilsOld=e.pupils,t.form.checked_accesses=t.showedPupils.filter((function(t){return!t.is_archive})).map((function(t){return t.access}))})),e.finally((function(){return t.load.pupils=!1}))}},created:function(){var t=this;this.getPreviousClasses().then((function(){vo.ajax(null,vo.url_school+"/ext/journal-v2/previous-year-info",null,(function(e){e&&"data"in e&&(t.previous_ids=e.data.previous_ids,t.transfer_ids=e.data.transfer_ids,t.can_transfer_info=e.data.can_transfer_info,t.can_previous_pupils=e.data.can_previous_pupils,t.is_part_classes||t.showedPupilClasses.length||!t.can_transfer_info.length||(t.is_part_classes=!0,t.is_part_fixed=!0))}))})),this.isOpenPrevent&&(this.selectClass.is_open=!0)},watch:{"form.checked_accesses":function(t,e){t.length>=this.showedPupils.length?this.form.is_all_pupils=1:this.form.is_all_pupils=0},is_part_classes:function(t,e){this.selectPupilClassOld(null)}}},c=n(0),l=Object(c.a)(a,r,[],!1,null,"f5bbf1d2",null);e.a=l.exports},function(t,e,n){t.exports=!n(61)&&!n(46)((function(){return 7!=Object.defineProperty(n(313)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){e.f=n(55)},function(t,e,n){var r=n(106),i=n(96),o=n(248)(!1),s=n(315)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(65),i=n(36),o=n(149);t.exports=n(61)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(96),i=n(182).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(89),i=n(47),o=n(320),s=[].slice,a={};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),c=function(){var r=n.concat(s.call(arguments));return this instanceof c?function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},function(t,e,n){var r=n(40).parseInt,i=n(205).trim,o=n(321),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(40).parseFloat,i=n(205).trim;t.exports=1/r(n(321)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(128);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(47),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(324),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),c=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<c?l*(i/c/s+1/o-1/o)*c*s:(n=(e=(1+s/o)*i)-(e-i))>a||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(36);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(89),i=n(76),o=n(224),s=n(62);t.exports=function(t,e,n,a,c){r(e);var l=i(t),u=o(l),f=s(l.length),d=c?f-1:0,h=c?-1:1;if(n<2)for(;;){if(d in u){a=u[d],d+=h;break}if(d+=h,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:f>d;d+=h)d in u&&(a=e(a,u[d],d,l));return a}},function(t,e,n){"use strict";var r=n(76),i=n(181),o=n(62);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),c=i(e,s),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?s:i(l,s))-c,s-a),f=1;for(c<a&&a<c+u&&(f=-1,c+=u-1,a+=u-1);u-- >0;)c in n?n[a]=n[c]:delete n[a],a+=f,c+=f;return n}},function(t,e,n){"use strict";var r=n(334);n(13)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(61)&&"g"!=/./g.flags&&n(65).f(RegExp.prototype,"flags",{configurable:!0,get:n(227)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(36),i=n(47),o=n(338);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(424),i=n(187),o="Map";t.exports=n(259)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(65).f,i=n(150),o=n(186),s=n(122),a=n(185),c=n(170),l=n(252),u=n(333),f=n(184),d=n(61),h=n(167).fastKey,p=n(187),v=d?"_s":"size",m=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){a(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&c(r,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),d&&r(u.prototype,"size",{get:function(){return p(this,e)[v]}}),u},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(424),i=n(187);t.exports=n(259)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(40),o=n(140)(0),s=n(108),a=n(167),c=n(318),l=n(427),u=n(47),f=n(187),d=n(187),h=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",v=a.getWeak,m=Object.isExtensible,g=l.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(u(t)){var e=v(t);return!0===e?g(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,p),t,e)}},b=t.exports=n(259)(p,y,_,l,!0,!0);d&&h&&(c((r=l.getConstructor(y,p)).prototype,_),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];s(e,t,(function(e,i){if(u(e)&&!m(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(186),i=n(167).getWeak,o=n(36),s=n(47),a=n(185),c=n(170),l=n(140),u=n(106),f=n(187),d=l(5),h=l(6),p=0,v=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},g=function(t,e){return d(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,r){a(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&c(r,n,t[o],t)}));return r(l.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&u(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){var r=n(129),i=n(62);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var r=n(250),i=n(47),o=n(62),s=n(122),a=n(55)("isConcatSpreadable");t.exports=function t(e,n,c,l,u,f,d,h){for(var p,v,m=u,g=0,y=!!d&&s(d,h,3);g<l;){if(g in c){if(p=y?y(c[g],g,n):c[g],v=!1,i(p)&&(v=void 0!==(v=p[a])?!!v:r(p)),v&&f>0)m=t(e,n,p,o(p.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=p}m++}g++}return m}},function(t,e,n){var r=n(62),i=n(323),o=n(138);t.exports=function(t,e,n,s){var a=String(o(t)),c=a.length,l=void 0===n?" ":String(n),u=r(e);if(u<=c||""==l)return a;var f=u-c,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),s?d+a:a+d}},function(t,e,n){var r=n(61),i=n(149),o=n(96),s=n(225).f;t.exports=function(t){return function(e){for(var n,a=o(e),c=i(a),l=c.length,u=0,f=[];l>u;)n=c[u++],r&&!s.call(a,n)||f.push(t?[n,a[n]]:a[n]);return f}}},function(t,e,n){var r=n(168),i=n(433);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(170);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){var r=n(168),i=n(55)("iterator"),o=n(183);t.exports=n(95).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(437),i=n(320),o=n(89);t.exports=function(){for(var t=o(this),e=arguments.length,n=new Array(e),s=0,a=r._,c=!1;e>s;)(n[s]=arguments[s++])===a&&(c=!0);return function(){var r,o=arguments.length,s=0,l=0;if(!c&&!o)return i(t,n,this);if(r=n.slice(),c)for(;e>s;s++)r[s]===a&&(r[s]=arguments[l++]);for(;o>l;)r.push(arguments[l++]);return i(t,r,this)}}},function(t,e,n){t.exports=n(40)},function(t,e,n){var r=n(65),i=n(109),o=n(340),s=n(96);t.exports=function(t,e){for(var n,a=o(s(e)),c=a.length,l=0;c>l;)r.f(t,n=a[l++],i.f(e,n));return t}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&h())}function h(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(441);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){},function(t,e){(function(){"use strict";var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,i=window.Document.prototype.append,o=window.DocumentFragment.prototype.prepend,s=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,c=window.Node.prototype.appendChild,l=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,f=window.Node.prototype.replaceChild,d=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),h=window.Element.prototype.attachShadow,p=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),v=window.Element.prototype.getAttribute,m=window.Element.prototype.setAttribute,g=window.Element.prototype.removeAttribute,y=window.Element.prototype.toggleAttribute,_=window.Element.prototype.getAttributeNS,b=window.Element.prototype.setAttributeNS,w=window.Element.prototype.removeAttributeNS,k=window.Element.prototype.insertAdjacentElement,x=window.Element.prototype.insertAdjacentHTML,S=window.Element.prototype.prepend,C=window.Element.prototype.append,O=window.Element.prototype.before,E=window.Element.prototype.after,P=window.Element.prototype.replaceWith,A=window.Element.prototype.remove,T=window.HTMLElement,j=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),M=window.HTMLElement.prototype.insertAdjacentElement,I=window.HTMLElement.prototype.insertAdjacentHTML,N=new Set;function R(t){var e=N.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return N.add(t)}));var D=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function L(t){var e=t.isConnected;if(void 0!==e)return e;if(D(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function B(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function $(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function F(t,e,n){for(var r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var i=r;e(i);var o=i.localName;if("link"===o&&"import"===i.getAttribute("rel")){if(r=i.import,void 0===n&&(n=new Set),r instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)F(r,e,n);r=$(t,i);continue}if("template"===o){r=$(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)F(i,e,n)}r=r.firstChild?r.firstChild:$(t,r)}}function q(){var t=!(null==ct||!ct.noDocumentConstructionObserver),e=!(null==ct||!ct.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=e,this.I=!t}function U(t,e,n,r){var i=window.ShadyDOM;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else F(e,n,r)}function V(t,e){t.j&&U(t,e,(function(e){return z(t,e)}))}function z(t,e){if(t.j&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.m.length;n++)t.m[n](e);for(n=0;n<t.g.length;n++)t.g[n](e)}}function H(t,e){var n=[];for(U(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):G(t,r)}}function W(t,e){var n=[];for(U(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function Y(t,e,n){var r=(n=void 0===n?{}:n).J,i=n.upgrade||function(e){return G(t,e)},o=[];for(U(t,e,(function(e){if(t.j&&z(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var o=new Set;r&&(r.forEach((function(t){return o.add(t)})),o.delete(n)),Y(t,n,{J:o,upgrade:i})}}))}else o.push(e)}),r),e=0;e<o.length;e++)i(o[e])}function G(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,i=r&&(n.defaultView||n.__CE_isImportDocument)?it(r,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var o=i.observedAttributes;for(i=0;i<o.length;i++){var s=o[i],a=e.getAttribute(s);null!==a&&t.attributeChangedCallback(e,s,null,a,null)}}L(e)&&t.connectedCallback(e)}}catch(t){K(t)}}function J(n,r,i,o){var s=r.__CE_registry;if(s&&(null===o||"http://www.w3.org/1999/xhtml"===o)&&(s=it(s,i)))try{var a=new s.constructorFunction;if(void 0===a.__CE_state||void 0===a.__CE_definition)throw Error("Failed to construct '"+i+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==a.namespaceURI)throw Error("Failed to construct '"+i+"': The constructed element's namespace must be the HTML namespace.");if(a.hasAttributes())throw Error("Failed to construct '"+i+"': The constructed element must not have any attributes.");if(null!==a.firstChild)throw Error("Failed to construct '"+i+"': The constructed element must not have any children.");if(null!==a.parentNode)throw Error("Failed to construct '"+i+"': The constructed element must not have a parent node.");if(a.ownerDocument!==r)throw Error("Failed to construct '"+i+"': The constructed element's owner document is incorrect.");if(a.localName!==i)throw Error("Failed to construct '"+i+"': The constructed element's local name is incorrect.");return a}catch(s){return K(s),r=null===o?t.call(r,i):e.call(r,o,i),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,z(n,r),r}return z(n,r=null===o?t.call(r,i):e.call(r,o,i)),r}function K(t){var e="",n="",r=0,i=0;t instanceof Error?(e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0):e="Uncaught "+String(t);var o=void 0;void 0===ErrorEvent.prototype.initErrorEvent?o=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((o=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),o.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===o.error&&Object.defineProperty(o,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(o),o.defaultPrevented||console.error(t)}function Q(){var t=this;this.g=void 0,this.F=new Promise((function(e){t.l=e}))}function X(t){var e=document;this.l=void 0,this.h=t,this.g=e,Y(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Z(t){t.l&&t.l.disconnect()}function tt(t){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(t){return t()},this.i=!1,this.v=[],this.h=t,this.D=t.I?new X(t):void 0}function et(t,e){if(!R(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(it(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.A)throw Error("A custom element is already being defined.")}function nt(t,e,n){var r;t.A=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var o=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},s=o("connectedCallback"),a=o("disconnectedCallback"),c=o("adoptedCallback"),l=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.A=!1}return n={localName:e,constructorFunction:n,connectedCallback:s,disconnectedCallback:a,adoptedCallback:c,attributeChangedCallback:r,observedAttributes:l,constructionStack:[]},t.u.set(e,n),t.C.set(n.constructorFunction,n),n}function rt(t){if(!1!==t.i){t.i=!1;for(var e=[],n=t.v,r=new Map,i=0;i<n.length;i++)r.set(n[i],[]);for(Y(t.h,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,o=r.get(i);o?o.push(n):t.u.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)G(t.h,e[i]);for(i=0;i<n.length;i++){for(var o=n[i],s=r.get(o),a=0;a<s.length;a++)G(t.h,s[a]);(o=t.B.get(o))&&o.resolve(void 0)}n.length=0}}function it(t,e){var n=t.u.get(e);if(n)return n;if(n=t.s.get(e)){t.s.delete(e);try{return nt(t,e,n())}catch(t){K(t)}}}function ot(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],s=0;s<r.length;s++){var a=r[s];if(a instanceof Element&&L(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)i.push(a);else i.push(a)}for(e.apply(this,r),r=0;r<o.length;r++)W(t,o[r]);if(L(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&H(t,o)}}void 0!==n.prepend&&(e.prepend=r(n.prepend)),void 0!==n.append&&(e.append=r(n.append))}function st(t){function n(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(L(this)&&(i=[],U(t,this,(function(t){t!==r&&i.push(t)}))),n.set.call(this,e),i)for(var o=0;o<i.length;o++){var s=i[o];1===s.__CE_state&&t.disconnectedCallback(s)}return this.ownerDocument.__CE_registry?Y(t,this):V(t,this),e}})}function r(e,n){e.insertAdjacentElement=function(e,r){var i=L(r);return e=n.call(this,e,r),i&&W(t,r),L(e)&&H(t,r),e}}function i(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)Y(t,r[n])}e.insertAdjacentHTML=function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),r(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),r(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),r(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),r(this.nextSibling,i)}}}h&&(Element.prototype.attachShadow=function(e){if(e=h.call(this,e),t.j&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.m.length;n++)t.m[n](e)}return this.__CE_shadowRoot=e}),p&&p.get?n(Element.prototype,p):j&&j.get?n(HTMLElement.prototype,j):function(t,e){t.j=!0,t.g.push(e)}(t,(function(t){n(t,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(t){var n="template"===this.localName,r=n?this.content:this,i=e.call(document,this.namespaceURI,this.localName);for(i.innerHTML=t;0<r.childNodes.length;)u.call(r,r.childNodes[0]);for(t=n?i.content:i;0<t.childNodes.length;)c.call(r,t.childNodes[0])}})})),Element.prototype.setAttribute=function(e,n){if(1!==this.__CE_state)return m.call(this,e,n);var r=v.call(this,e);m.call(this,e,n),n=v.call(this,e),t.attributeChangedCallback(this,e,r,n,null)},Element.prototype.setAttributeNS=function(e,n,r){if(1!==this.__CE_state)return b.call(this,e,n,r);var i=_.call(this,e,n);b.call(this,e,n,r),r=_.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)},Element.prototype.removeAttribute=function(e){if(1!==this.__CE_state)return g.call(this,e);var n=v.call(this,e);g.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)},y&&(Element.prototype.toggleAttribute=function(e,n){if(1!==this.__CE_state)return y.call(this,e,n);var r=v.call(this,e);return null!==r!==(n=y.call(this,e,n))&&t.attributeChangedCallback(this,e,r,n?"":null,null),n}),Element.prototype.removeAttributeNS=function(e,n){if(1!==this.__CE_state)return w.call(this,e,n);var r=_.call(this,e,n);w.call(this,e,n);var i=_.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)},M?r(HTMLElement.prototype,M):k&&r(Element.prototype,k),I?i(HTMLElement.prototype,I):x&&i(Element.prototype,x),ot(t,Element.prototype,{prepend:S,append:C}),function(t){function e(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var o=[],s=0;s<r.length;s++){var a=r[s];if(a instanceof Element&&L(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)i.push(a);else i.push(a)}for(e.apply(this,r),r=0;r<o.length;r++)W(t,o[r]);if(L(this))for(r=0;r<i.length;r++)(o=i[r])instanceof Element&&H(t,o)}}var n=Element.prototype;void 0!==O&&(n.before=e(O)),void 0!==E&&(n.after=e(E)),void 0!==P&&(n.replaceWith=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var i=[],o=0;o<n.length;o++){var s=n[o];if(s instanceof Element&&L(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)r.push(s);else r.push(s)}for(o=L(this),P.apply(this,n),n=0;n<i.length;n++)W(t,i[n]);if(o)for(W(t,this),n=0;n<r.length;n++)(i=r[n])instanceof Element&&H(t,i)}),void 0!==A&&(n.remove=function(){var e=L(this);A.call(this),e&&W(t,this)})}(t)}q.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){K(t)}},q.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){K(t)}},q.prototype.attributeChangedCallback=function(t,e,n,r,i){var o=t.__CE_definition;if(o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e))try{o.attributeChangedCallback.call(t,e,n,r,i)}catch(t){K(t)}},Q.prototype.resolve=function(t){if(this.g)throw Error("Already resolved.");this.g=t,this.l(t)},X.prototype.G=function(t){var e=this.g.readyState;for("interactive"!==e&&"complete"!==e||Z(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)Y(this.h,n[r])},tt.prototype.H=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");et(this,t),this.s.set(t,e),this.v.push(t),this.i||(this.i=!0,this.o((function(){return rt(n)})))},tt.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");et(this,t),nt(this,t,e),this.v.push(t),this.i||(this.i=!0,this.o((function(){return rt(n)})))},tt.prototype.upgrade=function(t){Y(this.h,t)},tt.prototype.get=function(t){if(t=it(this,t))return t.constructorFunction},tt.prototype.whenDefined=function(t){if(!R(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.B.get(t);if(e)return e.F;e=new Q,this.B.set(t,e);var n=this.u.has(t)||this.s.has(t);return t=-1===this.v.indexOf(t),n&&t&&e.resolve(void 0),e.F},tt.prototype.polyfillWrapFlushCallback=function(t){this.D&&Z(this.D);var e=this.o;this.o=function(n){return t((function(){return e(n)}))}},tt.prototype.define=tt.prototype.define,tt.prototype.upgrade=tt.prototype.upgrade,tt.prototype.get=tt.prototype.get,tt.prototype.whenDefined=tt.prototype.whenDefined,tt.prototype.polyfillDefineLazy=tt.prototype.H,tt.prototype.polyfillWrapFlushCallback=tt.prototype.polyfillWrapFlushCallback;var at={};var ct=window.customElements;function lt(){var e=new q;!function(e){function n(){var n=this.constructor,r=document.__CE_registry.C.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var i=r.constructionStack;if(0===i.length)return i=t.call(document,r.localName),Object.setPrototypeOf(i,n.prototype),i.__CE_state=1,i.__CE_definition=r,z(e,i),i;var o=i.length-1,s=i[o];if(s===at)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return i[o]=at,Object.setPrototypeOf(s,n.prototype),z(e,s),s}n.prototype=T.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(e),function(t){Document.prototype.createElement=function(e){return J(t,this,e,null)},Document.prototype.importNode=function(e,r){return e=n.call(this,e,!!r),this.__CE_registry?Y(t,e):V(t,e),e},Document.prototype.createElementNS=function(e,n){return J(t,this,n,e)},ot(t,Document.prototype,{prepend:r,append:i})}(e),ot(e,DocumentFragment.prototype,{prepend:o,append:s}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,o=i.length;if(0<o&&L(this)){r=Array(o);for(var s=0;s<o;s++)r[s]=i[s]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)W(t,r[e])}}})}Node.prototype.insertBefore=function(e,n){if(e instanceof DocumentFragment){var r=B(e);if(e=l.call(this,e,n),L(this))for(n=0;n<r.length;n++)H(t,r[n]);return e}return r=e instanceof Element&&L(e),n=l.call(this,e,n),r&&W(t,e),L(this)&&H(t,e),n},Node.prototype.appendChild=function(e){if(e instanceof DocumentFragment){var n=B(e);if(e=c.call(this,e),L(this))for(var r=0;r<n.length;r++)H(t,n[r]);return e}return n=e instanceof Element&&L(e),r=c.call(this,e),n&&W(t,e),L(this)&&H(t,e),r},Node.prototype.cloneNode=function(e){return e=a.call(this,!!e),this.ownerDocument.__CE_registry?Y(t,e):V(t,e),e},Node.prototype.removeChild=function(e){var n=e instanceof Element&&L(e),r=u.call(this,e);return n&&W(t,e),r},Node.prototype.replaceChild=function(e,n){if(e instanceof DocumentFragment){var r=B(e);if(e=f.call(this,e,n),L(this))for(W(t,n),n=0;n<r.length;n++)H(t,r[n]);return e}r=e instanceof Element&&L(e);var i=f.call(this,e,n),o=L(this);return o&&W(t,n),r&&W(t,e),o&&H(t,e),i},d&&d.get?e(Node.prototype,d):function(t,e){t.j=!0,t.m.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)u.call(this,this.firstChild);null!=t&&""!==t&&c.call(this,document.createTextNode(t))}})}))}(e),st(e),window.CustomElementRegistry=tt,e=new tt(e),document.__CE_registry=e,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:e})}ct&&!ct.forcePolyfill&&"function"==typeof ct.define&&"function"==typeof ct.get||lt(),window.__CE_installPolyfill=lt}).call(self)},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(){"use strict";var t={8741:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.default=n},3976:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(2839),i={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,e){return"function"==typeof e.onBeforeMask?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[r.keys.Backspace,r.keys.Tab,r.keys.Pause,r.keys.Escape,r.keys.PageUp,r.keys.PageDown,r.keys.End,r.keys.Home,r.keys.ArrowLeft,r.keys.ArrowUp,r.keys.ArrowRight,r.keys.ArrowDown,r.keys.Insert,r.keys.Delete,r.keys.ContextMenu,r.keys.F1,r.keys.F2,r.keys.F3,r.keys.F4,r.keys.F5,r.keys.F6,r.keys.F7,r.keys.F8,r.keys.F9,r.keys.F10,r.keys.F11,r.keys.F12,r.keys.Process,r.keys.Unidentified,r.keys.Shift,r.keys.Control,r.keys.Alt,r.keys.Tab,r.keys.AltGraph,r.keys.CapsLock],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};e.default=i},7392:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(void 0===n)return t.__data?t.__data[e]:null;t.__data=t.__data||{},t.__data[e]=n}},3776:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0,e.off=function(t,e){var n,r;return f(this[0])&&t&&(n=this[0].eventRegistry,r=this[0],t.split(" ").forEach((function(t){var i=c(t.split("."),2);(function(t,r){var i,o,s=[];if(t.length>0)if(void 0===e)for(i=0,o=n[t][r].length;i<o;i++)s.push({ev:t,namespace:r&&r.length>0?r:"global",handler:n[t][r][i]});else s.push({ev:t,namespace:r&&r.length>0?r:"global",handler:e});else if(r.length>0)for(var a in n)for(var c in n[a])if(c===r)if(void 0===e)for(i=0,o=n[a][c].length;i<o;i++)s.push({ev:a,namespace:c,handler:n[a][c][i]});else s.push({ev:a,namespace:c,handler:e});return s})(i[0],i[1]).forEach((function(t){var e=t.ev,i=t.handler;!function(t,e,i){if(t in n==1)if(r.removeEventListener?r.removeEventListener(t,i,!1):r.detachEvent&&r.detachEvent("on".concat(t),i),"global"===e)for(var o in n[t])n[t][o].splice(n[t][o].indexOf(i),1);else n[t][e].splice(n[t][e].indexOf(i),1)}(e,t.namespace,i)}))}))),this},e.on=function(t,e){if(f(this[0])){var n=this[0].eventRegistry,r=this[0];t.split(" ").forEach((function(t){var i=c(t.split("."),2),o=i[0],s=i[1];!function(t,i){r.addEventListener?r.addEventListener(t,e,!1):r.attachEvent&&r.attachEvent("on".concat(t),e),n[t]=n[t]||{},n[t][i]=n[t][i]||[],n[t][i].push(e)}(o,void 0===s?"global":s)}))}return this},e.trigger=function(t){var e=arguments;if(f(this[0]))for(var n=this[0].eventRegistry,r=this[0],o="string"==typeof t?t.split(" "):[t.type],a=0;a<o.length;a++){var c=o[a].split("."),l=c[0],u=c[1]||"global";if(void 0!==document&&"global"===u){var d,h={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(document.createEvent){try{"input"===l?(h.inputType="insertText",d=new InputEvent(l,h)):d=new CustomEvent(l,h)}catch(t){(d=document.createEvent("CustomEvent")).initCustomEvent(l,h.bubbles,h.cancelable,h.detail)}t.type&&(0,i.default)(d,t),r.dispatchEvent(d)}else(d=document.createEventObject()).eventType=l,d.detail=arguments[1],t.type&&(0,i.default)(d,t),r.fireEvent("on"+d.eventType,d)}else if(void 0!==n[l]){arguments[0]=arguments[0].type?arguments[0]:s.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var p=n[l];("global"===u?Object.values(p).flat():p[u]).forEach((function(t){return t.apply(r,e)}))}}return this};var r,i=u(n(600)),o=u(n(9380)),s=u(n(4963)),a=u(n(8741));function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return t&&t.__esModule?t:{default:t}}function f(t){return t instanceof Element}e.Event=r,"function"==typeof o.default.CustomEvent?e.Event=r=o.default.CustomEvent:a.default&&(e.Event=r=function(t,e){e=e||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},r.prototype=o.default.Event.prototype)},600:function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(){var e,r,i,o,s,a,c=arguments[0]||{},l=1,u=arguments.length,f=!1;for("boolean"==typeof c&&(f=c,c=arguments[l]||{},l++),"object"!==n(c)&&"function"!=typeof c&&(c={});l<u;l++)if(null!=(e=arguments[l]))for(r in e)i=c[r],c!==(o=e[r])&&(f&&o&&("[object Object]"===Object.prototype.toString.call(o)||(s=Array.isArray(o)))?(s?(s=!1,a=i&&Array.isArray(i)?i:[]):a=i&&"[object Object]"===Object.prototype.toString.call(i)?i:{},c[r]=t(f,a,o)):void 0!==o&&(c[r]=o));return c}},4963:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(600)),i=a(n(9380)),o=a(n(253)),s=n(3776);function a(t){return t&&t.__esModule?t:{default:t}}var c=i.default.document;function l(t){return t instanceof l?t:this instanceof l?void(null!=t&&t!==i.default&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:c.querySelector(t),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new l(t)}l.prototype={on:s.on,off:s.off,trigger:s.trigger},l.extend=r.default,l.data=o.default,l.Event=s.Event;var u=l;e.default=u},9845:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.mobile=e.iphone=e.ie=void 0;var r,i=(r=n(9380))&&r.__esModule?r:{default:r},o=i.default.navigator&&i.default.navigator.userAgent||"",s=o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0,a=navigator.userAgentData&&navigator.userAgentData.mobile||i.default.navigator&&i.default.navigator.maxTouchPoints||"ontouchstart"in i.default,c=/iphone/i.test(o);e.iphone=c,e.mobile=a,e.ie=s},7184:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(n,"\\$1")};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlers=void 0;var r=n(8711),i=n(2839),o=n(9845),s=n(7215),a=n(7760),c=n(4713);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f={keyEvent:function(t,e,n,l,u){var d=this.inputmask,h=d.opts,p=d.dependencyLib,v=d.maskset,m=this,g=p(m),y=t.key,_=r.caret.call(d,m),b=h.onKeyDown.call(this,t,r.getBuffer.call(d),_,h);if(void 0!==b)return b;if(y===i.keys.Backspace||y===i.keys.Delete||o.iphone&&y===i.keys.BACKSPACE_SAFARI||t.ctrlKey&&y===i.keys.x&&!("oncut"in m))t.preventDefault(),s.handleRemove.call(d,m,y,_),(0,a.writeBuffer)(m,r.getBuffer.call(d,!0),v.p,t,m.inputmask._valueGet()!==r.getBuffer.call(d).join(""));else if(y===i.keys.End||y===i.keys.PageDown){t.preventDefault();var w=r.seekNext.call(d,r.getLastValidPosition.call(d));r.caret.call(d,m,t.shiftKey?_.begin:w,w,!0)}else y===i.keys.Home&&!t.shiftKey||y===i.keys.PageUp?(t.preventDefault(),r.caret.call(d,m,0,t.shiftKey?_.begin:0,!0)):h.undoOnEscape&&y===i.keys.Escape&&!0!==t.altKey?((0,a.checkVal)(m,!0,!1,d.undoValue.split("")),g.trigger("click")):y!==i.keys.Insert||t.shiftKey||t.ctrlKey||void 0!==d.userOptions.insertMode?!0===h.tabThrough&&y===i.keys.Tab?!0===t.shiftKey?(_.end=r.seekPrevious.call(d,_.end,!0),!0===c.getTest.call(d,_.end-1).match.static&&_.end--,_.begin=r.seekPrevious.call(d,_.end,!0),_.begin>=0&&_.end>0&&(t.preventDefault(),r.caret.call(d,m,_.begin,_.end))):(_.begin=r.seekNext.call(d,_.begin,!0),_.end=r.seekNext.call(d,_.begin,!0),_.end<v.maskLength&&_.end--,_.begin<=v.maskLength&&(t.preventDefault(),r.caret.call(d,m,_.begin,_.end))):t.shiftKey||h.insertModeVisual&&!1===h.insertMode&&(y===i.keys.ArrowRight?setTimeout((function(){var t=r.caret.call(d,m);r.caret.call(d,m,t.begin)}),0):y===i.keys.ArrowLeft&&setTimeout((function(){var t=r.translatePosition.call(d,m.inputmask.caretPos.begin);r.translatePosition.call(d,m.inputmask.caretPos.end),d.isRTL?r.caret.call(d,m,t+(t===v.maskLength?0:1)):r.caret.call(d,m,t-(0===t?0:1))}),0)):s.isSelection.call(d,_)?h.insertMode=!h.insertMode:(h.insertMode=!h.insertMode,r.caret.call(d,m,_.begin,_.begin));return d.isComposing=y==i.keys.Process||y==i.keys.Unidentified,d.ignorable=h.ignorables.includes(y),f.keypressEvent.call(this,t,e,n,l,u)},keypressEvent:function(t,e,n,o,c){var l=this.inputmask||this,u=l.opts,f=l.dependencyLib,d=l.maskset,h=l.el,p=f(h),v=t.key;if(!0===e||t.ctrlKey&&t.altKey||!(t.ctrlKey||t.metaKey||l.ignorable)){if(v){var m,g=e?{begin:c,end:c}:r.caret.call(l,h);v=u.substitutes[v]||v,d.writeOutBuffer=!0;var y=s.isValid.call(l,g,v,o,void 0,void 0,void 0,e);if(!1!==y&&(r.resetMaskSet.call(l,!0),m=void 0!==y.caret?y.caret:r.seekNext.call(l,y.pos.begin?y.pos.begin:y.pos),d.p=m),m=u.numericInput&&void 0===y.caret?r.seekPrevious.call(l,m):m,!1!==n&&(setTimeout((function(){u.onKeyValidation.call(h,v,y)}),0),d.writeOutBuffer&&!1!==y)){var _=r.getBuffer.call(l);(0,a.writeBuffer)(h,_,m,t,!0!==e)}if(t.preventDefault(),e)return!1!==y&&(y.forwardPosition=m),y}}else v===i.keys.Enter&&l.undoValue!==l._valueGet(!0)&&(l.undoValue=l._valueGet(!0),setTimeout((function(){p.trigger("change")}),0))},pasteEvent:function(t){var e,n=this.inputmask,i=n.opts,o=n._valueGet(!0),s=r.caret.call(n,this);n.isRTL&&(e=s.end,s.end=r.translatePosition.call(n,s.begin),s.begin=r.translatePosition.call(n,e));var c=o.substr(0,s.begin),u=o.substr(s.end,o.length);if(c==(n.isRTL?r.getBufferTemplate.call(n).slice().reverse():r.getBufferTemplate.call(n)).slice(0,s.begin).join("")&&(c=""),u==(n.isRTL?r.getBufferTemplate.call(n).slice().reverse():r.getBufferTemplate.call(n)).slice(s.end).join("")&&(u=""),window.clipboardData&&window.clipboardData.getData)o=c+window.clipboardData.getData("Text")+u;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;o=c+t.clipboardData.getData("text/plain")+u}var f=o;if(n.isRTL){f=f.split("");var d,h=l(r.getBufferTemplate.call(n));try{for(h.s();!(d=h.n()).done;){var p=d.value;f[0]===p&&f.shift()}}catch(t){h.e(t)}finally{h.f()}f=f.join("")}if("function"==typeof i.onBeforePaste){if(!1===(f=i.onBeforePaste.call(n,f,i)))return!1;f||(f=o)}(0,a.checkVal)(this,!0,!1,f.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var e,n=this.inputmask,s=n.opts,l=n.dependencyLib,u=this,d=u.inputmask._valueGet(!0),h=(n.isRTL?r.getBuffer.call(n).slice().reverse():r.getBuffer.call(n)).join(""),p=r.caret.call(n,u,void 0,void 0,!0);if(h!==d){if(e=function(t,e,i){for(var o,a,l,u=t.substr(0,i.begin).split(""),f=t.substr(i.begin).split(""),d=e.substr(0,i.begin).split(""),h=e.substr(i.begin).split(""),p=u.length>=d.length?u.length:d.length,v=f.length>=h.length?f.length:h.length,m="",g=[],y="~";u.length<p;)u.push(y);for(;d.length<p;)d.push(y);for(;f.length<v;)f.unshift(y);for(;h.length<v;)h.unshift(y);var _=u.concat(f),b=d.concat(h);for(a=0,o=_.length;a<o;a++)switch(l=c.getPlaceholder.call(n,r.translatePosition.call(n,a)),m){case"insertText":b[a-1]===_[a]&&i.begin==_.length-1&&g.push(_[a]),a=o;break;case"insertReplacementText":case"deleteContentBackward":_[a]===y?i.end++:a=o;break;default:_[a]!==b[a]&&(_[a+1]!==y&&_[a+1]!==l&&void 0!==_[a+1]||(b[a]!==l||b[a+1]!==y)&&b[a]!==y?b[a+1]===y&&b[a]===_[a+1]?(m="insertText",g.push(_[a]),i.begin--,i.end--):_[a]!==l&&_[a]!==y&&(_[a+1]===y||b[a]!==_[a]&&b[a+1]===_[a+1])?(m="insertReplacementText",g.push(_[a]),i.begin--):_[a]===y?(m="deleteContentBackward",(r.isMask.call(n,r.translatePosition.call(n,a),!0)||b[a]===s.radixPoint)&&i.end++):a=o:(m="insertText",g.push(_[a]),i.begin--,i.end--))}return{action:m,data:g,caret:i}}(d,h,p),(u.inputmask.shadowRoot||u.ownerDocument).activeElement!==u&&u.focus(),(0,a.writeBuffer)(u,r.getBuffer.call(n)),r.caret.call(n,u,p.begin,p.end,!0),!o.mobile&&n.skipNextInsert&&"insertText"===t.inputType&&"insertText"===e.action&&n.isComposing)return!1;switch("insertCompositionText"===t.inputType&&"insertText"===e.action&&n.isComposing?n.skipNextInsert=!0:n.skipNextInsert=!1,e.action){case"insertText":case"insertReplacementText":e.data.forEach((function(t,e){var r=new l.Event("keypress");r.key=t,n.ignorable=!1,f.keypressEvent.call(u,r)})),setTimeout((function(){n.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var v=new l.Event("keydown");v.key=i.keys.Backspace,f.keyEvent.call(u,v);break;default:(0,a.applyInputValue)(u,d),r.caret.call(n,u,p.begin,p.end,!0)}t.preventDefault()}},setValueEvent:function(t){var e=this.inputmask,n=this,i=t&&t.detail?t.detail[0]:arguments[1];void 0===i&&(i=n.inputmask._valueGet(!0)),(0,a.applyInputValue)(n,i),(t.detail&&void 0!==t.detail[1]||void 0!==arguments[2])&&r.caret.call(e,n,t.detail?t.detail[1]:arguments[2])},focusEvent:function(t){var e=this.inputmask,n=e.opts,i=null==e?void 0:e._valueGet();n.showMaskOnFocus&&i!==r.getBuffer.call(e).join("")&&(0,a.writeBuffer)(this,r.getBuffer.call(e),r.seekNext.call(e,r.getLastValidPosition.call(e))),!0!==n.positionCaretOnTab||!1!==e.mouseEnter||s.isComplete.call(e,r.getBuffer.call(e))&&-1!==r.getLastValidPosition.call(e)||f.clickEvent.apply(this,[t,!0]),e.undoValue=null==e?void 0:e._valueGet(!0)},invalidEvent:function(t){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,e=t.opts,n=this;t.mouseEnter=!1,e.clearMaskOnLostFocus&&(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n&&(0,a.HandleNativePlaceholder)(n,t.originalPlaceholder)},clickEvent:function(t,e){var n=this.inputmask;n.clicked++;var i=this;if((i.inputmask.shadowRoot||i.ownerDocument).activeElement===i){var o=r.determineNewCaretPosition.call(n,r.caret.call(n,i),e);void 0!==o&&r.caret.call(n,i,o)}},cutEvent:function(t){var e=this.inputmask,n=e.maskset,o=this,c=r.caret.call(e,o),l=e.isRTL?r.getBuffer.call(e).slice(c.end,c.begin):r.getBuffer.call(e).slice(c.begin,c.end),u=e.isRTL?l.reverse().join(""):l.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(u):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",u),s.handleRemove.call(e,o,i.keys.Delete,c),(0,a.writeBuffer)(o,r.getBuffer.call(e),n.p,t,e.undoValue!==e._valueGet(!0))},blurEvent:function(t){var e=this.inputmask,n=e.opts,i=e.dependencyLib;e.clicked=0;var o=i(this),c=this;if(c.inputmask){(0,a.HandleNativePlaceholder)(c,e.originalPlaceholder);var l=c.inputmask._valueGet(),u=r.getBuffer.call(e).slice();""!==l&&(n.clearMaskOnLostFocus&&(-1===r.getLastValidPosition.call(e)&&l===r.getBufferTemplate.call(e).join("")?u=[]:a.clearOptionalTail.call(e,u)),!1===s.isComplete.call(e,u)&&(setTimeout((function(){o.trigger("incomplete")}),0),n.clearIncomplete&&(r.resetMaskSet.call(e),u=n.clearMaskOnLostFocus?[]:r.getBufferTemplate.call(e).slice())),(0,a.writeBuffer)(c,u,void 0,t)),e.undoValue!==e._valueGet(!0)&&(e.undoValue=e._valueGet(!0),o.trigger("change"))}},mouseenterEvent:function(){var t=this.inputmask,e=t.opts.showMaskOnHover,n=this;if(t.mouseEnter=!0,(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n){var i=(t.isRTL?r.getBufferTemplate.call(t).slice().reverse():r.getBufferTemplate.call(t)).join("");e&&(0,a.HandleNativePlaceholder)(n,i)}},submitEvent:function(){var t=this.inputmask,e=t.opts;t.undoValue!==t._valueGet(!0)&&t.$el.trigger("change"),-1===r.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===r.getBufferTemplate.call(t).join("")&&t._valueSet(""),e.clearIncomplete&&!1===s.isComplete.call(t,r.getBuffer.call(t))&&t._valueSet(""),e.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout((function(){(0,a.writeBuffer)(t.el,r.getBuffer.call(t))}),0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout((function(){(0,a.applyInputValue)(t.el,t._valueGet(!0))}),0)}};e.EventHandlers=f},9716:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.EventRuler=void 0;var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(2839),s=n(8711),a=n(7760),c={on:function(t,e,n){var r=t.inputmask.dependencyLib,c=function(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var c,l=this,u=l.inputmask,f=u?u.opts:void 0;if(void 0===u&&"FORM"!==this.nodeName){var d=r.data(l,"_inputmask_opts");r(l).off(),d&&new i.default(d).mask(l)}else{if(["submit","reset","setvalue"].includes(e.type)||"FORM"===this.nodeName||!(l.disabled||l.readOnly&&!("keydown"===e.type&&e.ctrlKey&&e.key===o.keys.c||!1===f.tabThrough&&e.key===o.keys.Tab))){switch(e.type){case"input":if(!0===u.skipInputEvent)return u.skipInputEvent=!1,e.preventDefault();break;case"click":case"focus":return u.validationEvent?(u.validationEvent=!1,t.blur(),(0,a.HandleNativePlaceholder)(t,(u.isRTL?s.getBufferTemplate.call(u).slice().reverse():s.getBufferTemplate.call(u)).join("")),setTimeout((function(){t.focus()}),f.validationEventTimeOut),!1):(c=arguments,void setTimeout((function(){t.inputmask&&n.apply(l,c)}),0))}var h=n.apply(l,arguments);return!1===h&&(e.preventDefault(),e.stopPropagation()),h}e.preventDefault()}};["submit","reset"].includes(e)?(c=c.bind(t),null!==t.form&&r(t.form).on(e,c)):r(t).on(e,c),t.inputmask.events[e]=t.inputmask.events[e]||[],t.inputmask.events[e].push(c)},off:function(t,e){if(t.inputmask&&t.inputmask.events){var n=t.inputmask.dependencyLib,r=t.inputmask.events;for(var i in e&&((r=[])[e]=t.inputmask.events[e]),r){for(var o=r[i];o.length>0;){var s=o.pop();["submit","reset"].includes(i)?null!==t.form&&n(t.form).off(i,s):n(t).off(i,s)}delete t.inputmask.events[i]}}}};e.EventRuler=c},219:function(t,e,n){var r=d(n(2394)),i=n(2839),o=d(n(7184)),s=n(8711),a=n(4713);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r.key,"string"),"symbol"===u(i)?i:String(i)),r)}var i}function d(t){return t&&t.__esModule?t:{default:t}}var h=r.default.dependencyLib,p=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mask=e,this.format=n,this.opts=r,this._date=new Date(1,0,1),this.initDateObject(e,this.opts)}var e,n,r;return e=t,(n=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(t,e){var n;for(k(e).lastIndex=0;n=k(e).exec(this.format);){var r=new RegExp("\\d+$").exec(n[0]),i=r?n[0][0]+"x":n[0],o=void 0;if(void 0!==t){if(r){var s=k(e).lastIndex,a=P(n.index,e);k(e).lastIndex=s,o=t.slice(0,t.indexOf(a.nextMatch[0]))}else o=t.slice(0,g[i]&&g[i][4]||i.length);t=t.slice(o.length)}Object.prototype.hasOwnProperty.call(g,i)&&this.setValue(this,o,i,g[i][2],g[i][1])}}},{key:"setValue",value:function(t,e,n,r,i){if(void 0!==e&&(t[r]="ampm"===r?e:e.replace(/[^0-9]/g,"0"),t["raw"+r]=e.replace(/\s/g,"_")),void 0!==i){var o=t[r];("day"===r&&29===parseInt(o)||"month"===r&&2===parseInt(o))&&(29!==parseInt(t.day)||2!==parseInt(t.month)||""!==t.year&&void 0!==t.year||t._date.setFullYear(2012,1,29)),"day"===r&&(m=!0,0===parseInt(o)&&(o=1)),"month"===r&&(m=!0),"year"===r&&(m=!0,o.length<4&&(o=C(o,4,!0))),""===o||isNaN(o)||i.call(t._date,o),"ampm"===r&&i.call(t._date,o)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v=(new Date).getFullYear(),m=!1,g={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return C(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(t){var e=t?parseInt(t):0;return e>0&&e--,Date.prototype.setMonth.call(this,e)},"month",function(){return C(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return C(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return C(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return C(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return C(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return C(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return C(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return C(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return C(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return C(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",_,"ampm",b,1],tt:["[ap]m",_,"ampm",b,2],T:["[AP]",_,"ampm",b,1],TT:["[AP]M",_,"ampm",b,2],Z:[".*",void 0,"Z",function(){var t=this.toString().match(/\((.+)\)/)[1];return t.includes(" ")&&(t=(t=t.replace("-"," ").toUpperCase()).split(" ").map((function(t){return c(t,1)[0]})).join("")),t}],o:[""],S:[""]},y={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function _(t){var e=this.getHours();t.toLowerCase().includes("p")?this.setHours(e+12):t.toLowerCase().includes("a")&&e>=12&&this.setHours(e-12)}function b(){var t=this.getHours();return(t=t||12)>=12?"PM":"AM"}function w(t){var e=new RegExp("\\d+$").exec(t[0]);if(e&&void 0!==e[0]){var n=g[t[0][0]+"x"].slice("");return n[0]=n[0](e[0]),n[3]=n[3](e[0]),n}if(g[t[0]])return g[t[0]]}function k(t){if(!t.tokenizer){var e=[],n=[];for(var r in g)if(/\.*x$/.test(r)){var i=r[0]+"\\d+";-1===n.indexOf(i)&&n.push(i)}else-1===e.indexOf(r[0])&&e.push(r[0]);t.tokenizer="("+(n.length>0?n.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function x(t,e,n){if(!m)return!0;if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&(!isFinite(t.rawyear)||void 0===t.rawyear||""===t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){var r=P(e.pos,n);if("yyyy"===r.targetMatch[0]&&e.pos-r.targetMatchIndex==2)return e.remove=e.pos+1,e}else if("02"==t.month&&"30"==t.day&&void 0!==e.c)return t.day="03",t.date.setDate(3),t.date.setMonth(1),e.insert=[{pos:e.pos,c:"0"},{pos:e.pos+1,c:e.c}],e.caret=s.seekNext.call(this,e.pos+1),e;return!1}function S(t,e,n,r){var i,s,a="";for(k(n).lastIndex=0;i=k(n).exec(t);)if(void 0===e)if(s=w(i))a+="("+s[0]+")";else switch(i[0]){case"[":a+="(";break;case"]":a+=")?";break;default:a+=(0,o.default)(i[0])}else(s=w(i))?!0!==r&&s[3]?a+=s[3].call(e.date):s[2]?a+=e["raw"+s[2]]:a+=i[0]:a+=i[0];return a}function C(t,e,n){for(t=String(t),e=e||2;t.length<e;)t=n?t+"0":"0"+t;return t}function O(t,e,n){return"string"==typeof t?new p(t,e,n):t&&"object"===u(t)&&Object.prototype.hasOwnProperty.call(t,"date")?t:void 0}function E(t,e){return S(e.inputFormat,{date:t},e)}function P(t,e){var n,r,i=0,o=0;for(k(e).lastIndex=0;r=k(e).exec(e.inputFormat);){var s=new RegExp("\\d+$").exec(r[0]);if((i+=o=s?parseInt(s[0]):r[0].length)>=t+1){n=r,r=k(e).exec(e.inputFormat);break}}return{targetMatchIndex:i-o,nextMatch:r,targetMatch:n}}r.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,g.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=y[t.inputFormat]||t.inputFormat,t.displayFormat=y[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=y[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=S(t.inputFormat,void 0,t),t.min=O(t.min,t.inputFormat,t),t.max=O(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,n,r,i,o,s,a){if(a)return!0;if(isNaN(n)&&t[e]!==n){var c=P(e,i);if(c.nextMatch&&c.nextMatch[0]===n&&c.targetMatch[0].length>1){var l=g[c.targetMatch[0]][0];if(new RegExp(l).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,n,r,i,o,s,c){var l,u;if(s)return!0;if(!1===r&&(((l=P(e+1,i)).targetMatch&&l.targetMatchIndex===e&&l.targetMatch[0].length>1&&void 0!==g[l.targetMatch[0]]||(l=P(e+2,i)).targetMatch&&l.targetMatchIndex===e+1&&l.targetMatch[0].length>1&&void 0!==g[l.targetMatch[0]])&&(u=g[l.targetMatch[0]][0]),void 0!==u&&(void 0!==o.validPositions[e+1]&&new RegExp(u).test(n+"0")?(t[e]=n,t[e+1]="0",r={pos:e+2,caret:e}):new RegExp(u).test("0"+n)&&(t[e]="0",t[e+1]=n,r={pos:e+2})),!1===r))return r;if(r.fuzzy&&(t=r.buffer,e=r.pos),(l=P(e,i)).targetMatch&&l.targetMatch[0]&&void 0!==g[l.targetMatch[0]]){var f=g[l.targetMatch[0]];u=f[0];var d=t.slice(l.targetMatchIndex,l.targetMatchIndex+l.targetMatch[0].length);if(!1===new RegExp(u).test(d.join(""))&&2===l.targetMatch[0].length&&o.validPositions[l.targetMatchIndex]&&o.validPositions[l.targetMatchIndex+1]&&(o.validPositions[l.targetMatchIndex+1].input="0"),"year"==f[2])for(var h=a.getMaskTemplate.call(this,!1,1,void 0,!0),p=e+1;p<t.length;p++)t[p]=h[p],delete o.validPositions[p]}var m=r,y=O(t.join(""),i.inputFormat,i);return m&&!isNaN(y.date.getTime())&&(i.prefillYear&&(m=function(t,e,n){if(t.year!==t.rawyear){var r=v.toString(),i=t.rawyear.replace(/[^0-9]/g,""),o=r.slice(0,i.length),s=r.slice(i.length);if(2===i.length&&i===o){var a=new Date(v,t.month-1,t.day);t.day==a.getDate()&&(!n.max||n.max.date.getTime()>=a.getTime())&&(t.date.setFullYear(v),t.year=r,e.insert=[{pos:e.pos+1,c:s[0]},{pos:e.pos+2,c:s[1]}])}}return e}(y,m,i)),m=function(t,e,n,r,i){if(!e)return e;if(e&&n.min&&!isNaN(n.min.date.getTime())){var o;for(t.reset(),k(n).lastIndex=0;o=k(n).exec(n.inputFormat);){var s;if((s=w(o))&&s[3]){for(var a=s[1],c=t[s[2]],l=n.min[s[2]],u=n.max?n.max[s[2]]:l,f=[],d=!1,h=0;h<l.length;h++)void 0!==r.validPositions[h+o.index]||d?(f[h]=c[h],d=d||c[h]>l[h]):(f[h]=l[h],"year"===s[2]&&c.length-1==h&&l!=u&&(f=(parseInt(f.join(""))+1).toString().split("")),"ampm"===s[2]&&l!=u&&n.min.date.getTime()>t.date.getTime()&&(f[h]=u[h]));a.call(t._date,f.join(""))}}e=n.min.date.getTime()<=t.date.getTime(),t.reInit()}return e&&n.max&&(isNaN(n.max.date.getTime())||(e=n.max.date.getTime()>=t.date.getTime())),e}(y,m=x.call(this,y,m,i),i,o)),void 0!==e&&m&&r.pos!==e?{buffer:S(i.inputFormat,y,i).split(""),refreshFromBuffer:{start:e,end:r.pos},pos:r.caret||r.pos}:m},onKeyDown:function(t,e,n,r){t.ctrlKey&&t.key===i.keys.ArrowRight&&(this.inputmask._valueSet(E(new Date,r)),h(this).trigger("setvalue"))},onUnMask:function(t,e,n){return e?S(n.outputFormat,O(t,n.inputFormat,n),n,!0):e},casing:function(t,e,n,r){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=E(t,e)),t},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(t,e,n){var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(8711),s=n(4713);i.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var a=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function c(t,e,n,r,i){return n-1>-1&&"."!==e.buffer[n-1]?(t=e.buffer[n-1]+t,t=n-2>-1&&"."!==e.buffer[n-2]?e.buffer[n-2]+t:"0"+t):t="00"+t,a.test(t)}i.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:c},j:{validator:c},k:{validator:c},l:{validator:c}},onUnMask:function(t,e,n){return t},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(t){var e=t.separator,n=t.quantifier,r="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",i=r;if(e)for(var o=0;o<n;o++)i+="[".concat(e).concat(r,"]");return i},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,n){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,n,r,i,a,c){var l=s.getMaskTemplate.call(this,!0,o.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(l.join(""))}}})},207:function(t,e,n){var r=a(n(2394)),i=a(n(7184)),o=n(8711),s=n(2839);function a(t){return t&&t.__esModule?t:{default:t}}var c=r.default.dependencyLib;function l(t,e){for(var n="",i=0;i<t.length;i++)r.default.prototype.definitions[t.charAt(i)]||e.definitions[t.charAt(i)]||e.optionalmarker[0]===t.charAt(i)||e.optionalmarker[1]===t.charAt(i)||e.quantifiermarker[0]===t.charAt(i)||e.quantifiermarker[1]===t.charAt(i)||e.groupmarker[0]===t.charAt(i)||e.groupmarker[1]===t.charAt(i)||e.alternatormarker===t.charAt(i)?n+="\\"+t.charAt(i):n+=t.charAt(i);return n}function u(t,e,n,r){if(t.length>0&&e>0&&(!n.digitsOptional||r)){var i=t.indexOf(n.radixPoint),o=!1;n.negationSymbol.back===t[t.length-1]&&(o=!0,t.length--),-1===i&&(t.push(n.radixPoint),i=t.length-1);for(var s=1;s<=e;s++)isFinite(t[i+s])||(t[i+s]="0")}return o&&t.push(n.negationSymbol.back),t}function f(t,e){var n=0;for(var r in"+"===t&&(n=o.seekNext.call(this,e.validPositions.length-1)),e.tests)if((r=parseInt(r))>=n)for(var i=0,s=e.tests[r].length;i<s;i++)if((void 0===e.validPositions[r]||"-"===t)&&e.tests[r][i].match.def===t)return r+(void 0!==e.validPositions[r]&&"-"!==t?1:0);return n}function d(t,e){for(var n=-1,r=0,i=e.validPositions.length;r<i;r++){var o=e.validPositions[r];if(o&&o.match.def===t){n=r;break}}return n}function h(t,e,n,r,i){var o=e.buffer?e.buffer.indexOf(i.radixPoint):-1,s=(-1!==o||r&&i.jitMasking)&&new RegExp(i.definitions[9].validator).test(t);return i._radixDance&&-1!==o&&s&&null==e.validPositions[o]?{insert:{pos:o===n?o+1:o,c:i.radixPoint},pos:n}:s}r.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",n=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,n=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[n]&&(t.definitions[n]={},t.definitions[n].validator="["+t.radixPoint+"]",t.definitions[n].placeholder=t.radixPoint,t.definitions[n].static=!0,t.definitions[n].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var r,o="[+]";if(o+=l(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),o+=t._mask(t)):o+="9{+}",void 0!==t.digits&&0!==t.digits){var s=t.digits.toString().split(",");isFinite(s[0])&&s[1]&&isFinite(s[1])?o+=n+e+"{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional||t.jitMasking?(r=o+n+e+"{0,"+t.digits+"}",t.keepStatic=!0):o+=n+e+"{"+t.digits+"}")}else t.inputmode="numeric";return o+=l(t.suffix,t),o+="[-]",r&&(o=[r+l(t.suffix,t)+"[-]",o]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp((0,i.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp((0,i.default)(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),""!==t.radixPoint&&t.substituteRadixPoint&&(t.substitutes["."==t.radixPoint?",":"."]=t.radixPoint),o},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:h},1:{validator:h,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(t,e,n,r,i){return i.allowMinus&&("-"===t||t===i.negationSymbol.front)}},"-":{validator:function(t,e,n,r,i){return i.allowMinus&&t===i.negationSymbol.back}}},preValidation:function(t,e,n,r,i,o,s,a){if(!1!==i.__financeInput&&n===i.radixPoint)return!1;var c=t.indexOf(i.radixPoint),l=e;if(e=function(t,e,n,r,i){return i._radixDance&&i.numericInput&&e!==i.negationSymbol.back&&t<=n&&(n>0||e==i.radixPoint)&&(void 0===r.validPositions[t-1]||r.validPositions[t-1].input!==i.negationSymbol.back)&&(t-=1),t}(e,n,c,o,i),"-"===n||n===i.negationSymbol.front){if(!0!==i.allowMinus)return!1;var u=!1,h=d("+",o),p=d("-",o);return-1!==h&&(u=[h,p]),!1!==u?{remove:u,caret:l-i.negationSymbol.back.length}:{insert:[{pos:f.call(this,"+",o),c:i.negationSymbol.front,fromIsValid:!0},{pos:f.call(this,"-",o),c:i.negationSymbol.back,fromIsValid:void 0}],caret:l+i.negationSymbol.back.length}}if(n===i.groupSeparator)return{caret:l};if(a)return!0;if(-1!==c&&!0===i._radixDance&&!1===r&&n===i.radixPoint&&void 0!==i.digits&&(isNaN(i.digits)||parseInt(i.digits)>0)&&c!==e)return{caret:i._radixDance&&e===c-1?c+1:c};if(!1===i.__financeInput)if(r){if(i.digitsOptional)return{rewritePosition:s.end};if(!i.digitsOptional){if(s.begin>c&&s.end<=c)return n===i.radixPoint?{insert:{pos:c+1,c:"0",fromIsValid:!0},rewritePosition:c}:{rewritePosition:c+1};if(s.begin<c)return{rewritePosition:s.begin-1}}}else if(!i.showMaskOnHover&&!i.showMaskOnFocus&&!i.digitsOptional&&i.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:c};return{rewritePosition:e}},postValidation:function(t,e,n,r,i,o,s){if(!1===r)return r;if(s)return!0;if(null!==i.min||null!==i.max){var a=i.onUnMask(t.slice().reverse().join(""),void 0,c.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&a<i.min&&(a.toString().length>i.min.toString().length||a<0))return!1;if(null!==i.max&&a>i.max)return!!i.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:u(i.max.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}return r},onUnMask:function(t,e,n){if(""===e&&!0===n.nullable)return e;var r=t.replace(n.prefix,"");return r=(r=r.replace(n.suffix,"")).replace(new RegExp((0,i.default)(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(r=r.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==r.indexOf(n.radixPoint)&&(r=r.replace(i.default.call(this,n.radixPoint),".")),r=(r=r.replace(new RegExp("^"+(0,i.default)(n.negationSymbol.front)),"-")).replace(new RegExp((0,i.default)(n.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(t,e){var n=(e.numericInput?t.slice().reverse():t).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+(0,i.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,i.default)(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp((0,i.default)(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(n=n.replace((0,i.default)(e.radixPoint),".")),isFinite(n)},onBeforeMask:function(t,e){var n=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===n||(t=t.toString().replace(".",n));var r="-"===t.charAt(0)||t.charAt(0)===e.negationSymbol.front,o=t.split(n),s=o[0].replace(/[^\-0-9]/g,""),a=o.length>1?o[1].replace(/[^0-9]/g,""):"",c=o.length>1;t=s+(""!==a?n+a:a);var l=0;if(""!==n&&(l=e.digitsOptional?e.digits<a.length?e.digits:a.length:e.digits,""!==a||!e.digitsOptional)){var f=Math.pow(10,l||1);t=t.replace((0,i.default)(n),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*f)/f).toFixed(l)),t=t.toString().replace(".",n)}if(0===e.digits&&-1!==t.indexOf(n)&&(t=t.substring(0,t.indexOf(n))),null!==e.min||null!==e.max){var d=t.toString().replace(n,".");null!==e.min&&d<e.min?t=e.min.toString().replace(".",n):null!==e.max&&d>e.max&&(t=e.max.toString().replace(".",n))}return r&&"-"!==t.charAt(0)&&(t="-"+t),u(t.toString().split(""),l,e,c).join("")},onBeforeWrite:function(t,e,n,r){function o(t,e){if(!1!==r.__financeInput||e){var n=t.indexOf(r.radixPoint);-1!==n&&t.splice(n,1)}if(""!==r.groupSeparator)for(;-1!==(n=t.indexOf(r.groupSeparator));)t.splice(n,1);return t}var s,a;if(r.stripLeadingZeroes&&(a=function(t,e){var n=new RegExp("(^"+(""!==e.negationSymbol.front?(0,i.default)(e.negationSymbol.front)+"?":"")+(0,i.default)(e.prefix)+")(.*)("+(0,i.default)(e.suffix)+(""!=e.negationSymbol.back?(0,i.default)(e.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),r=n?n[2]:"",o=!1;return r&&(r=r.split(e.radixPoint.charAt(0))[0],o=new RegExp("^[0"+e.groupSeparator+"]*").exec(r)),!(!o||!(o[0].length>1||o[0].length>0&&o[0].length<r.length))&&o}(e,r)))for(var l=e.join("").lastIndexOf(a[0].split("").reverse().join(""))-(a[0]==a.input?0:1),f=a[0]==a.input?1:0,d=a[0].length-f;d>0;d--)delete this.maskset.validPositions[l+d],delete e[l+d];if(t)switch(t.type){case"blur":case"checkval":if(null!==r.min){var h=r.onUnMask(e.slice().reverse().join(""),void 0,c.extend({},r,{unmaskAsNumber:!0}));if(null!==r.min&&h<r.min)return{refreshFromBuffer:!0,buffer:u(r.min.toString().replace(".",r.radixPoint).split(""),r.digits,r).reverse()}}if(e[e.length-1]===r.negationSymbol.front){var p=new RegExp("(^"+(""!=r.negationSymbol.front?(0,i.default)(r.negationSymbol.front)+"?":"")+(0,i.default)(r.prefix)+")(.*)("+(0,i.default)(r.suffix)+(""!=r.negationSymbol.back?(0,i.default)(r.negationSymbol.back)+"?":"")+"$)").exec(o(e.slice(),!0).reverse().join(""));0==(p?p[2]:"")&&(s={refreshFromBuffer:!0,buffer:[0]})}else""!==r.radixPoint&&e.indexOf(r.radixPoint)===r.suffix.length&&(s&&s.buffer?s.buffer.splice(0,1+r.suffix.length):(e.splice(0,1+r.suffix.length),s={refreshFromBuffer:!0,buffer:o(e)}));if(r.enforceDigitsOnBlur){var v=(s=s||{})&&s.buffer||e.slice().reverse();s.refreshFromBuffer=!0,s.buffer=u(v,r.digits,r,!0).reverse()}}return s},onKeyDown:function(t,e,n,r){var i,o=c(this);if(3!=t.location){var a,l=t.key;if((a=r.shortcuts&&r.shortcuts[l])&&a.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(a)),o.trigger("setvalue"),!1}if(t.ctrlKey)switch(t.key){case s.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue"),!1;case s.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue"),!1}if(!t.shiftKey&&(t.key===s.keys.Delete||t.key===s.keys.Backspace||t.key===s.keys.BACKSPACE_SAFARI)&&n.begin!==e.length){if(e[t.key===s.keys.Delete?n.begin-1:n.end]===r.negationSymbol.front)return i=e.slice().reverse(),""!==r.negationSymbol.front&&i.shift(),""!==r.negationSymbol.back&&i.pop(),o.trigger("setvalue",[i.join(""),n.begin]),!1;if(!0===r._radixDance){var f=e.indexOf(r.radixPoint);if(r.digitsOptional){if(0===f)return(i=e.slice().reverse()).pop(),o.trigger("setvalue",[i.join(""),n.begin>=i.length?i.length:n.begin]),!1}else if(-1!==f&&(n.begin<f||n.end<f||t.key===s.keys.Delete&&(n.begin===f||n.begin-1===f))){var d=void 0;return n.begin===n.end&&(t.key===s.keys.Backspace||t.key===s.keys.BACKSPACE_SAFARI?n.begin++:t.key===s.keys.Delete&&n.begin-1===f&&(d=c.extend({},n),n.begin--,n.end--)),(i=e.slice().reverse()).splice(i.length-n.begin,n.begin-n.end+1),i=u(i,r.digits,r).join(""),d&&(n=d),o.trigger("setvalue",[i,n.begin>=i.length?f+1:n.begin]),!1}}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(t,e,n){var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=((r=n(8741))&&r.__esModule?r:{default:r}).default?window:{};e.default=i},7760:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.HandleNativePlaceholder=function(t,e){var n=t?t.inputmask:this;if(a.ie){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var r=o.getBuffer.call(n).slice(),i=t.inputmask._valueGet();if(i!==e){var s=o.getLastValidPosition.call(n);-1===s&&i===o.getBufferTemplate.call(n).join("")?r=[]:-1!==s&&u.call(n,r),d(t,r)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))},e.applyInputValue=l,e.checkVal=f,e.clearOptionalTail=u,e.unmaskedvalue=function(t){var e=t?t.inputmask:this,n=e.opts,r=e.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&l(t,t.inputmask._valueGet(!0))}for(var i=[],s=r.validPositions,a=0,c=s.length;a<c;a++)s[a]&&s[a].match&&(1!=s[a].match.static||Array.isArray(r.metadata)&&!0!==s[a].generatedInput)&&i.push(s[a].input);var u=0===i.length?"":(e.isRTL?i.reverse():i).join("");if("function"==typeof n.onUnMask){var f=(e.isRTL?o.getBuffer.call(e).slice().reverse():o.getBuffer.call(e)).join("");u=n.onUnMask.call(e,f,u,n)}return u},e.writeBuffer=d;var r=n(2839),i=n(4713),o=n(8711),s=n(7215),a=n(9845),c=n(6030);function l(t,e){var n=t?t.inputmask:this,r=n.opts;t.inputmask.refreshValue=!1,"function"==typeof r.onBeforeMask&&(e=r.onBeforeMask.call(n,e,r)||e),f(t,!0,!1,e=(e||"").toString().split("")),n.undoValue=n._valueGet(!0),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t.inputmask._valueGet()===o.getBufferTemplate.call(n).join("")&&-1===o.getLastValidPosition.call(n)&&t.inputmask._valueSet("")}function u(t){t.length=0;for(var e,n=i.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(e=n.shift());)t.push(e);return t}function f(t,e,n,r,a){var l=t?t.inputmask:this,u=l.maskset,f=l.opts,h=l.dependencyLib,p=r.slice(),v="",m=-1,g=void 0,y=f.skipOptionalPartCharacter;f.skipOptionalPartCharacter="",o.resetMaskSet.call(l),u.tests={},m=f.radixPoint?o.determineNewCaretPosition.call(l,{begin:0,end:0},!1,!1===f.__financeInput?"radixFocus":void 0).begin:0,u.p=m,l.caretPos={begin:m};var _=[],b=l.caretPos;if(p.forEach((function(t,e){if(void 0!==t){var r=new h.Event("_checkval");r.key=t,v+=t;var s=o.getLastValidPosition.call(l,void 0,!0);!function(t,e){for(var n=i.getMaskTemplate.call(l,!0,0).slice(t,o.seekNext.call(l,t,!1,!1)).join("").replace(/'/g,""),r=n.indexOf(e);r>0&&" "===n[r-1];)r--;var s=0===r&&!o.isMask.call(l,t)&&(i.getTest.call(l,t).match.nativeDef===e.charAt(0)||!0===i.getTest.call(l,t).match.static&&i.getTest.call(l,t).match.nativeDef==="'"+e.charAt(0)||" "===i.getTest.call(l,t).match.nativeDef&&(i.getTest.call(l,t+1).match.nativeDef===e.charAt(0)||!0===i.getTest.call(l,t+1).match.static&&i.getTest.call(l,t+1).match.nativeDef==="'"+e.charAt(0)));if(!s&&r>0&&!o.isMask.call(l,t,!1,!0)){var a=o.seekNext.call(l,t);l.caretPos.begin<a&&(l.caretPos={begin:a})}return s}(m,v)?(g=c.EventHandlers.keypressEvent.call(l,r,!0,!1,n,l.caretPos.begin))&&(m=l.caretPos.begin+1,v=""):g=c.EventHandlers.keypressEvent.call(l,r,!0,!1,n,s+1),g?(void 0!==g.pos&&u.validPositions[g.pos]&&!0===u.validPositions[g.pos].match.static&&void 0===u.validPositions[g.pos].alternation&&(_.push(g.pos),l.isRTL||(g.forwardPosition=g.pos+1)),d.call(l,void 0,o.getBuffer.call(l),g.forwardPosition,r,!1),l.caretPos={begin:g.forwardPosition,end:g.forwardPosition},b=l.caretPos):void 0===u.validPositions[e]&&p[e]===i.getPlaceholder.call(l,e)&&o.isMask.call(l,e,!0)?l.caretPos.begin++:l.caretPos=b}})),_.length>0){var w,k,x=o.seekNext.call(l,-1,void 0,!1);if(!s.isComplete.call(l,o.getBuffer.call(l))&&_.length<=x||s.isComplete.call(l,o.getBuffer.call(l))&&_.length>0&&_.length!==x&&0===_[0])for(var S=x;void 0!==(w=_.shift());){var C=new h.Event("_checkval");if((k=u.validPositions[w]).generatedInput=!0,C.key=k.input,(g=c.EventHandlers.keypressEvent.call(l,C,!0,!1,n,S))&&void 0!==g.pos&&g.pos!==w&&u.validPositions[g.pos]&&!0===u.validPositions[g.pos].match.static)_.push(g.pos);else if(!g)break;S++}}e&&d.call(l,t,o.getBuffer.call(l),g?g.forwardPosition:l.caretPos.begin,a||new h.Event("checkval"),a&&("input"===a.type&&l.undoValue!==o.getBuffer.call(l).join("")||"paste"===a.type)),f.skipOptionalPartCharacter=y}function d(t,e,n,i,a){var c=t?t.inputmask:this,l=c.opts,u=c.dependencyLib;if(i&&"function"==typeof l.onBeforeWrite){var f=l.onBeforeWrite.call(c,i,e,n,l);if(f){if(f.refreshFromBuffer){var d=f.refreshFromBuffer;s.refreshFromBuffer.call(c,!0===d?d:d.start,d.end,f.buffer||e),e=o.getBuffer.call(c,!0)}void 0!==n&&(n=void 0!==f.caret?f.caret:n)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===n||void 0!==i&&"blur"===i.type||o.caret.call(c,t,n,void 0,void 0,void 0!==i&&"keydown"===i.type&&(i.key===r.keys.Delete||i.key===r.keys.Backspace)),!0===a)){var h=u(t),p=t.inputmask._valueGet();t.inputmask.skipInputEvent=!0,h.trigger("input"),setTimeout((function(){p===o.getBufferTemplate.call(c).join("")?h.trigger("cleared"):!0===s.isComplete.call(c,e)&&h.trigger("complete")}),0)}}},2394:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(157),i=m(n(4963)),o=m(n(9380)),s=n(2391),a=n(4713),c=n(8711),l=n(7215),u=n(7760),f=n(9716),d=m(n(7392)),h=m(n(3976)),p=m(n(8741));function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t){return t&&t.__esModule?t:{default:t}}var g=o.default.document,y="_inputmask_opts";function _(t,e,n){if(p.default){if(!(this instanceof _))return new _(t,e,n);this.dependencyLib=i.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==n&&("[object Object]"===Object.prototype.toString.call(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=i.default.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},b(this.opts.alias,e,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}}function b(t,e,n){var r=_.prototype.aliases[t];return r?(r.alias&&b(r.alias,void 0,n),i.default.extend(!0,n,r),i.default.extend(!0,n,e),!0):(null===n.mask&&(n.mask=t),!1)}_.prototype={dataAttribute:"data-inputmask",defaults:h.default,definitions:d.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var e=this;return"string"==typeof t&&(t=g.getElementById(t)||g.querySelectorAll(t)),(t=t.nodeName?[t]:Array.isArray(t)?t:[].slice.call(t)).forEach((function(t,n){var a=i.default.extend(!0,{},e.opts);if(function(t,e,n,r){function s(e,i){var s=""===r?e:r+"-"+e;null!==(i=void 0!==i?i:t.getAttribute(s))&&("string"==typeof i&&(0===e.indexOf("on")?i=o.default[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)}if(!0===e.importDataAttributes){var a,c,l,u,f=t.getAttribute(r);if(f&&""!==f&&(f=f.replace(/'/g,'"'),c=JSON.parse("{"+f+"}")),c)for(u in l=void 0,c)if("alias"===u.toLowerCase()){l=c[u];break}for(a in s("alias",l),n.alias&&b(n.alias,n,e),e){if(c)for(u in l=void 0,c)if(u.toLowerCase()===a.toLowerCase()){l=c[u];break}s(a,l)}}return i.default.extend(!0,e,n),("rtl"===t.dir||e.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||e.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),e.isRTL=!0),Object.keys(n).length}(t,a,i.default.extend(!0,{},e.userOptions),e.dataAttribute)){var c=(0,s.generateMaskSet)(a,e.noMasksCache);void 0!==c&&(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new _(void 0,void 0,!0),t.inputmask.opts=a,t.inputmask.noMasksCache=e.noMasksCache,t.inputmask.userOptions=i.default.extend(!0,{},e.userOptions),t.inputmask.el=t,t.inputmask.$el=(0,i.default)(t),t.inputmask.maskset=c,i.default.data(t,y,e.userOptions),r.mask.call(t.inputmask))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===v(t)?(i.default.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!1,!1,e),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,c.getBuffer.call(this),0,this.opts)}return u.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){i.default.data(this.el,y,null);var t=this.opts.autoUnmask?(0,u.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);t!==c.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),f.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):g.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?c.getBufferTemplate.call(this).reverse():c.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),l.isComplete.call(this,c.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var t=a.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(e){return e.mask!==t||(t=e,!1)})),t}return this.maskset.metadata},isValid:function(t){if(this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache),t){var e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!0,!1,e)}else t=this.isRTL?c.getBuffer.call(this).slice().reverse().join(""):c.getBuffer.call(this).join("");for(var n=c.getBuffer.call(this),r=c.determineLastRequiredPosition.call(this),i=n.length-1;i>r&&!c.isMask.call(this,i);i--);return n.splice(r,i+1-r),l.isComplete.call(this,n)&&t===(this.isRTL?c.getBuffer.call(this).slice().reverse().join(""):c.getBuffer.call(this).join(""))},format:function(t,e){this.maskset=this.maskset||(0,s.generateMaskSet)(this.opts,this.noMasksCache);var n=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split("");u.checkVal.call(this,void 0,!0,!1,n);var r=this.isRTL?c.getBuffer.call(this).slice().reverse().join(""):c.getBuffer.call(this).join("");return e?{value:r,metadata:this.getmetadata()}:r},setValue:function(t){this.el&&(0,i.default)(this.el).trigger("setvalue",[t])},analyseMask:s.analyseMask},_.extendDefaults=function(t){i.default.extend(!0,_.prototype.defaults,t)},_.extendDefinitions=function(t){i.default.extend(!0,_.prototype.definitions,t)},_.extendAliases=function(t){i.default.extend(!0,_.prototype.aliases,t)},_.format=function(t,e,n){return _(e).format(t,n)},_.unmask=function(t,e){return _(e).unmaskedvalue(t)},_.isValid=function(t,e){return _(e).isValid(t)},_.remove=function(t){"string"==typeof t&&(t=g.getElementById(t)||g.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask&&t.inputmask.remove()}))},_.setValue=function(t,e){"string"==typeof t&&(t=g.getElementById(t)||g.querySelectorAll(t)),(t=t.nodeName?[t]:t).forEach((function(t){t.inputmask?t.inputmask.setValue(e):(0,i.default)(t).trigger("setvalue",[e])}))},_.dependencyLib=i.default,o.default.Inputmask=_;var w=_;e.default=w},5296:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=p(n(9380)),o=p(n(2394)),s=p(n(8741));function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i.key,"string"),"symbol"===r(o)?o:String(o)),i)}var o}function c(t){var e=f();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,h(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)},l(t)}function u(t,e,n){return u=f()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&d(i,n.prototype),i},u.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t){return t&&t.__esModule?t:{default:t}}var v=i.default.document;if(s.default&&v&&v.head&&v.head.attachShadow&&i.default.customElements&&void 0===i.default.customElements.get("input-mask")){var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(s,t);var e,n,r,i=c(s);function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var e=(t=i.call(this)).getAttributeNames(),n=t.attachShadow({mode:"closed"}),r=v.createElement("input");for(var a in r.type="text",n.appendChild(r),e)Object.prototype.hasOwnProperty.call(e,a)&&r.setAttribute(e[a],t.getAttribute(e[a]));var c=new o.default;return c.dataAttribute="",c.mask(r),r.inputmask.shadowRoot=n,t}return e=s,n&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(l(HTMLElement));i.default.customElements.define("input-mask",m)}},2839:function(t,e){function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.keys=e.keyCode=void 0,e.toKey=function(t,e){return o[t]||(e?String.fromCharCode(t):String.fromCharCode(t).toLowerCase())},e.toKeyCode=function(t){return i[t]};var i={AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,BACKSPACE_SAFARI:127,CapsLock:20,Delete:46,End:35,Enter:13,Escape:27,Home:36,Insert:45,PageDown:34,PageUp:33,Space:32,Tab:9,c:67,x:88,z:90,Shift:16,Control:17,Alt:18,Pause:19,Meta_LEFT:91,Meta_RIGHT:92,ContextMenu:93,Process:229,Unidentified:229,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};e.keyCode=i;var o=Object.entries(i).reduce((function(t,e){var r=n(e,2),i=r[0],o=r[1];return t[o]=void 0===t[o]?i:t[o],t}),{}),s=Object.entries(i).reduce((function(t,e){var r=n(e,2),i=r[0];return r[1],t[i]="Space"===i?" ":i,t}),{});e.keys=s},2391:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.analyseMask=function(t,e,n){var r,s,a,c,l,u,f=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,d=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,h=!1,p=new i.default,v=[],m=[],g=!1;function y(t,r,i){i=void 0!==i?i:t.matches.length;var s=t.matches[i-1];if(e){if(0===r.indexOf("[")||h&&/\\d|\\s|\\w|\\p/i.test(r)||"."===r){var a=n.casing?"i":"";/^\\p\{.*}$/i.test(r)&&(a+="u"),t.matches.splice(i++,0,{fn:new RegExp(r,a),static:!1,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==r,casing:null,def:r,placeholder:void 0,nativeDef:r})}else h&&(r=r[r.length-1]),r.split("").forEach((function(e,r){s=t.matches[i-1],t.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||e)?new RegExp("["+(n.staticDefinitionSymbol||e)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==e&&!0!==s.static,casing:null,def:n.staticDefinitionSymbol||e,placeholder:void 0!==n.staticDefinitionSymbol?e:void 0,nativeDef:(h?"'":"")+e})}));h=!1}else{var c=n.definitions&&n.definitions[r]||n.usePrototypeDefinitions&&o.default.prototype.definitions[r];c&&!h?t.matches.splice(i++,0,{fn:c.validator?"string"==typeof c.validator?new RegExp(c.validator,n.casing?"i":""):new function(){this.test=c.validator}:new RegExp("."),static:c.static||!1,optionality:c.optional||!1,defOptionality:c.optional||!1,newBlockMarker:void 0===s||c.optional?"master":s.def!==(c.definitionSymbol||r),casing:c.casing,def:c.definitionSymbol||r,placeholder:c.placeholder,nativeDef:r,generated:c.generated}):(t.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||r)?new RegExp("["+(n.staticDefinitionSymbol||r)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==r&&!0!==s.static,casing:null,def:n.staticDefinitionSymbol||r,placeholder:void 0!==n.staticDefinitionSymbol?r:void 0,nativeDef:(h?"'":"")+r}),h=!1)}}function _(){if(v.length>0){if(y(c=v[v.length-1],s),c.isAlternator){l=v.pop();for(var t=0;t<l.matches.length;t++)l.matches[t].isGroup&&(l.matches[t].isGroup=!1);v.length>0?(c=v[v.length-1]).matches.push(l):p.matches.push(l)}}else y(p,s)}function b(t){var e=new i.default(!0);return e.openGroup=!1,e.matches=t,e}function w(){if((a=v.pop()).openGroup=!1,void 0!==a)if(v.length>0){if((c=v[v.length-1]).matches.push(a),c.isAlternator){for(var t=(l=v.pop()).matches[0].matches?l.matches[0].matches.length:1,e=0;e<l.matches.length;e++)l.matches[e].isGroup=!1,l.matches[e].alternatorGroup=!1,null===n.keepStatic&&t<(l.matches[e].matches?l.matches[e].matches.length:1)&&(n.keepStatic=!0),t=l.matches[e].matches?l.matches[e].matches.length:1;v.length>0?(c=v[v.length-1]).matches.push(l):p.matches.push(l)}}else p.matches.push(a);else _()}function k(t){var e=t.pop();return e.isQuantifier&&(e=b([t.pop(),e])),e}for(e&&(n.optionalmarker[0]=void 0,n.optionalmarker[1]=void 0);r=e?d.exec(t):f.exec(t);){if(s=r[0],e){switch(s.charAt(0)){case"?":s="{0,1}";break;case"+":case"*":s="{"+s+"}";break;case"|":if(0===v.length){var x=b(p.matches);x.openGroup=!0,v.push(x),p.matches=[],g=!0}}switch(s){case"\\d":s="[0-9]";break;case"\\p":s+=d.exec(t)[0],s+=d.exec(t)[0]}}if(h)_();else switch(s.charAt(0)){case"$":case"^":e||_();break;case n.escapeChar:h=!0,e&&_();break;case n.optionalmarker[1]:case n.groupmarker[1]:w();break;case n.optionalmarker[0]:v.push(new i.default(!1,!0));break;case n.groupmarker[0]:v.push(new i.default(!0));break;case n.quantifiermarker[0]:var S=new i.default(!1,!1,!0),C=(s=s.replace(/[{}?]/g,"")).split("|"),O=C[0].split(","),E=isNaN(O[0])?O[0]:parseInt(O[0]),P=1===O.length?E:isNaN(O[1])?O[1]:parseInt(O[1]),A=isNaN(C[1])?C[1]:parseInt(C[1]);"*"!==E&&"+"!==E||(E="*"===P?0:1),S.quantifier={min:E,max:P,jit:A};var T=v.length>0?v[v.length-1].matches:p.matches;(r=T.pop()).isGroup||(r=b([r])),T.push(r),T.push(S);break;case n.alternatormarker:if(v.length>0){var j=(c=v[v.length-1]).matches[c.matches.length-1];u=c.openGroup&&(void 0===j.matches||!1===j.isGroup&&!1===j.isAlternator)?v.pop():k(c.matches)}else u=k(p.matches);if(u.isAlternator)v.push(u);else if(u.alternatorGroup?(l=v.pop(),u.alternatorGroup=!1):l=new i.default(!1,!1,!1,!0),l.matches.push(u),v.push(l),u.openGroup){u.openGroup=!1;var M=new i.default(!0);M.alternatorGroup=!0,v.push(M)}break;default:_()}}for(g&&w();v.length>0;)a=v.pop(),p.matches.push(a);return p.matches.length>0&&(function t(r){r&&r.matches&&r.matches.forEach((function(i,o){var s=r.matches[o+1];(void 0===s||void 0===s.matches||!1===s.isQuantifier)&&i&&i.isGroup&&(i.isGroup=!1,e||(y(i,n.groupmarker[0],0),!0!==i.openGroup&&y(i,n.groupmarker[1]))),t(i)}))}(p),m.push(p)),(n.numericInput||n.isRTL)&&function t(e){for(var r in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,r)){var i=parseInt(r);if(e.matches[r].isQuantifier&&e.matches[i+1]&&e.matches[i+1].isGroup){var o=e.matches[r];e.matches.splice(r,1),e.matches.splice(i+1,0,o)}void 0!==e.matches[r].matches?e.matches[r]=t(e.matches[r]):e.matches[r]=((s=e.matches[r])===n.optionalmarker[0]?s=n.optionalmarker[1]:s===n.optionalmarker[1]?s=n.optionalmarker[0]:s===n.groupmarker[0]?s=n.groupmarker[1]:s===n.groupmarker[1]&&(s=n.groupmarker[0]),s)}var s;return e}(m[0]),m},e.generateMaskSet=function(t,e){var n;function i(t,e){var n=e.repeat,r=e.groupmarker,i=e.quantifiermarker,o=e.keepStatic;if(n>0||"*"===n||"+"===n){var c="*"===n?0:"+"===n?1:n;t=r[0]+t+r[1]+i[0]+c+","+n+i[1]}if(!0===o){var l=t.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));l&&l.forEach((function(e,n){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("["),2),i=r[0],o=r[1];o=o.replace("]",""),t=t.replace(new RegExp("".concat((0,s.default)(i),"\\[").concat((0,s.default)(o),"\\]")),i.charAt(0)===o.charAt(0)?"(".concat(i,"|").concat(i).concat(o,")"):"".concat(i,"[").concat(o,"]"))}))}return t}function c(t,n,s){var a,c,l=!1;return null!==t&&""!==t||((l=null!==s.regex)?t=(t=s.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(l=!0,t=".*")),1===t.length&&!1===s.greedy&&0!==s.repeat&&(s.placeholder=""),t=i(t,s),c=l?"regex_"+s.regex:s.numericInput?t.split("").reverse().join(""):t,null!==s.keepStatic&&(c="ks_"+s.keepStatic+c),void 0===o.default.prototype.masksCache[c]||!0===e?(a={mask:t,maskToken:o.default.prototype.analyseMask(t,l,s),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:n,maskLength:void 0,jitOffset:{}},!0!==e&&(o.default.prototype.masksCache[c]=a,a=r.default.extend(!0,{},o.default.prototype.masksCache[c]))):a=r.default.extend(!0,{},o.default.prototype.masksCache[c]),a}if("function"==typeof t.mask&&(t.mask=t.mask(t)),Array.isArray(t.mask)){if(t.mask.length>1){null===t.keepStatic&&(t.keepStatic=!0);var l=t.groupmarker[0];return(t.isRTL?t.mask.reverse():t.mask).forEach((function(e){l.length>1&&(l+=t.alternatormarker),void 0!==e.mask&&"function"!=typeof e.mask?l+=e.mask:l+=e})),c(l+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return n=t.mask&&void 0!==t.mask.mask&&"function"!=typeof t.mask.mask?c(t.mask.mask,t.mask,t):c(t.mask,t.mask,t),null===t.keepStatic&&(t.keepStatic=!1),n};var r=c(n(4963)),i=c(n(9695)),o=c(n(2394)),s=c(n(7184));function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return t&&t.__esModule?t:{default:t}}},157:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.mask=function(){var t=this,e=this.opts,n=this.el,u=this.dependencyLib;s.EventRuler.off(n);var f=function(e,n){"textarea"!==e.tagName.toLowerCase()&&n.ignorables.push(r.keys.Enter);var a=e.getAttribute("type"),c="input"===e.tagName.toLowerCase()&&n.supportsInputType.includes(a)||e.isContentEditable||"textarea"===e.tagName.toLowerCase();if(!c)if("input"===e.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",a),c="text"===l.type,l=null}else c="partial";return!1!==c?function(e){var r,a;function c(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==i.getLastValidPosition.call(t)||!0!==n.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&n.clearMaskOnLostFocus?(t.isRTL?o.clearOptionalTail.call(t,i.getBuffer.call(t).slice()).reverse():o.clearOptionalTail.call(t,i.getBuffer.call(t).slice())).join(""):r.call(this):"":r.call(this)}function l(t){a.call(this,t),this.inputmask&&(0,o.applyInputValue)(this,t)}if(!e.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){var f=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;f&&f.get&&f.set?(r=f.get,a=f.set,Object.defineProperty(e,"value",{get:c,set:l,configurable:!0})):"input"!==e.tagName.toLowerCase()&&(r=function(){return this.textContent},a=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:c,set:l,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(r=e.__lookupGetter__("value"),a=e.__lookupSetter__("value"),e.__defineGetter__("value",c),e.__defineSetter__("value",l));e.inputmask.__valueGet=r,e.inputmask.__valueSet=a}e.inputmask._valueGet=function(e){return t.isRTL&&!0!==e?r.call(this.el).split("").reverse().join(""):r.call(this.el)},e.inputmask._valueSet=function(e,n){a.call(this.el,null==e?"":!0!==n&&t.isRTL?e.split("").reverse().join(""):e)},void 0===r&&(r=function(){return this.value},a=function(t){this.value=t},function(e){if(u.valHooks&&(void 0===u.valHooks[e]||!0!==u.valHooks[e].inputmaskpatch)){var r=u.valHooks[e]&&u.valHooks[e].get?u.valHooks[e].get:function(t){return t.value},s=u.valHooks[e]&&u.valHooks[e].set?u.valHooks[e].set:function(t,e){return t.value=e,t};u.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var o=r(e);return-1!==i.getLastValidPosition.call(t,void 0,void 0,e.inputmask.maskset.validPositions)||!0!==n.nullable?o:""}return r(e)},set:function(t,e){var n=s(t,e);return t.inputmask&&(0,o.applyInputValue)(t,e),n},inputmaskpatch:!0}}}(e.type),function(t){s.EventRuler.on(t,"mouseenter",(function(){var t=this,e=t.inputmask._valueGet(!0);e!=(t.inputmask.isRTL?i.getBuffer.call(t.inputmask).slice().reverse():i.getBuffer.call(t.inputmask)).join("")&&(0,o.applyInputValue)(t,e)}))}(e))}}(e):e.inputmask=void 0,c}(n,e);if(!1!==f){t.originalPlaceholder=n.placeholder,t.maxLength=void 0!==n?n.maxLength:void 0,-1===t.maxLength&&(t.maxLength=void 0),"inputMode"in n&&null===n.getAttribute("inputmode")&&(n.inputMode=e.inputmode,n.setAttribute("inputmode",e.inputmode)),!0===f&&(e.showMaskOnFocus=e.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(n.autocomplete),a.iphone&&(e.insertModeVisual=!1,n.setAttribute("autocorrect","off")),s.EventRuler.on(n,"submit",l.EventHandlers.submitEvent),s.EventRuler.on(n,"reset",l.EventHandlers.resetEvent),s.EventRuler.on(n,"blur",l.EventHandlers.blurEvent),s.EventRuler.on(n,"focus",l.EventHandlers.focusEvent),s.EventRuler.on(n,"invalid",l.EventHandlers.invalidEvent),s.EventRuler.on(n,"click",l.EventHandlers.clickEvent),s.EventRuler.on(n,"mouseleave",l.EventHandlers.mouseleaveEvent),s.EventRuler.on(n,"mouseenter",l.EventHandlers.mouseenterEvent),s.EventRuler.on(n,"paste",l.EventHandlers.pasteEvent),s.EventRuler.on(n,"cut",l.EventHandlers.cutEvent),s.EventRuler.on(n,"complete",e.oncomplete),s.EventRuler.on(n,"incomplete",e.onincomplete),s.EventRuler.on(n,"cleared",e.oncleared),!0!==e.inputEventOnly&&s.EventRuler.on(n,"keydown",l.EventHandlers.keyEvent),(a.mobile||e.inputEventOnly)&&n.removeAttribute("maxLength"),s.EventRuler.on(n,"input",l.EventHandlers.inputFallBackEvent)),s.EventRuler.on(n,"setvalue",l.EventHandlers.setValueEvent),i.getBufferTemplate.call(t).join(""),t.undoValue=t._valueGet(!0);var d=(n.inputmask.shadowRoot||n.ownerDocument).activeElement;if(""!==n.inputmask._valueGet(!0)||!1===e.clearMaskOnLostFocus||d===n){(0,o.applyInputValue)(n,n.inputmask._valueGet(!0),e);var h=i.getBuffer.call(t).slice();!1===c.isComplete.call(t,h)&&e.clearIncomplete&&i.resetMaskSet.call(t),e.clearMaskOnLostFocus&&d!==n&&(-1===i.getLastValidPosition.call(t)?h=[]:o.clearOptionalTail.call(t,h)),(!1===e.clearMaskOnLostFocus||e.showMaskOnFocus&&d===n||""!==n.inputmask._valueGet(!0))&&(0,o.writeBuffer)(n,h),d===n&&i.caret.call(t,n,i.seekNext.call(t,i.getLastValidPosition.call(t)))}}};var r=n(2839),i=n(8711),o=n(7760),s=n(9716),a=n(9845),c=n(7215),l=n(6030)},9695:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|e,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;){if(n[o]===t)return!0;o++}return!1}})},9302:function(){var t=Function.bind.call(Function.call,Array.prototype.reduce),e=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),n=Function.bind.call(Function.call,Array.prototype.concat),r=Object.keys;Object.entries||(Object.entries=function(i){return t(r(i),(function(t,r){return n(t,"string"==typeof r&&e(i,r)?[[r,i[r]]]:[])}),[])})},7149:function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===t("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)})},8711:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.caret=function(t,e,n,r,i){var o,s=this,a=this.opts;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,n=t.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&o.commonAncestorContainer!==t||(e=o.startOffset,n=o.endOffset):document.selection&&document.selection.createRange&&(n=(e=0-(o=document.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+o.text.length),{begin:r?e:l.call(s,e),end:r?n:l.call(s,n)};if(Array.isArray(e)&&(n=s.isRTL?e[0]:e[1],e=s.isRTL?e[1]:e[0]),void 0!==e.begin&&(n=s.isRTL?e.begin:e.end,e=s.isRTL?e.end:e.begin),"number"==typeof e){e=r?e:l.call(s,e),n="number"==typeof(n=r?n:l.call(s,n))?n:e;var c=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*n;if(t.scrollLeft=c>t.scrollWidth?c:0,t.inputmask.caretPos={begin:e,end:n},a.insertModeVisual&&!1===a.insertMode&&e===n&&(i||n++),t===(t.inputmask.shadowRoot||t.ownerDocument).activeElement)if("setSelectionRange"in t)t.setSelectionRange(e,n);else if(window.getSelection){if(o=document.createRange(),void 0===t.firstChild||null===t.firstChild){var u=document.createTextNode("");t.appendChild(u)}o.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),o.setEnd(t.firstChild,n<t.inputmask._valueGet().length?n:t.inputmask._valueGet().length),o.collapse(!0);var f=window.getSelection();f.removeAllRanges(),f.addRange(o)}else t.createTextRange&&((o=t.createTextRange()).collapse(!0),o.moveEnd("character",n),o.moveStart("character",e),o.select())}},e.determineLastRequiredPosition=function(t){var e,n,o=this,a=o.maskset,c=o.dependencyLib,l=r.getMaskTemplate.call(o,!0,s.call(o),!0,!0),u=l.length,f=s.call(o),d={},h=a.validPositions[f],p=void 0!==h?h.locator.slice():void 0;for(e=f+1;e<l.length;e++)p=(n=r.getTestTemplate.call(o,e,p,e-1)).locator.slice(),d[e]=c.extend(!0,{},n);var v=h&&void 0!==h.alternation?h.locator[h.alternation]:void 0;for(e=u-1;e>f&&((n=d[e]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||v&&(v!==d[e].locator[h.alternation]&&1!=n.match.static||!0===n.match.static&&n.locator[h.alternation]&&i.checkAlternationMatch.call(o,n.locator[h.alternation].toString().split(","),v.toString().split(","))&&""!==r.getTests.call(o,e)[0].def))&&l[e]===r.getPlaceholder.call(o,e,n.match);e--)u--;return t?{l:u,def:d[u]?d[u].match:void 0}:u},e.determineNewCaretPosition=function(t,e,n){var i=this,l=i.maskset,u=i.opts;if(e&&(i.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(n=n||u.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:o.call(i).length};break;case"ignore":t.end=t.begin=c.call(i,s.call(i));break;case"radixFocus":if(i.clicked>1&&0==l.validPositions.length)break;if(function(t){if(""!==u.radixPoint&&0!==u.digits){var e=l.validPositions;if(void 0===e[t]||e[t].input===r.getPlaceholder.call(i,t)){if(t<c.call(i,-1))return!0;var n=o.call(i).indexOf(u.radixPoint);if(-1!==n){for(var s=0,a=e.length;s<a;s++)if(e[s]&&n<s&&e[s].input!==r.getPlaceholder.call(i,s))return!1;return!0}}}return!1}(t.begin)){var f=o.call(i).join("").indexOf(u.radixPoint);t.end=t.begin=u.numericInput?c.call(i,f):f;break}default:var d=t.begin,h=s.call(i,d,!0),p=c.call(i,-1!==h||a.call(i,0)?h:-1);if(d<=p)t.end=t.begin=a.call(i,d,!1,!0)?d:c.call(i,d);else{var v=l.validPositions[h],m=r.getTestTemplate.call(i,p,v?v.match.locator:void 0,v),g=r.getPlaceholder.call(i,p,m.match);if(""!==g&&o.call(i)[p]!==g&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!a.call(i,p,u.keepStatic,!0)&&m.match.def===g){var y=c.call(i,p);(d>=y||d===p)&&(p=y)}t.end=t.begin=p}}return t}},e.getBuffer=o,e.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=r.getMaskTemplate.call(this,!1,1),void 0===t.buffer&&(t.buffer=t._buffer.slice())),t._buffer},e.getLastValidPosition=s,e.isMask=a,e.resetMaskSet=function(t){var e=this.maskset;e.buffer=void 0,!0!==t&&(e.validPositions=[],e.p=0)},e.seekNext=c,e.seekPrevious=function(t,e){var n=this,i=t-1;if(t<=0)return 0;for(;i>0&&(!0===e&&(!0!==r.getTest.call(n,i).match.newBlockMarker||!a.call(n,i,void 0,!0))||!0!==e&&!a.call(n,i,void 0,!0));)i--;return i},e.translatePosition=l;var r=n(4713),i=n(7215);function o(t){var e=this,n=e.maskset;return void 0!==n.buffer&&!0!==t||(n.buffer=r.getMaskTemplate.call(e,!0,s.call(e),!0),void 0===n._buffer&&(n._buffer=n.buffer.slice())),n.buffer}function s(t,e,n){var r=this.maskset,i=-1,o=-1,s=n||r.validPositions;void 0===t&&(t=-1);for(var a=0,c=s.length;a<c;a++)s[a]&&(e||!0!==s[a].generatedInput)&&(a<=t&&(i=a),a>=t&&(o=a));return-1===i||i==t?o:-1==o||t-i<o-t?i:o}function a(t,e,n){var i=this,o=this.maskset,s=r.getTestTemplate.call(i,t).match;if(""===s.def&&(s=r.getTest.call(i,t).match),!0!==s.static)return s.fn;if(!0===n&&void 0!==o.validPositions[t]&&!0!==o.validPositions[t].generatedInput)return!0;if(!0!==e&&t>-1){if(n){var a=r.getTests.call(i,t);return a.length>1+(""===a[a.length-1].match.def?1:0)}var c=r.determineTestTemplate.call(i,t,r.getTests.call(i,t)),l=r.getPlaceholder.call(i,t,c.match);return c.match.def!==l}return!1}function c(t,e,n){var i=this;void 0===n&&(n=!0);for(var o=t+1;""!==r.getTest.call(i,o).match.def&&(!0===e&&(!0!==r.getTest.call(i,o).match.newBlockMarker||!a.call(i,o,void 0,!0))||!0!==e&&!a.call(i,o,void 0,n));)o++;return o}function l(t){var e=this.opts,n=this.el;return!this.isRTL||"number"!=typeof t||e.greedy&&""===e.placeholder||!n||(t=this._valueGet().length-t)<0&&(t=0),t}},4713:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.determineTestTemplate=l,e.getDecisionTaker=s,e.getMaskTemplate=function(t,e,n,r,i){var o=this,s=this.opts,u=this.maskset,f=s.greedy;i&&s.greedy&&(s.greedy=!1,o.maskset.tests={}),e=e||0;var h,p,v,m,g=[],y=0;do{if(!0===t&&u.validPositions[y])p=(v=i&&u.validPositions[y].match.optionality&&void 0===u.validPositions[y+1]&&(!0===u.validPositions[y].generatedInput||u.validPositions[y].input==s.skipOptionalPartCharacter&&y>0)?l.call(o,y,d.call(o,y,h,y-1)):u.validPositions[y]).match,h=v.locator.slice(),g.push(!0===n?v.input:!1===n?p.nativeDef:a.call(o,y,p));else{p=(v=c.call(o,y,h,y-1)).match,h=v.locator.slice();var _=!0!==r&&(!1!==s.jitMasking?s.jitMasking:p.jit);(m=(m&&p.static&&p.def!==s.groupSeparator&&null===p.fn||u.validPositions[y-1]&&p.static&&p.def!==s.groupSeparator&&null===p.fn)&&u.tests[y])||!1===_||void 0===_||"number"==typeof _&&isFinite(_)&&_>y?g.push(!1===n?p.nativeDef:a.call(o,g.length,p)):m=!1}y++}while(!0!==p.static||""!==p.def||e>y);return""===g[g.length-1]&&g.pop(),!1===n&&void 0!==u.maskLength||(u.maskLength=y-1),s.greedy=f,g},e.getPlaceholder=a,e.getTest=u,e.getTestTemplate=c,e.getTests=d,e.isSubsetOf=f;var r,i=(r=n(2394))&&r.__esModule?r:{default:r};function o(t,e){var n=(null!=t.alternation?t.mloc[s(t)]:t.locator).join("");if(""!==n)for(;n.length<e;)n+="0";return n}function s(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function a(t,e,n){var r=this.opts,i=this.maskset;if(void 0!==(e=e||u.call(this,t).match).placeholder||!0===n)return"function"==typeof e.placeholder?e.placeholder(r):e.placeholder;if(!0===e.static){if(t>-1&&void 0===i.validPositions[t]){var o,s=d.call(this,t),a=[];if(s.length>1+(""===s[s.length-1].match.def?1:0))for(var c=0;c<s.length;c++)if(""!==s[c].match.def&&!0!==s[c].match.optionality&&!0!==s[c].match.optionalQuantifier&&(!0===s[c].match.static||void 0===o||!1!==s[c].match.fn.test(o.match.def,i,t,!0,r))&&(a.push(s[c]),!0===s[c].match.static&&(o=s[c]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return r.placeholder.charAt(t%r.placeholder.length)}return e.def}return r.placeholder.charAt(t%r.placeholder.length)}function c(t,e,n){return this.maskset.validPositions[t]||l.call(this,t,d.call(this,t,e?e.slice():e,n))}function l(t,e){var n=this.opts,r=0,i=function(t,e){var n=0,r=!1;return e.forEach((function(t){t.match.optionality&&(0!==n&&n!==t.match.optionality&&(r=!0),(0===n||n>t.match.optionality)&&(n=t.match.optionality))})),n&&(0==t||1==e.length?n=0:r||(n=0)),n}(t,e);t=t>0?t-1:0;var s,a,c,l=o(u.call(this,t));n.greedy&&e.length>1&&""===e[e.length-1].match.def&&(r=1);for(var f=0;f<e.length-r;f++){var d=e[f];s=o(d,l.length);var h=Math.abs(s-l);(void 0===a||""!==s&&h<a||c&&!n.greedy&&c.match.optionality&&c.match.optionality-i>0&&"master"===c.match.newBlockMarker&&(!d.match.optionality||d.match.optionality-i<1||!d.match.newBlockMarker)||c&&!n.greedy&&c.match.optionalQuantifier&&!d.match.optionalQuantifier)&&(a=h,c=d)}return c}function u(t,e){var n=this.maskset;return n.validPositions[t]?n.validPositions[t]:(e||d.call(this,t))[0]}function f(t,e,n){function r(t){for(var e,n=[],r=-1,i=0,o=t.length;i<o;i++)if("-"===t.charAt(i))for(e=t.charCodeAt(i+1);++r<e;)n.push(String.fromCharCode(r));else r=t.charCodeAt(i),n.push(t.charAt(i));return n.join("")}return t.match.def===e.match.nativeDef||!(!(n.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)||!0===t.match.static||!0===e.match.static)&&-1!==r(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(r(t.match.fn.toString().replace(/[[\]/]/g,"")))}function d(t,e,n){var r,o,s=this,a=this.dependencyLib,c=this.maskset,u=this.opts,d=this.el,h=c.maskToken,p=e?n:0,v=e?e.slice():[0],m=[],g=!1,y=e?e.join(""):"";function _(e,n,o,a){function l(o,a,h){function v(t,e){var n=0===e.matches.indexOf(t);return n||e.matches.every((function(r,i){return!0===r.isQuantifier?n=v(t,e.matches[i-1]):Object.prototype.hasOwnProperty.call(r,"matches")&&(n=v(t,r)),!n})),n}function w(t,e,n){var r,i;if((c.tests[t]||c.validPositions[t])&&(c.tests[t]||[c.validPositions[t]]).every((function(t,o){if(t.mloc[e])return r=t,!1;var s=void 0!==n?n:t.alternation,a=void 0!==t.locator[s]?t.locator[s].toString().indexOf(e):-1;return(void 0===i||a<i)&&-1!==a&&(r=t,i=a),!0})),r){var o=r.locator[r.alternation];return(r.mloc[e]||r.mloc[o]||r.locator).slice((void 0!==n?n:r.alternation)+1)}return void 0!==n?w(t,e):void 0}function k(t,e){var n=t.alternation,r=void 0===e||n===e.alternation&&-1===t.locator[n].toString().indexOf(e.locator[n]);if(!r&&n>e.alternation)for(var i=e.alternation;i<n;i++)if(t.locator[i]!==e.locator[i]){n=i,r=!0;break}if(r){t.mloc=t.mloc||{};var o=t.locator[n];if(void 0!==o){if("string"==typeof o&&(o=o.split(",")[0]),void 0===t.mloc[o]&&(t.mloc[o]=t.locator.slice()),void 0!==e){for(var s in e.mloc)"string"==typeof s&&(s=s.split(",")[0]),void 0===t.mloc[s]&&(t.mloc[s]=e.mloc[s]);t.locator[n]=Object.keys(t.mloc).join(",")}return!0}t.alternation=void 0}return!1}function x(t,e){if(t.locator.length!==e.locator.length)return!1;for(var n=t.alternation+1;n<t.locator.length;n++)if(t.locator[n]!==e.locator[n])return!1;return!0}if(p>t+u._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+c.mask;if(p===t&&void 0===o.matches){if(m.push({match:o,locator:a.reverse(),cd:y,mloc:{}}),!o.optionality||void 0!==h||!(u.definitions&&u.definitions[o.nativeDef]&&u.definitions[o.nativeDef].optional||i.default.prototype.definitions[o.nativeDef]&&i.default.prototype.definitions[o.nativeDef].optional))return!0;g=!0,p=t}else if(void 0!==o.matches){if(o.isGroup&&h!==o)return function(){if(o=l(e.matches[e.matches.indexOf(o)+1],a,h))return!0}();if(o.isOptional)return function(){var e=o,i=m.length;if(o=_(o,n,a,h),m.length>0){if(m.forEach((function(t,e){e>=i&&(t.match.optionality=t.match.optionality?t.match.optionality+1:1)})),r=m[m.length-1].match,void 0!==h||!v(r,e))return o;g=!0,p=t}}();if(o.isAlternator)return function(){s.hasAlternator=!0;var r,i,v,y=o,_=[],b=m.slice(),S=a.length,C=!1,O=n.length>0?n.shift():-1;if(-1===O||"string"==typeof O){var E,P=p,A=n.slice(),T=[];if("string"==typeof O)T=O.split(",");else for(E=0;E<y.matches.length;E++)T.push(E.toString());if(void 0!==c.excludes[t]){for(var j=T.slice(),M=0,I=c.excludes[t].length;M<I;M++){var N=c.excludes[t][M].toString().split(":");a.length==N[1]&&T.splice(T.indexOf(N[0]),1)}0===T.length&&(delete c.excludes[t],T=j)}(!0===u.keepStatic||isFinite(parseInt(u.keepStatic))&&P>=u.keepStatic)&&(T=T.slice(0,1));for(var R=0;R<T.length;R++){E=parseInt(T[R]),m=[],n="string"==typeof O&&w(p,E,S)||A.slice();var D=y.matches[E];if(D&&l(D,[E].concat(a),h))o=!0;else if(0===R&&(C=!0),D&&D.matches&&D.matches.length>y.matches[0].matches.length)break;r=m.slice(),p=P,m=[];for(var L=0;L<r.length;L++){var B=r[L],$=!1;B.match.jit=B.match.jit||C,B.alternation=B.alternation||S,k(B);for(var F=0;F<_.length;F++){var q=_[F];if("string"!=typeof O||void 0!==B.alternation&&T.includes(B.locator[B.alternation].toString())){if(B.match.nativeDef===q.match.nativeDef){$=!0,k(q,B);break}if(f(B,q,u)){k(B,q)&&($=!0,_.splice(_.indexOf(q),0,B));break}if(f(q,B,u)){k(q,B);break}if(v=q,!0===(i=B).match.static&&!0!==v.match.static&&v.match.fn.test(i.match.def,c,t,!1,u,!1)){x(B,q)||void 0!==d.inputmask.userOptions.keepStatic?k(B,q)&&($=!0,_.splice(_.indexOf(q),0,B)):u.keepStatic=!0;break}}}$||_.push(B)}}m=b.concat(_),p=t,g=m.length>0,o=_.length>0,n=A.slice()}else o=l(y.matches[O]||e.matches[O],[O].concat(a),h);if(o)return!0}();if(o.isQuantifier&&h!==e.matches[e.matches.indexOf(o)-1])return function(){for(var i=o,s=!1,f=n.length>0?n.shift():0;f<(isNaN(i.quantifier.max)?f+1:i.quantifier.max)&&p<=t;f++){var d=e.matches[e.matches.indexOf(i)-1];if(o=l(d,[f].concat(a),d)){if(m.forEach((function(e,n){(r=b(d,e.match)?e.match:m[m.length-1].match).optionalQuantifier=f>=i.quantifier.min,r.jit=(f+1)*(d.matches.indexOf(r)+1)>i.quantifier.jit,r.optionalQuantifier&&v(r,d)&&(g=!0,p=t,u.greedy&&null==c.validPositions[t-1]&&f>i.quantifier.min&&-1!=["*","+"].indexOf(i.quantifier.max)&&(m.pop(),y=void 0),s=!0,o=!1),!s&&r.jit&&(c.jitOffset[t]=d.matches.length-d.matches.indexOf(r))})),s)break;return!0}}}();if(o=_(o,n,a,h))return!0}else p++}for(var h=n.length>0?n.shift():0;h<e.matches.length;h++)if(!0!==e.matches[h].isQuantifier){var v=l(e.matches[h],[h].concat(o),a);if(v&&p===t)return v;if(p>t)break}}function b(t,e){var n=-1!=t.matches.indexOf(e);return n||t.matches.forEach((function(t,r){void 0===t.matches||n||(n=b(t,e))})),n}if(t>-1){if(void 0===e){for(var w,k=t-1;void 0===(w=c.validPositions[k]||c.tests[k])&&k>-1;)k--;void 0!==w&&k>-1&&(v=function(t,e){var n,r=[];return Array.isArray(e)||(e=[e]),e.length>0&&(void 0===e[0].alternation||!0===u.keepStatic?0===(r=l.call(s,t,e.slice()).locator.slice()).length&&(r=e[0].locator.slice()):e.forEach((function(t){""!==t.def&&(0===r.length?(n=t.alternation,r=t.locator.slice()):t.locator[n]&&-1===r[n].toString().indexOf(t.locator[n])&&(r[n]+=","+t.locator[n]))}))),r}(k,w),y=v.join(""),p=k)}if(c.tests[t]&&c.tests[t][0].cd===y)return c.tests[t];for(var x=v.shift();x<h.length&&!(_(h[x],v,[x])&&p===t||p>t);x++);}return(0===m.length||g)&&m.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:y}),void 0!==e&&c.tests[t]?o=a.extend(!0,[],m):(c.tests[t]=a.extend(!0,[],m),o=c.tests[t]),m.forEach((function(t){t.match.optionality=t.match.defOptionality||!1})),o}},7215:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.alternate=a,e.checkAlternationMatch=function(t,e,n){for(var r,i=this.opts.greedy?e:e.slice(0,1),o=!1,s=void 0!==n?n.split(","):[],a=0;a<s.length;a++)-1!==(r=t.indexOf(s[a]))&&t.splice(r,1);for(var c=0;c<t.length;c++)if(i.includes(t[c])){o=!0;break}return o},e.handleRemove=function(t,e,n,s,c){var l=this,u=this.maskset,f=this.opts;if((f.numericInput||l.isRTL)&&(e===i.keys.Backspace?e=i.keys.Delete:e===i.keys.Delete&&(e=i.keys.Backspace),l.isRTL)){var d=n.end;n.end=n.begin,n.begin=d}var h,p=o.getLastValidPosition.call(l,void 0,!0);if(n.end>=o.getBuffer.call(l).length&&p>=n.end&&(n.end=p+1),e===i.keys.Backspace?n.end-n.begin<1&&(n.begin=o.seekPrevious.call(l,n.begin)):e===i.keys.Delete&&n.begin===n.end&&(n.end=o.isMask.call(l,n.end,!0,!0)?n.end+1:o.seekNext.call(l,n.end)+1),!1!==(h=v.call(l,n))){if(!0!==s&&!1!==f.keepStatic||null!==f.regex&&-1!==r.getTest.call(l,n.begin).match.def.indexOf("|")){var m=a.call(l,!0);if(m){var g=void 0!==m.caret?m.caret:m.pos?o.seekNext.call(l,m.pos.begin?m.pos.begin:m.pos):o.getLastValidPosition.call(l,-1,!0);(e!==i.keys.Delete||n.begin>g)&&n.begin}}!0!==s&&(u.p=e===i.keys.Delete?n.begin+h:n.begin,u.p=o.determineNewCaretPosition.call(l,{begin:u.p,end:u.p},!1,!1===f.insertMode&&e===i.keys.Backspace?"none":void 0).begin)}},e.isComplete=l,e.isSelection=u,e.isValid=f,e.refreshFromBuffer=h,e.revalidateMask=v;var r=n(4713),i=n(2839),o=n(8711),s=n(6030);function a(t,e,n,i,s,c){var l,u,d,h,p,v,m,g,y,_,b,w=this,k=this.dependencyLib,x=this.opts,S=w.maskset,C=k.extend(!0,[],S.validPositions),O=k.extend(!0,{},S.tests),E=!1,P=!1,A=void 0!==s?s:o.getLastValidPosition.call(w);if(c&&(_=c.begin,b=c.end,c.begin>c.end&&(_=c.end,b=c.begin)),-1===A&&void 0===s)l=0,u=(h=r.getTest.call(w,l)).alternation;else for(;A>=0;A--)if((d=S.validPositions[A])&&void 0!==d.alternation){if(A<=(t||0)&&h&&h.locator[d.alternation]!==d.locator[d.alternation])break;l=A,u=S.validPositions[l].alternation,h=d}if(void 0!==u){m=parseInt(l),S.excludes[m]=S.excludes[m]||[],!0!==t&&S.excludes[m].push((0,r.getDecisionTaker)(h)+":"+h.alternation);var T=[],j=-1;for(p=m;p<o.getLastValidPosition.call(w,void 0,!0)+1;p++)-1===j&&t<=p&&void 0!==e&&(T.push(e),j=T.length-1),(v=S.validPositions[p])&&!0!==v.generatedInput&&(void 0===c||p<_||p>=b)&&T.push(v.input),delete S.validPositions[p];for(-1===j&&void 0!==e&&(T.push(e),j=T.length-1);void 0!==S.excludes[m]&&S.excludes[m].length<10;){for(S.tests={},o.resetMaskSet.call(w,!0),E=!0,p=0;p<T.length&&(g=E.caret||o.getLastValidPosition.call(w,void 0,!0)+1,y=T[p],E=f.call(w,g,y,!1,i,!0));p++)p===j&&(P=E),1==t&&E&&(P={caretPos:p});if(E)break;if(o.resetMaskSet.call(w),h=r.getTest.call(w,m),S.validPositions=k.extend(!0,[],C),S.tests=k.extend(!0,{},O),!S.excludes[m]){P=a.call(w,t,e,n,i,m-1,c);break}var M=(0,r.getDecisionTaker)(h);if(-1!==S.excludes[m].indexOf(M+":"+h.alternation)){P=a.call(w,t,e,n,i,m-1,c);break}for(S.excludes[m].push(M+":"+h.alternation),p=m;p<o.getLastValidPosition.call(w,void 0,!0)+1;p++)delete S.validPositions[p]}}return P&&!1===x.keepStatic||delete S.excludes[m],P}function c(t,e,n){var r=this.opts,o=this.maskset;switch(r.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var s=o.validPositions[n-1];t=0===n||s&&s.input===String.fromCharCode(i.keyCode.Space)?t.toUpperCase():t.toLowerCase();break;default:if("function"==typeof r.casing){var a=Array.prototype.slice.call(arguments);a.push(o.validPositions),t=r.casing.apply(this,a)}}return t}function l(t){var e=this,n=this.opts,i=this.maskset;if("function"==typeof n.isComplete)return n.isComplete(t,n);if("*"!==n.repeat){var s=!1,a=o.determineLastRequiredPosition.call(e,!0),c=o.seekPrevious.call(e,a.l);if(void 0===a.def||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){s=!0;for(var l=0;l<=c;l++){var u=r.getTestTemplate.call(e,l).match;if(!0!==u.static&&void 0===i.validPositions[l]&&!0!==u.optionality&&!0!==u.optionalQuantifier||!0===u.static&&t[l]!==r.getPlaceholder.call(e,l,u)){s=!1;break}}}return s}}function u(t){var e=this.opts.insertMode?0:1;return this.isRTL?t.begin-t.end>e:t.end-t.begin>e}function f(t,e,n,i,s,d,m){var g=this,y=this.dependencyLib,_=this.opts,b=g.maskset;n=!0===n;var w=t;function k(t){if(void 0!==t){if(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort((function(t,e){return g.isRTL?t.pos-e.pos:e.pos-t.pos})).forEach((function(t){v.call(g,{begin:t,end:t+1})})),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort((function(t,e){return g.isRTL?e.pos-t.pos:t.pos-e.pos})).forEach((function(t){""!==t.c&&f.call(g,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:i)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;h.call(g,!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(w=t.rewritePosition,t=!0)}return t}function x(e,n,s){var a=!1;return r.getTests.call(g,e).every((function(l,f){var d=l.match;if(o.getBuffer.call(g,!0),!1!==(a=(!d.jit||void 0!==b.validPositions[o.seekPrevious.call(g,e)])&&(null!=d.fn?d.fn.test(n,b,e,s,_,u.call(g,t)):(n===d.def||n===_.skipOptionalPartCharacter)&&""!==d.def&&{c:r.getPlaceholder.call(g,e,d,!0)||d.def,pos:e}))){var h=void 0!==a.c?a.c:n,p=e;return h=h===_.skipOptionalPartCharacter&&!0===d.static?r.getPlaceholder.call(g,e,d,!0)||d.def:h,!0!==(a=k(a))&&void 0!==a.pos&&a.pos!==e&&(p=a.pos),!0!==a&&void 0===a.pos&&void 0===a.c||!1===v.call(g,t,y.extend({},l,{input:c.call(g,h,d,p)}),i,p)&&(a=!1),!1}return!0})),a}void 0!==t.begin&&(w=g.isRTL?t.end:t.begin);var S=!0,C=y.extend(!0,{},b.validPositions);if(!1===_.keepStatic&&void 0!==b.excludes[w]&&!0!==s&&!0!==i)for(var O=w;O<(g.isRTL?t.begin:t.end);O++)void 0!==b.excludes[O]&&(b.excludes[O]=void 0,delete b.tests[O]);if("function"==typeof _.preValidation&&!0!==i&&!0!==d&&(S=k(S=_.preValidation.call(g,o.getBuffer.call(g),w,e,u.call(g,t),_,b,t,n||s))),!0===S){if(S=x(w,e,n),(!n||!0===i)&&!1===S&&!0!==d){var E=b.validPositions[w];if(!E||!0!==E.match.static||E.match.def!==e&&e!==_.skipOptionalPartCharacter){if(_.insertMode||void 0===b.validPositions[o.seekNext.call(g,w)]||t.end>w){var P=!1;if(b.jitOffset[w]&&void 0===b.validPositions[o.seekNext.call(g,w)]&&!1!==(S=f.call(g,w+b.jitOffset[w],e,!0,!0))&&(!0!==s&&(S.caret=w),P=!0),t.end>w&&(b.validPositions[w]=void 0),!P&&!o.isMask.call(g,w,_.keepStatic&&0===w))for(var A=w+1,T=o.seekNext.call(g,w,!1,0!==w);A<=T;A++)if(!1!==(S=x(A,e,n))){S=p.call(g,w,void 0!==S.pos?S.pos:A)||S,w=A;break}}}else S={caret:o.seekNext.call(g,w)}}g.hasAlternator&&!0!==s&&!n&&(!1===S&&_.keepStatic&&(l.call(g,o.getBuffer.call(g))||0===w)?S=a.call(g,w,e,n,i,void 0,t):(u.call(g,t)&&b.tests[w]&&b.tests[w].length>1&&_.keepStatic||1==S&&!0!==_.numericInput&&b.tests[w]&&b.tests[w].length>1&&o.getLastValidPosition.call(g,void 0,!0)>w)&&(S=a.call(g,!0))),!0===S&&(S={pos:w})}if("function"==typeof _.postValidation&&!0!==i&&!0!==d){var j=_.postValidation.call(g,o.getBuffer.call(g,!0),void 0!==t.begin?g.isRTL?t.end:t.begin:t,e,S,_,b,n,m);void 0!==j&&(S=!0===j?S:j)}S&&void 0===S.pos&&(S.pos=w),!1===S||!0===d?(o.resetMaskSet.call(g,!0),b.validPositions=y.extend(!0,[],C)):p.call(g,void 0,w,!0);var M=k(S);return void 0!==g.maxLength&&o.getBuffer.call(g).length>g.maxLength&&!i&&(o.resetMaskSet.call(g,!0),b.validPositions=y.extend(!0,[],C),M=!1),M}function d(t,e,n){for(var i=this.maskset,o=!1,s=r.getTests.call(this,t),a=0;a<s.length;a++){if(s[a].match&&(s[a].match.nativeDef===e.match[n.shiftPositions?"def":"nativeDef"]&&(!n.shiftPositions||!e.match.static)||s[a].match.nativeDef===e.match.nativeDef||n.regex&&!s[a].match.static&&s[a].match.fn.test(e.input,i,t,!1,n))){o=!0;break}if(s[a].match&&s[a].match.def===e.match.nativeDef){o=void 0;break}}return!1===o&&void 0!==i.jitOffset[t]&&(o=d.call(this,t+i.jitOffset[t],e,n)),o}function h(t,e,n){var r,i,a=this,c=this.maskset,l=this.opts,u=this.dependencyLib,f=l.skipOptionalPartCharacter,d=a.isRTL?n.slice().reverse():n;if(l.skipOptionalPartCharacter="",!0===t)o.resetMaskSet.call(a),c.tests={},t=0,e=n.length,i=o.determineNewCaretPosition.call(a,{begin:0,end:0},!1).begin;else{for(r=t;r<e;r++)delete c.validPositions[r];i=t}var h=new u.Event("keypress");for(r=t;r<e;r++){h.key=d[r].toString(),a.ignorable=!1;var p=s.EventHandlers.keypressEvent.call(a,h,!0,!1,!1,i);!1!==p&&void 0!==p&&(i=p.forwardPosition)}l.skipOptionalPartCharacter=f}function p(t,e,n){var i=this,s=this.maskset,a=this.dependencyLib;if(void 0===t)for(t=e-1;t>0&&!s.validPositions[t];t--);for(var c=t;c<e;c++)if(void 0===s.validPositions[c]&&!o.isMask.call(i,c,!1)&&(0==c?r.getTest.call(i,c):s.validPositions[c-1])){var l=r.getTests.call(i,c).slice();""===l[l.length-1].match.def&&l.pop();var u,d=r.determineTestTemplate.call(i,c,l);if(d&&(!0!==d.match.jit||"master"===d.match.newBlockMarker&&(u=s.validPositions[c+1])&&!0===u.match.optionalQuantifier)&&((d=a.extend({},d,{input:r.getPlaceholder.call(i,c,d.match,!0)||d.match.def})).generatedInput=!0,v.call(i,c,d,!0),!0!==n)){var h=s.validPositions[e].input;return s.validPositions[e]=void 0,f.call(i,e,h,!0,!0)}}}function v(t,e,n,i){var s=this,a=this.maskset,c=this.opts,l=this.dependencyLib;function u(t,e,n){var r=e[t];if(void 0!==r&&!0===r.match.static&&!0!==r.match.optionality&&(void 0===e[0]||void 0===e[0].alternation)){var i=n.begin<=t-1?e[t-1]&&!0===e[t-1].match.static&&e[t-1]:e[t-1],o=n.end>t+1?e[t+1]&&!0===e[t+1].match.static&&e[t+1]:e[t+1];return i&&o}return!1}var h=0,p=void 0!==t.begin?t.begin:t,v=void 0!==t.end?t.end:t,m=!0;if(t.begin>t.end&&(p=t.end,v=t.begin),i=void 0!==i?i:p,void 0===n&&(p!==v||c.insertMode&&void 0!==a.validPositions[i]||void 0===e||e.match.optionalQuantifier||e.match.optionality)){var g,y=l.extend(!0,{},a.validPositions),_=o.getLastValidPosition.call(s,void 0,!0);for(a.p=p,g=_;g>=p;g--)delete a.validPositions[g],void 0===e&&delete a.tests[g+1];var b,w,k=i,x=k;for(e&&(a.validPositions[i]=l.extend(!0,{},e),x++,k++),g=e?v:v-1;g<=_;g++){if(void 0!==(b=y[g])&&!0!==b.generatedInput&&(g>=v||g>=p&&u(g,y,{begin:p,end:v}))){for(;""!==r.getTest.call(s,x).match.def;){if(!1!==(w=d.call(s,x,b,c))||"+"===b.match.def){"+"===b.match.def&&o.getBuffer.call(s,!0);var S=f.call(s,x,b.input,"+"!==b.match.def,!0);if(m=!1!==S,k=(S.pos||x)+1,!m&&w)break}else m=!1;if(m){void 0===e&&b.match.static&&g===t.begin&&h++;break}if(!m&&o.getBuffer.call(s),x>a.maskLength)break;x++}""==r.getTest.call(s,x).match.def&&(m=!1),x=k}if(!m)break}if(!m)return a.validPositions=l.extend(!0,[],y),o.resetMaskSet.call(s,!0),!1}else e&&r.getTest.call(s,i).match.cd===e.match.cd&&(a.validPositions[i]=l.extend(!0,{},e));return o.resetMaskSet.call(s,!0),h}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}var r={};return function(){var t,e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var i=((t=n(2394))&&t.__esModule?t:{default:t}).default;e.default=i}(),r}()},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(821);t.exports=r},function(t,e,n){"use strict";var r="object"==typeof document&&document.all,i=void 0===r&&void 0!==r;t.exports={all:r,IS_HTMLDDA:i}},function(t,e,n){"use strict";var r=n(206);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){"use strict";var r=n(84),i=n(41),o=n(344);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var r=n(41),i=n(56),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==u||n!=l&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},function(t,e,n){"use strict";var r=n(84),i=n(41);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,e,n){"use strict";var r=n(48),i=n(56),o=n(343),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},function(t,e,n){"use strict";var r=n(828);n(102),t.exports=r},function(t,e,n){"use strict";var r=n(21),i=n(41),o=n(192),s=n(73),a=n(101),c=n(114),l=n(347),u=n(210),f=n(348),d=n(233),h=n(60),p=n(207),v=h("isConcatSpreadable"),m=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!d("concat")},{concat:function(t){var e,n,r,i,o,s=a(this),d=f(s,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(g(o=-1===e?s:arguments[e]))for(i=c(o),l(h+i),n=0;n<i;n++,h++)n in o&&u(d,h,o[n]);else l(h+1),u(d,h++,o);return d.length=h,d}})},function(t,e,n){"use strict";n(830),n(832),n(833),n(467),n(835)},function(t,e,n){"use strict";var r=n(84),i=n(455),o=n(113),s=n(93),a=n(131),c=n(234);e.f=r&&!i?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),i=c(e),l=i.length,u=0;l>u;)o.f(t,n=i[u++],r[n]);return t}},function(t,e,n){"use strict";var r=n(48),i=n(68),o=n(131),s=n(349).indexOf,a=n(235),c=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);for(;e.length>l;)i(r,n=e[l++])&&(~s(u,n)||c(u,n));return u}},function(t,e,n){"use strict";var r=n(90);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(232),i=n(114),o=n(210),s=Array,a=Math.max;t.exports=function(t,e,n){for(var c=i(t),l=r(e,c),u=r(void 0===n?c:n,c),f=s(a(u-l,0)),d=0;l<u;l++,d++)o(f,d,t[l]);return f.length=d,f}},function(t,e,n){"use strict";var r=n(66),i=n(90),o=n(60),s=n(174);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=o("toPrimitive");e&&!e[a]&&s(e,a,(function(t){return r(n,this)}),{arity:1})}},function(t,e,n){"use strict";var r=n(63),i=n(56),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},function(t,e,n){"use strict";var r=n(206);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},function(t,e,n){"use strict";var r=n(21),i=n(90),o=n(188),s=n(66),a=n(48),c=n(41),l=n(56),u=n(231),f=n(211),d=n(834),h=n(206),p=String,v=i("JSON","stringify"),m=a(/./.exec),g=a("".charAt),y=a("".charCodeAt),_=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,S=!h||c((function(){var t=i("Symbol")();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))})),C=c((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),O=function(t,e){var n=f(arguments),r=d(e);if(l(r)||void 0!==t&&!u(t))return n[1]=function(t,e){if(l(r)&&(e=s(r,this,p(t),e)),!u(e))return e},o(v,null,n)},E=function(t,e,n){var r=g(n,e-1),i=g(n,e+1);return m(k,t)&&!m(x,i)||m(x,t)&&!m(k,r)?"\\u"+b(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:S||C},{stringify:function(t,e,n){var r=f(arguments),i=o(S?O:v,null,r);return C&&"string"==typeof i?_(i,w,E):i}})},function(t,e,n){"use strict";n(69)("iterator")},function(t,e,n){"use strict";var r=n(69),i=n(464);r("toPrimitive"),i()},function(t,e,n){"use strict";var r=n(84),i=n(68),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},function(t,e,n){"use strict";var r,i,o,s=n(41),a=n(56),c=n(73),l=n(193),u=n(213),f=n(174),d=n(60),h=n(112),p=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):v=!0),!c(r)||s((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=l(r)),a(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},function(t,e,n){"use strict";var r=n(41);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(90),i=n(48),o=r("Symbol"),s=o.keyFor,a=i(o.prototype.valueOf);t.exports=o.isRegisteredSymbol||function(t){try{return void 0!==s(a(t))}catch(t){return!1}}},function(t,e,n){"use strict";for(var r=n(208),i=n(90),o=n(48),s=n(231),a=n(60),c=i("Symbol"),l=c.isWellKnownSymbol,u=i("Object","getOwnPropertyNames"),f=o(c.prototype.valueOf),d=r("wks"),h=0,p=u(c),v=p.length;h<v;h++)try{var m=p[h];s(c[m])&&a(m)}catch(t){}t.exports=function(t){if(l&&l(t))return!0;try{for(var e=f(t),n=0,r=u(d),i=r.length;n<i;n++)if(d[r[n]]==e)return!0}catch(t){}return!1}},function(t,e,n){"use strict";var r=n(878);n(102),t.exports=r},function(t,e,n){"use strict";t.exports=n(880)},function(t,e,n){"use strict";var r=n(882);t.exports=r},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";t.exports=n(885)},function(t,e,n){"use strict";var r=n(887);t.exports=r},function(t,e,n){"use strict";var r=n(66),i=n(93),o=n(342);t.exports=function(t,e,n){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw n;return n}s=r(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw n;if(a)throw s;return i(s),n}},function(t,e,n){"use strict";var r=n(60),i=n(212),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){"use strict";var r=n(60)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r=n(485),i=n(479),o=n(478);t.exports=function(t,e){var n;if(t){if("string"==typeof t)return o(t,e);var s=r(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?i(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";t.exports=n(891)},function(t,e,n){"use strict";var r=n(84),i=n(192),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},function(t,e,n){"use strict";var r=n(905);t.exports=r},function(t,e,n){var r=n(74).default,i=n(907);t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(191),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw i("Cannot delete property "+r(e)+" of "+r(t))}},function(t,e,n){"use strict";var r=n(944);n(102),t.exports=r},function(t,e,n){"use strict";var r=n(41);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(193),i=n(352),o=n(358),s=n(97),a=n(281),c=n(190),l=n(117),u=n(353),f=n(354),d=n(493),h=n(84),p=n(280).fastKey,v=n(175),m=v.set,g=v.getterFor;t.exports={getConstructor:function(t,e,n,u){var f=t((function(t,i){a(t,d),m(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),c(i)||l(i,t[u],{that:t,AS_ENTRIES:n})})),d=f.prototype,v=g(e),y=function(t,e,n){var r,i,o=v(t),s=_(t,e);return s?s.value=n:(o.last=s={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),h?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},_=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=_(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=s(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!_(this,t)}}),o(d,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),o=g(r);u(t,e,(function(t,e){m(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict";var r=n(90),i=n(352),o=n(60),s=n(84),a=o("species");t.exports=function(t){var e=r(t);s&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(48),i=n(154),o=n(115),s=n(359),a=r("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(t){return function(e){var n=o(i(e));return 1&t&&(n=a(n,c,"")),2&t&&(n=a(n,l,"$1")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e,n){"use strict";var r=n(974);t.exports=r},function(t,e,n){"use strict";t.exports=n(976)},function(t,e,n){"use strict";n(102);var r=n(155),i=n(68),o=n(50),s=n(984),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===a||o(a,t)&&e===a.forEach||i(c,r(t))?s:e}},function(t,e,n){"use strict";var r=n(996);n(102),t.exports=r},function(t,e,n){"use strict";n(997)},function(t,e,n){"use strict";var r=n(93),i=n(363),o=n(190),s=n(60)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||o(n=r(a)[s])?e:i(n)}},function(t,e,n){"use strict";var r,i,o,s,a=n(63),c=n(188),l=n(97),u=n(56),f=n(68),d=n(41),h=n(462),p=n(211),v=n(344),m=n(502),g=n(503),y=n(236),_=a.setImmediate,b=a.clearImmediate,w=a.process,k=a.Dispatch,x=a.Function,S=a.MessageChannel,C=a.String,O=0,E={},P="onreadystatechange";d((function(){r=a.location}));var A=function(t){if(f(E,t)){var e=E[t];delete E[t],e()}},T=function(t){return function(){A(t)}},j=function(t){A(t.data)},M=function(t){a.postMessage(C(t),r.protocol+"//"+r.host)};_&&b||(_=function(t){m(arguments.length,1);var e=u(t)?t:x(t),n=p(arguments,1);return E[++O]=function(){c(e,void 0,n)},i(O),O},b=function(t){delete E[t]},y?i=function(t){w.nextTick(T(t))}:k&&k.now?i=function(t){k.now(T(t))}:S&&!g?(s=(o=new S).port2,o.port1.onmessage=j,i=l(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(M)?(i=M,a.addEventListener("message",j,!1)):i=P in v("script")?function(t){h.appendChild(v("script"))[P]=function(){h.removeChild(this),A(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:_,clear:b}},function(t,e,n){"use strict";var r=TypeError;t.exports=function(t,e){if(t<e)throw r("Not enough arguments");return t}},function(t,e,n){"use strict";var r=n(173);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=r},function(t,e,n){"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(t,e,n){"use strict";var r=n(93),i=n(73),o=n(157);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(78),s=n(157),a=n(214),c=n(117);r({target:"Promise",stat:!0,forced:n(282)},{allSettled:function(t){var e=this,n=s.f(e),r=n.resolve,l=n.reject,u=a((function(){var n=o(e.resolve),s=[],a=0,l=1;c(t,(function(t){var o=a++,c=!1;l++,i(n,e,t).then((function(t){c||(c=!0,s[o]={status:"fulfilled",value:t},--l||r(s))}),(function(t){c||(c=!0,s[o]={status:"rejected",reason:t},--l||r(s))}))})),--l||r(s)}));return u.error&&l(u.value),n.promise}})},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(78),s=n(90),a=n(157),c=n(214),l=n(117),u=n(282),f="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(t){var e=this,n=s("AggregateError"),r=a.f(e),u=r.resolve,d=r.reject,h=c((function(){var r=o(e.resolve),s=[],a=0,c=1,h=!1;l(t,(function(t){var o=a++,l=!1;c++,i(r,e,t).then((function(t){l||h||(h=!0,u(t))}),(function(t){l||h||(l=!0,s[o]=t,--c||d(new n(s,f)))}))})),--c||d(new n(s,f))}));return h.error&&d(h.value),r.promise}})},function(t,e,n){"use strict";var r=n(1026);t.exports=r},function(t,e,n){"use strict";var r=n(1029);t.exports=r},function(t,e,n){"use strict";var r=n(48),i=n(78),o=n(73),s=n(68),a=n(211),c=n(229),l=Function,u=r([].concat),f=r([].join),d={};t.exports=c?l.bind:function(t){var e=i(this),n=e.prototype,r=a(arguments,1),c=function(){var n=u(r,a(arguments));return this instanceof c?function(t,e,n){if(!s(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=l("C,a","return new C("+f(r,",")+")")}return d[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(c.prototype=n),c}},function(t,e,n){"use strict";var r=n(1033);t.exports=r},function(t,e,n){"use strict";var r=n(66),i=n(78),o=n(56),s=n(93),a=TypeError;t.exports=function(t,e){var n,c=s(this),l=i(c.get),u=i(c.has),f=i(c.set),d=arguments.length>2?arguments[2]:void 0;if(!o(e)&&!o(d))throw a("At least one callback required");return r(u,c,t)?(n=r(l,c,t),o(e)&&(n=e(n),r(f,c,t,n))):o(d)&&(n=d(),r(f,c,t,n)),n}},function(t,e,n){"use strict";var r=n(1068);t.exports=r},function(t,e,n){"use strict";t.exports=n(1071)},function(t,e,n){"use strict";var r=n(48),i=n(358),o=n(280).getWeakData,s=n(281),a=n(93),c=n(190),l=n(73),u=n(117),f=n(156),d=n(68),h=n(175),p=h.set,v=h.getterFor,m=f.find,g=f.findIndex,y=r([].splice),_=0,b=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},k=function(t,e){return m(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=k(this,t);if(e)return e[1]},has:function(t){return!!k(this,t)},set:function(t,e){var n=k(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var f=t((function(t,i){s(t,h),p(t,{type:e,id:_++,frozen:void 0}),c(i)||u(i,t[r],{that:t,AS_ENTRIES:n})})),h=f.prototype,m=v(e),g=function(t,e,n){var r=m(t),i=o(a(e),!0);return!0===i?b(r).set(e,n):i[r.id]=n,t};return i(h,{delete:function(t){var e=m(this);if(!l(t))return!1;var n=o(t);return!0===n?b(e).delete(t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=m(this);if(!l(t))return!1;var n=o(t);return!0===n?b(e).has(t):n&&d(n,e.id)}}),i(h,n?{get:function(t){var e=m(this);if(l(t)){var n=o(t);return!0===n?b(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),f}}},function(t,e,n){"use strict";var r=n(1107);t.exports=r},function(t,e,n){"use strict";n(1164),n(1166)},function(t,e,n){"use strict";var r,i=n(63),o=n(188),s=n(56),a=n(1165),c=n(173),l=n(211),u=n(502),f=i.Function,d=/MSIE .\./.test(c)||a&&((r=i.Bun.version.split(".")).length<3||0==r[0]&&(r[1]<3||3==r[1]&&0==r[2]));t.exports=function(t,e){var n=e?2:1;return d?function(r,i){var a=u(arguments.length,1)>n,c=s(r)?r:f(r),d=a?l(arguments,n):[],h=a?function(){o(c,this,d)}:c;return e?t(h,i):t(h)}:t}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l}));var r=n(176),i=n(293),o=n(124),s=n(99),a=n(120);const c="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class l extends r.a{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=c?{}:Object(o.c)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=s.d&&!c?e?new s.a(t,e):new s.a(t):new s.a(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Object(a.e)(r,this.supportsBinary,(e=>{const n={};if(!s.d&&(r.options&&(n.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?t.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(n.compress=!1)}try{s.d?this.ws.send(e):this.ws.send(e,n)}catch(t){}i&&Object(s.c)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(i.a)()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!s.a}}}).call(this,n(778).Buffer)},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var r=n(1036),i=n(361),o=n(11),s=n(364),a=n(1064),c=n(369);function l(e){var n="function"==typeof r?new r:void 0;return t.exports=l=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return c(t,arguments,o(this).constructor)}return e.prototype=i(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,l(e)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports=n(1078)},function(t,e,n){t.exports=n(1102)},function(t,e,n){t.exports=n(1105)},function(t,e,n){t.exports=n(517)},function(t,e,n){t.exports=n(1163)},function(t,e,n){t.exports=n(498)},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"protocol",(function(){return $})),n.d(r,"PacketType",(function(){return F})),n.d(r,"Encoder",(function(){return q})),n.d(r,"Decoder",(function(){return V}));var i=n(176),o=n(293),s=n(120);let a=!1;try{a="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const c=a;var l=n(94);function u(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||c))return new XMLHttpRequest}catch(t){}if(!e)try{return new(l.a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}var f=n(123),d=n(124);function h(){}const p=null!=new u({xdomain:!1}).responseType;class v extends i.a{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=p&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){Object(s.d)(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,Object(s.f)(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(o.a)()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new m(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class m extends f.a{constructor(t,e){super(),Object(d.b)(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=Object(d.c)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new u(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=m.requestsCount++,m.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=h,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete m.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(m.requestsCount=0,m.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",g);else if("function"==typeof addEventListener){const t="onpagehide"in l.a?"pagehide":"unload";addEventListener(t,g,!1)}function g(){for(let t in m.requests)m.requests.hasOwnProperty(t)&&m.requests[t].abort()}var y=n(533),_=n(99);class b extends i.a{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=Object(s.a)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=Object(s.b)();r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;this.writer.write(n).then((()=>{r&&Object(_.c)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}}const w={websocket:y.a,webtransport:b,polling:v};var k=n(292);const x=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,S=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function C(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=x.exec(t||""),o={},s=14;for(;s--;)o[S[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||r.splice(0,1);"/"==e.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}class O extends f.a{constructor(t,e={}){super(),this.binaryType=_.b,this.writeBuffer=[],t&&"object"==typeof t&&(e=t,t=null),t?(t=C(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=C(e.host).host),Object(d.b)(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=Object(k.a)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=s.g,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new w[t](n)}open(){let t;if(this.opts.rememberUpgrade&&O.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;O.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;O.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,l(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&i()}const l=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};e.once("open",r),e.once("error",o),e.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",O.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){const n=this.writeBuffer[e].data;if(n&&(t+=Object(d.a)(n)),e>0&&t>this.maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){O.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}O.protocol=s.g;O.protocol;const E="function"==typeof ArrayBuffer,P=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,A=Object.prototype.toString,T="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===A.call(Blob),j="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===A.call(File);function M(t){return E&&(t instanceof ArrayBuffer||P(t))||T&&t instanceof Blob||j&&t instanceof File}function I(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(I(t[e]))return!0;return!1}if(M(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return I(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&I(t[e]))return!0;return!1}function N(t){const e=[],n=t.data,r=t;return r.data=R(n,e),r.attachments=e.length,{packet:r,buffers:e}}function R(t,e){if(!t)return t;if(M(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=R(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=R(t[r],e));return n}return t}function D(t,e){return t.data=L(t.data,e),delete t.attachments,t}function L(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=L(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=L(t[n],e));return t}const B=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$=5;var F;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(F||(F={}));class q{constructor(t){this.replacer=t}encode(t){return t.type!==F.EVENT&&t.type!==F.ACK||!I(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===F.EVENT?F.BINARY_EVENT:F.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==F.BINARY_EVENT&&t.type!==F.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=N(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function U(t){return"[object Object]"===Object.prototype.toString.call(t)}class V extends f.a{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===F.BINARY_EVENT;n||e.type===F.BINARY_ACK?(e.type=n?F.EVENT:F.ACK,this.reconstructor=new z(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!M(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===F[n.type])throw new Error("unknown packet type "+n.type);if(n.type===F.BINARY_EVENT||n.type===F.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!V.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case F.CONNECT:return U(e);case F.DISCONNECT:return void 0===e;case F.CONNECT_ERROR:return"string"==typeof e||U(e);case F.EVENT:case F.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===B.indexOf(e[0]));case F.ACK:case F.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class z{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=D(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function H(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const W=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Y extends f.a{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[H(t,"open",this.onopen.bind(this)),H(t,"packet",this.onpacket.bind(this)),H(t,"error",this.onerror.bind(this)),H(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(W.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:F.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,r=e.pop();this._registerAckCallback(t,r),n.id=t}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...t])}}emitWithAck(t,...e){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,i)=>{e.push(((t,e)=>n?t?i(t):r(e):r(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n!==this._queue[0])return;return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:F.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case F.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case F.EVENT:case F.BINARY_EVENT:this.onevent(t);break;case F.ACK:case F.BINARY_ACK:this.onack(t);break;case F.DISCONNECT:this.ondisconnect();break;case F.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:F.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:F.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function G(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}G.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},G.prototype.reset=function(){this.attempts=0},G.prototype.setMin=function(t){this.ms=t},G.prototype.setMax=function(t){this.max=t},G.prototype.setJitter=function(t){this.jitter=t};class J extends f.a{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,Object(d.b)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new G({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new O(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=H(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=H(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(H(t,"ping",this.onping.bind(this)),H(t,"data",this.ondata.bind(this)),H(t,"error",this.onerror.bind(this)),H(t,"close",this.onclose.bind(this)),H(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){Object(_.c)((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Y(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const K={};function Q(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=C(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=K[i]&&o in K[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?a=new J(r,e):(K[i]||(K[i]=new J(r,e)),a=K[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Q,{Manager:J,Socket:Y,io:Q,connect:Q});e.a=function(){if(vo.url_socket){var t=Q(vo.url_socket,{withCredentials:!0,query:{auth_mode:vo.auth_mode}});vo.socket=t,t.on("error",(function(t){console.log("error",t)})),t.on("errors",(function(t){console.log("chat-error",t)})),window.addEventListener("focus",(function(){t.disconnected&&t.connect()}))}else vo.socket={on:function(){console.log("Sockets disabled")},emmit:function(){console.log("Sockets disabled")}}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"zoom"},[e("img",{staticClass:"zoom",style:t.imgStyle,attrs:{draggable:"false",id:t.image_id,src:t.image_src,alt:"alt"},on:{mousedown:t.captureOn,mouseup:t.captureOff,mousemove:t.mo,mouseleave:t.captureOff,touchstart:t.captureOn,touchmove:t.mo,touchend:t.captureOff}})])};r._withStripped=!0;var i=n(300),o=n.n(i),s=n(12);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(18).a.use(o.a);var f={name:"Figure",props:{image_key:{type:Number,required:!0},images_settings:{type:Object,required:!0}},data:function(){return{captureToggle:!1,isMobEvents:!1,x0:null,y0:null,prevTranslateX:0,prevTranslateY:0,translateX:0,translateY:0}},methods:{mo:function(t){this.captureToggle&&this.updateCoordinates(t)},captureOn:function(t){this.captureToggle||(this.captureToggle=!0,"offsetX"in t&&"number"==typeof t.offsetX?(this.x0=t.offsetX,this.y0=t.offsetY):(this.isMobEvents=!0,this.x0=t.touches[0].clientX,this.y0=t.touches[0].clientY))},captureOff:function(t){this.captureToggle&&(this.captureToggle=!1,this.x0=null,this.y0=null,this.isMobEvents&&(this.prevTranslateX=this.translateX,this.prevTranslateY=this.translateY),this.$store.commit("Gallery/updateImageSettings",{img_key:this.image_key,settings:l(l({},this.images_settings),{},{translateX:this.translateX,translateY:this.translateY})}))},updateCoordinates:function(t){var e,n;"offsetX"in t&&"number"==typeof t.offsetX?(e=t.offsetX,n=t.offsetY,this.translateX+=e-this.x0,this.translateY+=n-this.y0):(e=t.touches[0].clientX,n=t.touches[0].clientY,this.translateX=this.prevTranslateX+e-this.x0,this.translateY=this.prevTranslateY+n-this.y0)}},computed:l({image_id:function(){return"img-"+this.image_key},rotate:function(){return this.images_settings.rotate},scale:function(){return this.images_settings.scale},image_src:function(){return this.images_settings.image_src},imgStyle:function(){return{height:this.height,transform:"rotate(".concat(this.rotate,"deg) scale(").concat(this.scale,") translateX(").concat(this.translateX,"px) translateY(").concat(this.translateY,"px)"),cursor:this.captureToggle?"grabbing":"grab"}}},Object(s.d)("Gallery",["height"])),created:function(){this.translateX=this.images_settings.translateX,this.translateY=this.images_settings.translateY},watch:{"images_settings.resetTranslate":function(){this.translateX=0,this.translateY=0,this.prevTranslateX=0,this.prevTranslateY=0}}},d=(n(1181),n(0)),h=Object(d.a)(f,r,[],!1,null,"15a402ac",null);e.a=h.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"n-nav__galery"},[e("div",{staticClass:"n-col__galery-nav n-align-center n-order1"},[e("span",{staticClass:"n-item-type__logo"},[t._v("\n                   Зображення: "+t._s(t.active_key+1)+" з "+t._s(t.images_settings.length)+"\n            ")])]),t._v(" "),e("div",{staticClass:"n-col__galery-nav n-align-center n-center-col n-order2"},[e("div",{staticClass:"n-nav__column-center-col"},[[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-white",attrs:{title:"Розвернути ліворуч"},on:{click:t.rotateLeft}},[t._v("↺")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-red",class:{"n-disabled":0===t.settings.rotate},attrs:{title:"Повернути до початкової орієнтації"},on:{click:t.rotateReset}},[t._v("✖")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-white",attrs:{title:"Розвернути праворуч"},on:{click:t.rotateRight}},[t._v("↻")])]],2),t._v(" "),e("div",{staticClass:"n-nav__column-center-col"},[[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-white",attrs:{title:"Зменшити"},on:{click:t.minusBackgroundSize}},[t._v("- 🔍")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-red",class:{"n-disabled":1===t.settings.scale},attrs:{title:"Повернути до початкового масштабу"},on:{click:t.resetBackgroundSize}},[t._v("✖")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-white",attrs:{title:"Збільшити"},on:{click:t.plusBackgroundSize}},[t._v("+ 🔎 ")])]],2),t._v(" "),[e("div",{staticClass:"n-nav__column-center-col n-order3"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-galery__btn n-white",class:{"n-disabled":!t.isTranslateXY},attrs:{title:"Повернути в початкове положення (центрувати)"},on:{click:t.resetTranslateXY}},[t._v("+")])])]],2),t._v(" "),e("div",{staticClass:"n-col__galery-nav n-flex-wrap n-align-center"},[e("a",{staticClass:"vo-link-white",attrs:{target:"_blank",href:t.fileUrlOrigin(t.img_name)}},[t._v("Скачати на ПК")]),t._v(" "),e("a",{staticClass:"vo-link-white",attrs:{target:"_blank",href:t.fileUrl(t.img_name)}},[t._v("Відкрити в браузері")])])])])};r._withStripped=!0;var i=n(12),o=n(1);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={name:"ControlElements",computed:c(c({},Object(i.d)("Gallery",["active_key","images_settings"])),{},{img_name:function(){return Object(o.Z)(this.settings.image_src,"PHP_URL_PATH").substring(1)},settings:{get:function(){return this.images_settings[this.active_key]},set:function(t){this.$store.commit("Gallery/updateImageSettings",{img_key:this.active_key,settings:t})}},isTranslateXY:function(){return 0!==this.settings.translateX||0!==this.settings.translateY}}),methods:{fileUrl:o.u,fileUrlOrigin:o.v,rotateLeft:function(){var t=JSON.parse(JSON.stringify(this.settings));t.rotate>0?t.rotate-=90:t.rotate=270,this.settings=t},rotateRight:function(){var t=JSON.parse(JSON.stringify(this.settings));t.rotate+=90,t.rotate>=360&&(t.rotate=0),this.settings=t},rotateReset:function(){var t=JSON.parse(JSON.stringify(this.settings));t.rotate=0,this.settings=t},plusBackgroundSize:function(){var t=JSON.parse(JSON.stringify(this.settings));t.scale>=5||(t.scale+=.2,this.settings=t)},minusBackgroundSize:function(){var t=JSON.parse(JSON.stringify(this.settings));t.scale<=.3||(t.scale-=.2,this.settings=t)},resetBackgroundSize:function(){var t=JSON.parse(JSON.stringify(this.settings));t.scale=1,this.settings=t},resetTranslateXY:function(){if(this.isTranslateXY){var t=JSON.parse(JSON.stringify(this.settings));t.translateX=0,t.translateY=0,t.resetTranslate+=1,this.settings=t}}}},f=n(0),d=Object(f.a)(u,r,[],!1,null,"35c1fc22",null);e.a=d.exports},,,,,,,,function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-test-page-modal"},[e("form",{attrs:{id:t.formId}},[e("input",{attrs:{type:"hidden",name:"id_test"},domProps:{value:t.id_test}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.config.id}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.start_mode,expression:"form.start_mode"}],attrs:{type:"hidden",name:"TestExecutionConfig[start_mode]"},domProps:{value:t.form.start_mode},on:{input:function(e){e.target.composing||t.$set(t.form,"start_mode",e.target.value)}}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[optionBitArray]",value:"0"}}),t._v(" "),t._l(t.hiddenInputs,(function(t,n){return e("input",{attrs:{type:"hidden",name:n},domProps:{value:t}})})),t._v(" "),t.is_lesson||t.is_journal?t._e():e("div",[e("div",{staticClass:"n-top-subject-title"},[t._v("Створіть своє проходження")]),t._v(" "),e("div",{staticClass:"v-test-page-modal-name"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label",attrs:{for:t.id_widget+"-title"}},[t._v("\n                        Назва "+t._s(t.testText)+":\n                    ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"vo-input",attrs:{type:"text",id:t.id_widget+"-title",name:"TestExecutionConfig[title]",placeholder:"Назва "+t.testText,autocomplete:"off"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),e("span",[t._v("як приклад Ви можете вказати назву класу")])])]),t._v(" "),t.is_lesson||t.is_in_editor?t._e():e("div",{staticClass:"n-regime-test-wrap"},[e("div",{staticClass:"n-subject-title"},[t._v("Режими "+t._s(t.testText)+":")]),t._v(" "),e("div",{staticClass:"v-test-page-modal-types-buttons"},[e("div",{class:["vr-start-mode",t.form.start_mode===t.START_MODE_ACTIVE?"active":""]},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.form.start_mode=t.START_MODE_ACTIVE}}},[t._v("\n                        Активний\n                    ")])]),t._v(" "),e("div",{class:["vr-start-mode",t.form.start_mode===t.START_MODE_PLANED?"active":""]},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.form.start_mode=t.START_MODE_PLANED}}},[t._v("\n                        Запланований\n                    ")])]),t._v(" "),e("div",{class:["vr-start-mode",t.form.start_mode===t.START_MODE_CONTROL?"active":""]},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){t.form.start_mode=t.START_MODE_CONTROL}}},[t._v("\n                        Керований\n                    ")])])]),t._v(" "),e("div",{staticClass:"v-test-page-modal-types-buttons-desc"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.form.start_mode===t.START_MODE_ACTIVE,expression:"form.start_mode === START_MODE_ACTIVE"}],staticClass:"vr-start-mode-desc"},[t._v("\n                    Почати проходження можна відразу. Цей режим ідеально підходить для проведення самостійних або контрольних робіт.\n                ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.form.start_mode===t.START_MODE_PLANED,expression:"form.start_mode === START_MODE_PLANED"}],staticClass:"vr-start-mode-desc"},[t._v("\n                    Почати "+t._s(t.testText)+" можна лише в заданий час. Цей режим ідеально підходить для перевірки знань учнів вдома.\n                ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.form.start_mode===t.START_MODE_CONTROL,expression:"form.start_mode === START_MODE_CONTROL"}],staticClass:"vr-start-mode-desc"},[t._v("\n                    Почати проходження можна лише за вказівкою. Цей режим особливий тим, що вчитель сам визначає тривалість "+t._s(t.testText)+".\n                ")])]),t._v(" "),e("div",{staticClass:"n-triangle"})]),t._v(" "),e("div",{staticClass:"v-test-page-modal-info"},[!t.is_test_premium||t.is_user_premium||t.is_payed?t._e():e("div",{staticClass:"lib-inside-block-info yellow"},[e("p",{staticClass:"alert-block-title vo-mb05"},[t._v("\n                    Цей тест містить Преміум запитання.\n                ")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:[t.START_MODE_ACTIVE,t.START_MODE_PLANED].indexOf(t.form.start_mode)>=0,expression:"[START_MODE_ACTIVE, START_MODE_PLANED].indexOf(form.start_mode) >= 0"}]},[e("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                    Обмеження\n                ")]),t._v(" "),t.form.start_mode===t.START_MODE_PLANED?e("div",{staticClass:"create-testing-row vert-center vo-mb1 md"},[e("div",{staticClass:"vo-form-group flex1"},[e("label",[t._v("\n                            введіть дату початку:\n                        ")]),t._v(" "),e("xInputMask",{attrs:{opt:{mask:"99.99.9999 99:99",placeholder:"ДД.ММ.РРРР 00:00"},attr_id:t.id_widget+"-start-at",attr_class:"form-control n-form-control-input",attr_autocomplete:"off",attr_name:"TestExecutionConfig[startAtStr]"},model:{value:t.form.startAtStr,callback:function(e){t.$set(t.form,"startAtStr",e)},expression:"form.startAtStr"}})],1),t._v(" "),e("div",{staticClass:"vo-form-group flex1"},[e("label",[t._v("\n                            введіть дату закінчення:\n                        ")]),t._v(" "),e("xInputMask",{attrs:{opt:{mask:"99.99.9999 99:99",placeholder:"ДД.ММ.РРРР 00:00"},attr_id:t.id_widget+"-end-at",attr_class:"form-control n-form-control-input",attr_autocomplete:"off",attr_name:"TestExecutionConfig[endAtStr]"},model:{value:t.form.endAtStr,callback:function(e){t.$set(t.form,"endAtStr",e)},expression:"form.endAtStr"}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"create-testing-row vert-bottom md"},[t.is_in_editor?t._e():e("div",{staticClass:"v-test-page-modal-date-block"},[e("div",{staticClass:"vo-form-group"},[e("label",[t._v("\n                                введіть час "+t._s(t.testText)+" (хв.):\n                            ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.duration,expression:"form.duration"}],staticClass:"vo-input",attrs:{type:"text",id:t.id_widget+"-duration",required:"",name:"TestExecutionConfig[duration]"},domProps:{value:t.form.duration},on:{input:function(e){e.target.composing||t.$set(t.form,"duration",e.target.value)}}})])]),t._v(" "),t.is_poll||t.is_in_editor?t._e():e("div",{staticClass:"v-test-page-modal-date-block"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_show_result]",value:"0"}}),t._v(" "),e("label",{staticClass:"vo-form-label vo-mb0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_show_result,expression:"form.is_show_result"}],attrs:{type:"checkbox",name:"TestExecutionConfig[is_show_result]"},domProps:{value:1,checked:Array.isArray(t.form.is_show_result)?t._i(t.form.is_show_result,1)>-1:t.form.is_show_result},on:{change:function(e){var n=t.form.is_show_result,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_show_result",n.concat([1])):o>-1&&t.$set(t.form,"is_show_result",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_show_result",i)}}}),t._v(" "),e("span",[t._v("Показати результати")])])]),t._v(" "),e("div",{staticClass:"v-test-page-modal-date-block"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_show_answer]",value:"0"}}),t._v(" "),e("label",{staticClass:"vo-form-label vo-mb0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_show_answer,expression:"form.is_show_answer"}],attrs:{type:"checkbox",name:"TestExecutionConfig[is_show_answer]"},domProps:{value:1,checked:Array.isArray(t.form.is_show_answer)?t._i(t.form.is_show_answer,1)>-1:t.form.is_show_answer},on:{change:function(e){var n=t.form.is_show_answer,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_show_answer",n.concat([1])):o>-1&&t.$set(t.form,"is_show_answer",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_show_answer",i)}}}),t._v("\n                            Показати роботу над помилками")])])]),t._v(" "),t.form.is_show_answer?[e("div",{staticClass:"v-test-page-modal-dates n-test-page-modal-dates-none-margin-bottom"},[e("div",{staticClass:"v-test-page-modal-date-block"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_show_answer_right]",value:"0"}}),t._v(" "),e("label",{staticClass:"vo-form-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_show_answer_right,expression:"form.is_show_answer_right"}],attrs:{type:"checkbox",name:"TestExecutionConfig[is_show_answer_right]"},domProps:{value:1,checked:Array.isArray(t.form.is_show_answer_right)?t._i(t.form.is_show_answer_right,1)>-1:t.form.is_show_answer_right},on:{change:function(e){var n=t.form.is_show_answer_right,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_show_answer_right",n.concat([1])):o>-1&&t.$set(t.form,"is_show_answer_right",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_show_answer_right",i)}}}),t._v("\n                                Показувати правильні відповіді в роботі над помилками")])])]),t._v(" "),t.form.is_show_answer_right?e("div",{staticClass:"v-test-page-modal-dates n-test-page-modal-dates-none-margin-bottom"},[t._m(3)]):t._e()]:t._e()],2)]),t._v(" "),t.is_poll?t._e():e("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[e("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                Оцінювання\n            ")]),t._v(" "),t.is_lesson?t._e():e("div",[e("div",{staticClass:"vo-form-group vo-mb1"},[e("label",{attrs:{for:t.id_widget+"-mark_system"}},[t._v("Система оцінювання:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.markSystem,expression:"markSystem"}],staticClass:"form-control",attrs:{id:t.id_widget+"-mark_system",name:"TestExecutionConfig[mark_system]",disabled:t.disableMarkSystem},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.markSystem=e.target.multiple?n:n[0]}}},[e("option",{domProps:{value:0}},[t._v("[...]")]),t._v(" "),e("option",{domProps:{value:1}},[t._v("Для учнів (12 балів)")]),t._v(" "),e("option",{domProps:{value:2}},[t._v("Для дошкільнят/Початкова освіта (без оцінок)")]),t._v(" "),e("option",{domProps:{value:3}},[t._v("Для студентів (100 балів, A-Fx)")]),t._v(" "),e("option",{domProps:{value:5}},[t._v("Рівнева оцінка (НУШ, 3-4 класи)")])])]),t._v(" "),e("div",{staticClass:"create-testing-row md vo-mb1"},[e("div",{staticClass:"vo-form-group flex1"},[e("label",[t._v("\n                            Максимальний бал за тест:\n                        ")]),t._v(" "),t.disableMarkSystem&&0!==t.form.mark_system?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max_mark,expression:"form.max_mark"}],attrs:{type:"hidden",name:"TestExecutionConfig[max_mark]"},domProps:{value:t.form.max_mark},on:{input:function(e){e.target.composing||t.$set(t.form,"max_mark",e.target.value)}}}):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxMark,expression:"maxMark"}],staticClass:"n-form-control-input",attrs:{type:"text",id:t.id_widget+"-max_mark",required:"",name:"TestExecutionConfig[max_mark]",disabled:t.disableMarkSystem&&0!==t.form.mark_system},domProps:{value:t.maxMark},on:{input:function(e){e.target.composing||(t.maxMark=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"vo-form-group flex1"},[e("label",[t._v("\n                            Мінімальний бал зарахування:\n                        ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_mark,expression:"form.min_mark"}],staticClass:"n-form-control-input",attrs:{type:"text",pattern:"\\d+",id:t.id_widget+"-min_mark",required:"",name:"TestExecutionConfig[min_mark]"},domProps:{value:t.form.min_mark},on:{input:function(e){e.target.composing||t.$set(t.form,"min_mark",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"vo-form-group"},[e("label",{attrs:{for:t.id_widget+"-mark_type"}},[t._v("Спосіб розрахунку балів у питаннях\n                    з множинним вибором:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.mark_type,expression:"form.mark_type"}],attrs:{id:t.id_widget+"-mark_type",name:"TestExecutionConfig[mark_type]"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"mark_type",e.target.multiple?n:n[0])}}},[e("option",{domProps:{value:0}},[t._v("100% співпадіння (без права на помилку)")]),t._v(" "),e("option",{domProps:{value:1}},[t._v("З частковим співпадінням (попередня версія до 2021 року)")]),t._v(" "),e("option",{domProps:{value:2}},[t._v("З частковим співпадінням пропорційна (оновлена, рекомендована)")])])]),t._v(" "),""!==t.marks[t.form.mark_system].desc?e("div",{staticClass:"v-check-not-allow-check"},[e("div",{staticClass:"form-group"},[e("p",{staticClass:"a-inform-otsinka",domProps:{innerHTML:t._s(t.marks[t.form.mark_system].desc)}})])]):t._e()]),t._v(" "),e("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[e("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                Додаткові опції.\n            ")]),t._v(" "),e("div",{staticClass:"v-test-page-modal-dates"},[e("div",[e("div",{staticClass:"vo-form-label vo-mb05"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_wall_mode]",value:"0"}}),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_wall_mode,expression:"form.is_wall_mode"}],attrs:{type:"checkbox",id:t.id_widget+"-is_wall_mode",name:"TestExecutionConfig[is_wall_mode]"},domProps:{value:1,checked:Array.isArray(t.form.is_wall_mode)?t._i(t.form.is_wall_mode,1)>-1:t.form.is_wall_mode},on:{change:function(e){var n=t.form.is_wall_mode,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_wall_mode",n.concat([1])):o>-1&&t.$set(t.form,"is_wall_mode",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_wall_mode",i)}}}),t._v("\n                            Показувати відразу всі запитання\n                        ")])]),t._v(" "),t.is_poll||t.is_lesson?t._e():e("div",{staticClass:"vo-form-label vo-mb05"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[show_answer_mode]",value:"0"}}),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.show_answer_mode,expression:"form.show_answer_mode"}],attrs:{type:"checkbox",id:t.id_widget+"-show_answer_mode",name:"TestExecutionConfig[show_answer_mode]"},domProps:{value:1,checked:Array.isArray(t.form.show_answer_mode)?t._i(t.form.show_answer_mode,1)>-1:t.form.show_answer_mode},on:{change:function(e){var n=t.form.show_answer_mode,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"show_answer_mode",n.concat([1])):o>-1&&t.$set(t.form,"show_answer_mode",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"show_answer_mode",i)}}}),t._v("\n                            😊😢\n                            Показувати результат відповіді після кожного питання\n                        ")])]),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[quest_order_mode]",value:"0"}}),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quest_order_mode,expression:"form.quest_order_mode"}],attrs:{type:"checkbox",id:t.id_widget+"-quest_order_mode",name:"TestExecutionConfig[quest_order_mode]"},domProps:{value:1,checked:Array.isArray(t.form.quest_order_mode)?t._i(t.form.quest_order_mode,1)>-1:t.form.quest_order_mode},on:{change:function(e){var n=t.form.quest_order_mode,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"quest_order_mode",n.concat([1])):o>-1&&t.$set(t.form,"quest_order_mode",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"quest_order_mode",i)}}}),t._v("\n                            Показувати варіанти відповіді у випадковому порядку\n                        ")])]),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_quest_shuffle]",value:"0"}}),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_quest_shuffle,expression:"form.is_quest_shuffle"}],attrs:{type:"checkbox",id:t.id_widget+"-is_quest_shuffle",name:"TestExecutionConfig[is_quest_shuffle]"},domProps:{value:1,checked:Array.isArray(t.form.is_quest_shuffle)?t._i(t.form.is_quest_shuffle,1)>-1:t.form.is_quest_shuffle},on:{change:function(e){var n=t.form.is_quest_shuffle,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_quest_shuffle",n.concat([1])):o>-1&&t.$set(t.form,"is_quest_shuffle",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_quest_shuffle",i)}}}),t._v("\n                            Показувати запитання у випадковому порядку\n                        ")])]),t._v(" "),t.is_lesson||t.is_in_editor?t._e():e("div",{staticClass:"vo-form-label vo-mb05"},[e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_session_fixed]",value:"0"}}),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_session_fixed,expression:"form.is_session_fixed"}],attrs:{type:"checkbox",id:t.id_widget+"-is_session_fixed",name:"TestExecutionConfig[is_session_fixed]"},domProps:{value:1,checked:Array.isArray(t.form.is_session_fixed)?t._i(t.form.is_session_fixed,1)>-1:t.form.is_session_fixed},on:{change:function(e){var n=t.form.is_session_fixed,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"is_session_fixed",n.concat([1])):o>-1&&t.$set(t.form,"is_session_fixed",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_session_fixed",i)}}}),t._v("\n                            Заборонити проходити "+t._s(t.testText)+" з одного пристрою декільком учням\n                        ")])]),t._v(" "),t.is_in_editor?t._e():e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.optionBitArray,expression:"form.optionBitArray"}],attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-1",name:"TestExecutionConfig[optionBitArray][]"},domProps:{value:1,checked:Array.isArray(t.form.optionBitArray)?t._i(t.form.optionBitArray,1)>-1:t.form.optionBitArray},on:{change:function(e){var n=t.form.optionBitArray,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"optionBitArray",n.concat([1])):o>-1&&t.$set(t.form,"optionBitArray",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"optionBitArray",i)}}}),t._v("\n                            Спрощений. Без переходу в повноекранний режим\n                        ")])]),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.optionBitArray,expression:"form.optionBitArray"}],attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-2",name:"TestExecutionConfig[optionBitArray][]"},domProps:{value:2,checked:Array.isArray(t.form.optionBitArray)?t._i(t.form.optionBitArray,2)>-1:t.form.optionBitArray},on:{change:function(e){var n=t.form.optionBitArray,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,2);r.checked?o<0&&t.$set(t.form,"optionBitArray",n.concat([2])):o>-1&&t.$set(t.form,"optionBitArray",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"optionBitArray",i)}}}),t._v("\n                            Видати сертифікат після проходження\n                        ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCertFields,expression:"isShowCertFields"}],staticClass:"form-group"},[e("label",{staticClass:"vo-form-label vo-mt05"},[t._v("\n                            Код шаблона сертифікату:\n                        ")]),t._v(" "),e("div",{staticClass:"row-sert-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.id_cert_tpl,expression:"form.id_cert_tpl"}],staticClass:"vo-input",attrs:{type:"text",id:t.id_widget+"-id_cert_tpl",required:"",autocomplete:"off",name:"TestExecutionConfig[id_cert_tpl]"},domProps:{value:t.form.id_cert_tpl},on:{input:function(e){e.target.composing||t.$set(t.form,"id_cert_tpl",e.target.value)}}}),t._v(" "),e("a",{staticClass:"vo-link-blue",attrs:{target:"_blank",href:"/certificates"}},[t._v("редактор сертифікатів")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCertFields,expression:"isShowCertFields"}],staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.optionBitArray,expression:"form.optionBitArray"}],attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-4",name:"TestExecutionConfig[optionBitArray][]"},domProps:{value:4,checked:Array.isArray(t.form.optionBitArray)?t._i(t.form.optionBitArray,4)>-1:t.form.optionBitArray},on:{change:function(e){var n=t.form.optionBitArray,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,4);r.checked?o<0&&t.$set(t.form,"optionBitArray",n.concat([4])):o>-1&&t.$set(t.form,"optionBitArray",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"optionBitArray",i)}}}),t._v('\n                            Видавати сертифікат, лише якщо "Зараховано"\n                        ')])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCertFields,expression:"isShowCertFields"}],staticClass:"vo-form-label vo-mb2"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.optionBitArray,expression:"form.optionBitArray"}],attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-8",name:"TestExecutionConfig[optionBitArray][]"},domProps:{value:8,checked:Array.isArray(t.form.optionBitArray)?t._i(t.form.optionBitArray,8)>-1:t.form.optionBitArray},on:{change:function(e){var n=t.form.optionBitArray,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,8);r.checked?o<0&&t.$set(t.form,"optionBitArray",n.concat([8])):o>-1&&t.$set(t.form,"optionBitArray",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"optionBitArray",i)}}}),t._v(" Видавати сертифікат, навіть якщо не показувати роботу над помилками та бали\n                        ")])]),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isQuestLimitChecked,expression:"isQuestLimitChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isQuestLimitChecked)?t._i(t.isQuestLimitChecked,null)>-1:t.isQuestLimitChecked},on:{change:function(e){var n=t.isQuestLimitChecked,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.isQuestLimitChecked=n.concat([null])):o>-1&&(t.isQuestLimitChecked=n.slice(0,o).concat(n.slice(o+1)))}else t.isQuestLimitChecked=i}}}),t._v("\n                            Обмежити кількість запитань\n                        ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isQuestLimitChecked,expression:"isQuestLimitChecked"}],staticClass:"vo-form-group"},[e("label",{staticClass:"control-label control-label-mb"},[t._v("\n                            Кількість запитань для учня\n                            "),t.config&&t.config.count_quest?e("span",{staticClass:"vo-color-silver"},[t._v("\n                                (буде видано: "+t._s(t.form.quest_limit||0)+"/"+t._s(t.config.count_quest)+")\n                            ")]):t._e()]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.questLimit,expression:"questLimit"}],staticClass:"vo-input",attrs:{type:"text",id:t.id_widget+"-id_cert_tpl",required:"",autocomplete:"off",name:"TestExecutionConfig[quest_limit]"},domProps:{value:t.questLimit},on:{input:function(e){e.target.composing||(t.questLimit=e.target.value)}}})]),t._v(" "),t.is_in_editor||t.is_lesson?t._e():e("div",{staticClass:"vo-form-group"},[e("div",[e("p",{staticClass:"v-test-page-modal-info-title vo-mt1"},[t._v("\n                                Режим зовнішнього вигляду\n                            ")]),t._v(" "),e("div",{staticClass:"mode-test__items"},[t._l(t.viewModes,(function(n){return[e("label",{staticClass:"mode-test__item",class:{checked:t.form.view_mode===n.id}},[e("span",{staticClass:"title-item__row"},[e("span",{staticClass:"title-item"},[t._v("\n                                                "+t._s(n.title)+":\n                                            ")]),t._v(" "),e("span",{staticClass:"hover-item-wrap"},[t._m(4,!0),t._v(" "),e("span",{staticClass:"hide-block"},[e("div",{staticClass:"img"},[e("img",{directives:[{name:"assets",rawName:"v-assets"}],attrs:{src:n.cover}})])])])]),t._v(" "),e("span",{staticClass:"mode-test__preview-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.view_mode,expression:"form.view_mode"}],attrs:{name:"TestExecutionConfig[view_mode]",type:"radio"},domProps:{value:n.id,checked:t._q(t.form.view_mode,n.id)},on:{change:function(e){return t.$set(t.form,"view_mode",n.id)}}}),t._v(" "),e("span",{staticClass:"img-preview"},[e("span",{staticClass:"img"},[e("img",{directives:[{name:"assets",rawName:"v-assets"}],attrs:{src:n.cover}})])])])])]}))],2)])],2),t._v(" "),t.is_in_editor?t._e():[e("br"),t._v(" "),e("div",{staticClass:"vo-form-label vo-mb05"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_description,expression:"form.is_description"}],attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.form.is_description)?t._i(t.form.is_description,null)>-1:t._q(t.form.is_description,1)},on:{change:function(e){var n=t.form.is_description,r=e.target,i=r.checked?1:0;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.form,"is_description",n.concat([null])):o>-1&&t.$set(t.form,"is_description",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"is_description",i)}}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_description]"},domProps:{value:t.form.is_description}}),t._v("\n                                Вказати свій опис для учня перед початком і в кінці тестування\n                            ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.is_description,expression:"form.is_description"}]},[e("div",{staticClass:"form-group vo-mb1"},[e("label",{staticClass:"vo-form-label vo-mb05"},[t._v("\n                                    Опис, який учні побачать перед початком тестування\n                                ")]),t._v(" "),e("editor",{attrs:{mode:"test",height:180,placeholder:"Опис..."},model:{value:t.form.description_start,callback:function(e){t.$set(t.form,"description_start",e)},expression:"form.description_start"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.description_start,expression:"form.description_start"}],attrs:{type:"hidden",name:"TestExecutionConfig[description_start]"},domProps:{value:t.form.description_start},on:{input:function(e){e.target.composing||t.$set(t.form,"description_start",e.target.value)}}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"vo-form-label vo-mb05"},[t._v("\n                                    Опис, який учні побачать після проходження тестування\n                                ")]),t._v(" "),e("editor",{attrs:{mode:"test",height:180,placeholder:"Опис..."},model:{value:t.form.description_end,callback:function(e){t.$set(t.form,"description_end",e)},expression:"form.description_end"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.description_end,expression:"form.description_end"}],attrs:{type:"hidden",name:"TestExecutionConfig[description_end]"},domProps:{value:t.form.description_end},on:{input:function(e){e.target.composing||t.$set(t.form,"description_end",e.target.value)}}})],1)])]],2)])]),t._v(" "),t.is_lesson||t.is_journal||t.is_in_editor?t._e():e("div",{staticClass:"n-test-wrap-btn-modal"},[e("a",{staticClass:"v-blue-button v-blue-button-big",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.save(e)}}},[t.config.id?e("span",[t._v("Зберегти зміни")]):e("span",[t._v("Створити "+t._s(t.testText))])]),t._v(" "),e("a",{staticClass:"a-right v-red-button",attrs:{href:"javascript:void(0);",onclick:"vo.slideToggle('.vr-show-form-top', 'slow'); vo.scrollTo('#sys-test__start_buttons');"}},[t._v("Скасувати")])])],2)])};r._withStripped=!0;var i=n(242),o=n(388),s=n(134),a=n(391),c=n(83),l=n(5);function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d={name:"CreateTesting",components:{Input:a.a,xInputMask:o.a,editor:s.a},mixins:[i.a],props:["id_widget","id_test","is_poll","is_payed","config","test","is_lesson","is_journal","is_in_editor","hiddenInputs","physicalColumn","journal"],data:function(){return{START_MODE_ACTIVE:0,START_MODE_PLANED:15,START_MODE_CONTROL:30,form:{start_mode:0,title:"",duration:0,is_show_result:0,is_show_answer:0,is_show_answer_right:0,max_mark:0,min_mark:0,mark_system:1,mark_type:2,show_answer_mode:0,quest_order_mode:0,is_quest_shuffle:0,is_session_fixed:0,optionBitArray:[],startAtStr:"",endAtStr:"",id_cert_tpl:"",view_mode:0,is_wall_mode:0,quest_limit:"",opts:{is_quest_limit:!1,tmp_quest_limit:""},is_description:0,description_start:"",description_end:""},viewModes:[{id:0,title:"Стандартний",cover:"/img/test-constructor/test-mode0.png",is_lesson:!0},{id:1,title:"Кольоровий",cover:"/img/test-constructor/test-mode1.png",is_lesson:!1},{id:2,title:"Для слабозорих",cover:"/img/test-constructor/test-mode2.png",is_lesson:!1},{id:3,title:"Космічний",cover:"/img/test-constructor/test-mode3.png",is_lesson:!1},{id:4,title:"Піксель",cover:"/img/test-constructor/test-mode4.png",is_lesson:!1},{id:6,title:"Зошит",cover:"/img/test-constructor/test-mode6.png",is_lesson:!1}],is_test_premium:0,is_user_premium:0}},computed:{isShowCertFields:function(){return this.form.optionBitArray.findIndex((function(t){return 2===parseInt(t)}))>=0},markSystem:{get:function(){return this.form.mark_system},set:function(t){this.form.mark_system=t,this.form.min_mark=this.marks[t].min_mark,this.form.max_mark=this.marks[t].max_mark}},maxMark:{get:function(){return this.form.max_mark},set:function(t){this.form.mark_system&&(this.form.mark_system=0),this.form.max_mark=t}},formId:function(){return"form-"+this.id_widget},testText:function(){return this.is_poll?"опитування":"тестування"},isQuestLimitChecked:{get:function(){return this.form.opts.is_quest_limit},set:function(t){this.form.opts.is_quest_limit=t,t?this.form.quest_limit=this.form.opts.tmp_quest_limit:(this.form.opts.tmp_quest_limit=this.form.quest_limit,this.form.quest_limit="")}},questLimit:{get:function(){return this.form.quest_limit},set:function(t){this.form.quest_limit=t;var e=t.replace(/[^0-9]+/g,"");e!==t&&(this.form.quest_limit=e),this.form.quest_limit&&this.config&&this.form.quest_limit>this.config.count_quest&&(this.form.quest_limit=this.config.count_quest)}},disableMarkSystem:function(){return this.physicalColumn&&4!==this.physicalColumn.mark_system}},methods:{save:function(t){var e=this;return new Promise((function(n){vo.ajax(t,e.config.id?"/ext/test/testing-update":"/ext/test/testing-create","#"+e.formId,(function(t){n(t)}))}))},setDefaultMarkSystem:function(){var t=+this.form.mark_system,e=+this.form.mark_system;this.physicalColumn?e=+this.physicalColumn.mark_system:this.journal&&(e=+this.journal.mark_system),t!==e&&(this.markSystem=e)},setDescriptions:function(){this.test&&!this.form.is_description&&(this.form.description_start=this.test.description_start,this.form.description_end=this.test.description_end)}},mounted:function(){if("testQuests"in this.test){var t,e=u(this.test.testQuests);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(![c.p,c.o,c.q].includes(n.quest_type)){this.is_test_premium=1;break}}}catch(t){e.e(t)}finally{e.f()}this.test.testQuests.forEach((function(t){}))}this.is_user_premium=vo.user.mark_bit&l.USER_MARK_PREMIUM?1:0},created:function(){var t=this;for(var e in this.config)this.form.hasOwnProperty(e)&&(this.form[e]="optionBitArray"===e?this.config[e].map((function(t){return parseInt(t)})):this.config[e]);this.config&&this.config.id?(this.setDefaultMarkSystem(),this.setDescriptions()):vo.ajax(event,"/ext/test/testing-template",{id_test:this.id_test||""},(function(e){for(var n in e.config)t.form.hasOwnProperty(n)&&(t.form[n]="optionBitArray"===n?e.config[n].map((function(t){return parseInt(t)})):e.config[n]);t.setDefaultMarkSystem()})),this.form.quest_limit&&(this.form.opts.is_quest_limit=!0,this.form.opts.tmp_quest_limit=this.form.quest_limit||"")}},h=n(0),p=Object(h.a)(d,r,[function(){var t=this,e=t._self._c;return e("p",[t._v("\n                    З "),e("b",[t._v("1 вересня 2024 року")]),t._v(", щоб видати цей тест ви маєте оформити\n                    "),e("a",{staticClass:"vo-color-premium vo-flex-row inline vertical-center gap02",staticStyle:{"vertical-align":"sub"},attrs:{href:"/premium",target:"_blank"}},[e("i",{staticClass:"icon-diamant-premium"}),t._v(" "),e("b",[t._v("Преміум підписку.")])])])},function(){var t=this,e=t._self._c;return e("p",[t._v("\n                    До "),e("b",[t._v("1 вересня")]),t._v(" ви можете видавати цей тест без обмежень.\n                ")])},function(){var t=this,e=t._self._c;return e("p",[t._v("\n                    Детальніше на сторінці\n\n                    "),e("a",{staticClass:"vo-color-premium vo-flex-row inline vertical-center gap02",staticStyle:{"vertical-align":"sub"},attrs:{href:"/premium",target:"_blank"}},[e("i",{staticClass:"icon-diamant-premium"}),t._v(" "),e("b",[t._v("Преміум.")])])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"vo-text-small"},[e("b",{staticClass:"vo-color-red"},[t._v("Зверніть увагу!")]),t._v(" Опція «Показувати правильні відповіді в роботі над помилками» під час перегляду роботи над помилками дасть можливість учням бачити правильні відповіді.\n                            Рекомендуємо вмикати її лише, якщо ви точно впевнені в академічній доброчесності своїх учнів.\n                        ")])},function(){var t=this._self._c;return t("span",{staticClass:"hover-item"},[t("span",[this._v("?")])])}],!1,null,null,null);e.default=p.exports},,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(jQuery,$){var _socket__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(542),_modules_messages_v3_indicator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(377),_modules_notifications_v3_indicator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(376),_modules_notifications_v3_popup__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(375),_landing__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(367),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),mathlive__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(127),vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(18),vuex__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12),_ajax_queue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(200),_constants_VO__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5),_constants_BaseGlobalUser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(82);function _wrapRegExp(){_wrapRegExp=function(t,e){return new n(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function n(t,r,i){var o=new RegExp(t,r);return e.set(o,i||e.get(t)),_setPrototypeOf(o,n.prototype)}function r(t,n){var r=e.get(n);return Object.keys(r).reduce((function(e,n){var i=r[n];if("number"==typeof i)e[n]=t[i];else{for(var o=0;void 0===t[i[o]]&&o+1<i.length;)o++;e[n]=t[i[o]]}return e}),Object.create(null))}return _inherits(n,RegExp),n.prototype.exec=function(e){var n=t.exec.call(this,e);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=e.get(this);return t[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(t,e){var n=o[e];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var s=this;return t[Symbol.replace].call(this,n,(function(){var t=arguments;return"object"!=_typeof(t[t.length-1])&&(t=[].slice.call(t)).push(r(t,s)),i.apply(this,t)}))}return t[Symbol.replace].call(this,n,i)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}vue__WEBPACK_IMPORTED_MODULE_7__.a.use(vuex__WEBPACK_IMPORTED_MODULE_8__.b),function(){function Core(){var t=Array.prototype.slice.call(arguments,1),e=arguments[0];e in Core?Core[e].apply(Core,t):console.log('No such method "'+e+'" for Core')}function Popup(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Popup.msg=t,Popup.b_stay=e,Popup.b_error=!1,Popup._createOverlay(),Popup._create(n),Popup._show()}function Dlg(t,e,n,r){var i={};void 0===t&&(t=null),e=void 0===e?"":"/"+e,void 0!==n&&(i.a=n),void 0!==r&&(i.b=r),Core.ajax(t,"/dlg-"+e,i)}function Tooltip(t,e,n){if(t){var r=t.target,i=jQuery("<span>").addClass("a-tooltip").css({display:"none",top:t.pageY-10+"px",left:t.pageX+20+"px"}).html(e).appendTo("body").fadeIn("slow");if(n&&"top"===n.position){var o=r.getBoundingClientRect(),s=document.body.getBoundingClientRect(),a=o.top-s.top-i.outerHeight()-20,c=o.left+o.width/2-s.left-i.outerWidth()/2;i.css({top:a,left:c})}}}function init(){window.vo=Core}Core.$store=new vuex__WEBPACK_IMPORTED_MODULE_8__.b.Store({strict:!1,modules:{}}),Core.$router=null,Core.API_SCHOOL_V1_VERSION=3,Core.API_SCHEDULE_V1_VERSION=3,Core.user=null,Core.users=[],Core.auth_mode=null,Core.user_id=0,Core.user_full_name="",Core.user_avatar="",Core.user_type=0,Core.user_2fa=0,Core.pupil_access=0,Core.pupil_full_name="",Core.pupil_avatar="",Core.pupil_login="",Core.user_no_avatar="",Core.url="",Core.url_socket="",Core.url_cloud="",Core.url_file="",Core.url_msg="",Core.url_sub="",Core.url_cert="",Core.url_assets="",Core.url_school="",Core.url_like="",Core.is_admin_msg="",Core.servers={},Core.active_year=0,Core.test_config_id=0,Core.test_session_id=0,Core.unix_time=0,Core.disable_msg=!1,Core.disable_sub=!1,Core.disable_like=!1,Core.obj_type=0,Core.obj_id=0,Core.obj_sub_id=0,Core.is_master=!1,Core.like_marks=[],Core.allowed_iframe_domains=[],Core.classes=Object(_constants_VO__WEBPACK_IMPORTED_MODULE_10__.Classes)(),Core.class_groups=[{title:"Дошкільнята",value:10,class_range:[-2,-3,-1]},{title:"Молодші класи",value:20,class_range:[1,2,3,4]},{title:"Середні класи",value:30,class_range:[5,6,7,8,9]},{title:"Старші класи",value:40,class_range:[10,11]},{title:"Університетські",value:50,class_range:[21,22,23,24,25,26]},{title:"Інші",value:60,class_range:[12,13,14]}],Core.set=function(){if(1==arguments.length&&"object"==_typeof(arguments[0]))for(var t in arguments[0])t in Core?Core[t]=arguments[0][t]:console.log('No such method "'+t+'" for Core');else 2==arguments.length?arguments[0]in Core?Core[arguments[0]]=arguments[1]:console.log('No such method "'+arguments[0]+'" for Core'):console.log("Argument Error")},Core.ajaxAt=0,Core.ajax=function(e,url,form,callback,silent,options){var rootEventElement=null;if(null!=e&&"object"===_typeof(e)&&("currentTarget"in e?rootEventElement=jQuery(e.currentTarget):"target"in e&&(rootEventElement=jQuery(e.target))),null!==rootEventElement){rootEventElement.attr("disabled",!0).addClass("a-load-button");for(var children=rootEventElement.children(),i=0,l=children.length;i<l;i++)jQuery(children[i]).attr("disabled",!0)}function unlockRootEventElement(){if(null!==rootEventElement){rootEventElement.removeAttr("disabled").removeClass("a-load-button");for(var t=rootEventElement.children(),e=0,n=t.length;e<n;e++)jQuery(t[e]).removeAttr("disabled");options&&"object"===_typeof(options)&&options.hasOwnProperty("onUnlockRootEventElement")&&"function"==typeof options.onUnlockRootEventElement&&options.onUnlockRootEventElement()}}var objData=null,isForm=!1;return callback||(callback=null),"string"==typeof form?"#"==form.charAt(0)?(objData=jQuery(form).serialize(),isForm=!0,jQuery(form+" .errorSummary").slideUp(300)):objData=form:"object"===_typeof(form)&&(objData=form),url+=(url.split("?")[1]?"&":"?")+"isAjax=1&isAjaxUrl="+encodeURIComponent(window.location.origin+window.location.pathname),Core.user&&(url+="&user_key="+encodeURIComponent(Core.user.user_key)),Core.auth_mode&&(url+="&"+_constants_BaseGlobalUser__WEBPACK_IMPORTED_MODULE_11__.b+"="+encodeURIComponent(Core.auth_mode)),Core.ajaxAt=Date.now(),jQuery.ajax({url:url,xhrFields:{withCredentials:!0},type:"POST",data:objData,dataType:"json",error:function(t,n,r){var i=function(){null!==e&&(options&&options.enableButtonImmediately?unlockRootEventElement():setTimeout((function(){unlockRootEventElement()}),2e3))};if("object"===_typeof(options)&&"onError"in options&&"function"==typeof options.onError)return i(),options.onError(t);Popup.errorByResponse(t,!1),i()},success:function success(data){if("function"==typeof callback&&callback(data),void 0!==data.modal){var onHide=null;void 0!==data.modal.onHide&&(onHide=data.modal.onHide),void 0!==data.modal.html&&Dlg.show(data.modal.html,data.modal)}if(void 0!==data.update&&jQuery(data.update.obj).html(data.update.val),void 0!==data.replace&&jQuery(data.replace.obj).replaceWith(data.replace.val),void 0!==data.append&&jQuery(data.append.obj).append(data.append.val),void 0!==data.hideModal&&data.hideModal&&Dlg.hide(),void 0!==data.reload&&data.reload&&location.reload(),void 0!==data.url&&data.url&&(location.href=data.url),void 0!==data.error?data.error&&!silent&&Popup.error(data.error,!0):void 0!==data.errorForm&&isForm?(jQuery(form+" .errorSummary").remove(),jQuery(data.errorForm).hide().prependTo(form),jQuery(form+" .errorSummary").slideDown(300)):void 0!==data.popup&&data.popup?"object"===_typeof(data.popup)?Popup(data.popup.html,!1,data.popup.options):Popup(data.popup):void 0!==data.popupStay&&data.popupStay&&("object"===_typeof(data.popupStay)?Popup(data.popupStay.html,!0,data.popupStay.options):Popup(data.popupStay,!0)),void 0!==data.js&&data.js&&eval(data.js),void 0!==data.submit&&jQuery(data.submit).submit(),void 0!==data.pay&&(jQuery("body").append(data.pay),jQuery("#aa-payment-form").submit()),null!==e){var enableImmediately=options&&options.enableButtonImmediately;enableImmediately?unlockRootEventElement():setTimeout((function(){unlockRootEventElement()}),3e3)}}}),!1},Core.ajaxPromise=function(t,e,n){return new Promise((function(r,i){return Core.ajax(t,e,n,(function(t){return r(t)}),!1,{onError:function(t){return i(t)}})}))},Core._apps={},Core.ajaxQueueMain=function(t,e,n){return vo._apps.main.send(t,e,n)},Core.ajaxQueueMsg=function(t,e,n){return vo._apps.msg.send(t,e,n)},Core.ajaxQueueSchool=function(t,e,n){return vo._apps.school.send(t,e,n)},Core.is_scroll=function(){return-[1]?document.body.offsetHeight>window.innerHeight:(document.body.offsetHeight,document.documentElement.clientHeight,!0)},Core.global_error_handler=function(t,e,n){return void 0!==arguments[3]&&arguments[3],void 0!==arguments[4]&&arguments[4],!0},Core.to_log=function(t,e){},Popup.msg="",Popup.interval=null,Popup.b_stay=!1,Popup.b_error=!1,Popup.error=function(t,e){Popup.msg=t,Popup.b_stay=!!e,Popup.b_error=!0,Popup._createOverlay(),Popup._create(),Popup._show()},Popup.errorByResponse=function(t,e){if(t.status>=300)try{var n=JSON.parse(t.responseText);void 0!==n.message?Popup.error(n.message||t.status+" "+t.statusText):Popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText,e)}catch(n){Popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText,e)}},Popup.start=function(){Popup.b_stay||Popup.interval||(Popup.interval=setTimeout((function(){Popup.hide(1500)}),3e3))},Popup._allowClose=function(){Popup.start()},Popup._preventClose=function(){Popup.stop()},Popup.stop=function(){clearInterval(Popup.interval),Popup.interval=null},Popup.hide=function(t){Popup.stop(),$(Popup.element).fadeOut(void 0!==t?t:300),$(Popup.overlay).hide()},Popup._show=function(){Popup.stop(),Popup.b_error?Popup.element.addClass("a-dialog-mini-red"):Popup.element.removeClass("a-dialog-mini-red"),Popup.element.stop(!0,!0).fadeIn(600),Popup.overlay.show(),Popup.start()},Popup._createOverlay=function(){var t=$(".a-dialog-oll");Popup.overlay=t.length?t:$("<div>").addClass("a-dialog-oll").appendTo(document.body),Popup.overlay.css({pointerEvents:"none"});var e=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement;e?e.contains(Popup.overlay[0])||e.appendChild(Popup.overlay[0]):document.body!==Popup.overlay[0].parentNode&&(document.body.appendChild(Popup.overlay[0]),console.log("Popup: not FS and parentNode !== body"))},Popup._create=function(t){var e=$(".a-dialog-mini");e.length||(e=$("<div>").attr({id:"i-popup"}).addClass("a-dialog-mini").appendTo(Popup.overlay||document.body));var n=e.data("options");n&&e.removeClass(n.class),e.data("options",null),t&&"object"===_typeof(t)&&(e.addClass(t.class),e.data("options",t)),e.css({pointerEvents:"initial"}).empty().attr("onclick","event.stopPropagation()").mouseout(Popup._allowClose).mouseover(Popup._preventClose).append($("<p>").html(Popup.msg),$("<span>").addClass("a-delete").attr("onclick","vo.popup.hide()")),Popup.element=e},Core.popup=Popup,Dlg.scroll_width=0,Dlg.callback_close=null,Dlg.on_hide=null,Dlg.block_hide=!1,Dlg.keep_overlay=!1,Dlg.confirm_close=null,Dlg.confirm_msg=null,Dlg.confirm_callback=null,Dlg.hide_on_bg_click=!0,Dlg.show=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Popup.hide(),Dlg.html=t,Dlg.on_hide=n,Dlg.block_hide=!(!e||!("block_hide"in e))&&e.block_hide,Dlg.keep_overlay=!(!e||!("keep_overlay"in e))&&e.keep_overlay,Dlg._createOverlay(),Dlg._create(e),Dlg._position(),Dlg._show()},Dlg._createOverlay=function(){jQuery("body").css("overflow","hidden"),Core.is_scroll()&&jQuery("body, .n-bottom-main-header.i-fixed").css("padding-right",Dlg.scroll_width+"px");var t=$(".a-dialog");Dlg.overlay=t.length?t:$("<div>").addClass("a-dialog").appendTo(document.body)},Dlg._destroyOverlay=function(){Dlg.keep_overlay||jQuery("body, .n-bottom-main-header.i-fixed").css({overflow:"",paddingRight:""})},Dlg._destroy=function(){Dlg.element.empty()},Dlg._create=function(t){var e=$(".a-dialog-modal");e.length||(e=$("<div>").attr({id:"i-dialog"}).addClass("a-dialog-modal v-dialog-modal-zoom-out-show v-dialog-modal-with-anim").appendTo(Dlg.overlay||document.body));var n=void 0;e.off("mousedown").on("mousedown",(function(t){n=t.target,t.stopPropagation()}));var r=e.data("options");if(r&&(e.removeClass(r.class),e.css({width:"",minWidth:"",maxWidth:""})),e.data("options",null),t){e.addClass(t.class);var i=t.width;i&&e.css({width:i,minWidth:i,maxWidth:i}),e.data("options",t)}e.html($("<div>").addClass("a-di-content").html(Dlg.html)).attr("onmousedown","event.stopPropagation()").css({paddingTop:30,overflow:"initial",maxHeight:"initial"}),$(Dlg.overlay).off("click").off("mousedown").on("mousedown",(function(t){n=t.target})).on("click",(function(t){n===this&&vo.dlg.hide()})),Dlg.element=e},Dlg._position=function(){},Dlg._show=function(){Dlg.overlay.fadeIn(200),Dlg.element.removeClass("v-dialog-modal-with-anim")},Dlg._hide=function(){Popup.hide(),$(Dlg.element).addClass("v-dialog-modal-with-anim").add(Dlg.overlay).fadeOut(300,(function(){$(Dlg.element).show(),Dlg._destroy(),Dlg._destroyOverlay()}))},Dlg.hide=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Dlg.block_hide)return"";Dlg.on_hide&&("function"==typeof Dlg.on_hide?Dlg.on_hide():Function(Dlg.on_hide)(),Dlg.on_hide=null),Dlg._hide(),null!==t&&("function"==typeof t?t():Function(t)())},Dlg.confirm=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Dlg.confirm_callback=r;var a=Dlg.confirm_msg;o&&"object"===_typeof(o)||(o={}),a=(a=(a=(a=(a=(a=a.replace(/\{title\}/gi,e)).replace(/\{msg\}/gi,n)).replace(/\{yes\}/gi,o.yes||"Так")).replace(/\{no\}/gi,o.no||"Ні")).replace(/\{yes_css_class\}/gi,o.yes_css_class||"vo-btn-blue")).replace(/\{no_css_class\}/gi,o.no_css_class||"vo-btn-red"),Dlg.show(a,s,i)},Dlg.confirm_yes=function(t){"function"==typeof Dlg.confirm_callback&&(Dlg.confirm_callback(t)||Dlg.hide())},Dlg.youtube=function(t,e){Dlg.show('<div class="a-di-top"><div class="a-di-r"><a class="a-non-b" href="javascript:;" onclick="vo.dlg.hide();"> <div class="a-x" title="Закрыть">x</div></a></div><p>'+e+'</p></div><div class="a-di-butt"><iframe width="605" height="340" src="//www.youtube.com/embed/'+t+'?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe></div>')},Dlg.bg_click=function(){vo.dlg.hide_on_bg_click&&vo.dlg.hide()},Core.dlg=Dlg,Tooltip.hide=function(t){jQuery(".a-tooltip").remove()},Core.tooltip=Tooltip,Core.disable=function(t,e){setTimeout((function(){var n=$(t);n.enable(!1),clearTimeout(n.data("disable-timeout"));var r=setTimeout((function(){$(t).enable(!0)}),e);n.data("disable-timeout",r)}),0)},Core.scrollTo=function(t,e){var n=$(t);if(!n)return!1;var r=n.offset();if(!r)return!1;var i=r.top,o=$(".v-main-header").height();return e&&(o=$(e).height()),void 0===o&&(o=0),$("body,html").stop(!0).animate({scrollTop:i-o},"slow"),!1},Core.scrollToNoAnimate=function(t,e){var n=$(t).get(0);if(!n)return!1;var r=document.querySelector(".v-main-header"),i=r?r.clientHeight:0,o=n.getBoundingClientRect(),s=o.top-i,a=o.bottom-i;return!e&&a>=0&&s<=(window.innerHeight||document.documentElement.clientHeight)&&s>=0||$("body,html").stop(!0).scrollTop(s+window.scrollY),!1},Core.toggleNext=function(t){return $(".v-work-request .v-c-all-collapse-block-trigger").not(t).removeClass("open").nextAll().slideUp(),$(t).toggleClass("open").next().stop(!0,!0).slideToggle(),!1},Core.numerize=function(t,e){var n=2,r=t%100;if(r<10||r>20){var i=t%10;1===i?n=0:i>0&&i<5&&(n=1)}return e[n]?e[n].replace(/{n}/,t):t},Core.shareCert=function(t,e,n){vo.dlg.show('<div id="i-share-dlg" class="v-form v-form-copy"><textarea style="width:100%" class="mb-custom"></textarea><button class="i-copy">Скопіювати</button></div>');var r=/{{\s*(\w+)\s*}}/g,i=/(-\d*x\d*)?(\.\w+)$/;function o(t,e,n){return t.replace(i,(function(t,r,i){return"-"+e+"x"+n+i}))}var s,a,c=$("#i-share-dlg"),l=c.find("textarea");s=219,a=0,l.val(function(t,e){return t.replace(r,(function(t,n){return e[n]}))}('<a href="{{url}}" target="_blank"><img src="{{src}}"></a>',{url:e,src:o(n,s,a)})),c.find(".i-copy").click((function(){var t;l.length&&(l[0].select(),t=document.execCommand("copy")),t?vo.popup("Скопійовано успішно."):vo.popup("Не вдалось скопіювати код.")}))},Core.resizeHostedImage=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.split("?",2);2===i.length?(t=i[0],i="?"+i[1]):i="";var o=t.replace(/(-(\d+)x(\d+))?(\.\w+)$/,(function(t,i,o,s,a){return!0===n&&(n=Math.round(e*s/o)),!0===e&&(e=Math.round(n*o/s)),r?a:n&&e?"-"+e+"x"+n+a:"-0x0"+a}));return{width:e,height:n,url:o+i}},Core.magnifyImg=function(t){var e=window.innerWidth,n=Core.resizeHostedImage(t.src,e,!0,!1),r=n.url,i=n.width,o=n.height,s={class:"img-preview"};s.width=e;var a=i&&o?'style="width:'.concat(i,"px;height").concat(o,'px"'):"",c=jQuery(t).data("aa-gallery");c=void 0!==c?'onclick="vo.magnifyImgById('.concat(c+1,')"'):"";var l='<img onContextMenu="return false;" class="achievement-img" '.concat(a,' src="').concat(r,'" ').concat(c,">");l+='<i  onclick="vo.dlg.hide()" class="dlg-img-close vo-icon close"></i>',Core.dlg.show(l,s)},Core.magnifyImgById=function(t){var e=jQuery('img[data-aa-gallery="'.concat(t,'"]'));e.length?(e.hasClass("lazyload")&&e.attr("src",e.attr("data-src")),e.trigger("click")):Dlg.hide()},Core.popupVideoYT=function(t){t&&vo.dlg.show('<iframe width="560" height="315" src="https://www.youtube.com/embed/'+t+'?rel=0&showinfo=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',{width:"none"})},Core.ytInstructionTutor=function(){Core.popupVideoYT("8hDMEKGv1oM")},Core.getUserInfo=function(t,e){return new Promise((function(n,r){vo.ajax(t,"/ext/user/one",{id_user:e},(function(t){if(!t||!("data"in t))return r("Помилка отримання даних");n(t.data.userData)}))}))},Core.print=function(){window.print?window.print():vo.popup("Ваш браузер не підтримує цієї функції.")},Core.updateProfileMenu=function(t){var e="data-set-active";["wallet","cart","user_rating"].forEach((function(n){var r=t[n],i=$(".i-profile-"+n+"-count"),o=i.parent();if(r){var s=r,a=n+"_value";t.hasOwnProperty(a)&&(s=t[a]),i.text(s).show(),o.attr(e)&&o.addClass("active")}else i.hide(),o.attr(e)&&o.removeClass("active");var c=n+"_title";n.hasOwnProperty(c)&&o.attr("title",c)})),t.active_olp_info&&($(".i-profile-olp_info").html(t.active_olp_info),$(".i-profile-olp_info").parent().attr("href","/olympiad/s"+t.active_olp_id+"/office")),$(".i-profile-menu-wallet-count").text(t.wallet),t.cart&&$(".i-profile-menu-cart-count").html("<i class='v-profile-menu-events-count v-count-red'>"+t.cart+"</i>")},Core.plural=function(t,e,n,r){var i=Math.abs(t);return(i%=100)>=5&&i<=20?r:1===(i%=10)?e:i>=2&&i<=4?n:r},Core.copy=function(t,e){if(t=String(t).trim()){var n=document.createElement("span");n.textContent=t,document.body.appendChild(n);var r=document.createRange();r.selectNode(n);var i=window.getSelection();i.removeAllRanges(),i.addRange(r),e=e||"Скопійовано в буфер обміну";var o='Не вдалося скопіювати текст. Спробуйте зробити це власноруч з поля:\n            <br>\n            <textarea style="width: 100%; min-height: 100px; color: black;" onclick="vo.select(this);">'.concat(t,"</textarea>\n        ");t||(o="Не вдалося скопіювати текст. Рядок пустий.");try{document.execCommand("copy")?vo.popup(e):vo.popup(o)}catch(t){console.log("Oops, unable to copy"),vo.popup(o)}i.removeAllRanges(),document.body.removeChild(n)}},Core.newsContentImg=function(){for(var t=$("".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:".v-news-content"," img")),e=0;e<t.length;e++){var n=t[e];n.parentElement&&"a"!==n.parentElement.localName&&!n.hasAttribute("data-lpreview")&&jQuery(n).attr("onclick","vo.magnifyImg(event.target);").attr("data-aa-gallery",e)}},Core.showImg=function(t){var e=document.createElement("img");e.src=t,vo.magnifyImg(e)},Core.linkPreview=function(t,e){var n=jQuery(t+" a");n.length>0&&e.length>0&&n.each((function(t,n){var r=e.find((function(t){return t.link==n.href}));if(void 0!==r){["left","right"].forEach((function(t){$(n).has("img.a-photo-"+t).css("float",t)}));var i="";null!==r.image&&(i="<img src='".concat(r.image,'\' data-lpreview="1">'));var o="<span class='ag-v-span'>"+i+r.title+"</span>";jQuery(n).addClass("ag-v-link").append(o)}})),vo.spanTitleFloat(t)},Core.spanTitleFloat=function(t){jQuery("span.r-float",t).each((function(t,e){var n=e.querySelector("span.r-float-blank");!n&&e.title&&((n=document.createElement("span")).className="r-float-blank",n.innerText=e.title,n.innerHTML=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.eb)(n.innerHTML),e.title="",jQuery(e).append(n))})),jQuery("span.n-img-con",t).each((function(t,e){var n=e.querySelector("span.r-float-blank");!n&&e.title&&((n=document.createElement("span")).className="r-float-blank",n.innerText=e.title,n.innerHTML=Object(_utils__WEBPACK_IMPORTED_MODULE_5__.eb)(n.innerHTML),e.title="",jQuery(e).append(n))}))},Core.agShowNextEvent=function(t){if(t<2)return!1;var e=$(".ag-event-list li.ag-active"),n=parseInt(e.attr("data-elId"))+1;return n===t&&(n=0),e.hide(),e.attr("class",""),$('.ag-event-list li[data-elId="'+n+'"]').show().attr("class","ag-active"),!1},Core.vrHideNotification=function(){return vo.ajax(null,"/ext/user/important-notification",{hide:1}),jQuery("#ag_sys_msg").hide(),jQuery(".vr-important-button").show(),!1},Core.vrShowNotification=function(){vo.ajax(null,"/ext/user/important-notification"),jQuery(".vr-important-button").hide();var t=jQuery("#ag_sys_msg");return t.show(),$("html, body").animate({scrollTop:t.offset().top},500),!1},Core.slideToggle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return jQuery(t).slideToggle(e)},Core.slideUp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return jQuery(t).slideUp(e)},Core.slideDown=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return jQuery(t).slideDown(e)},Core.toggleClass=function(t,e){return jQuery(t).toggleClass(e)},Core.removeClass=function(t,e){return jQuery(t).removeClass(e)},Core.toggle=function(t){return jQuery(t).toggle()},Core.hide=function(t){return jQuery(t).hide()},Core.show=function(t){return jQuery(t).show()},Core.submit=function(t){return jQuery(t).submit()},Core.select=function(t){return jQuery(t).select()},Core.val=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return jQuery(t).val(e)},Core.attr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return jQuery(t).attr(e,n)},Core.css=function(t,e,n){return jQuery(t).css(e,n)},Core.filterLibToggle=function(t){$(window).width()<=900&&$(t).next("ul").toggleClass("open")},Core.selectedBtnAnimation=function(t){var e=document.getElementById("".concat(t));e.classList.contains("active")||e&&(e.classList.add("first-anim"),e.classList.add("first-anim"),setInterval((function(){e.classList.toggle("animation"),e.classList.remove("first-anim"),e.classList.contains("animation")&&(e.classList.add("play-anim"),setTimeout((function(){e.classList.remove("play-anim")}),5e3))}),1e4))},Core.olymp={newOlpUserData:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";vo.ajax(t,"/ext/olymp/olp-new-dlg",{id_olp_series:e,ids_olp_subject:n,redirect_to_cabinet:1})},olpNewDlg:function(t,e){vo.ajax(t,"/ext/olymp/olp-new-dlg",{id_olp_series:e})}},Core.online={init_gif:function(t){if(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.cb)("ag-conference-online-block")!==t){var e=$("#ag-conference-online-block"),n=e.find("img");n.prop("complete")?e.slideDown():n.on("load",(function(){e.slideDown()}))}},gif_hide:function(t,e){var n=new Date;n.setTime(n.getTime()+72e5),$("#ag-conference-online-block").hide(),document.cookie="ag-conference-online-block="+e+"; expires="+n+"; path=/",t.preventDefault()}},Core.stickyNew={stickyBlock:function(t){var e=document.querySelector("".concat(t)),n=document.querySelector("".concat(e.dataset.wrap)),r=e.dataset.margin,i=document.querySelector(".v-main-header").offsetHeight,o=u(e).top,s=e.parentNode,a=n.offsetHeight,c=document.querySelector(".hoverCon"),l=document.createElement("div");function u(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset}}function f(){var t=e.offsetHeight,s=n.offsetHeight,f=o-u(n).top,d=l.offsetWidth;!e.classList.contains("n-absolute")&&!e.classList.contains("n-fix")&&a!=s&&(o=u(e).top,t>=a-f)?c&&c.classList.add("scrollHover"):(window.pageYOffset>=o||u(e).top>=window.pageYOffset&&e.classList.contains("n-absolute")?(t>s&&e.classList.remove("n-fix"),e.classList.add("n-fix"),c&&c.classList.add("scrollHover"),e.classList.remove("n-absolute"),e.style.cssText="\n                                width:".concat(d,"px;\n                                position: fixed;\n                                top:").concat(i,"px;\n                                margin-top:").concat(r,"px;\n                            ")):(l.style.cssText="",e.classList.remove("n-fix"),e.classList.remove("n-absolute"),e.style.cssText=""),t<=a-f?u(e).bottom>=u(n).bottom&&(l.style.cssText="height: 0px; position: relative;",e.classList.remove("n-fix"),e.classList.add("n-absolute"),e.style.cssText="\n                                margin-top:".concat(r,"px;\n                                position: absolute;\n                                width:").concat(d,"px;\n                                top:").concat(s-t-f,"px;\n                            ")):t>=a-f&&(l.style.cssText="",e.classList.remove("n-fix"),e.classList.remove("n-absolute"),e.style.cssText=""))}(s.replaceChild(l,e),l.appendChild(e),window.innerWidth>=990&&n)&&(new ResizeObserver((function(t){f()})).observe(e),f(),window.addEventListener("scroll",f))}},Core.webinar={cartAdd:function(t,e){vo.ajax(e||null,"/ext/webinar/cart-add",{obj_key:t})},init_view:function(t,e){!function(){function n(){var t=document.querySelectorAll("#i-webinar-filter li");if(t){for(var e=0,n=0,r=0,i=t.length;r<i;++r){var o=t[r];if(!o)break;var s=o.offsetTop;s-e>5&&(e=s,++n)}var a=document.querySelector("#i-filter-toggle");a&&(a.style.display=n>1?"":"none")}}n(),window.addEventListener("resize",n);var r=parseInt(t),i=parseInt(e);initCountdownTimer({timerEnd:i,timerStart:r})}()},init_gif:function(t){if(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.cb)("ag-webinar-online-block")!==t){var e=$("#ag-webinar-online-block"),n=e.find("img");n.prop("complete")?e.slideDown():n.on("load",(function(){e.slideDown()}))}},gif_hide:function(t,e){var n=new Date;n.setTime(n.getTime()+12e5),$("#ag-webinar-online-block").hide(),document.cookie="ag-webinar-online-block="+e+"; expires="+n+"; path=/",t.preventDefault()},toggle_child_tags:function(t,e,n,r){var i=parseInt(t.target.dataset.vrCh);[].forEach.call(document.querySelectorAll(r),(function(t,n){if(i){if(n<e)return;t.style.display="none"}else t.style.display=""})),t.target.text=n[i],t.target.dataset.vrCh=i?"0":"1"}},Core.test={init_go_settings_timer_end:function(){$("#vr-start-countdown").hide(),$("#vr-start-countdown-finish").show(),setTimeout((function(){window.location.reload()}),5e3)},toggle_ip:function(t,e){jQuery(e).toggle();var n="показати";t.target.text===n&&(n="приховати"),t.target.text=n},init_paralax:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.02,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".n-js-header",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".n-paralax__img",i=document.querySelector("".concat(n)),o=document.querySelector("".concat(r));if(i&&o){var s=t,a=e,c=0,l=0,u=0,f=0;function d(){c+=(u-c)*a,l+=(f-l)*a,o.style.cssText="transform: translate(".concat(c/s,"%,").concat(l/s,"%)"),requestAnimationFrame(d)}d(),i.addEventListener("mousemove",(function(t){var e=i.offsetWidth,n=i.offsetHeight,r=t.pageX-e/2,o=t.pageY-n/2;u=r/e*100,f=o/n*100}))}}},Core.site={init_index:function(){var t,e,n=i(".v-main-lp-top-side-bg"),r=i(".v-main-lp-top-side-img");function i(t,e){return e?document.querySelectorAll(t):document.querySelector(t)}function o(t,e){return 100*t/e}r.style.transition=".5s ease-out",r.style.transformOrigin="50% 50%",r.style.transform="scale(1.03)",n.addEventListener("mouseleave",(function(t){r.style.setProperty("transform-origin","50% 50%")})),n.addEventListener("mousemove",(function(t){var e=n.getBoundingClientRect(),i=t.pageX,s=t.pageY,a=n.offsetTop,c=e.width,l=e.height,u=s-a,f=[o(i,c),o(u,l)],d=f[0],h=f[1];r.style.setProperty("transform-origin","".concat(d,"% ").concat(h,"%"))})),t=.3,e=i("[data-counter-number]",!0),[].forEach.call(e,(function(e){!function(t,e){var n,r=Number(t.getAttribute("data-counter-number").replace(/\D/,""));n=r/(1e3*e/5),function e(i){setTimeout((function(){var o=i+n;o<r?(t.textContent=String(Math.round(o)).replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$& "),e(o)):t.textContent=String(r).replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$& ")}),5)}(0)}(e,t)}))},init_out_url:function(t){var e=5,n=setInterval((function(){if((e-=1)<=1){clearInterval(n);var r=$("<button>").text("Перейти").click((function(){location.href=t}));$(".v-download-main-block-title").empty().after(r,"Якщо перехід не відбувся автоматично, натисніть кнопку."),$(".i-link-out").show(),location.href=t}$(".v-main-time").html("<b>"+Math.max(e,0)+"</b><span>секунд</span>")}),1e3)},init_popup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/ext/user/msg";setTimeout((function(){vo.ajax(null,t,{mob:$(window).width()>991?0:1})}),arguments.length>1?arguments[1]:void 0)},init_bitkit:function(){document.querySelectorAll(".v-bitkit-item-slider").forEach((function(t){var e=t.querySelectorAll("a");e.forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault(),e.forEach((function(t){t.classList.contains("active")&&t.classList.remove("active")})),this.classList.add("active");var r=this.querySelector("img").src;t.querySelector(".v-bitkit-item-slider-img img").setAttribute("src",r)}))}))}))},ytInstructionMethodWeek:function(){vo.dlg.show('<iframe width="560" height="315" src="https://www.youtube.com/embed/nVS5ovjWuiI?rel=0&showinfo=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',{width:"none"})},birthday_video:function(){$(".v-egipet-video-soon").stop(!0).fadeIn().delay(1e4).fadeOut()}},Core.profile={updateAvatar:function(t){$("img.v-profile-photo")[0].setAttribute("src",t)}},Core.office={copy:function(t){var e=document.createElement("span");e.textContent=$(t.target).text(),document.body.appendChild(e);var n=document.createRange();n.selectNode(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")?vo.popup("Посилання скопійовано"):vo.popup("Не вдалося скопіювати посилання")}catch(t){console.log("Oops, unable to copy")}r.removeAllRanges(),document.body.removeChild(e)},confirmLink:function(t){$("#is-confirm").val(t),$("#confirm-form").submit()}},Core.library={setPage:!1,init_add:function(){vo.user_id||$("#library-add-form").find(":input").each((function(){function t(t){return vo.signIn(),t.preventDefault(),t.stopPropagation(),!1}this.addEventListener("click",t,!0),this.addEventListener("mousedown",t,!0)}))},resetDefaultPage:function(){document.getElementById("librarysearch-page")&&(document.getElementById("librarysearch-page").value=""),vo.library.setPage=!1},setPayFilters:function(t){for(var e=document.querySelectorAll('button[type="button"]'),n=function(){var n=e[r];n.classList.contains("librarysearch-is_pay-button")&&n.addEventListener("click",(function(e){return e.preventDefault(),e.stopPropagation(),vo.scrollTo("#"+t),document.getElementById("librarysearch-is_pay").value=n.value,vo.library.resetDefaultPage(),jQuery("#"+t).find(":submit")[0].click(),!1}))},r=0;r<e.length;r++)n()},ajaxPagination:function(t){var e=document.getElementById("vr-library-list-view");e&&([].forEach.call(e.querySelectorAll("a[data-page]"),(function(e){e.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),vo.scrollTo("#"+t);var r=document.getElementById("librarysearch-page");if(r)return r.value=parseInt(e.getAttribute("data-page"))+1,vo.library.setPage=!0,jQuery("#"+t).find(":submit")[0].click(),!1}))})),[].forEach.call(e.querySelectorAll('[class="page-input"]'),(function(e){e.addEventListener("keypress",(function(n){if("Enter"===n.key){n.preventDefault(),n.stopPropagation(),vo.scrollTo("#"+t);var r=document.getElementById("librarysearch-page");if(r)return r.value=e.value,vo.library.setPage=!0,jQuery("#"+t).find(":submit")[0].click(),!1}}))})))},ajaxSearch:function(t){var e=document.getElementById(t),n=document.getElementById("librarysearch-s"),r=document.getElementById("librarysearch-cat"),i=document.getElementById("librarysearch-type"),o=document.getElementById("librarysearch-title_only"),s=document.getElementById("librarysearch-class");function a(t,e,a){n=document.getElementById("librarysearch-s");var l=window.location.pathname+(e?"?"+e:"");a&&(!(window.history.state&&window.history.state.query===e)&&window.history.pushState({query:e},"",l));var u=e?Object(_utils__WEBPACK_IMPORTED_MODULE_5__.D)(e):{},f=u.s||"",d=u.type||"",h=u.cat||"",p=u.class||"",v=u.title_only||"",m=u.is_pay||"",g="";n.value=f,f&&(g+='<li><a href="'+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.j)(window.location.pathname,{type:d,cat:h,class_bit:p,title_only:v,is_pay:m})+'" id="vr-library-form-clear-s">&#10006;</a><span>Містить в назві:</span> '+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.I)(f)+"</li>"),o.checked=+v>0,o.checked&&f&&(g+='<li><a href="'+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.j)(window.location.pathname,{title:f,cat:h,class_bit:p,type:d,is_pay:m})+'" id="vr-library-form-clear-title_only">&#10006;</a> Шукати тільки по назві</li>');var y=r.myForceChange(h);if(h&&(g+='<li><a href="'+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.j)(window.location.pathname,{title:f,type:d,class_bit:p,title_only:v,is_pay:m})+'" id="vr-library-form-clear-cat">&#10006;</a><span>Для предмету:</span> '+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.I)(y||"ID-код невідомий")+"</li>"),i.value=d,d&&(g+='<li><a href="'+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.j)(window.location.pathname,{title:f,cat:h,class_bit:p,title_only:v,is_pay:m})+'" id="vr-library-form-clear-type">&#10006;</a><span>Тип матеріалу:</span> '+(i.options[i.selectedIndex].text||"ID-код невідомий")+"</li>"),s.value=p,p){var _=vo.classes.find((function(t){return String(t.num)===String(p)}));g+='<li><a href="'+Object(_utils__WEBPACK_IMPORTED_MODULE_5__.j)(window.location.pathname,{title:f,type:d,cat:h,title_only:v,is_pay:m})+'" id="vr-library-form-clear-class">&#10006;</a><span>Для класу:</span> '+(_?_.title:"ID-код невідомий")+"</li>"}g?(document.getElementById("vr-library-form-filter").querySelector(".v-tests-filter-result-list").innerHTML=g,document.getElementById("vr-library-form-filter").style.display="block",document.getElementById("librarysearch-sort-block")&&(document.getElementById("librarysearch-sort-block").style.display="none"),c()):(document.getElementById("vr-library-form-filter").style.display="none",document.getElementById("librarysearch-sort-block")&&(document.getElementById("librarysearch-sort-block").style.display="block")),document.getElementById("vr-lib-content").innerHTML='<span class="v-bar"></span>',vo.ajax(t,l,null),vo.library.resetDefaultPage()}function c(){var t=document.getElementById("vr-library-form-clear-class"),c=document.getElementById("vr-library-form-clear-type"),l=document.getElementById("vr-library-form-clear-cat"),u=document.getElementById("vr-library-form-clear-s"),f=document.getElementById("vr-library-form-clear-title_only");t&&t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),s.value="",a(null,jQuery(e).serialize(),!0)})),c&&c.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),i.value="",a(null,jQuery(e).serialize(),!0)})),l&&l.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),r.myForceChange(""),a(null,jQuery(e).serialize(),!0)})),u&&u.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),(n=document.getElementById("librarysearch-s"))&&(n.value="",a(null,jQuery(e).serialize(),!0))})),f&&f.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),(o=document.getElementById("librarysearch-title_only")).checked&&(o.checked=!1,a(null,jQuery(e).serialize(),!0))}))}vo.library.setPage||vo.library.resetDefaultPage(),[].forEach.call(e.querySelectorAll('button[type="submit"]'),(function(t){t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=jQuery("input:not([name=title_only])",e).serialize()+"&"+jQuery("select",e).serialize();return $("input:checkbox").each((function(){n+="&"+this.name+"="+(this.checked?this.value:"")})),a(null,n,!0),!1}))})),window.onpopstate=function(t){a(null,t.state?t.state.query:"",!1)},document.getElementById("vr-library-form-clear").addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),a(t,"",!0)})),c()},fb_share:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;$(".js-fb-share").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t))},changeLayoutLib:function(t){var e=t.getAttribute("data-layout"),n=document.querySelectorAll(".btn-column"),r=document.querySelector(".changeLayout");r&&([].forEach.call(n,(function(t){t.getAttribute("data-layout")===e?t.classList.add("active"):t.classList.remove("active"),r.classList.remove(t.getAttribute("data-layout"))})),r.classList.add(e),vo.ajax(null,"/ext/user/set-library-layout",{layout:e}))}},Core.group={deleteAlbum:function(t,e,n,r){vo.dlg.confirm(t,"Видалити альбом","Ви впевнені, що хочете видалити альбом "+n+" в якому знаходиться "+r+" фото?",(function(){vo.ajax(t,"/ext/group/album-delete",{id:e})}))},deleteNewsFeed:function(t,e){vo.dlg.confirm(t,"Видалити запис з групи","Ви впевнені, що хочете видалити запис зі сторінки школи? При видаленні запису рейтинг нарахований за нього залишиться.",(function(){vo.ajax(t,"/ext/group/delete-news-feed",{id:e})}))}},Core.fixedHeadTable={init_header_fixed:function(){var t=document.querySelector(".fixed-header"),e=document.querySelector(".table-wrap"),n=document.querySelector(".body-table");t&&window.addEventListener("scroll",(function(){n.getBoundingClientRect().top<=1?(t.style.cssText="\n                            z-index: 9999;\n                            transform: translateY(".concat(-1*n.getBoundingClientRect().top,"px);\n                            left:0;\n                            position: absolute;\n                            width: ").concat(n.offsetWidth,"px;\n                        "),e.style.cssText="\n                            position: relative;\n                           padding-top: ".concat(t.offsetHeight,"px;\n                        ")):(t.style.cssText="\n                            transform: translateY(0px);\n                        ",e.style.cssText="\n                           position: relative;\n                           padding-top: 0;\n                      \n                        ")}))}},Core.course={init:function(){var t=$(".v-main-header");$(".anchor").each((function(){var e=$($(this).attr("href")).addClass("anchor-target");$(this).click((function(){return $("body,html").animate({scrollTop:e.offset().top-t.height()-42},"slow"),!1}))})),$(window).scroll((function(){var e=$(".anchor-target").map((function(){return{top:$(this).offset().top,el:this}})).toArray();$("a.anchor").removeClass("active");for(var n=0;n<e.length;++n){if(e[n].top>$(window).scrollTop()+t.height()+42+100)break}var r=e[n-1];r&&$("a.anchor[href='#"+r.el.id+"']").addClass("active")}));var e=$(window),n=$(".i-header-clone"),r=$(".v-course-nav"),i=r.parent(),o=!1,s=!1;function a(){if(!s&&i&&i.offset()){var t=e.scrollTop(),a=i.offset().top,c=n.height();t>a-c?o||(o=!0,r.addClass("v-course-nav-fixed").css({position:"fixed",top:-r.height()}).stop(!0).animate({top:c})):o&&(o=!1,r.removeClass("v-course-nav-fixed").css({position:""}))}}function c(){r.css({top:n.height()}),e.width()<992?(i.css({height:""}),s=!0,o=!1,r.removeClass("v-course-nav-fixed").css({position:"",top:""})):(i.css({height:r.height()}),s&&a(),s=!1)}setTimeout((function(){n=$(".i-header-clone"),a(),c(),e.scroll(a),e.resize(c)}),500)},init_sidebar:function(t){jQuery("#course-search-form input").on("change",(function(){vo.course.submitSearchForm()})),$(".v-filter-library-title").click((function(){$(window).width()<=900&&($(this).next(".v-filter-course-check").toggleClass("open"),$(this).toggleClass("open"))}))},submitSearchForm:function(t){var e=jQuery("#course-search-form");0!==$("#course-search-form input:checked").length?e.submit():window.location.href=t},initChangeUrlListener:function(t){window.onpopstate=function(e){var n=e.state?e.state.url_ajax:t;vo.ajax(e,n,{},(function(){n&&vo.course.goToAnchor(n)}))}},openThemeByUrl:function(t,e,n){vo.ajax(t,e,{},(function(){window.location.href!==n&&window.history.pushState({url_ajax:e},"",n),n&&vo.course.goToAnchor(n)}))},goToAnchor:function(t){var e=t.match(_wrapRegExp(/[&|?]anchor=(\w+)&?/,{anchor:1})),n=e?e.groups.anchor:null;n||(e=t.match(_wrapRegExp(/[&|?]id=(\d+)&?/,{anchor:1})),n=e?"vr-ct-"+e.groups.anchor:null),n&&setTimeout((function(){vo.scrollTo("#"+n)}),300)},refreshBlock:function(t,e){vo.ajax(t,"/ext/course/refresh-block?id_block="+e,{},(function(){vo.scrollTo("#course_block_"+e)}))},init_education_landing:function(){var t,e,n=document.querySelector(".n-course-user__nav-sect"),r=document.querySelector(".n-first-sect__user-course"),i=(document.querySelector(".v-main-header").offsetHeight,document.querySelector(".nFixSidebar")),o=document.querySelector("#nsect1"),s=document.querySelector(".n-user-course__user-info");window.addEventListener("scroll",(function(){t=window.scrollY,e=r.scrollHeight-n.scrollHeight,n.classList.contains("n-course-nav-fix")&&i.classList.contains("n-fix")?s.style.cssText="\n                        position: relative;\n                        top: ".concat(n.offsetHeight,"px;\n                    "):s.style.cssText="\n                        margin-top: 0px;\n                    ",t>=e?(n.classList.add("n-course-nav-fix"),o.style.cssText="\n                        margin-top: ".concat(n.offsetHeight,"px;\n                    ")):(n.classList.remove("n-course-nav-fix"),o.style.cssText="\n                        margin-top: 0px;\n                    ")}))}},Core.webQuest={hoverElement:function(t,e){var n=document.querySelector("".concat(t)),r=document.querySelector("".concat(e));n&&r&&(n.addEventListener("mouseover",(function(t){r.classList.add("animation")})),n.addEventListener("mouseout",(function(t){r.classList.remove("animation")})))},init_1:function(){var t=document.querySelector(".anchor-x1"),e=document.querySelector(".anchor-y1"),n=document.querySelector(".output-x1"),r=document.querySelector(".output-y1"),i=document.querySelector(".mover1"),o=document.querySelector(".anchor-x2"),s=document.querySelector(".anchor-y2"),a=document.querySelector(".output-x2"),c=document.querySelector(".output-y2"),l=document.querySelector(".mover2");function u(t,e,n,r,i){var o=e;t.addEventListener("input",(function(t){var e="".concat(t.currentTarget.value,"%");i.style.setProperty("--anchorX",e),n.textContent=e})),o.addEventListener("input",(function(t){var e="".concat(t.currentTarget.value,"%");i.style.setProperty("--anchorY",e),r.textContent=e}))}u(t,e,n,r,i),u(o,s,a,c,l)}},Core.marathon={init_4:function(){function t(){this.nextElementSibling.classList.toggle("n-hidden"),this.classList.toggle("n-open")}document.querySelectorAll('[data-name="accordeon-title"]').forEach((function(e){e.addEventListener("click",t)}));var e=document.querySelector(".n-nav__sect"),n=document.querySelectorAll(".n__nav-item");window.addEventListener("scroll",(function(t){var r=window.scrollY+100;window.scrollY>=20?e.classList.add("n-fix"):e.classList.remove("n-fix"),n.forEach((function(t){var e=document.querySelector(t.hash);e.offsetTop<=r&&e.offsetTop+e.offsetHeight>r?t.classList.add("n-active"):t.classList.remove("n-active")}))})),document.querySelectorAll(".n-item__get").forEach((function(t){t.querySelector(".n-title-get").addEventListener("click",(function(){t.classList.toggle("n-open")}))}))},init_7:function(){var t=document.querySelector(".n-circle-js"),e=document.querySelector(".n-sect__circle"),n=t.clientHeight;function r(){e.style.height=n+n/100*58+"px"}document.querySelectorAll(".n-acordeon__item").forEach((function(t){t.querySelector(".n-acorseon__title").addEventListener("click",(function(){t.classList.toggle("n-open")}))})),r(),window.addEventListener("resize",(function(e){n=t.clientHeight,r()}),!0)}},Core.lp={activePackage:null,premiumPackages:{},togglePremium:function(t){+vo.lp.activePackage==+t&&(t=Object.keys(vo.lp.premiumPackages).filter((function(e){return+e!=+t}))[0]||null);var e=vo.lp.premiumPackages[t];e&&(vo.lp.activePackage=t,Object.keys(e).forEach((function(t){var n=document.querySelectorAll(".vr-package-"+t);[].forEach.call(n,(function(n){"active_class"===t?e[t]?n.classList.add(e[t]):n.classList.remove("active"):n.innerHTML=e[t]}))})))},init_accordion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelectorAll(".qa");t&&[].forEach.call(t,(function(t){if(!t.hasAttribute("data-accordion-init")){t.setAttribute("data-accordion-init",!0);var e=t.querySelector("a"),n=t.querySelector("div");if(t.hasAttribute("data-height-hide-block")){t.classList.add("close");var r,i=parseInt(t.getAttribute("data-height-hide-block")),o=!1;function s(){if(o=!o,t.classList.toggle("clicked",o),clearInterval(r),o){t.classList.remove("close");var e=i;n.style.height=e+"px",r=setInterval((function(){(e+=5)>=n.scrollHeight?(n.style.height="",clearInterval(r)):n.style.height=e+"px"}),10)}else{t.classList.add("close");var s=n.scrollHeight;r=setInterval((function(){(s-=5)<=i?(n.style.height=i+"px",clearInterval(r)):(n.style.height=s+"px",n.style.transition="none")}),10)}}n.style.cssText="\n                           height: ".concat(i,"px;\n                               overflow: hidden;          \n                    "),i>=n.scrollHeight?(t.classList.add("empty"),n.style.height="",t.classList.remove("close")):e.addEventListener("click",(function(t){t.preventDefault(),s()}))}else e.addEventListener("click",(function(e){var r,i,o;e.preventDefault(),t.classList.toggle("clicked"),i="display",o="block",""===(r=n).style[i]?r.style[i]=o:r.style[i]=""}))}}))},init_help:function(t,e,n){var r=document.getElementById(t),i=document.getElementById(e),o=document.getElementById(n);if(!r||!i)return!1;Object(_utils__WEBPACK_IMPORTED_MODULE_5__.T)(!1)?i.addEventListener("click",(function(t){var e=String(r.value).trim();if(!e)return vo.popup("Будь ласка, напишіть своє запитання автору...");vo.ajax(t,"/help/send-msg",{message:e},(function(t){t&&"message"in t&&"id"in t.message&&(i.style.display="none",r.style.display="none",o.style.display="block")}))})):(r.addEventListener("focus",(function(t){Object(_utils__WEBPACK_IMPORTED_MODULE_5__.T)()})),r.addEventListener("input",(function(t){t.target.value=""})),i.addEventListener("click",(function(t){Object(_utils__WEBPACK_IMPORTED_MODULE_5__.T)()})))},init_animation_magic_ball:function(){var t=document.getElementById("vr-start-fortune"),e=document.getElementById("n-fortune-form"),n=document.getElementById("n-fortune-result"),r=document.getElementById("n-fortune-canvas"),i=document.getElementById("vr-restart-fortune");t.addEventListener("click",(function(){e&&(e.style.display="none"),n&&(n.style.display="none"),i&&(i.style.display="none"),r.style.display="block",setTimeout((function(){e.submit()}),1e3+Math.floor(2e3*Math.random()))})),i&&i.addEventListener("click",(function(){t.click()}));var o,s,a,c,l,u,f,d=document.querySelector("#n-fortune-canvas"),h=d.getContext("2d"),p=d.width=window.innerWidth,v=d.height=window.innerHeight,m=0,g=-15;!function t(){h.globalCompositeOperation="destination-in",h.fillStyle="transparent",h.fillRect(0,0,p,v),h.globalCompositeOperation="lighter";for(var e=0;e<20;e++){c=0,c=0,h.beginPath();for(var n=0;n<750;n++)s=g*((o=g/4+e)/4),c+=.5*Math.sin(16),l=c*Math.sin(e+15.4*m+c/20)/1.15,u=c*Math.cos(e)+l*Math.sin(a),f=c*Math.sin(e)+l*Math.cos(a),a=n*Math.PI/1.51,h.lineWidth=.05,h.lineTo(p/2-u,v/2-f);var r=h.createLinearGradient(p/2+u,v/2+f,1,p/2+u,v/2+f);r.addColorStop(.1,"hsla("+s+",90%,50%, .21)"),r.addColorStop(.5,"hsla("+o+",95%,50%, .21)"),r.addColorStop(1,"hsla(0,0%,0%,1)"),h.strokeStyle=r,h.stroke()}m+=.005,g-=.2,window.requestAnimationFrame(t)}(),window.addEventListener("resize",(function(){d.width=p=window.innerWidth,d.height=v=window.innerHeight}),!1)},init_accordion_nazar:function(){var t=document.querySelectorAll(".n-olp27__acordeon-wrap .n-acordeon__item");t.forEach((function(e){e.querySelector(".n-acordeon__title").addEventListener("click",(function(n){t.forEach((function(t){t!==e?t.classList.remove("n-open"):t.classList.toggle("n-open")}))}))}))},init_saint_nicholas:function(t){var e=$("#vr-btn-agree");e&&($(".vr-checkbox-agree").on("change",(function(t){3===$(".vr-checkbox-agree:checked").length?e.removeClass("n-sn-btn-red"):e.addClass("n-sn-btn-red")})),e.on("click",(function(e){3===$(".vr-checkbox-agree:checked").length?vo.ajax(e,"/site/doc-accept",{id_lp:t,prop:"id_doc_accept",i_agree:1}):vo.popup("Прийміть положення та погодьтеся з умовами акції!")})))},init_birthday_lp:function(t,e){var n=$("#vr-btn-agree");n&&($(".vr-checkbox-agree").on("change",(function(){$(".vr-checkbox-agree:checked").length===e?n.removeClass("n-sn-btn-red"):n.addClass("n-sn-btn-red")})),n.on("click",(function(n){$(".vr-checkbox-agree:checked").length===e?vo.ajax(n,"/site/doc-accept",{id_lp:t,prop:"id_doc_accept",i_agree:1}):vo.popup("Прийміть положення та погодьтеся з умовами акції!")})))},scrollHeaderTabsIntoView:function(t){var e=document.querySelector(t),n=null==e?void 0:e.querySelector(".tab_wrap");if(n||(n=null==e?void 0:e.querySelector("ul")),n&&(n.style.cssText="\n                display: flex;\n                flex-wrap: nowrap;\n                overflow-x: scroll;\n                overflow-y: hidden;\n                -ms-overflow-style: none;\n                scrollbar-width: 0;\n            ",n.style.scrollbarWidth="none",n.style.WebkitScrollbar="none",e&&n)){var r,i,o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=function(){if(n.scrollWidth>n.clientWidth){var t=n.querySelector(".tab.active");if(t||(t=n.querySelector("li.active")),!t)return;n.style.setProperty("--scrollbar-width","2px");var e=t.offsetLeft-(n.clientWidth-t.clientWidth)/2;e=Math.max(0,Math.min(e,n.scrollWidth-n.clientWidth)),n.scrollTo({left:e,behavior:"smooth"})}clearInterval(r)};r=setInterval(s,500),n.addEventListener("mouseenter",(function(){clearInterval(r)})),n.addEventListener("mouseleave",(function(){r=setInterval(s,500)})),n.addEventListener("wheel",(function(t){t.preventDefault();var e=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));if(0!==e){var r=o?-50:50;"left"===(e>0?"left":"right")?n.scrollLeft-=r:n.scrollLeft+=r}}),{passive:!1}),o||(n.addEventListener("touchstart",(function(t){i=t.touches[0].clientX}),{passive:!0}),n.addEventListener("touchmove",(function(t){t.preventDefault();var e=t.touches[0].clientX,r=o?-5:5;"left"==(i-e>0?"left":"right")?n.scrollLeft-=r:n.scrollLeft+=r}),{passive:!1}))}}},Core.cert={show_cert_list:function(t,e,n,r,i,o){var s=$(e),a=s.filter((function(t,e){return"none"===$(e).css("display")}));if(!a.length&&r)return vo.scrollTo(r),void vo.popup(i?"Уточніть параметри пошуку":"Скористайтеся формою для пошуку виданих документів про підвищення кваліфікації");for(var c=0;c<n;c++)vo.slideToggle(a[c],"slow");(a=(s=$(e)).filter((function(t,e){return"none"===$(e).css("display")}))).length||o||vo.hide(t.target)}},Core.market={init_vseosvita:function(t){var e=$(t);e&&($("#market-sort, #market-c").on("change",(function(t){e.submit()})),$("#market-title").on("keypress",(function(t){13==t.which&&e.submit()})),$("#market-reset").on("click",(function(t){window.location.href=window.location.origin+window.location.pathname})))}},Core.banner={scrollHeight:function(){},show:function(){},hide:function(){}},Core.favoriteAdd=function(t,e,n,r,i,o,s){vo.ajax(t,"/ext/profile/favorite-add",{obj_key:e},(function(t){if(t&&"data"in t){var e=t.data.result,a=1===e?i:r,c=1===e?s:o,l="subscribed",u=1===e?l:"";[].forEach.call(document.querySelectorAll(n),(function(t){t.classList.remove(l),u?t.classList.add(u):t.classList.remove(l),t.setAttribute("title",a);var e=t.querySelector(".vr-text");e&&(e.innerText=a);var n=t.querySelector(".vo-lib_i");n&&c&&(o&&n.classList.remove(o),s&&n.classList.remove(s),n.classList.add(c))}))}}),null,{enableButtonImmediately:!0})},Core.toggleMaterialCategoryList=function(t){var e=$(".i-hidden-list").slideToggle().toggleClass("i-hidden-list-display").queue((function(n){var r=$(t);e.hasClass("i-hidden-list-display")?r.text("Згорнути"):r.text("Дивитися ще 9 розділів"),n()}));return!1},Core.yii={yiiGridView:function(t,e){return jQuery(t).yiiGridView(e)}},Core.openDialogUserKey="",Core.init={},init()}(),window.vo_init=function(t){vo.set(t),vo._apps={main:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url),msg:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url_msg),sub:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url_sub),file:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url_cloud),school:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url_school),like:new _ajax_queue__WEBPACK_IMPORTED_MODULE_9__.a(vo.url_like)},Object(_socket__WEBPACK_IMPORTED_MODULE_0__.a)(),Object(_modules_messages_v3_indicator__WEBPACK_IMPORTED_MODULE_1__.a)(),Object(_modules_notifications_v3_indicator__WEBPACK_IMPORTED_MODULE_2__.a)(),Object(_modules_notifications_v3_popup__WEBPACK_IMPORTED_MODULE_3__.a)(),mathlive__WEBPACK_IMPORTED_MODULE_6__.a.fontsDirectory="".concat(vo.url).concat(vo.url_assets,"/mathlive/fonts"),mathlive__WEBPACK_IMPORTED_MODULE_6__.a.soundsDirectory="".concat(vo.url).concat(vo.url_assets,"/mathlive/sounds");var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e),vo.dlg.scroll_width=e.offsetWidth-e.clientWidth,document.body.removeChild(e),$(window).scroll((function(){var t=$("#toTop");0!==$(this).scrollTop()?t.fadeIn():t.fadeOut();var e=$("footer");t.length&&e.length&&t.offset().top+t.height()>e.offset().top?t.css({color:"white"}):t.css({color:""})})),$("#toTop").click((function(){$("body,html").stop().animate({scrollTop:0},800)}));var n=/(\d+)x(\d+)\.\w+$/;$(".achievement-img").each((function(){var t=this.src,e=!1;if(t&&(e=t.match(n)),!this.complete){var r=$(this);e&&r.css({width:e[1],height:e[2]}),r.on("load",(function(){r.css({width:"",height:""})}))}}));var r=function(t){"image"===t.target.tagName&&"src"in t.target.dataset&&t.target.getAttribute("xlink:href")!==t.target.dataset.src&&t.target.setAttribute("xlink:href",t.target.dataset.src)};document.addEventListener("lazybeforeunveil",r),document.addEventListener("lazyloaded",r),vo.user_id&&vo.obj_type&&vo.ajax(null,"/ext/user/visit-obj",{obj_type:vo.obj_type,obj_id:vo.obj_id,obj_sub_id:vo.obj_sub_id}),Object(_landing__WEBPACK_IMPORTED_MODULE_4__.a)()},vo.landing={mapUkr:function(t){var e=document.getElementById(t),n=e.querySelector(".zoom-in"),r=e.querySelector(".zoom-out"),i=e.querySelector(".zoom-map"),o=e.querySelector(".transform-map"),s=1,a=0,c=0;if(e){function l(t){var e=t.clientX||t.touches[0].clientX,n=t.clientY||t.touches[0].clientY,r=e-a,i=n-c;o.style.left=r+"px",o.style.top=i+"px"}function u(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",u)}n.addEventListener("click",(function(){s+=.1,i.style.transform="scale("+s+")"})),r.addEventListener("click",(function(){s-=.1,i.style.transform="scale("+s+")"})),e.addEventListener("wheel",(function(t){t.preventDefault();var e=t.deltaY||t.detail||-t.wheelDelta;s+=e>0?.1:-.1,i.style.transform="scale("+s+")"})),e.addEventListener("gesturechange",(function(t){t.preventDefault(),s=t.scale,i.style.transform="scale("+s+")"})),o.addEventListener("mousedown",(function(t){t.preventDefault(),a=t.clientX-o.offsetLeft,c=t.clientY-o.offsetTop,document.addEventListener("mousemove",l),document.addEventListener("mouseup",u)})),o.addEventListener("touchstart",(function(t){t.preventDefault(),a=t.touches[0].clientX-o.offsetLeft,c=t.touches[0].clientY-o.offsetTop,document.addEventListener("touchmove",l),document.addEventListener("touchend",u)}))}}}}).call(this,__webpack_require__(52),__webpack_require__(52))},function(t,e,n){},function(t,e,n){"use strict";(function(t){var e=n(127);vo.test_pupil={init_view_answer_short_go_pupil:function(n){function r(e,n){for(var i=n,o=e.cloneNode(!1),s=t(e).contents(),a=0;a<s.length;++a){if(i<=0){i=0;break}var c=s.get(a);switch(c.nodeType){case 3:var l,u=c.textContent,f=u.length;u.length>i?(f=i,l=document.createTextNode(u.substring(0,n)+"...")):(f=u.length,l=c.cloneNode(!1)),o.appendChild(l),i-=f;break;case 1:var d=r(c,i);i=d.maxLeft,o.appendChild(d.element)}}return{maxLeft:i,element:o}}function i(e){var n=t(e);t(".i-test-result-select").removeClass("v-test-result-current"),n.addClass("v-test-result-current");var r=n.attr("data-qnum-show");t(".i-block-answers-list").find("[data-qnum]").hide().filter("[data-qnum='"+r+"']").show()}Object(e.c)("vr-view-answer-short",{TeX:{processEnvironments:!1}}),t(".i-block-answers-overflow").scrollTop(0),t(".i-block-question-shorten").each((function(){if(this.textContent.length>200){var e=t(r(this,200).element),n=t(this),i=t("<a>",{text:"Детальніше"}).on("click",(function(){n.add(e).toggle(),n.is(":visible")?i.text("Згорнути"):i.text("Детальніше")})).addClass("v-zno-show-more");n.after(e,i).hide()}}));var o=t(".i-test-result-select");o.click((function(){i(this)})),i(o.eq(n||0))}}}).call(this,n(52))},function(t,e,n){"use strict";var r=n(202);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}window.initImagePuzzle=function(t,e){"object"!==i(e)&&(e={});var n=document.getElementById(t);if(n){n.innerHTML="";var o=document.createElement("div");o.style.border="none",o.style.left="0px",o.style.top="0px",n.appendChild(o);var s=e,a=s.file,c=void 0===a?null:a,l=s.file_height,u=void 0===l?null:l,f=s.file_width,d=void 0===f?null:f,h=s.pieceCount,p=void 0===h?null:h,v=s.pieceView,m=void 0===v?null:v,g=s.mode,y=void 0===g?null:g,_=s.isObserve,b=void 0!==_&&_;if(y=parseInt(y),p=parseInt(p),d=parseInt(d),u=parseInt(u),c&&d&&u&&p){if(b){var w=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(w.unobserve(n),new r.c({img:c,width:n.clientWidth,height:n.clientWidth*u/d,idiv:o,npieces:p,pieceView:m,mode:y}).then((function(e){e.setPieceCount(p);var n=document.getElementById("".concat(t,"-span"));n.parentNode.removeChild(n)})))}))}));w.observe(n)}else new r.c({img:c,width:n.clientWidth,height:n.clientWidth*u/d,idiv:o,npieces:p,pieceView:m,mode:y}).then((function(e){e.setPieceCount(p);var n=document.getElementById("".concat(t,"-span"));n.parentNode.removeChild(n)}))}}else console.log('Не знайдено imageArea (id="#'.concat(t,'"})'))}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(127);n(1201),n(1202);Object(r.b)({TeX:{processEnvironments:!1}})},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var r=n(18),i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"vo-block-white"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Технічна назва:\n                ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Контекст (для швидкого розділення на групи):\n                ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.context_type,expression:"form.context_type"}],attrs:{disabled:-1===t.designerConfig.enabled_context_types.indexOf(t.form.context_type)},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"context_type",e.target.multiple?n:n[0])}}},[t._l(t.designerConfig.context_types,(function(n){return[e("option",{attrs:{disabled:-1===t.designerConfig.enabled_context_types.indexOf(n.id)},domProps:{value:n.id}},[t._v("\n                            "+t._s(n.title)+"\n                            "),-1===t.designerConfig.enabled_context_types.indexOf(n.id)?[t._v("[ЗАБЛОКОВАНО]")]:t._e()],2)]}))],2)])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Шаблон:\n                ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.id_tpl,expression:"form.id_tpl"}],attrs:{disabled:!!t.reflectionConfig},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"id_tpl",e.target.multiple?n:n[0])}}},[e("option",{domProps:{value:null}},[t._v("-- Оберіть шаблон --")]),t._v(" "),t._l(t.designerConfig.tpls,(function(n){return[e("option",{domProps:{value:n.id}},[t._v(t._s(n.title))])]}))],2)])]),t._v(" "),t.tpl&&t.tpl.isUserStat?e("div",{staticClass:"n-j-row-modal-input n-wrap__wrap n-col__sm"},[e("div",{staticClass:"n-col-modal"},[t._m(0),t._v(" "),e("label",{staticClass:"n-j-label-modal"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.show_statistic,expression:"form.show_statistic"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.form.show_statistic,1)},on:{change:function(e){return t.$set(t.form,"show_statistic",1)}}}),t._v(" Так, показувати\n                ")]),t._v(" "),e("label",{staticClass:"n-j-label-modal"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.show_statistic,expression:"form.show_statistic"}],attrs:{type:"radio"},domProps:{value:0,checked:t._q(t.form.show_statistic,0)},on:{change:function(e){return t.$set(t.form,"show_statistic",0)}}}),t._v(" Ні, не показувати\n                ")])])]):t._e(),t._v(" "),t._e()]),t._v(" "),t.tpl?[t.tpl.vueComponent?[e("div",{staticClass:"vo-block-white"},[e("p",{staticClass:"vo-title-small"},[t._v("Налаштування шаблона")]),t._v(" "),e(t.tpl.vueComponent,{ref:"TplForm",tag:"component",attrs:{designerForm:t.form,reflectionConfig:t.reflectionConfig}}),t._v(" "),e("div",[e("button",{staticClass:"n-modal-btn-blue",on:{click:t.save}},[t._v("Зберегти")]),t._v(" "),e("button",{staticClass:"n-modal-btn-silver pull-right",on:{click:t.cancel}},[t._v("Скасувати")])])],1)]:[e("b",{staticClass:"vo-color-red"},[t._v("Відсутній компонент для роботи з формою.")])]]:[e("p",{staticClass:"vo-text vo-color-silver"},[t._v("\n            Необхідно обрати шаблон, щоб продовжити далі...\n        ")])]],2)};i._withStripped=!0;var o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст запитання:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],attrs:{placeholder:""},domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст запитання після відповіді:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text_answered,expression:"form.text_answered"}],attrs:{placeholder:""},domProps:{value:t.form.text_answered},on:{input:function(e){e.target.composing||t.$set(t.form,"text_answered",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"v-col-6"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v('\n                        Текст кнопки "Так":\n                    ')]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.true_text,expression:"form.true_text"}],attrs:{type:"text"},domProps:{value:t.form.true_text},on:{input:function(e){e.target.composing||t.$set(t.form,"true_text",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-6 v-col-last"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v('\n                        Текст кнопки "Ні":\n                    ')]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.false_text,expression:"form.false_text"}],attrs:{type:"text"},domProps:{value:t.form.false_text},on:{input:function(e){e.target.composing||t.$set(t.form,"false_text",e.target.value)}}})])])])]),t._v(" "),1===t.designerForm.context_type?e("div",{staticClass:"v-col-12"},[e("p",{staticClass:"vo-title-small"},[t._v("Положення в новині")]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-checkbox__wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.positions,expression:"form.positions"}],attrs:{type:"checkbox"},domProps:{value:1,checked:Array.isArray(t.form.positions)?t._i(t.form.positions,1)>-1:t.form.positions},on:{change:function(e){var n=t.form.positions,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,1);r.checked?o<0&&t.$set(t.form,"positions",n.concat([1])):o>-1&&t.$set(t.form,"positions",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"positions",i)}}}),t._v(" "),e("span",[t._v("Вгорі")])])])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-checkbox__wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.positions,expression:"form.positions"}],attrs:{type:"checkbox"},domProps:{value:2,checked:Array.isArray(t.form.positions)?t._i(t.form.positions,2)>-1:t.form.positions},on:{change:function(e){var n=t.form.positions,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,2);r.checked?o<0&&t.$set(t.form,"positions",n.concat([2])):o>-1&&t.$set(t.form,"positions",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.form,"positions",i)}}}),t._v(" "),e("span",[t._v("Внизу")])])])])]):t._e()])};o._withStripped=!0;var s={name:"YesNoTpl",props:["reflectionConfig","designerForm"],data:function(){return{form:{text:this.reflectionConfig?this.reflectionConfig.data_json.text:"",text_answered:this.reflectionConfig?this.reflectionConfig.data_json.text_answered:"",true_text:this.reflectionConfig?this.reflectionConfig.data_json.true_text:"Так",false_text:this.reflectionConfig?this.reflectionConfig.data_json.false_text:"Ні",positions:(this.reflectionConfig&&this.reflectionConfig.data_json.positions||[]).map((function(t){return+t}))}}}},a=n(0),c=Object(a.a)(s,o,[],!1,null,"06184658",null).exports,l=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст запитання:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],attrs:{placeholder:""},domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12 v-col-last"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст запитання після відповіді:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text_answered,expression:"form.text_answered"}],attrs:{placeholder:""},domProps:{value:t.form.text_answered},on:{input:function(e){e.target.composing||t.$set(t.form,"text_answered",e.target.value)}}})])])])])};l._withStripped=!0;var u={name:"YesNoTpl",props:["reflectionConfig","designerForm"],data:function(){return{form:{text:this.reflectionConfig?this.reflectionConfig.data_json.text:"",text_answered:this.reflectionConfig?this.reflectionConfig.data_json.text_answered:""}}}},f=Object(a.a)(u,l,[],!1,null,"13389f9c",null).exports,d=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-row"},[e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                        Заголовок групи запитань:\n                    ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],attrs:{type:"text",placeholder:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                        Заголовок групи запитань після відповіді:\n                    ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title_answered,expression:"form.title_answered"}],attrs:{type:"text",placeholder:""},domProps:{value:t.form.title_answered},on:{input:function(e){e.target.composing||t.$set(t.form,"title_answered",e.target.value)}}})])])])]),t._v(" "),t._l(t.form.questions,(function(n,r){return e("div",{staticClass:"v-row"},[e("h3",[t._v("Запитання №"+t._s(r+1))]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                        Текст запитання:\n                    ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.questions[r].text,expression:"form.questions[idx]['text']"}],attrs:{placeholder:""},domProps:{value:t.form.questions[r].text},on:{input:function(e){e.target.composing||t.$set(t.form.questions[r],"text",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                        Текст запитання після відповіді:\n                    ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.questions[r].text_answered,expression:"form.questions[idx]['text_answered']"}],attrs:{placeholder:""},domProps:{value:t.form.questions[r].text_answered},on:{input:function(e){e.target.composing||t.$set(t.form.questions[r],"text_answered",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"v-col-6"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v('\n                            Текст кнопки "Так":\n                        ')]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.questions[r].true_text,expression:"form.questions[idx]['true_text']"}],attrs:{type:"text"},domProps:{value:t.form.questions[r].true_text},on:{input:function(e){e.target.composing||t.$set(t.form.questions[r],"true_text",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-6 v-col-last"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v('\n                            Текст кнопки "Ні":\n                        ')]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.questions[r].false_text,expression:"form.questions[idx]['false_text']"}],attrs:{type:"text"},domProps:{value:t.form.questions[r].false_text},on:{input:function(e){e.target.composing||t.$set(t.form.questions[r],"false_text",e.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"v-col-12 v-col-last"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-checkbox__wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.questions[r].swap_btn,expression:"form.questions[idx]['swap_btn']"}],attrs:{type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.form.questions[r].swap_btn)?t._i(t.form.questions[r].swap_btn,null)>-1:t._q(t.form.questions[r].swap_btn,1)},on:{change:function(e){var n=t.form.questions[r].swap_btn,i=e.target,o=i.checked?1:0;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&t.$set(t.form.questions[r],"swap_btn",n.concat([null])):s>-1&&t.$set(t.form.questions[r],"swap_btn",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.form.questions[r],"swap_btn",o)}}}),t._v(" "),e("span",[t._v('Змінити місцями кнопки "Так/Ні" при відображенні')])])])])]),t._v(" "),e("button",{staticClass:"vo-btn-red",on:{click:function(e){return t.deleteQuestion(r)}}},[t._v("Видалити запитання №"+t._s(r+1))])])})),t._v(" "),e("div",{staticClass:"vo-mt1 vo-mb1"},[e("button",{staticClass:"vo-btn-green",on:{click:t.addQuestion}},[t._v("Додати запитання")])])],2)};function h(t){for(var e=[],n=0;n<t;n++)e.push({text:"",true_text:"Так",false_text:"Ні"});return e}d._withStripped=!0;var p={name:"YesNoTpl",props:["reflectionConfig","designerForm"],data:function(){return{form:{title:this.reflectionConfig?this.reflectionConfig.data_json.title:"",title_answered:this.reflectionConfig?this.reflectionConfig.data_json.title_answered:"",questions:this.reflectionConfig?this.reflectionConfig.data_json.questions:h(3)}}},methods:{getFormData:function(){var t=JSON.parse(JSON.stringify(this.form));return t.questions.length||(t.questions=""),t},deleteQuestion:function(t){this.form.questions.splice(t,1)},addQuestion:function(){this.form.questions.push(h(1)[0])}}},v=Object(a.a)(p,d,[],!1,null,"1bda7760",null).exports,m=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст для оцінки:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.question.text,expression:"form.question.text"}],attrs:{placeholder:""},domProps:{value:t.form.question.text},on:{input:function(e){e.target.composing||t.$set(t.form.question,"text",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Текст після відповіді:\n                ")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.question.text_answered,expression:"form.question.text_answered"}],attrs:{placeholder:""},domProps:{value:t.form.question.text_answered},on:{input:function(e){e.target.composing||t.$set(t.form.question,"text_answered",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"v-col-12 v-col-last"},[e("div",{staticClass:"n-j-row-modal-input"},[e("div",{staticClass:"n-col-modal n-col-modal-input"},[e("label",{staticClass:"n-j-label-modal"},[t._v("\n                    Максимальна оцінка (к-ть зірочок):\n                ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.question.max_mark,expression:"form.question.max_mark"}],attrs:{type:"number",min:"3",max:"12",step:"1"},domProps:{value:t.form.question.max_mark},on:{input:function(e){e.target.composing||t.$set(t.form.question,"max_mark",e.target.value)}}})])])])])};m._withStripped=!0;var g={name:"StarsTpl",props:["reflectionConfig","designerForm"],data:function(){return{form:{question:Object.assign({text:"",max_mark:10},this.reflectionConfig?this.reflectionConfig.data_json.question:{})}}}};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={name:"DesignerApp",props:["designerConfig","reflectionConfig"],components:{YesNoTpl:c,TextTpl:f,QuestionsTpl:v,StarsTpl:Object(a.a)(g,m,[],!1,null,"b31708ee",null).exports,Editor:n(134).a},data:function(){var t,e,n,r;return{form:{id_tpl:this.reflectionConfig?this.reflectionConfig.id_tpl:null,title:(null===(t=this.reflectionConfig)||void 0===t?void 0:t.title)||"",description_end:(null===(e=this.reflectionConfig)||void 0===e?void 0:e.description_end)||"",context_type:(null===(n=this.reflectionConfig)||void 0===n?void 0:n.context_type)||0,show_statistic:(null===(r=this.reflectionConfig)||void 0===r?void 0:r.show_statistic)||0}}},computed:{tpl:function(){var t=this;return this.designerConfig.tpls.find((function(e){return e.id===t.form.id_tpl}))}},methods:{save:function(t){var e,n={id_config:null===(e=this.reflectionConfig)||void 0===e?void 0:e.id,ReflectionConfig:b(b({},this.form),{},{tpl_data:b({},this.$refs.TplForm.getFormData?this.$refs.TplForm.getFormData():this.$refs.TplForm.$data.form)})};vo.ajax(t,"/ext/reflection/save-config",n,(function(t){t&&"data"in t&&(window.location.href="/reflection/view?id=".concat(t.data.reflectionConfig.id))}))},cancel:function(t){window.location.href=this.reflectionConfig?"/reflection/view?id=".concat(this.reflectionConfig.id):"/admin/reflection-config"}}},x=Object(a.a)(k,i,[function(){var t=this._self._c;return t("label",{staticClass:"n-j-label-modal"},[t("b",[this._v("Показувати статистику після відповіді:")])])}],!1,null,"ba72419a",null).exports,S=function(){var t=this,e=t._self._c;return e("div",[t.obj_preview_html?[e("div",{domProps:{innerHTML:t._s(t.obj_preview_html)}})]:t._e(),t._v(" "),t.tpl&&t.tpl.vueComponent?e(t.tpl.vueComponent,{ref:"Reflection",tag:"component",attrs:{widgetConfig:t.widgetConfig,statisticData:t.localStatisticData,reflectionConfig:t.reflectionConfig,reflection:t.localReflection},on:{"save-reflection":t.saveReflection,"delete-reflection":t.deleteReflection},scopedSlots:t._u([{key:"after-answer",fn:function(){return[e("div",[e("h1",{staticClass:"vo-color-green"},[t._v("Дякуємо за відповідь!")]),t._v(" "),e("span",{staticClass:"vo-color-silver"},[t._v("Збережено "+t._s(t.reflection?t.reflection.last_update:"0000.00.00 00:00:00"))]),t._v(" "),t.reflectionConfig.description_end?e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"v-news-content",domProps:{innerHTML:t._s(t.reflectionConfig.description_end)}}):t._e()])]},proxy:!0}],null,!1,830757287)}):t._e()],2)};S._withStripped=!0;var C=n(302),O=n(303),E=n(304),P=n(305);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===A(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={name:"ReflectionApp",props:["widgetConfig","designerConfig","reflectionConfig","reflection","statisticData","obj_preview_html"],components:{YesNoTpl:C.a,TextTpl:O.a,QuestionsTpl:E.a,StarsTpl:P.a},data:function(){return{localReflection:JSON.parse(JSON.stringify(this.reflection)),localStatisticData:JSON.parse(JSON.stringify(this.statisticData))}},computed:{tpl:function(){var t=this;return this.designerConfig.tpls.find((function(e){return e.id===t.reflectionConfig.id_tpl}))}},methods:{saveReflection:function(t,e,n){var r=this;if(this.$refs.Reflection.is_answered&&this.localReflection&&!this.localReflection.can_edit)vo.popup("Відповідь вже не можна змінювати.");else if(this.widgetConfig.preview)vo.popup("Увімкнено режим попереднього перегляду. Функції збереження відповіді не працюють.");else{var i={code:this.reflectionConfig.code,hash:this.reflectionConfig.hash,mail:this.widgetConfig.mail,Reflection:j({},e)};vo.ajax(t,"/ext/reflection/save-reflection-by-link",i,(function(t){t&&"data"in t&&(r.localStatisticData=t.data.statistic,r.localReflection=t.data.reflection,"function"==typeof n&&n())}))}},deleteReflection:function(t,e){var n=this,r={code:this.reflectionConfig.code,hash:this.reflectionConfig.hash,mail:this.widgetConfig.mail};vo.ajax(t,"/ext/reflection/delete-reflection-by-link",r,(function(t){t&&"data"in t&&(n.localStatisticData=null,n.localReflection=null,"function"==typeof e&&e())}))}},watch:{reflection:function(t){this.localReflection=JSON.parse(JSON.stringify(t))}}},N=Object(a.a)(I,S,[],!1,null,"707d6e42",null).exports,R=n(385);n(396);"reflection"in vo||(vo.reflection={}),vo.reflection.designerApp=function(t,e){return new r.a({el:"#designer",render:function(n){return n(x,{props:{designerConfig:t,reflectionConfig:e}})}})},vo.reflection.reflectionByLinkApp=function(t,e,n,i,o,s,a){return new r.a({el:t,render:function(t){return t(N,{props:{widgetConfig:e,designerConfig:n,reflectionConfig:i,reflection:o,statisticData:s,obj_preview_html:a}})}})},vo.reflection.reflectionByObjectApp=function(t,e,n){return new r.a({el:t,render:function(t){return t(R.a,{props:{tpl:e,reflectionConfig:n}})}})}},function(t,e,n){"use strict";var r=n(18),i=function(){var t=this,e=t._self._c;return 0===t.id_type?e("CarouselGallery"):1===t.id_type?e("SliderGallery"):2===t.id_type?e("ImagePreview"):t._e()};i._withStripped=!0;var o=n(12),s=n(1),a={namespaced:!0,state:{id_type:null,images_settings:[],height:"inherit",dialog:!1,zoom_key:null,active_key:0,fix_img_height:0},mutations:{init:function(t,e){t.active_key=e.active_key||0,t.id_type=e.id_type,t.dialog=e.dialog,t.height=e.height,t.fix_img_height=e.fix_img_height,t.images_settings=e.images.map((function(e){return{image_src:Object(s.u)(e,0,t.fix_img_height),image:e,rotate:0,scale:1,translateX:0,translateY:0,resetTranslate:0}}))},setZoom:function(t,e){t.zoom_key=e},slide:function(t,e){t.active_key=e},updateImageSettings:function(t,e){var n=e.img_key,r=e.settings;t.images_settings.splice(n,1,r)},prev:function(t){0===t.active_key?t.active_key=t.images_settings.length-1:t.active_key=t.active_key-1},next:function(t){t.active_key===t.images_settings.length-1?t.active_key=0:t.active_key=t.active_key+1},openDialog:function(t){t.dialog&&Object(s.hb)(x,{store:c})},closeDialog:function(t){t.dialog&&vo.dlg.hide()}}};r.a.use(o.b);var c=new o.b.Store({strict:!1,modules:{Gallery:a}}),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"carousel slide",attrs:{id:t.id_carousel,"data-ride":"carousel"}},[e("div",{staticClass:"carousel-inner",attrs:{role:"listbox"}},t._l(t.images_settings,(function(t,n){return e("div",{class:0===n?"item active":"item"},[e("Img",{attrs:{image_src:t.image_src,image_key:n}})],1)})),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:null===this.zoom_key,expression:"this.zoom_key === null"}]},[e("div",{staticClass:"v-review-slider-btn left carousel-controls",attrs:{"data-slide":"prev",href:t.id_carousel_anchor}},[e("i",[t._v("‹")])]),t._v(" "),e("div",{staticClass:"v-review-slider-btn right carousel-controls",attrs:{"data-slide":"next",href:t.id_carousel_anchor}},[e("i",[t._v("›")])]),t._v(" "),e("ol",{staticClass:"carousel-indicators"},t._l(t.images_settings,(function(n,r){return e("li",{class:0===r?"active":"",attrs:{"data-target":t.id_carousel_anchor,"data-slide-to":r}})})),0)])])};l._withStripped=!0;var u=n(289).a,f=n(0),d=Object(f.a)(u,l,[],!1,null,"5a1c4e78",null).exports,h=function(){var t=this,e=t._self._c;return e("div",[t._l(t.images_settings,(function(n,r){return e("div",{class:t.active_key===r?"active":""},[t.active_key===r?e("div",[e("Img",{attrs:{image_src:n.image_src,image_key:r}})],1):t._e()])})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:null===t.zoom_key,expression:"zoom_key === null"}]},[e("div",{staticClass:"v-review-slider-btn left",on:{click:function(e){return t.$store.commit("Gallery/prev")}}},[e("i",[t._v("‹")])]),t._v(" "),e("div",{staticClass:"v-review-slider-btn right",on:{click:function(e){return t.$store.commit("Gallery/next")}}},[e("i",[t._v("›")])])])],2)};function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}h._withStripped=!0;var g={name:"SliderGallery",components:{Img:n(307).a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.d)("Gallery",["images_settings","height","zoom_key","active_key"]))},y=g,_=Object(f.a)(y,h,[],!1,null,"5a078660",null).exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-galery__wrap"},[e("ControlElements",{key:t.active_key}),t._v(" "),e("div",{staticClass:"v-row n-galery__flex-row"},[e("div",{staticClass:"n-galery__sidebar"},[e("div",[e("div",{staticClass:"carousel-indicators n-carusel__indicators",staticStyle:{"text-align":"center"}},[t._l(t.images_settings,(function(n,r){return[e("div",{staticClass:"n-carousel-indicator",class:r===t.active_key?"active":"",attrs:{"data-target":t.id_carousel_anchor,"data-slide-to":r,title:"Зображення №".concat(r+1)},on:{click:function(e){return t.carouselEl.carousel(r)}}},[e("img",{attrs:{src:n.image_src,width:"50px",alt:"Зображення №".concat(r+1)}})])]}))],2)])]),t._v(" "),e("div",{staticClass:"n-col-galery100"},[e("div",{staticClass:"n-carousel-inner-wrap",attrs:{id:t.id_carousel}},[e("div",{staticClass:"carousel-inner n-carousel-inner",attrs:{role:"listbox"}},[e("div",{staticClass:"n-plus__item"}),t._v(" "),t._l(t.images_settings,(function(n,r){return e("div",{class:r===t.active_key?"item active":"item"},[e("ImgDraggable",{attrs:{image_key:r,images_settings:n}})],1)})),t._v(" "),e("div",{staticClass:"n-btn-slider left",on:{click:function(e){return t.carouselEl.carousel("prev")}}},[e("span",{staticClass:"n-arrow"})]),t._v(" "),e("div",{staticClass:"n-btn-slider right",on:{click:function(e){return t.carouselEl.carousel("next")}}},[e("span",{staticClass:"n-arrow"})])],2)])])]),t._v(" "),e("div")],1)};b._withStripped=!0;var w=n(291).a,k=(n(1182),{name:"Gallery",components:{CarouselGallery:d,SliderGallery:_,ImagePreview:Object(f.a)(w,b,[],!1,null,"3823de38",null).exports},props:{id_type:{type:Number,required:!0},images:{type:Array,required:!0},height:{type:String,default:"inherit"},fix_img_height:{type:Number,default:0},dialog:{type:Boolean,default:!1},active_key:{type:Number,default:0}},store:c,created:function(){this.$store.commit("Gallery/init",JSON.parse(JSON.stringify(this.$props)))}}),x=Object(f.a)(k,i,[],!1,null,"8d97c764",null).exports;n(563);function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};new r.a({el:t,render:function(t){return t(x,{props:e})}})}"gallery"in vo||(vo.gallery={}),vo.gallery.carousel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(t,Object.assign({id_type:0},e))},vo.gallery.slider=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(t,Object.assign({id_type:1},e))},vo.gallery.imagePreview=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(t,Object.assign({id_type:2},e))}},function(t,e,n){n(567),n(764),n(226),n(766),n(435),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),t.exports=n(95)},function(t,e,n){n(568),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(648),n(649),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(332),n(672),n(419),n(673),n(420),n(674),n(675),n(676),n(677),n(678),n(423),n(425),n(426),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),t.exports=n(95)},function(t,e,n){"use strict";var r=n(40),i=n(106),o=n(61),s=n(13),a=n(108),c=n(167).KEY,l=n(46),u=n(223),f=n(204),d=n(180),h=n(55),p=n(404),v=n(314),m=n(570),g=n(250),y=n(36),_=n(47),b=n(76),w=n(96),k=n(137),x=n(165),S=n(150),C=n(407),O=n(109),E=n(249),P=n(65),A=n(149),T=O.f,j=P.f,M=C.f,I=r.Symbol,N=r.JSON,R=N&&N.stringify,D="prototype",L=h("_hidden"),B=h("toPrimitive"),$={}.propertyIsEnumerable,F=u("symbol-registry"),q=u("symbols"),U=u("op-symbols"),V=Object[D],z="function"==typeof I&&!!E.f,H=r.QObject,W=!H||!H[D]||!H[D].findChild,Y=o&&l((function(){return 7!=S(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=T(V,e);r&&delete V[e],j(t,e,n),r&&t!==V&&j(V,e,r)}:j,G=function(t){var e=q[t]=S(I[D]);return e._k=t,e},J=z&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===V&&K(U,e,n),y(t),e=k(e,!0),y(n),i(q,e)?(n.enumerable?(i(t,L)&&t[L][e]&&(t[L][e]=!1),n=S(n,{enumerable:x(0,!1)})):(i(t,L)||j(t,L,x(1,{})),t[L][e]=!0),Y(t,e,n)):j(t,e,n)},Q=function(t,e){y(t);for(var n,r=m(e=w(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},X=function(t){var e=$.call(this,t=k(t,!0));return!(this===V&&i(q,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(q,t)||i(this,L)&&this[L][t])||e)},Z=function(t,e){if(t=w(t),e=k(e,!0),t!==V||!i(q,e)||i(U,e)){var n=T(t,e);return!n||!i(q,e)||i(t,L)&&t[L][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=M(w(t)),r=[],o=0;n.length>o;)i(q,e=n[o++])||e==L||e==c||r.push(e);return r},et=function(t){for(var e,n=t===V,r=M(n?U:w(t)),o=[],s=0;r.length>s;)!i(q,e=r[s++])||n&&!i(V,e)||o.push(q[e]);return o};z||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(U,n),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),Y(this,t,x(1,n))};return o&&W&&Y(V,t,{configurable:!0,set:e}),G(t)},a(I[D],"toString",(function(){return this._k})),O.f=Z,P.f=K,n(182).f=C.f=tt,n(225).f=X,E.f=et,o&&!n(166)&&a(V,"propertyIsEnumerable",X,!0),p.f=function(t){return G(h(t))}),s(s.G+s.W+s.F*!z,{Symbol:I});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)h(nt[rt++]);for(var it=A(h.store),ot=0;it.length>ot;)v(it[ot++]);s(s.S+s.F*!z,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!z,"Object",{create:function(t,e){return void 0===e?S(t):Q(S(t),e)},defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=l((function(){E.f(1)}));s(s.S+s.F*st,"Object",{getOwnPropertySymbols:function(t){return E.f(b(t))}}),N&&s(s.S+s.F*(!z||l((function(){var t=I();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!J(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,R.apply(N,r)}}),I[D][B]||n(107)(I[D],B,I[D].valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(223)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(149),i=n(249),o=n(225);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,n){var r=n(13);r(r.S,"Object",{create:n(150)})},function(t,e,n){var r=n(13);r(r.S+r.F*!n(61),"Object",{defineProperty:n(65).f})},function(t,e,n){var r=n(13);r(r.S+r.F*!n(61),"Object",{defineProperties:n(406)})},function(t,e,n){var r=n(96),i=n(109).f;n(139)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(76),i=n(110);n(139)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(76),i=n(149);n(139)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(139)("getOwnPropertyNames",(function(){return n(407).f}))},function(t,e,n){var r=n(47),i=n(167).onFreeze;n(139)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(47),i=n(167).onFreeze;n(139)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(47),i=n(167).onFreeze;n(139)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(47);n(139)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(47);n(139)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(47);n(139)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(13);r(r.S+r.F,"Object",{assign:n(318)})},function(t,e,n){var r=n(13);r(r.S,"Object",{is:n(408)})},function(t,e,n){var r=n(13);r(r.S,"Object",{setPrototypeOf:n(319).set})},function(t,e,n){"use strict";var r=n(168),i={};i[n(55)("toStringTag")]="z",i+""!="[object z]"&&n(108)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(13);r(r.P,"Function",{bind:n(409)})},function(t,e,n){var r=n(65).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(61)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(47),i=n(110),o=n(55)("hasInstance"),s=Function.prototype;o in s||n(65).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(13),i=n(410);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(13),i=n(411);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(40),i=n(106),o=n(128),s=n(322),a=n(137),c=n(46),l=n(182).f,u=n(109).f,f=n(65).f,d=n(205).trim,h="Number",p=r[h],v=p,m=p.prototype,g=o(n(150)(m))==h,y="trim"in String.prototype,_=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if((s=c.charCodeAt(l))<48||s>i)return NaN;return parseInt(c,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?c((function(){m.valueOf.call(n)})):o(n)!=h)?s(new v(_(e)),n,p):_(e)};for(var b,w=n(61)?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)i(v,b=w[k])&&!i(p,b)&&f(p,b,u(v,b));p.prototype=m,m.constructor=p,n(108)(r,h,p)}},function(t,e,n){"use strict";var r=n(13),i=n(129),o=n(412),s=n(323),a=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",f="0",d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=c(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=c(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+s.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(46)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,r,a,c=o(this,u),l=i(t),m="",g=f;if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*v(2,69,1))-69,n=e<0?c*v(2,-e,1):c/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(v(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),d(1,1),h(2),g=p()}else d(0,n),d(1<<-e,0),g=p()+s.call(f,l);return g=l>0?m+((a=g.length)<=l?"0."+s.call(f,l-a)+g:g.slice(0,a-l)+"."+g.slice(a-l)):m+g}})},function(t,e,n){"use strict";var r=n(13),i=n(46),o=n(412),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(13);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(13),i=n(40).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(13);r(r.S,"Number",{isInteger:n(413)})},function(t,e,n){var r=n(13);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(13),i=n(413),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(13);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(13);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(13),i=n(411);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(13),i=n(410);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(13),i=n(414),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(13),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(13),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(13),i=n(324);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(13);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(13),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(13),i=n(325);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(13);r(r.S,"Math",{fround:n(415)})},function(t,e,n){var r=n(13),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,a=arguments.length,c=0;s<a;)c<(n=i(arguments[s++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){var r=n(13),i=Math.imul;r(r.S+r.F*n(46)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(13);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(13);r(r.S,"Math",{log1p:n(414)})},function(t,e,n){var r=n(13);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(13);r(r.S,"Math",{sign:n(324)})},function(t,e,n){var r=n(13),i=n(325),o=Math.exp;r(r.S+r.F*n(46)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(13),i=n(325),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(13);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(13),i=n(181),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(13),i=n(96),o=n(62);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){"use strict";n(205)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var r=n(251)(!0);n(252)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(13),i=n(251)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(13),i=n(62),o=n(326),s="endsWith",a=""[s];r(r.P+r.F*n(327)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),c=void 0===n?r:Math.min(i(n),r),l=String(t);return a?a.call(e,l,c):e.slice(c-l.length,c)===l}})},function(t,e,n){"use strict";var r=n(13),i=n(326),o="includes";r(r.P+r.F*n(327)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(13);r(r.P,"String",{repeat:n(323)})},function(t,e,n){"use strict";var r=n(13),i=n(62),o=n(326),s="startsWith",a=""[s];r(r.P+r.F*n(327)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(111)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(111)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(111)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(111)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(111)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(111)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(111)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(111)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(111)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(111)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(111)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(111)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(111)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(13);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(13),i=n(76),o=n(137);r(r.P+r.F*n(46)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(13),i=n(647);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(46),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(108)(r,o,(function(){var t=a.call(this);return t==t?s.call(this):i}))},function(t,e,n){var r=n(55)("toPrimitive"),i=Date.prototype;r in i||n(107)(i,r,n(650))},function(t,e,n){"use strict";var r=n(36),i=n(137),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(13);r(r.S,"Array",{isArray:n(250)})},function(t,e,n){"use strict";var r=n(122),i=n(13),o=n(76),s=n(416),a=n(328),c=n(62),l=n(329),u=n(226);i(i.S+i.F*!n(255)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,y=u(d);if(m&&(v=r(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&a(y))for(n=new h(e=c(d.length));e>g;g++)l(n,g,m?v(d[g],g):d[g]);else for(f=y.call(d),n=new h;!(i=f.next()).done;g++)l(n,g,m?s(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var r=n(13),i=n(329);r(r.S+r.F*n(46)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(13),i=n(96),o=[].join;r(r.P+r.F*(n(224)!=Object||!n(130)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(13),i=n(317),o=n(128),s=n(181),a=n(62),c=[].slice;r(r.P+r.F*n(46)((function(){i&&c.call(i)})),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var i=s(t,n),l=s(e,n),u=a(l-i),f=new Array(u),d=0;d<u;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(t,e,n){"use strict";var r=n(13),i=n(89),o=n(76),s=n(46),a=[].sort,c=[1,2,3];r(r.P+r.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!n(130)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(13),i=n(140)(0),o=n(130)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(47),i=n(250),o=n(55)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(13),i=n(140)(1);r(r.P+r.F*!n(130)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(13),i=n(140)(2);r(r.P+r.F*!n(130)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(13),i=n(140)(3);r(r.P+r.F*!n(130)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(13),i=n(140)(4);r(r.P+r.F*!n(130)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(13),i=n(417);r(r.P+r.F*!n(130)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(13),i=n(417);r(r.P+r.F*!n(130)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(13),i=n(248)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(130)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(13),i=n(96),o=n(129),s=n(62),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(130)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(13);r(r.P,"Array",{copyWithin:n(418)}),n(169)("copyWithin")},function(t,e,n){var r=n(13);r(r.P,"Array",{fill:n(331)}),n(169)("fill")},function(t,e,n){"use strict";var r=n(13),i=n(140)(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(169)(o)},function(t,e,n){"use strict";var r=n(13),i=n(140)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(169)(o)},function(t,e,n){n(184)("Array")},function(t,e,n){var r=n(40),i=n(322),o=n(65).f,s=n(182).f,a=n(254),c=n(227),l=r.RegExp,u=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(61)&&(!p||n(46)((function(){return h[n(55)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(t,e){var n=this instanceof l,r=a(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&o?c.call(t):e),n?this:f,l)};for(var v=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=s(u),g=0;m.length>g;)v(m[g++]);f.constructor=l,l.prototype=f,n(108)(r,"RegExp",l)}n(184)("RegExp")},function(t,e,n){"use strict";n(420);var r=n(36),i=n(227),o=n(61),s="toString",a=/./[s],c=function(t){n(108)(RegExp.prototype,s,t,!0)};n(46)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):a.name!=s&&c((function(){return a.call(this)}))},function(t,e,n){"use strict";var r=n(36),i=n(62),o=n(335),s=n(256);n(257)("match",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return s(c,l);var u=c.unicode;c.lastIndex=0;for(var f,d=[],h=0;null!==(f=s(c,l));){var p=String(f[0]);d[h]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),h++}return 0===h?null:d}]}))},function(t,e,n){"use strict";var r=n(36),i=n(76),o=n(62),s=n(129),a=n(335),c=n(256),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(257)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var m=f.global;if(m){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,d);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(f.lastIndex=a(d,o(f.lastIndex),g))}for(var b,w="",k=0,x=0;x<y.length;x++){_=y[x];for(var S=String(_[0]),C=l(u(s(_.index),d.length),0),O=[],E=1;E<_.length;E++)O.push(void 0===(b=_[E])?b:String(b));var P=_.groups;if(h){var A=[S].concat(O,C,d);void 0!==P&&A.push(P);var T=String(e.apply(void 0,A))}else T=v(S,d,C,O,P,e);C>=k&&(w+=d.slice(k,C)+T,k=C+S.length)}return w+d.slice(k)}];function v(t,e,r,o,s,a){var c=r+t.length,l=o.length,u=h;return void 0!==s&&(s=i(s),u=d),n.call(a,u,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}a=o[u-1]}return void 0===a?"":a}))}}))},function(t,e,n){"use strict";var r=n(36),i=n(408),o=n(256);n(257)("search",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=r(t),c=String(this),l=a.lastIndex;i(l,0)||(a.lastIndex=0);var u=o(a,c);return i(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},function(t,e,n){"use strict";var r=n(254),i=n(36),o=n(228),s=n(335),a=n(62),c=n(256),l=n(334),u=n(46),f=Math.min,d=[].push,h="split",p="length",v="lastIndex",m=4294967295,g=!u((function(){RegExp(m,"y")}));n(257)("split",2,(function(t,e,n,u){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?m:e>>>0,g=new RegExp(t.source,u+"g");(o=l.call(g,i))&&!((s=g[v])>f&&(c.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&d.apply(c,o.slice(1)),a=o[0][p],f=s,c[p]>=h));)g[v]===o.index&&g[v]++;return f===i[p]?!a&&g.test("")||c.push(""):c.push(i.slice(f)),c[p]>h?c.slice(0,h):c}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=u(y,t,this,e,y!==n);if(r.done)return r.value;var l=i(t),d=String(this),h=o(l,RegExp),p=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),_=new h(g?l:"^(?:"+l.source+")",v),b=void 0===e?m:e>>>0;if(0===b)return[];if(0===d.length)return null===c(_,d)?[d]:[];for(var w=0,k=0,x=[];k<d.length;){_.lastIndex=g?k:0;var S,C=c(_,g?d:d.slice(k));if(null===C||(S=f(a(_.lastIndex+(g?0:k)),d.length))===w)k=s(d,k,p);else{if(x.push(d.slice(w,k)),x.length===b)return x;for(var O=1;O<=C.length-1;O++)if(x.push(C[O]),x.length===b)return x;k=w=S}}return x.push(d.slice(w)),x}]}))},function(t,e,n){"use strict";var r,i,o,s,a=n(166),c=n(40),l=n(122),u=n(168),f=n(13),d=n(47),h=n(89),p=n(185),v=n(170),m=n(228),g=n(336).set,y=n(337)(),_=n(338),b=n(421),w=n(258),k=n(422),x="Promise",S=c.TypeError,C=c.process,O=C&&C.versions,E=O&&O.v8||"",P=c[x],A="process"==u(C),T=function(){},j=i=_.f,M=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(55)("species")]=function(t){t(T,T)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&(u.exit(),s=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=I(n))?o.call(n,c,l):c(n)):l(r)}catch(t){u&&!s&&u.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){g.call(c,(function(){var e,n,r,i=t._v,o=D(t);if(o&&(e=b((function(){A?C.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=A||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){g.call(c,(function(){var e;A?C.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},$=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=I(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l($,r,1),l(B,r,1))}catch(t){B.call(r,t)}})):(n._v=t,n._s=1,N(n,!1))}catch(t){B.call({_w:n,_d:!1},t)}}};M||(P=function(t){p(this,P,x,"_h"),h(t),r.call(this);try{t(l($,this,1),l(B,this,1))}catch(t){B.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(186)(P.prototype,{then:function(t,e){var n=j(m(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l($,t,1),this.reject=l(B,t,1)},_.f=j=function(t){return t===P||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!M,{Promise:P}),n(204)(P,x),n(184)(x),s=n(95)[x],f(f.S+f.F*!M,x,{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!M),x,{resolve:function(t){return k(a&&this===s?P:this,t)}}),f(f.S+f.F*!(M&&n(255)((function(t){P.all(t).catch(T)}))),x,{all:function(t){var e=this,n=j(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=j(e),r=n.reject,i=b((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(427),i=n(187),o="WeakSet";n(259)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(13),i=n(260),o=n(339),s=n(36),a=n(181),c=n(62),l=n(47),u=n(40).ArrayBuffer,f=n(228),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&u.isView,v=d.prototype.slice,m=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(u!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||l(t)&&m in t}}),r(r.P+r.U+r.F*n(46)((function(){return!new d(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(f(this,d))(c(i-r)),l=new h(this),u=new h(o),p=0;r<i;)u.setUint8(p++,l.getUint8(r++));return o}}),n(184)(g)},function(t,e,n){var r=n(13);r(r.G+r.W+r.F*!n(260).ABV,{DataView:n(339).DataView})},function(t,e,n){n(151)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(151)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(151)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(13),i=n(89),o=n(36),s=(n(40).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(46)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),c=o(n);return s?s(r,e,c):a.call(r,e,c)}})},function(t,e,n){var r=n(13),i=n(150),o=n(89),s=n(36),a=n(47),c=n(46),l=n(409),u=(n(40).Reflect||{}).construct,f=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),d=!c((function(){u((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,h=i(a(c)?c:Object.prototype),p=Function.apply.call(t,h,e);return a(p)?p:h}})},function(t,e,n){var r=n(65),i=n(13),o=n(36),s=n(137);i(i.S+i.F*n(46)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(13),i=n(109).f,o=n(36);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(13),i=n(36),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(253)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(109),i=n(110),o=n(106),s=n(13),a=n(47),c=n(36);s(s.S,"Reflect",{get:function t(e,n){var s,l,u=arguments.length<3?e:arguments[2];return c(e)===u?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(u):void 0:a(l=i(e))?t(l,n,u):void 0}})},function(t,e,n){var r=n(109),i=n(13),o=n(36);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(13),i=n(110),o=n(36);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(13);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(13),i=n(36),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(13);r(r.S,"Reflect",{ownKeys:n(340)})},function(t,e,n){var r=n(13),i=n(36),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(65),i=n(109),o=n(110),s=n(106),a=n(13),c=n(165),l=n(36),u=n(47);a(a.S,"Reflect",{set:function t(e,n,a){var f,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),n);if(!p){if(u(d=o(e)))return t(d,n,a,h);p=c(0)}if(s(p,"value")){if(!1===p.writable||!u(h))return!1;if(f=i.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=a,r.f(h,n,f)}else r.f(h,n,c(0,a));return!0}return void 0!==p.set&&(p.set.call(h,a),!0)}})},function(t,e,n){var r=n(13),i=n(319);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(13),i=n(248)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(169)("includes")},function(t,e,n){"use strict";var r=n(13),i=n(429),o=n(76),s=n(62),a=n(89),c=n(330);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=c(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(169)("flatMap")},function(t,e,n){"use strict";var r=n(13),i=n(429),o=n(76),s=n(62),a=n(129),c=n(330);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=c(e,0);return i(r,e,e,n,0,void 0===t?1:a(t)),r}}),n(169)("flatten")},function(t,e,n){"use strict";var r=n(13),i=n(251)(!0),o=n(46)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(13),i=n(430),o=n(258),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(13),i=n(430),o=n(258),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(205)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){"use strict";n(205)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){"use strict";var r=n(13),i=n(138),o=n(62),s=n(254),a=n(227),c=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(253)(l,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),r(r.P,"String",{matchAll:function(t){if(i(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in c?String(t.flags):a.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(314)("asyncIterator")},function(t,e,n){n(314)("observable")},function(t,e,n){var r=n(13),i=n(340),o=n(96),s=n(109),a=n(329);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),c=s.f,l=i(r),u={},f=0;l.length>f;)void 0!==(n=c(r,e=l[f++]))&&a(u,e,n);return u}})},function(t,e,n){var r=n(13),i=n(431)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(13),i=n(431)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(13),i=n(76),o=n(89),s=n(65);n(61)&&r(r.P+n(261),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(13),i=n(76),o=n(89),s=n(65);n(61)&&r(r.P+n(261),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(13),i=n(76),o=n(137),s=n(110),a=n(109).f;n(61)&&r(r.P+n(261),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var r=n(13),i=n(76),o=n(137),s=n(110),a=n(109).f;n(61)&&r(r.P+n(261),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},function(t,e,n){var r=n(13);r(r.P+r.R,"Map",{toJSON:n(432)("Map")})},function(t,e,n){var r=n(13);r(r.P+r.R,"Set",{toJSON:n(432)("Set")})},function(t,e,n){n(262)("Map")},function(t,e,n){n(262)("Set")},function(t,e,n){n(262)("WeakMap")},function(t,e,n){n(262)("WeakSet")},function(t,e,n){n(263)("Map")},function(t,e,n){n(263)("Set")},function(t,e,n){n(263)("WeakMap")},function(t,e,n){n(263)("WeakSet")},function(t,e,n){var r=n(13);r(r.G,{global:n(40)})},function(t,e,n){var r=n(13);r(r.S,"System",{global:n(40)})},function(t,e,n){var r=n(13),i=n(128);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(13);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(13);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(13),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(13),i=n(434),o=n(415);r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},function(t,e,n){var r=n(13);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(13);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(13);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>16,c=i>>16,l=(a*s>>>0)+(o*s>>>16);return a*c+(l>>16)+((o*c>>>0)+(l&n)>>16)}})},function(t,e,n){var r=n(13);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(13),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(13);r(r.S,"Math",{scale:n(434)})},function(t,e,n){var r=n(13);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,a=r>>>16,c=i>>>16,l=(a*s>>>0)+(o*s>>>16);return a*c+(l>>>16)+((o*c>>>0)+(l&n)>>>16)}})},function(t,e,n){var r=n(13);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(13),i=n(95),o=n(40),s=n(228),a=n(422);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(13),i=n(338),o=n(421);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(152),i=n(36),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},function(t,e,n){var r=n(152),i=n(36),o=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=s(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var c=a.get(e);return c.delete(n),!!c.size||a.delete(e)}})},function(t,e,n){var r=n(152),i=n(36),o=n(110),s=r.has,a=r.get,c=r.key,l=function(t,e,n){if(s(t,e,n))return a(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){var r=n(425),i=n(433),o=n(152),s=n(36),a=n(110),c=o.keys,l=o.key,u=function(t,e){var n=c(t,e),o=a(t);if(null===o)return n;var s=u(o,e);return s.length?n.length?i(new r(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return u(s(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(152),i=n(36),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(152),i=n(36),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,e,n){var r=n(152),i=n(36),o=n(110),s=r.has,a=r.key,c=function(t,e,n){if(s(t,e,n))return!0;var r=o(e);return null!==r&&c(t,r,n)};r.exp({hasMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(152),i=n(36),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(152),i=n(36),o=n(89),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(void 0!==r?i:o)(n),s(r))}}})},function(t,e,n){var r=n(13),i=n(337)(),o=n(40).process,s="process"==n(128)(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(13),i=n(40),o=n(95),s=n(337)(),a=n(55)("observable"),c=n(89),l=n(36),u=n(185),f=n(186),d=n(107),h=n(170),p=h.RETURN,v=function(t){return null==t?void 0:c(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},y=function(t){g(t)||(t._o=void 0,m(t))},_=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&m(this)};_.prototype=f({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=f({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var w=function(t){u(this,w,"Observable","_f")._f=c(t)};f(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)((function(n,r){c(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})}))}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=v(l(t)[a]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e((function(t){return r.subscribe(t)}))}return new e((function(e){var n=!1;return s((function(){if(!n){try{if(h(t,!1,(function(t){if(e.next(t),n)return p}))===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)((function(t){var e=!1;return s((function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}})),function(){e=!0}}))}}),d(w.prototype,a,(function(){return this})),r(r.G,{Observable:w}),n(184)("Observable")},function(t,e,n){var r=n(40),i=n(13),o=n(258),s=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){var r=n(13),i=n(336);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(332),i=n(149),o=n(108),s=n(40),a=n(107),c=n(183),l=n(55),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var m,g=p[v],y=h[g],_=s[g],b=_&&_.prototype;if(b&&(b[u]||a(b,u,d),b[f]||a(b,f,g),c[g]=d,y))for(m in r)b[m]||o(b,m,r[m],!0)}},function(t,e,n){"use strict";var r=n(122),i=n(13),o=n(165),s=n(318),a=n(150),c=n(110),l=n(149),u=n(65),f=n(765),d=n(89),h=n(170),p=n(435),v=n(253),m=n(333),g=n(47),y=n(96),_=n(61),b=n(106),w=function(t){var e=1==t,n=4==t;return function(i,o,s){var a,c,l,u=r(o,s,3),f=y(i),d=e||7==t||2==t?new("function"==typeof this?this:C):void 0;for(a in f)if(b(f,a)&&(l=u(c=f[a],a,i),t))if(e)d[a]=l;else if(l)switch(t){case 2:d[a]=c;break;case 3:return!0;case 5:return c;case 6:return a;case 7:d[l[0]]=l[1]}else if(n)return!1;return 3==t||n?n:d}},k=w(6),x=function(t){return function(e){return new S(e,t)}},S=function(t,e){this._t=y(t),this._a=l(t),this._i=0,this._k=e};function C(t){var e=a(null);return null!=t&&(p(t)?h(t,!0,(function(t,n){e[t]=n})):s(e,t)),e}v(S,"Dict",(function(){var t,e=this,n=e._t,r=e._a,i=e._k;do{if(e._i>=r.length)return e._t=void 0,m(1)}while(!b(n,t=r[e._i++]));return m(0,"keys"==i?t:"values"==i?n[t]:[t,n[t]])})),C.prototype=null,i(i.G+i.F,{Dict:C}),i(i.S,"Dict",{keys:x("keys"),values:x("values"),entries:x("entries"),forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findKey:k,mapPairs:w(7),reduce:function(t,e,n){d(e);var r,i,o=y(t),s=l(o),a=s.length,c=0;if(arguments.length<3){if(!a)throw TypeError("Reduce of empty object with no initial value");r=o[s[c++]]}else r=Object(n);for(;a>c;)b(o,i=s[c++])&&(r=e(r,o[i],i,t));return r},keyOf:f,includes:function(t,e){return void 0!==(e==e?f(t,e):k(t,(function(t){return t!=t})))},has:b,get:function(t,e){if(b(t,e))return t[e]},set:function(t,e,n){return _&&e in Object?u.f(t,e,o(0,n)):t[e]=n,t},isDict:function(t){return g(t)&&c(t)===C.prototype}})},function(t,e,n){var r=n(149),i=n(96);t.exports=function(t,e){for(var n,o=i(t),s=r(o),a=s.length,c=0;a>c;)if(o[n=s[c++]]===e)return n}},function(t,e,n){var r=n(36),i=n(226);t.exports=n(95).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(40),i=n(95),o=n(13),s=n(436);o(o.G+o.F,{delay:function(t){return new(i.Promise||r.Promise)((function(e){setTimeout(s.call(e,!0),t)}))}})},function(t,e,n){var r=n(437),i=n(13);n(95)._=r._=r._||{},i(i.P+i.F,"Function",{part:n(436)})},function(t,e,n){var r=n(13);r(r.S+r.F,"Object",{isObject:n(47)})},function(t,e,n){var r=n(13);r(r.S+r.F,"Object",{classof:n(168)})},function(t,e,n){var r=n(13),i=n(438);r(r.S+r.F,"Object",{define:i})},function(t,e,n){var r=n(13),i=n(438),o=n(150);r(r.S+r.F,"Object",{make:function(t,e){return i(o(t),e)}})},function(t,e,n){"use strict";n(252)(Number,"Number",(function(t){this._l=+t,this._i=0}),(function(){var t=this._i++,e=!(t<this._l);return{done:e,value:e?void 0:t}}))},function(t,e,n){var r=n(13),i=n(341)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(13),i=n(341)(/[&<>"']/g,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"});r(r.P+r.F,"String",{escapeHTML:function(){return i(this)}})},function(t,e,n){"use strict";var r=n(13),i=n(341)(/&(?:amp|lt|gt|quot|apos);/g,{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"});r(r.P+r.F,"String",{unescapeHTML:function(){return i(this)}})},function(t,e,n){var r,i,o;i=[n(52)],r=function(t){"use strict";var e=/\r?\n/g,n={};n.fileapi=void 0!==t('<input type="file">').get(0).files,n.formdata=void 0!==window.FormData;var r=!!t.fn.prop;function i(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).closest("form").ajaxSubmit(n))}function o(e){var n=e.target,r=t(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;n=i[0]}var o,s=n.form;"image"===(s.clk=n).type&&(void 0!==e.offsetX?(s.clk_x=e.offsetX,s.clk_y=e.offsetY):"function"==typeof t.fn.offset?(o=r.offset(),s.clk_x=e.pageX-o.left,s.clk_y=e.pageY-o.top):(s.clk_x=e.pageX-n.offsetLeft,s.clk_y=e.pageY-n.offsetTop)),setTimeout((function(){s.clk=s.clk_x=s.clk_y=null}),100)}function s(){var e;t.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}t.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e,i,o,a){if(!this.length)return s("ajaxSubmit: skipping submit process - no element selected"),this;var c,l,u,f,d=this;"function"==typeof e?e={success:e}:"string"==typeof e||!1===e&&0<arguments.length?(e={url:e,data:i,dataType:o},"function"==typeof a&&(e.success=a)):void 0===e&&(e={}),c=e.method||e.type||this.attr2("method"),u=(u=(u="string"==typeof(l=e.url||this.attr2("action"))?t.trim(l):"")||window.location.href||"")&&(u.match(/^([^#]+)/)||[])[1],f=/(MSIE|Trident)/.test(navigator.userAgent||"")&&/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:c||t.ajaxSettings.type,iframeSrc:f},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return s("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return s("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var v,m,g=[],y=this.formToArray(e.semantic,g,e.filtering);if(e.data&&(m=t.isFunction(e.data)?e.data(y):e.data,e.extraData=m,v=t.param(m,p)),e.beforeSubmit&&!1===e.beforeSubmit(y,this,e))return s("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[y,this,e,h]),h.veto)return s("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var _=t.param(y,p);v&&(_=_?_+"&"+v:v),"GET"===e.type.toUpperCase()?(e.url+=(0<=e.url.indexOf("?")?"&":"?")+_,e.data=null):e.data=_;var b,w,k,x=[];e.resetForm&&x.push((function(){d.resetForm()})),e.clearForm&&x.push((function(){d.clearForm(e.includeHidden)})),!e.dataType&&e.target?(b=e.success||function(){},x.push((function(n,r,i){var o=arguments,s=e.replaceTarget?"replaceWith":"html";t(e.target)[s](n).each((function(){b.apply(this,o)}))}))):e.success&&(t.isArray(e.success)?t.merge(x,e.success):x.push(e.success)),e.success=function(t,n,r){for(var i=e.context||this,o=0,s=x.length;o<s;o++)x[o].apply(i,[t,n,r||d,d])},e.error&&(w=e.error,e.error=function(t,n,r){var i=e.context||this;w.apply(i,[t,n,r,d])}),e.complete&&(k=e.complete,e.complete=function(t,n){var r=e.context||this;k.apply(r,[t,n,d])});var S=0<t("input[type=file]:enabled",this).filter((function(){return""!==t(this).val()})).length,C="multipart/form-data",O=d.attr("enctype")===C||d.attr("encoding")===C,E=n.fileapi&&n.formdata;s("fileAPI :"+E);var P,A=(S||O)&&!E;!1!==e.iframe&&(e.iframe||A)?e.closeKeepAlive?t.get(e.closeKeepAlive,(function(){P=j(y)})):P=j(y):P=(S||O)&&E?function(n){for(var r=new FormData,i=0;i<n.length;i++)r.append(n[i].name,n[i].value);if(e.extraData){var o=function(n){var r,i,o=t.param(n,e.traditional).split("&"),s=o.length,a=[];for(r=0;r<s;r++)o[r]=o[r].replace(/\+/g," "),i=o[r].split("="),a.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return a}(e.extraData);for(i=0;i<o.length;i++)o[i]&&r.append(o[i][0],o[i][1])}e.data=null;var s=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});e.uploadProgress&&(s.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",(function(t){var n=0,r=t.loaded||t.position,i=t.total;t.lengthComputable&&(n=Math.ceil(r/i*100)),e.uploadProgress(t,r,i,n)}),!1),n}),s.data=null;var a=s.beforeSend;return s.beforeSend=function(t,n){e.formData?n.data=e.formData:n.data=r,a&&a.call(this,t,n)},t.ajax(s)}(y):t.ajax(e),d.removeData("jqxhr").data("jqxhr",P);for(var T=0;T<g.length;T++)g[T]=null;return this.trigger("form-submit-notify",[this,e]),this;function j(n){var i,o,a,l,u,f,h,p,v,m,y,_,b=d[0],w=t.Deferred();if(w.abort=function(t){p.abort(t)},n)for(o=0;o<g.length;o++)i=t(g[o]),r?i.prop("disabled",!1):i.removeAttr("disabled");(a=t.extend(!0,{},t.ajaxSettings,e)).context=a.context||a,u="jqFormIO"+(new Date).getTime();var k=b.ownerDocument,x=d.closest("body");if(a.iframeTarget?(m=(f=t(a.iframeTarget,k)).attr2("name"))?u=m:f.attr2("name",u):(f=t('<iframe name="'+u+'" src="'+a.iframeSrc+'" />',k)).css({position:"absolute",top:"-1000px",left:"-1000px"}),h=f[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";s("aborting upload... "+n),this.aborted=1;try{h.contentWindow.document.execCommand&&h.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",a.iframeSrc),p.error=n,a.error&&a.error.call(a.context,p,n,e),l&&t.event.trigger("ajaxError",[p,a,n]),a.complete&&a.complete.call(a.context,p,n)}},(l=a.global)&&0==t.active++&&t.event.trigger("ajaxStart"),l&&t.event.trigger("ajaxSend",[p,a]),a.beforeSend&&!1===a.beforeSend.call(a.context,p,a))return a.global&&t.active--,w.reject(),w;if(p.aborted)return w.reject(),w;(v=b.clk)&&(m=v.name)&&!v.disabled&&(a.extraData=a.extraData||{},a.extraData[m]=v.value,"image"===v.type&&(a.extraData[m+".x"]=b.clk_x,a.extraData[m+".y"]=b.clk_y));var S=1,C=2;function O(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){s("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){s("cannot get iframe.contentDocument: "+n),e=t.document}return e}var E=t("meta[name=csrf-token]").attr("content"),P=t("meta[name=csrf-param]").attr("content");function A(){var e=d.attr2("target"),n=d.attr2("action"),r=d.attr("enctype")||d.attr("encoding")||"multipart/form-data";b.setAttribute("target",u),c&&!/post/i.test(c)||b.setAttribute("method","POST"),n!==a.url&&b.setAttribute("action",a.url),a.skipEncodingOverride||c&&!/post/i.test(c)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),a.timeout&&(_=setTimeout((function(){y=!0,N(S)}),a.timeout));var i=[];try{if(a.extraData)for(var o in a.extraData)a.extraData.hasOwnProperty(o)&&(t.isPlainObject(a.extraData[o])&&a.extraData[o].hasOwnProperty("name")&&a.extraData[o].hasOwnProperty("value")?i.push(t('<input type="hidden" name="'+a.extraData[o].name+'">',k).val(a.extraData[o].value).appendTo(b)[0]):i.push(t('<input type="hidden" name="'+o+'">',k).val(a.extraData[o]).appendTo(b)[0]));a.iframeTarget||f.appendTo(x),h.attachEvent?h.attachEvent("onload",N):h.addEventListener("load",N,!1),setTimeout((function t(){try{var e=O(h).readyState;s("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(t){s("Server abort: ",t," (",t.name,")"),N(C),_&&clearTimeout(_),_=void 0}}),15);try{b.submit()}catch(e){document.createElement("form").submit.apply(b)}}finally{b.setAttribute("action",n),b.setAttribute("enctype",r),e?b.setAttribute("target",e):d.removeAttr("target"),t(i).remove()}}P&&E&&(a.extraData=a.extraData||{},a.extraData[P]=E),a.forceSync?A():setTimeout(A,10);var T,j,M,I=50;function N(e){if(!p.aborted&&!M){if((j=O(h))||(s("cannot access response document"),e=C),e===S&&p)return p.abort("timeout"),void w.reject(p,"timeout");if(e===C&&p)return p.abort("server abort"),void w.reject(p,"error","server abort");if(j&&j.location.href!==a.iframeSrc||y){h.detachEvent?h.detachEvent("onload",N):h.removeEventListener("load",N,!1);var n,r="success";try{if(y)throw"timeout";var i="xml"===a.dataType||j.XMLDocument||t.isXMLDoc(j);if(s("isXml="+i),!i&&window.opera&&(null===j.body||!j.body.innerHTML)&&--I)return s("requeing onLoad callback, DOM not available"),void setTimeout(N,250);var o=j.body?j.body:j.documentElement;p.responseText=o?o.innerHTML:null,p.responseXML=j.XMLDocument?j.XMLDocument:j,i&&(a.dataType="xml"),p.getResponseHeader=function(t){return{"content-type":a.dataType}[t.toLowerCase()]},o&&(p.status=Number(o.getAttribute("status"))||p.status,p.statusText=o.getAttribute("statusText")||p.statusText);var c,u,d,v=(a.dataType||"").toLowerCase(),m=/(json|script|text)/.test(v);m||a.textarea?(c=j.getElementsByTagName("textarea")[0])?(p.responseText=c.value,p.status=Number(c.getAttribute("status"))||p.status,p.statusText=c.getAttribute("statusText")||p.statusText):m&&(u=j.getElementsByTagName("pre")[0],d=j.getElementsByTagName("body")[0],u?p.responseText=u.textContent?u.textContent:u.innerText:d&&(p.responseText=d.textContent?d.textContent:d.innerText)):"xml"===v&&!p.responseXML&&p.responseText&&(p.responseXML=R(p.responseText));try{T=L(p,v,a)}catch(e){r="parsererror",p.error=n=e||r}}catch(e){s("error caught: ",e),r="error",p.error=n=e||r}p.aborted&&(s("upload aborted"),r=null),p.status&&(r=200<=p.status&&p.status<300||304===p.status?"success":"error"),"success"===r?(a.success&&a.success.call(a.context,T,"success",p),w.resolve(p.responseText,"success",p),l&&t.event.trigger("ajaxSuccess",[p,a])):r&&(void 0===n&&(n=p.statusText),a.error&&a.error.call(a.context,p,r,n),w.reject(p,"error",n),l&&t.event.trigger("ajaxError",[p,a,n])),l&&t.event.trigger("ajaxComplete",[p,a]),l&&! --t.active&&t.event.trigger("ajaxStop"),a.complete&&a.complete.call(a.context,p,r),M=!0,a.timeout&&clearTimeout(_),setTimeout((function(){a.iframeTarget?f.attr("src",a.iframeSrc):f.remove(),p.responseXML=null}),100)}}}var R=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!==e.documentElement.nodeName?e:null},D=t.parseJSON||function(t){return window.eval("("+t+")")},L=function(e,n,r){var i=e.getResponseHeader("content-type")||"",o=("xml"===n||!n)&&0<=i.indexOf("xml"),s=o?e.responseXML:e.responseText;return o&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),r&&r.dataFilter&&(s=r.dataFilter(s,n)),"string"==typeof s&&(("json"===n||!n)&&0<=i.indexOf("json")?s=D(s):("script"===n||!n)&&0<=i.indexOf("javascript")&&t.globalEval(s)),s};return w}},t.fn.ajaxForm=function(e,n,r,a){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:n,dataType:r},"function"==typeof a&&(e.success=a)),(e=e||{}).delegation=e.delegation&&t.isFunction(t.fn.on),e.delegation||0!==this.length)return e.delegation?(t(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,o).on("submit.form-plugin",this.selector,e,i).on("click.form-plugin",this.selector,e,o),this):(e.beforeFormUnbind&&e.beforeFormUnbind(this,e),this.ajaxFormUnbind().on("submit.form-plugin",e,i).on("click.form-plugin",e,o));var c={s:this.selector,c:this.context};return!t.isReady&&c.s?(s("DOM not ready, queuing ajaxForm"),t((function(){t(c.s,c.c).ajaxForm(e)}))):s("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this},t.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,r,i){var o=[];if(0===this.length)return o;var s,a,c,l,u,f,d,h,p,v,m=this[0],g=this.attr("id"),y=(y=e||void 0===m.elements?m.getElementsByTagName("*"):m.elements)&&t.makeArray(y);if(g&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&(s=t(':input[form="'+g+'"]').get()).length&&(y=(y||[]).concat(s)),!y||!y.length)return o;for(t.isFunction(i)&&(y=t.map(y,i)),a=0,f=y.length;a<f;a++)if((v=(u=y[a]).name)&&!u.disabled)if(e&&m.clk&&"image"===u.type)m.clk===u&&(o.push({name:v,value:t(u).val(),type:u.type}),o.push({name:v+".x",value:m.clk_x},{name:v+".y",value:m.clk_y}));else if((l=t.fieldValue(u,!0))&&l.constructor===Array)for(r&&r.push(u),c=0,d=l.length;c<d;c++)o.push({name:v,value:l[c]});else if(n.fileapi&&"file"===u.type){r&&r.push(u);var _=u.files;if(_.length)for(c=0;c<_.length;c++)o.push({name:v,value:_[c],type:u.type});else o.push({name:v,value:"",type:u.type})}else null!=l&&(r&&r.push(u),o.push({name:v,value:l,type:u.type,required:u.required}));return e||!m.clk||(v=(p=(h=t(m.clk))[0]).name)&&!p.disabled&&"image"===p.type&&(o.push({name:v,value:h.val()}),o.push({name:v+".x",value:m.clk_x},{name:v+".y",value:m.clk_y})),o},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each((function(){var r=this.name;if(r){var i=t.fieldValue(this,e);if(i&&i.constructor===Array)for(var o=0,s=i.length;o<s;o++)n.push({name:r,value:i[o]});else null!=i&&n.push({name:this.name,value:i})}})),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],r=0,i=this.length;r<i;r++){var o=this[r],s=t.fieldValue(o,e);null==s||s.constructor===Array&&!s.length||(s.constructor===Array?t.merge(n,s):n.push(s))}return n},t.fieldValue=function(n,r){var i=n.name,o=n.type,s=n.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!i||n.disabled||"reset"===o||"button"===o||("checkbox"===o||"radio"===o)&&!n.checked||("submit"===o||"image"===o)&&n.form&&n.form.clk!==n||"select"===s&&-1===n.selectedIndex))return null;if("select"!==s)return t(n).val().replace(e,"\r\n");var a=n.selectedIndex;if(a<0)return null;for(var c=[],l=n.options,u="select-one"===o,f=u?a+1:l.length,d=u?a:0;d<f;d++){var h=l[d];if(h.selected&&!h.disabled){var p=(p=h.value)||(h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value);if(u)return p;c.push(p)}}return c},t.fn.clearForm=function(e){return this.each((function(){t("input,select,textarea",this).clearFields(e)}))},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"===i?this.value="":"checkbox"===r||"radio"===r?this.checked=!1:"select"===i?this.selectedIndex=-1:"file"===r?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(r)||"string"==typeof e&&t(this).is(e))&&(this.value="")}))},t.fn.resetForm=function(){return this.each((function(){var e=t(this),n=this.tagName.toLowerCase();switch(n){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var r=e.parents("select");return r.length&&r[0].multiple?"option"===n?this.selected=this.defaultSelected:e.find("option").resetForm():r.resetForm(),!0;case"select":return e.find("option").each((function(t){if(this.selected=this.defaultSelected,this.defaultSelected&&!e[0].multiple)return e[0].selectedIndex=t,!1})),!0;case"label":var i=t(e.attr("for")),o=e.find("input,select,textarea");return i[0]&&o.unshift(i[0]),o.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return e.find("form,input,label,select,textarea").resetForm(),!0}}))},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each((function(){this.disabled=!t}))},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each((function(){var n,r=this.type;"checkbox"===r||"radio"===r?this.checked=e:"option"===this.tagName.toLowerCase()&&(n=t(this).parent("select"),e&&n[0]&&"select-one"===n[0].type&&n.find("option").selected(!1),this.selected=e)}))},t.fn.ajaxSubmit.debug=!1},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";(function(t){var r=n(779),i=n(780),o=n(781);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n);t=a(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|h(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(u(e),t=a(t,e<0?0:0|h(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|h(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(l(t,o+d)!==l(e,d)){f=!1;break}if(f)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,r){return V(q(e,t.length-n),t,n,r)}function w(t,e,n,r){return V(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return w(t,e,n,r)}function x(t,e,n,r){return V(U(e),t,n,r)}function S(t,e,n,r){return V(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,l=t[i],u=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function j(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:q(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(171))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(l(t,a,a+s>c?c:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,d=n?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+t[e+f],f+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+f],f+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,f=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+h]=255&s,h+=p,s/=256,l-=8);t[n+h-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(783),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(171))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,l={},u=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[c]=i,r(c),c++},d.clearImmediate=h}function h(t){delete l[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{h(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(171),n(439))},function(t,e,n){var r=n(785),i=n(789),o=n(793),s=n(795),a=n(797),c=n(798),l=n(799),u=n(264);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function d(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];"object"!=u(n)||Object.isFrozen(n)||d(n)})),t}var h=d,p=d;h.default=p;var v=function(){"use strict";function t(e){c(this,t),void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}return l(t,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),t}();function m(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function g(t){var e=Object.create(null);for(var n in t)e[n]=t[n];for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.forEach((function(t){for(var n in t)e[n]=t[n]})),e}var y=function(t){return!!t.kind},_=function(){"use strict";function t(e,n){c(this,t),this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}return l(t,[{key:"addText",value:function(t){this.buffer+=m(t)}},{key:"openNode",value:function(t){if(y(t)){var e=t.kind;t.sublanguage||(e="".concat(this.classPrefix).concat(e)),this.span(e)}}},{key:"closeNode",value:function(t){y(t)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(t){this.buffer+='<span class="'.concat(t,'">')}}]),t}(),b=function(t){"use strict";o(n,t);var e=f(n);function n(t){var r;return c(this,n),(r=e.call(this)).options=t,r}return l(n,[{key:"addKeyword",value:function(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}},{key:"addText",value:function(t){""!==t&&this.add(t)}},{key:"addSublanguage",value:function(t,e){var n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}},{key:"toHTML",value:function(){return new _(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),n}(function(){"use strict";function t(){c(this,t),this.rootNode={children:[]},this.stack=[this.rootNode]}return l(t,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(t){this.top.children.push(t)}},{key:"openNode",value:function(t){var e={kind:t,children:[]};this.add(e),this.stack.push(e)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(t){return this.constructor._walk(t,this.rootNode)}}],[{key:"_walk",value:function(t,e){var n=this;return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((function(e){return n._walk(t,e)})),t.closeNode(e)),t}},{key:"_collapse",value:function(e){"string"!=typeof e&&e.children&&(e.children.every((function(t){return"string"==typeof t}))?e.children=[e.children.join("")]:e.children.forEach((function(e){t._collapse(e)})))}}]),t}());function w(t){return t?"string"==typeof t?t:t.source:null}function k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"("+e.map((function(t){return w(t)})).join("|")+")"}var x=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;var S="[a-zA-Z]\\w*",C="[a-zA-Z_]\\w*",O="\\b\\d+(\\.\\d+)?",E="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",P="\\b(0b[01]+)",A={begin:"\\\\[\\s\\S]",relevance:0},T={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},j={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},M={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(t,e){var n=g({className:"comment",begin:t,end:e,contains:[]},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return n.contains.push(M),n.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),n},N=I("//","$"),R=I("/\\*","\\*/"),D=I("#","$"),L={className:"number",begin:O,relevance:0},B={className:"number",begin:E,relevance:0},$={className:"number",begin:P,relevance:0},F={className:"number",begin:O+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},q={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]}]},U={className:"title",begin:S,relevance:0},V={className:"title",begin:C,relevance:0},z={begin:"\\.\\s*"+C,relevance:0},H=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:S,UNDERSCORE_IDENT_RE:C,NUMBER_RE:O,C_NUMBER_RE:E,BINARY_NUMBER_RE:P,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=/^#![ ]*\//;return t.binary&&(t.begin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t){return w(t)})).join("")}(e,/.*\b/,t.binary,/\b.*/)),g({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":function(t,e){0!==t.index&&e.ignoreMatch()}},t)},BACKSLASH_ESCAPE:A,APOS_STRING_MODE:T,QUOTE_STRING_MODE:j,PHRASAL_WORDS_MODE:M,COMMENT:I,C_LINE_COMMENT_MODE:N,C_BLOCK_COMMENT_MODE:R,HASH_COMMENT_MODE:D,NUMBER_MODE:L,C_NUMBER_MODE:B,BINARY_NUMBER_MODE:$,CSS_NUMBER_MODE:F,REGEXP_MODE:q,TITLE_MODE:U,UNDERSCORE_TITLE_MODE:V,METHOD_GUARD:z,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":function(t,e){e.data._beginMatch=t[1]},"on:end":function(t,e){e.data._beginMatch!==t[1]&&e.ignoreMatch()}})}});function W(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function Y(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=W,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function G(t,e){Array.isArray(t.illegal)&&(t.illegal=k.apply(void 0,i(t.illegal)))}function J(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function K(t,e){void 0===t.relevance&&(t.relevance=1)}var Q=["of","and","for","in","not","or","if","then","parent","list","value"],X="keyword";function Z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r={};return"string"==typeof t?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach((function(n){Object.assign(r,Z(t[n],e,n))})),r;function i(t,n){e&&(n=n.map((function(t){return t.toLowerCase()}))),n.forEach((function(e){var n=e.split("|");r[n[0]]=[t,tt(n[0],n[1])]}))}}function tt(t,e){return e?Number(e):function(t){return Q.includes(t.toLowerCase())}(t)?0:1}function et(t,e){e.plugins;function n(e,n){return new RegExp(w(e),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}var o=function(){"use strict";function t(){c(this,t),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return l(t,[{key:"addRule",value:function(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=function(t){return new RegExp(t.toString()+"|").exec("").length-1}(t)+1}},{key:"compile",value:function(){0===this.regexes.length&&(this.exec=function(){return null});var t=this.regexes.map((function(t){return t[1]}));this.matcherRe=n(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",n=0;return t.map((function(t){for(var e=n+=1,r=w(t),i="";r.length>0;){var o=x.exec(r);if(!o){i+=r;break}i+=r.substring(0,o.index),r=r.substring(o.index+o[0].length),"\\"===o[0][0]&&o[1]?i+="\\"+String(Number(o[1])+e):(i+=o[0],"("===o[0]&&n++)}return i})).map((function(t){return"(".concat(t,")")})).join(e)}(t),!0),this.lastIndex=0}},{key:"exec",value:function(t){this.matcherRe.lastIndex=this.lastIndex;var e=this.matcherRe.exec(t);if(!e)return null;var n=e.findIndex((function(t,e){return e>0&&void 0!==t})),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}]),t}(),s=function(){"use strict";function t(){c(this,t),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return l(t,[{key:"getMatcher",value:function(t){if(this.multiRegexes[t])return this.multiRegexes[t];var e=new o;return this.rules.slice(t).forEach((function(t){var n=r(t,2),i=n[0],o=n[1];return e.addRule(i,o)})),e.compile(),this.multiRegexes[t]=e,e}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}},{key:"exec",value:function(t){var e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;var n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{var r=this.getMatcher(0);r.lastIndex=this.lastIndex+1,n=r.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}]),t}();if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=g(t.classNameAliases||{}),function e(r,o){var a,c=r;if(r.isCompiled)return c;[J].forEach((function(t){return t(r,o)})),t.compilerExtensions.forEach((function(t){return t(r,o)})),r.__beforeBegin=null,[Y,G,K].forEach((function(t){return t(r,o)})),r.isCompiled=!0;var l=null;if("object"===u(r.keywords)&&(l=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=Z(r.keywords,t.case_insensitive)),r.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l=l||r.lexemes||/\w+/,c.keywordPatternRe=n(l,!0),o&&(r.begin||(r.begin=/\B|\b/),c.beginRe=n(r.begin),r.endSameAsBegin&&(r.end=r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(c.endRe=n(r.end)),c.terminatorEnd=w(r.end)||"",r.endsWithParent&&o.terminatorEnd&&(c.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(c.illegalRe=n(r.illegal)),r.contains||(r.contains=[]),r.contains=(a=[]).concat.apply(a,i(r.contains.map((function(t){return function(t){t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return g(t,{variants:null},e)})));if(t.cachedVariants)return t.cachedVariants;if(nt(t))return g(t,{starts:t.starts?g(t.starts):null});if(Object.isFrozen(t))return g(t);return t}("self"===t?r:t)})))),r.contains.forEach((function(t){e(t,c)})),r.starts&&e(r.starts,o),c.matcher=function(t){var e=new s;return t.contains.forEach((function(t){return e.addRule(t.begin,{rule:t,type:"begin"})})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(c),c}(t)}function nt(t){return!!t&&(t.endsWithParent||nt(t.starts))}function rt(t){var e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className:function(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted:function(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn('The language "'.concat(this.language,'" you specified could not be found.')),this.unknownLanguage=!0,m(this.code);var e={};return this.autoDetect?(e=t.highlightAuto(this.code),this.detectedLanguage=e.language):(e=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),e.value},autoDetect:function(){return!this.language||(t=this.autodetect,Boolean(t||""===t));var t},ignoreIllegals:function(){return!0}},render:function(t){return t("pre",{},[t("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:e,VuePlugin:{install:function(t){t.component("highlightjs",e)}}}}var it={"after:highlightElement":function(t){var e=t.el,n=t.result,r=t.text,i=st(e);if(i.length){var o=document.createElement("div");o.innerHTML=n.value,n.value=function(t,e,n){var r=0,i="",o=[];function s(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function a(t){function e(t){return" "+t.nodeName+'="'+m(t.value)+'"'}i+="<"+ot(t)+[].map.call(t.attributes,e).join("")+">"}function c(t){i+="</"+ot(t)+">"}function l(t){("start"===t.event?a:c)(t.node)}for(;t.length||e.length;){var u=s();if(i+=m(n.substring(r,u[0].offset)),r=u[0].offset,u===t){o.reverse().forEach(c);do{l(u.splice(0,1)[0]),u=s()}while(u===t&&u.length&&u[0].offset===r);o.reverse().forEach(a)}else"start"===u[0].event?o.push(u[0].node):o.pop(),l(u.splice(0,1)[0])}return i+m(n.substr(r))}(i,st(o),r)}}};function ot(t){return t.nodeName.toLowerCase()}function st(t){var e=[];return function t(n,r){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(e.push({event:"start",offset:r,node:i}),r=t(i,r),ot(i).match(/br|hr|img|input/)||e.push({event:"stop",offset:r,node:i}));return r}(t,0),e}var at={},ct=function(t){console.error(t)},lt=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).log.apply(e,["WARN: ".concat(t)].concat(r))},ut=function(t,e){at["".concat(t,"/").concat(e)]||(console.log("Deprecated as of ".concat(t,". ").concat(e)),at["".concat(t,"/").concat(e)]=!0)},ft=m,dt=g,ht=Symbol("nomatch"),pt=function(t){var e=Object.create(null),n=Object.create(null),i=[],o=!0,s=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]},l={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:b};function f(t){return l.noHighlightRe.test(t)}function d(t,e,n,r){var i="",o="";"object"===u(e)?(i=t,n=e.ignoreIllegals,o=e.language,r=void 0):(ut("10.7.0","highlight(lang, code, ...args) has been deprecated."),ut("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=t,i=e);var s={code:i,language:o};E("before:highlight",s);var a=s.result?s.result:p(s.language,s.code,n,r);return a.code=s.code,E("after:highlight",a),a}function p(t,n,s,c){function u(t,e){var n=k.case_insensitive?e[0].toLowerCase():e[0];return Object.prototype.hasOwnProperty.call(t.keywords,n)&&t.keywords[n]}function f(){null!=O.subLanguage?function(){if(""!==A){var t=null;if("string"==typeof O.subLanguage){if(!e[O.subLanguage])return void P.addText(A);t=p(O.subLanguage,A,!0,E[O.subLanguage]),E[O.subLanguage]=t.top}else t=m(A,O.subLanguage.length?O.subLanguage:null);O.relevance>0&&(T+=t.relevance),P.addSublanguage(t.emitter,t.language)}}():function(){if(O.keywords){var t=0;O.keywordPatternRe.lastIndex=0;for(var e=O.keywordPatternRe.exec(A),n="";e;){n+=A.substring(t,e.index);var i=u(O,e);if(i){var o=r(i,2),s=o[0],a=o[1];if(P.addText(n),n="",T+=a,s.startsWith("_"))n+=e[0];else{var c=k.classNameAliases[s]||s;P.addKeyword(e[0],c)}}else n+=e[0];t=O.keywordPatternRe.lastIndex,e=O.keywordPatternRe.exec(A)}n+=A.substr(t),P.addText(n)}else P.addText(A)}(),A=""}function d(t){return t.className&&P.openNode(k.classNameAliases[t.className]||t.className),O=Object.create(t,{parent:{value:O}})}function h(t,e,n){var r=function(t,e){var n=t&&t.exec(e);return n&&0===n.index}(t.endRe,n);if(r){if(t["on:end"]){var i=new v(t);t["on:end"](e,i),i.isMatchIgnored&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return h(t.parent,e,n)}function g(t){return 0===O.matcher.regexIndex?(A+=t[0],1):(I=!0,0)}function y(t){for(var e=t[0],n=t.rule,r=new v(n),i=0,o=[n.__beforeBegin,n["on:begin"]];i<o.length;i++){var s=o[i];if(s&&(s(t,r),r.isMatchIgnored))return g(e)}return n&&n.endSameAsBegin&&(n.endRe=new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?A+=e:(n.excludeBegin&&(A+=e),f(),n.returnBegin||n.excludeBegin||(A=e)),d(n),n.returnBegin?0:e.length}function _(t){var e=t[0],r=n.substr(t.index),i=h(O,t,r);if(!i)return ht;var o=O;o.skip?A+=e:(o.returnEnd||o.excludeEnd||(A+=e),f(),o.excludeEnd&&(A=e));do{O.className&&P.closeNode(),O.skip||O.subLanguage||(T+=O.relevance),O=O.parent}while(O!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),d(i.starts)),o.returnEnd?0:e.length}var b={};function w(e,r){var i=r&&r[0];if(A+=e,null==i)return f(),0;if("begin"===b.type&&"end"===r.type&&b.index===r.index&&""===i){if(A+=n.slice(r.index,r.index+1),!o){var a=new Error("0 width match regex");throw a.languageName=t,a.badRule=b.rule,a}return 1}if(b=r,"begin"===r.type)return y(r);if("illegal"===r.type&&!s){var c=new Error('Illegal lexeme "'+i+'" for mode "'+(O.className||"<unnamed>")+'"');throw c.mode=O,c}if("end"===r.type){var l=_(r);if(l!==ht)return l}if("illegal"===r.type&&""===i)return 1;if(M>1e5&&M>3*r.index)throw new Error("potential infinite loop, way more iterations than matches");return A+=i,i.length}var k=S(t);if(!k)throw ct(a.replace("{}",t)),new Error('Unknown language: "'+t+'"');var x=et(k,{plugins:i}),C="",O=c||x,E={},P=new l.__emitter(l);!function(){for(var t=[],e=O;e!==k;e=e.parent)e.className&&t.unshift(e.className);t.forEach((function(t){return P.openNode(t)}))}();var A="",T=0,j=0,M=0,I=!1;try{for(O.matcher.considerAll();;){M++,I?I=!1:O.matcher.considerAll(),O.matcher.lastIndex=j;var N=O.matcher.exec(n);if(!N)break;var R=w(n.substring(j,N.index),N);j=N.index+R}return w(n.substr(j)),P.closeAllNodes(),P.finalize(),C=P.toHTML(),{relevance:Math.floor(T),value:C,language:t,illegal:!1,emitter:P,top:O}}catch(e){if(e.message&&e.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:e.message,context:n.slice(j-100,j+100),mode:e.mode},sofar:C,relevance:0,value:ft(n),emitter:P};if(o)return{illegal:!1,relevance:0,value:ft(n),emitter:P,language:t,top:O,errorRaised:e};throw e}}function m(t,n){n=n||l.languages||Object.keys(e);var i=function(t){var e={relevance:0,emitter:new l.__emitter(l),value:ft(t),illegal:!1,top:c};return e.emitter.addText(t),e}(t),o=n.filter(S).filter(O).map((function(e){return p(e,t,!1)}));o.unshift(i);var s=o.sort((function(t,e){if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(S(t.language).supersetOf===e.language)return 1;if(S(e.language).supersetOf===t.language)return-1}return 0})),a=r(s,2),u=a[0],f=a[1],d=u;return d.second_best=f,d}var g={"before:highlightElement":function(t){var e=t.el;l.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":function(t){var e=t.result;l.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},y=/^(<[^>]+>|\t)+/gm,_={"after:highlightElement":function(t){var e=t.result;l.tabReplace&&(e.value=e.value.replace(y,(function(t){return t.replace(/\t/g,l.tabReplace)})))}};function w(t){var e=function(t){var e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";var n=l.languageDetectRe.exec(e);if(n){var r=S(n[1]);return r||(lt(a.replace("{}",n[1])),lt("Falling back to no-highlight mode for this block.",t)),r?n[1]:"no-highlight"}return e.split(/\s+/).find((function(t){return f(t)||S(t)}))}(t);if(!f(e)){E("before:highlightElement",{el:t,language:e});var r=t.textContent,i=e?d(r,{language:e,ignoreIllegals:!0}):m(r);E("after:highlightElement",{el:t,result:i,text:r}),t.innerHTML=i.value,function(t,e,r){var i=e?n[e]:r;t.classList.add("hljs"),i&&t.classList.add(i)}(t,e,i.language),t.result={language:i.language,re:i.relevance,relavance:i.relevance},i.second_best&&(t.second_best={language:i.second_best.language,re:i.second_best.relevance,relavance:i.second_best.relevance})}}var k=!1;function x(){"loading"!==document.readyState?document.querySelectorAll("pre code").forEach(w):k=!0}function S(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function C(t,e){var r=e.languageName;"string"==typeof t&&(t=[t]),t.forEach((function(t){n[t.toLowerCase()]=r}))}function O(t){var e=S(t);return e&&!e.disableAutodetect}function E(t,e){var n=t;i.forEach((function(t){t[n]&&t[n](e)}))}for(var P in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){k&&x()}),!1),Object.assign(t,{highlight:d,highlightAuto:m,highlightAll:x,fixMarkup:function(t){return ut("10.2.0","fixMarkup will be removed entirely in v11.0"),ut("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),e=t,l.tabReplace||l.useBR?e.replace(s,(function(t){return"\n"===t?l.useBR?"<br>":t:l.tabReplace?t.replace(/\t/g,l.tabReplace):t})):e;var e},highlightElement:w,highlightBlock:function(t){return ut("10.7.0","highlightBlock will be removed entirely in v12.0"),ut("10.7.0","Please use highlightElement now."),w(t)},configure:function(t){t.useBR&&(ut("10.3.0","'useBR' will be removed entirely in v11.0"),ut("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),l=dt(l,t)},initHighlighting:function t(){t.called||(t.called=!0,ut("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(w))},initHighlightingOnLoad:function(){ut("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),k=!0},registerLanguage:function(n,r){var i=null;try{i=r(t)}catch(t){if(ct("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw t;ct(t),i=c}i.name||(i.name=n),e[n]=i,i.rawDefinition=r.bind(null,t),i.aliases&&C(i.aliases,{languageName:n})},unregisterLanguage:function(t){delete e[t];for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];n[o]===t&&delete n[o]}},listLanguages:function(){return Object.keys(e)},getLanguage:S,registerAliases:C,requireLanguage:function(t){ut("10.4.0","requireLanguage will be removed entirely in v11."),ut("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");var e=S(t);if(e)return e;throw new Error("The '{}' language is required, but not loaded.".replace("{}",t))},autoDetection:O,inherit:dt,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=function(e){t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=function(e){t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),i.push(t)},vuePlugin:rt(t).VuePlugin}),t.debugMode=function(){o=!1},t.safeMode=function(){o=!0},t.versionString="10.7.3",H)"object"===u(H[P])&&h(H[P]);return Object.assign(t,H),t.addPlugin(g),t.addPlugin(it),t.addPlugin(_),t}({});t.exports=pt},function(t,e,n){var r=n(786),i=n(787),o=n(440),s=n(788);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(790),i=n(791),o=n(440),s=n(792);t.exports=function(t){return r(t)||i(t)||o(t)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(441);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(794);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(264).default,i=n(796);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(800);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(264).default,i=n(801);t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(264).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(803),i=o(Error);function o(t){return e.displayName=t.displayName||t.name,e;function e(e){return e&&(e=r.apply(null,arguments)),new t(e)}}t.exports=i,i.eval=o(EvalError),i.range=o(RangeError),i.reference=o(ReferenceError),i.syntax=o(SyntaxError),i.type=o(TypeError),i.uri=o(URIError),i.create=o},function(t,e,n){!function(){var e;function n(t){for(var e,n,r,i,o=1,s=[].slice.call(arguments),a=0,c=t.length,l="",u=!1,f=!1,d=function(){return s[o++]},h=function(){for(var n="";/\d/.test(t[a]);)n+=t[a++],e=t[a];return n.length>0?parseInt(n):null};a<c;++a)if(e=t[a],u)switch(u=!1,"."==e?(f=!1,e=t[++a]):"0"==e&&"."==t[a+1]?(f=!0,e=t[a+=2]):f=!0,i=h(),e){case"b":l+=parseInt(d(),10).toString(2);break;case"c":l+="string"==typeof(n=d())||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":l+=parseInt(d(),10);break;case"f":r=String(parseFloat(d()).toFixed(i||6)),l+=f?r:r.replace(/^0/,"");break;case"j":l+=JSON.stringify(d());break;case"o":l+="0"+parseInt(d(),10).toString(8);break;case"s":l+=d();break;case"x":l+="0x"+parseInt(d(),10).toString(16);break;case"X":l+="0x"+parseInt(d(),10).toString(16).toUpperCase();break;default:l+=e}else"%"===e?u=!0:l+=e;return l}(e=t.exports=n).format=n,e.vsprintf=function(t,e){return n.apply(null,[t].concat(e))},"undefined"!=typeof console&&"function"==typeof console.log&&(e.printf=function(){console.log(n.apply(null,arguments))})}()},function(t,e,n){"use strict";(function(t){n(805);t((function(){if(window.vo&&(vo.fixSidebar=function(){t(".theiaStickySidebar").each((function(){var e=t(this).parent().data("theia");t(this).css({position:"static"}),void 0!==e&&e.onScroll(e)}))}),!(t(window).width()>991?0:1)){var e=t(".theiaStickySidebar");e.length&&t.fn.theiaStickySidebar&&e.each((function(){var e={additionalMarginTop:t(this).data("theia-margin-top"),additionalMarginBottom:t(this).data("theia-margin-bottom"),minWidth:t(this).data("theia-minwidth"),updateSidebarHeight:!1,containerSelector:t(this).data("theia-container")};t(this).parent().theiaStickySidebar(e)}))}}))}).call(this,n(52))},function(t,e,n){(function(t){var e;(e=t).fn.theiaStickySidebar=function(t){function n(t,n){return!0===t.initialized||!(e("body").width()<t.minWidth)&&(function(t,n){t.initialized=!0;var i=e("#theia-sticky-sidebar-stylesheet-"+t.namespace);0===i.length&&e("head").append(e('<style id="theia-sticky-sidebar-stylesheet-'+t.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),n.each((function(){var n={};if(n.sidebar=e(this),n.options=t||{},n.container=e(n.options.containerSelector),0==n.container.length&&(n.container=n.sidebar.parent()),n.sidebar.parents().css("-webkit-transform","none"),n.sidebar.css({position:n.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),n.stickySidebar=n.sidebar.find(".theiaStickySidebar"),0==n.stickySidebar.length){var i=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;n.sidebar.find("script").filter((function(t,e){return 0===e.type.length||e.type.match(i)})).remove(),n.stickySidebar=e("<div>").addClass("theiaStickySidebar").append(n.sidebar.children()),n.sidebar.append(n.stickySidebar)}n.marginBottom=parseInt(n.sidebar.css("margin-bottom")),n.paddingTop=parseInt(n.sidebar.css("padding-top")),n.paddingBottom=parseInt(n.sidebar.css("padding-bottom"));var o=n.stickySidebar.offset().top,s=n.stickySidebar.outerHeight();function a(){n.fixedScrollTop=0,n.sidebar.css({"min-height":"1px"}),n.stickySidebar.css({position:"static",width:"",transform:"none"})}function c(t){var n=t.height();return t.children().each((function(){n=Math.max(n,e(this).height())})),n}n.stickySidebar.css("padding-top",1),n.stickySidebar.css("padding-bottom",1),o-=n.stickySidebar.offset().top,s=n.stickySidebar.outerHeight()-s-o,0==o?(n.stickySidebar.css("padding-top",0),n.stickySidebarPaddingTop=0):n.stickySidebarPaddingTop=1,0==s?(n.stickySidebar.css("padding-bottom",0),n.stickySidebarPaddingBottom=0):n.stickySidebarPaddingBottom=1,n.previousScrollTop=null,n.fixedScrollTop=0,a(),n.onScroll=function(n){if(n.stickySidebar.is(":visible"))if(e("body").width()<n.options.minWidth)a();else{if(n.options.disableOnResponsiveLayouts&&n.sidebar.outerWidth("none"==n.sidebar.css("float"))+50>n.container.width())return void a();var i=e(document).scrollTop(),o="static";if(i>=n.sidebar.offset().top+(n.paddingTop-n.options.additionalMarginTop)){var s,l=n.paddingTop+t.additionalMarginTop,u=n.paddingBottom+n.marginBottom+t.additionalMarginBottom,f=n.sidebar.offset().top,d=n.sidebar.offset().top+c(n.container),h=0+t.additionalMarginTop;s=n.stickySidebar.outerHeight()+l+u<e(window).height()?h+n.stickySidebar.outerHeight():e(window).height()-n.marginBottom-n.paddingBottom-t.additionalMarginBottom;var p=f-i+n.paddingTop,v=d-i-n.paddingBottom-n.marginBottom,m=n.stickySidebar.offset().top-i,g=n.previousScrollTop-i;"fixed"==n.stickySidebar.css("position")&&"modern"==n.options.sidebarBehavior&&(m+=g),"stick-to-top"==n.options.sidebarBehavior&&(m=t.additionalMarginTop),"stick-to-bottom"==n.options.sidebarBehavior&&(m=s-n.stickySidebar.outerHeight()),m=g>0?Math.min(m,h):Math.max(m,s-n.stickySidebar.outerHeight()),m=Math.max(m,p),m=Math.min(m,v-n.stickySidebar.outerHeight());var y=n.container.height()==n.stickySidebar.outerHeight();o=!y&&m==h||!y&&m==s-n.stickySidebar.outerHeight()?"fixed":i+m-n.sidebar.offset().top-n.paddingTop<=t.additionalMarginTop?"static":"absolute"}if("fixed"==o){var _=e(document).scrollLeft();n.stickySidebar.css({position:"fixed",width:r(n.stickySidebar)+"px",transform:"translateY("+m+"px)",left:n.sidebar.offset().left+parseInt(n.sidebar.css("padding-left"))-_+"px",top:"0px"})}else if("absolute"==o){var b={};"absolute"!=n.stickySidebar.css("position")&&(b.position="absolute",b.transform="translateY("+(i+m-n.sidebar.offset().top-n.stickySidebarPaddingTop-n.stickySidebarPaddingBottom)+"px)",b.top="0px"),b.width=r(n.stickySidebar)+"px",b.left="",n.stickySidebar.css(b)}else"static"==o&&a();"static"!=o&&1==n.options.updateSidebarHeight&&n.sidebar.css({"min-height":n.stickySidebar.outerHeight()+n.stickySidebar.offset().top-n.sidebar.offset().top+n.paddingBottom}),n.previousScrollTop=i}},n.onScroll(n),e(document).on("scroll."+n.options.namespace,function(t){return function(){t.onScroll(t)}}(n)),e(window).on("resize."+n.options.namespace,function(t){return function(){t.stickySidebar.css({position:"static"}),t.onScroll(t)}}(n)),"undefined"!=typeof ResizeSensor&&new ResizeSensor(n.stickySidebar[0],function(t){return function(){t.onScroll(t)}}(n))}))}(t,n),!0)}function r(t){var e;try{e=t[0].getBoundingClientRect().width}catch(t){}return void 0===e&&(e=t.width()),e}return(t=e.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"},t)).additionalMarginTop=parseInt(t.additionalMarginTop)||0,t.additionalMarginBottom=parseInt(t.additionalMarginBottom)||0,function(t,r){var i=n(t,r);i||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),e(document).on("scroll."+t.namespace,function(t,r){return function(i){n(t,r)&&e(this).unbind(i)}}(t,r)),e(window).on("resize."+t.namespace,function(t,r){return function(i){n(t,r)&&e(this).unbind(i)}}(t,r)))}(t,this),this}}).call(this,n(52))},function(t,e,n){"use strict";n(442)},function(module,exports,__webpack_require__){(function($){window.initCountdownTimer=function(options){options=$.extend({timerEnd:0,timerStart:0,days:"#i-rating-countdown-days",hours:"#i-rating-countdown-hours",minutes:"#i-rating-countdown-minutes",seconds:"#i-rating-countdown-seconds",animateCircles:!0,padLeft:!1,padDays:void 0,insertDirectly:!1,insertDirectlyDays:void 0,callback:void 0},options);var end=Date.now()+1e3*(options.timerEnd-options.timerStart);function getWeekEndTime(){var t=new Date;return t.setHours(23,59,59),t.setDate(t.getDate()-t.getDay()+7),t.getTime()}function padLeft(t){return t<10?"0"+t:t}var $days=$(options.days),$hours=$(options.hours),$minutes=$(options.minutes),$seconds=$(options.seconds);function switchAnimation(t,e){var n=e?"all 1s linear 0s":"none";t.find(".i-cd-circle").css("transition",n)}function setCircleProgress(t,e){var n=2*parseFloat(t.css("r")||t.attr("r"))*Math.PI;t.css("stroke-dasharray",n+"px"),t.css("stroke-dashoffset",n*e+"px")}function setCD(t,e,n,r,i,o){var s=e;i&&(s=padLeft(e)),o?t.text(s):(t.find(".i-cd-number").text(s),t.find(".i-cd-word").text(vo.numerize(e,r))),options.animateCircles&&(e===n-1?(switchAnimation(t,0),setCircleProgress(t.find(".i-cd-circle"),1/n),setTimeout((function(){switchAnimation(t,1)}),20)):(switchAnimation(t,1),setCircleProgress(t.find(".i-cd-circle"),1-e/n)))}function breakTime(t){return{seconds:(t=Math.floor(t/1e3))%60,minutes:Math.floor(t/60)%60,hours:Math.floor(t/60/60)%24,days:Math.floor(t/60/60/24)}}var isCallbackCalled=!1;function update(){var now=Date.now(),msLeft=end-now;if(msLeft<0)isCallbackCalled||void 0===options.callback||(isCallbackCalled=!0,eval(options.callback));else{var timeLeft=breakTime(msLeft),padLeftDays=void 0===options.padDays?options.padLeft:options.padDays,insertDirectlyDays=void 0===options.insertDirectly?options.insertDirectly:options.insertDirectlyDays;setCD($days,timeLeft.days,30,["день","дні","днів"],padLeftDays,insertDirectlyDays),setCD($hours,timeLeft.hours,24,["година","години","годин"],options.padLeft,options.insertDirectly),setCD($minutes,timeLeft.minutes,60,["хвилина","хвилини","хвилин"],options.padLeft,options.insertDirectly),setCD($seconds,timeLeft.seconds,60,["секунда","секунди","секунд"],options.padLeft,options.insertDirectly)}}setInterval(update,200),update(),options.animateCircles&&switchAnimation($days.add($hours).add($minutes).add($seconds),0)},window.initCountdownTimerShort=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#i-countdown",i=n?"-"+n:"";return initCountdownTimer({timerEnd:parseInt(e),timerStart:parseInt(t),days:r+"-days"+i,hours:r+"-hours"+i,minutes:r+"-minutes"+i,seconds:r+"-seconds"+i,animateCircles:!0,padLeft:!0})}}).call(this,__webpack_require__(52))},function(t,e,n){(function(t){t.fn.mobMsgPopup=function(e){if(!(e=t.extend({showOn:".v-news-comments",padOn:".a-similar-news",paddingClass:"v-news-reg-banner-fixed",cookie:"i-news-popup-disabled",timeout:"midnight",guestsOnly:!1,contAdd:""},e)).guestsOnly||!vo.user_id){e.cookie;if(e.contAdd){var n=this,r=t(e.showOn),i=t(window),o=t(".footer"),s=t(e.padOn);s.length||(s=r),n.find(".ag-content").html(e.contAdd),n.slideDown("slow"),this.find(".i-close").click((function(){n.slideUp().queue((function(t){a(),t()})),n.removeClass("show"),s.removeClass(e.paddingClass),i.off("scroll resize",c),a(),vo.ajax(null,"/ext/user/msg-close",null)}))}}function a(){if(n.is(":visible"))var e=n.height()+20;else e=0;t(".theiaStickySidebar").css({paddingBottom:e}),vo.fixSidebar&&vo.fixSidebar()}function c(){var t=r.offset();if(t){var c=i.scrollTop()+i.height();t.top<c&&(n.slideDown("slow").queue((function(t){a(),t()})),s.addClass(e.paddingClass))}var l=o.offset();l&&(l.top<c?n.css({bottom:c-l.top}):n.css({bottom:0}))}}}).call(this,n(52))},function(t,e,n){(function(t){vo.gameLaMarathon2023={currBvn:null,animationInDuration:300,animationOutDuration:300,showItemDuration:3e3,showTimeoutId:null,showBvn:function(){var e=this;if(this.currBvn){var n=window.innerWidth,r=window.innerHeight,i=s(.1*r,.8*r),o=s(0,.9*n);this.currBvn.style.position="fixed",this.currBvn.style.top=i+"px",this.currBvn.style.left=o+"px",this.currBvn.style.opacity=0,window.document.body.appendChild(this.currBvn),t(this.currBvn).animate({opacity:1},this.animationInDuration,"swing",(function(){e.showTimeoutId=setTimeout((function(){e.currBvn&&t(e.currBvn).animate({opacity:0},e.animationOutDuration,"swing",(function(){e._saveResult(null,{is_ok:0})}))}),e.showItemDuration)}))}function s(t,e){return Math.round(Math.random()*(e-t)+t)}},delBvn:function(){this.currBvn&&(t(this.currBvn).stop(),this.showTimeoutId&&clearTimeout(this.showTimeoutId),window.document.body.removeChild(this.currBvn),this.currBvn=null)},newBvn:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){this.delBvn();var s,a=document.createElement("div");a.classList.add("bvn","bvn-".concat(e.id_img||1)),a.innerHTML='\n      \n            <div class="img">\n                  <div class="animation-fire">\n                           <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                            <div class="particle"></div>\n                  </div>\n                <img src="'.concat(vo.url_assets,"/img/marathone9/bvn_").concat(e.id_img||1,'.png" title="Бавовнятко!" alt="Бавовнятко!"/>\n            </div>\n                <div class="bvn_text-con">\n                  <span class="bvn-text"><span>').concat((s=["Слава Україні!","Все буде Україна!","Героям Слава!","Незламні!","Слава ЗСУ!"])[Math.floor(Math.random()*s.length)],"</span></span>\n                </div>\n        "),a.setAttribute("data-hash",e.hash),a.setAttribute("data-id_img",e.id_img),this.currBvn=a,a.addEventListener("click",(function(e){t(n.currBvn).stop(),n._saveResult(e,{is_ok:1})})),!1!==r&&r>=0&&(this.showItemDuration=r),!1!==i&&i>=0&&(this.animationInDuration=i),!1!==o&&o>=0&&(this.animationOutDuration=o),this.showBvn()}},_checkNewTry:function(){var t=this;vo.ajax(null,"/ext/marathon/game-la-marathon-2023-check-try",null,(function(e){if(e&&e.data&&!e.data.stop_game)if(e.data.item)t.newBvn(e.data.item);else{t.delBvn();var n=e&&e.data&&e.data.next_try_after_sec||0;setTimeout((function(){t._checkNewTry()}),1e3*(n+=5))}}))},_saveResult:function(t,e){var n=this;this.currBvn&&!this.currBvn.getAttribute("data-loading")&&(this.currBvn.setAttribute("data-loading",1),e.hash=this.currBvn.getAttribute("data-hash"),vo.ajax(null,"/ext/marathon/game-la-marathon-2023-save-try",e,(function(t){if(n.delBvn(),t&&t.data&&!t.data.stop_game){var e=t&&t.data&&t.data.next_try_after_sec||0;setTimeout((function(){n._checkNewTry()}),1e3*(e+=5))}})))}}}).call(this,n(52))},function(t,e,n){"use strict";(function(t,e){var r=n(1),i=n(43);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.fn.fileForm=function(n){var o,s={percent:".percent",progress:".progress",button:".button",cancel:".cancel",bar:".bar",preview:".preview",list:".items",file_list:"input[type=hidden]",item:".tpl_item",dragOverClass:"v-button-drag",url:"/upload",info:"/ext/file/info",name:"file",immediate:!0,multiple:!1,batchSize:1,accept:null,maxFileUpload:-1,url_cloud:vo.url_cloud,std_tpl:"",tpl_presets:(o={},c(o,i.f,"<div class='v-file-upload-block'>{file_preview} <a href='{file_url}' target='_blank'>{file}</a> <a data-delete class='v-delete-btn'>x</a></div>"),c(o,i.g,"<div class='v-file-upload-block' draggable='true' data-index='{index}'>{file_preview} <a href='{file_url}' target='_blank'>{file}</a> <a data-delete class='v-delete-btn'>x</a></div>"),c(o,i.h,"<div class='v-file-upload-block'><i class='v-success-icon'>🗙</i>Файл, {file}: {error}<a data-delete class='v-delete-btn'>x</a></div>"),c(o,i.i,"<div class='v-file-upload-block'><div class='upload-img-preview'><img src='{file | resize(90x0) | url}' style='cursor: pointer' onclick='vo.magnifyImg(event.target)' ></div>  <a href='javascript:void(0);' onclick='vo.showImg(\"{file_url}\")'>{file}</a> <a data-delete class='v-delete-btn'>x</a></div>"),c(o,i.j,"<div>images, {file}, {file_src}, {file_url}, {file_md5}, {file_sha1}, <img style='height:50px' src='{file | resize(50x50) | url}'><a data-delete style='color:red;cursor: pointer;'>X</a></div>"),c(o,i.c,'<img src="{file | resize(220x220) | url}" alt="" class="v-profile-photo" onclick="vo.dlg.show($(\'<img>\').attr(\'src\', this.src))"><div class="i-update-spinner"><div class="i-loader"></div></div>'),c(o,i.d,'<img src="{file_url}" alt="" class="v-profile-photo">'),o),preset:i.g,progressTemplate:'<div class="bar"></div><div class="percent"></div>',effect:{}};t.extend(s,n);var l=this.find(s.list),u=this.find(s.button),f=t("<input type='file'>").attr("name",s.name).prop("multiple",s.multiple).prop("accept",s.accept),d=this.find(s.progress);d.html().trim()||d.html(s.progressTemplate);var h=this.find(s.bar),p=this.find(s.percent);d.css({display:"none",position:~["absolute","relative"].indexOf(d.css("position"))?d.css("position"):"relative"}),h.css({height:"100%",width:"0",position:"absolute"}),p.css({zIndex:1,position:"relative"});var v=this.find(s.cancel),m=this,g=null,y={url:function(t){return Object(r.gb)(t)+"/"+t},resize:function(t,e){return t.replace(/\.\w+$/,(function(t){return"-"+e+t}))},or:function(t,e,n){if(!t)return n[e]},image:function(t,e,n){return i.b.indexOf(n.file_ext)>=0?'<img src="'+t+'" style="width:200px;height:200px;object-fit:contain;">':""},copy:function(){return"this.nextElementSibling.select();if(document.execCommand('copy')){vo.popup('Скопійовано')}return false;"}};function _(e,n){var i=t(function(t,e,n){return t.replace(/{([^}]+)}/g,(function(t,i){var o=n?i:"";if("file_preview"===o){var s=e.file_ext,a=Object(r.t)(s);return"img"===a?'<div class="upload-img-preview"><img src="'.concat(Object(r.u)(e.file,90,0),'"></div>'):'<i class="v-doc-icon '.concat(a,'">').concat(s,"</i>")}var c=i.split("|"),l=e[c[0].trim()];return c.length>1&&c.slice(1).forEach((function(t){var n=t.match(/(\w+)\s*(\(([^)]+)\))?/),r=n[1],i=n[3];y[r]&&(l=y[r](l,i,e))})),void 0===l?o:l}))}(e,a(a({},n),{},{index:S.index(n.file)}),!0));i.find("[data-delete]").click((function(){i.remove(),S.remove(n.file)}));var o=i.find(".bar"),s=i.find(".percent");return i.on("progress",(function(t,e){o.css({width:e.value+"%"}),s.text(e.value+"%")})),i}function b(t){var e=t+"%";h.width(e),p.html(e)}function w(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}function k(t,e){return t.map((function(t){return t[e]||0})).reduce((function(t,e){return t+e}),0)}var x,S={input:this.find(s.file_list),clear:function(){this.setNewInputValue("")},add:function(t){var e,n=this.input.val();(e=n?n.split(","):[]).indexOf(t)<0&&e.push(t),this.setNewInputValue(e.join(","))},remove:function(t){var e=this.input.val();if(e){var n,r,i,o=(n=e.split(","),r=t,(i=n.indexOf(r))>=0&&(n=n.slice()).splice(i,1),n);this.setNewInputValue(o.join(","))}},get:function(){return this.input.val()},index:function(t){return this.input.length?this.input.val().split(",").findIndex((function(e){return e===t})):0},insertAfter:function(t,e){var n=this.input.val().split(","),r=n.findIndex((function(e){return e===t}));void 0!==r&&n.splice(r,1),void 0===(r=n.findIndex((function(t){return t===e})))&&(r=n.length),n.splice(r,0,t),this.setNewInputValue(n.join(","))},setNewInputValue:function(t){var e=this.input.val();if(this.input.val(t),e!==t&&this.input[0])if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),this.input[0].dispatchEvent(n)}else this.input[0].fireEvent("onchange")}},C={batchSize:s.batchSize,inProgress:[],queue:[],list:[],events:t("<div>"),state:"stopped",uploadUrl:function(){return s.url_cloud+"/ext/file/upload"},fileUrl:function(t){return Object(r.gb)(t)+"/"+t},fileUrlOriginal:function(t){return Object(r.gb)(t)+"/o/"+t},add:function(t){var e={file:t,total:t.size};this.queue.push(e),this.list.push(e),this._trySend()},addAll:function(e){var n=this;t.each(e,(function(t,e){n.add(e)}))},cancel:function(t){},stop:function(){if("stopped"!==this.state){this.state="stopped";var t=this._getSummary();this.events.trigger("finish",{files:t}),this.inProgress.splice(0,this.inProgress.length),this.queue.splice(0,this.queue.length),this.list.forEach((function(t){t.xhr&&t.xhr.abort("cancelled")})),this.list.splice(0,this.list.length)}},_send:function(e){var n=this;this.inProgress.push(e);var r=new FormData;r.append(s.name,""),r.append(s.name,e.file),t("<form>").attr("enctype","multipart/form-data").ajaxSubmit({type:"post",url:this.uploadUrl(),xhrFields:{withCredentials:!0},formData:r,beforeSend:function(t){e.xhr=t,n.events.trigger("before",{item:e})},uploadProgress:function(t,r,i,o){e.position=r,e.total=i,e.percentComplete=o;var s=k(n.list,"position"),a=k(n.list,"total"),c=Math.floor(k(n.list,"percentComplete")/n.list.length);n.events.trigger("progress",{item:e,all:{position:s,size:a,averagePercent:c}})},success:function(t){w(n.inProgress,e),e.status="success",n.events.trigger("complete:one",{file:e,response:t,url:n.fileUrl(t.data.file),url_original:n.fileUrlOriginal(t.data.file)}),n._trySend()},error:function(t,r){if("cancelled"===r)return n.events.trigger("cancel"),void n.stop();w(n.inProgress,e),e.status="error",n.events.trigger("error",{file:e,error:t}),n._trySend()}})},_trySend:function(){if(this.state="started",this.queue.length||this.inProgress.length||(this.events.trigger("complete:all"),this.stop()),this.inProgress.length<this.batchSize){var t=this.queue.shift();return t&&this._send(t),!0}},_getSummary:function(){return this.list.map((function(t){return{name:t.file.name,status:t.status}}))},fetchFileInfo:function(t){vo.ajax(null,Object(r.gb)(t)+s.info,{file:t},(function(t){for(var e in t)t.hasOwnProperty(e)&&E(t[e])}))}};function O(t){if(s.preset===i.c){var e=t[0];if(e)if(i.a.split(",").map((function(t){return t.trim()})).indexOf(e.type)<0)return void vo.popup("Дозволено завантажувати тільки фотографії.")}d.is(".i-effect-fade")?d.fadeIn("slow"):d.slideDown(),d.addClass("v-show"),u.prop("disabled",!0),b(0),m.addClass("uploading");var n=-1;if("number"==typeof s.maxFileUpload?n=s.maxFileUpload:"function"==typeof s.maxFileUpload&&(n=s.maxFileUpload()),"number"!=typeof n&&(n=-1),n>-1&&t.length>n){for(var r=[],o=0;o<n;o++)r.push(t[o]);t=r}C.addAll(t)}function E(n,r){var o=t.extend({},n,{file_url:C.fileUrl(n.file),file_url_original:C.fileUrlOriginal(n.file)}),a=_(s.preset===i.e?s.template||"":m.find(s.item).text()||s.tpl_presets[s.preset],o);r&&r.beforeAppend&&("function"==typeof r.beforeAppend?r.beforeAppend(a,n):"string"==typeof r.beforeAppend&&void 0!==window[r.beforeAppend]&&"function"==typeof window[r.beforeAppend]&&window[r.beforeAppend](a,n)),l.append(a),l.children().sort((function(t,n){var r=e(t).data("index"),i=e(n).data("index");return r>i?r>i?1:0:-1})).appendTo(l),s.preset===i.g&&(a.data("name",n.file),a.on("dragstart",(function(t){a.fadeTo(100,.4),t.originalEvent.dataTransfer.dropEffect="move",g=a})),a.on("dragend",(function(t){a.fadeTo(100,1),g=null})),a.on("dragover",(function(t){t.preventDefault()})),a.on("drop",(function(t){null!==g&&(g.insertAfter(a),S.insertAfter(g.data("name"),a.data("name")))})))}C.events.on("before",(function(t,e){if(s.preset===i.c){C.backup=l.html();var n=e.item.file,r=new FileReader,o=s.tpl_presets[i.d];r.addEventListener("load",(function(){if(!e.item.loadingFinished){var t=r.result;l.empty(),S.clear();var i=window.URL||window.webkitURL,s=new Blob([t],{type:n.type}),a=i.createObjectURL(s);e.item.tempUrl=a;var c=_(o,{file_url:a});l.append(c)}})),r.readAsArrayBuffer(n)}})),C.events.on("progress",(function(t,e){b(e.all.averagePercent)})),C.events.on("complete:one",(function(t,e){if(s.multiple||(l.empty(),S.clear()),l.length){var n={beforeAppend:function(t,e){s.preset===i.c&&(t.find("img").add(t.filter("img")).on("load",(function(){m.find(".i-update-spinner").fadeOut()})),vo.ajax(null,"/profile/edit-avatar",{avatar:e.file}))}};s&&s.beforeAppend&&(n.beforeAppend=s.beforeAppend),E(e.response.data,n),m.find(".i-update-spinner").fadeIn()}S.add(e.response.data.file)})),C.events.on("complete:all",(function(){b(100)})),C.events.on("error",(function(t,e){var n;n=e.error.responseJSON?e.error.responseJSON.message:e.error.status+": "+e.error.statusText,vo.popup.error(n),s.preset===i.c&&l.html(C.backup)})),C.events.on("finish",(function(){var t=window.URL||window.webkitURL;C.list.forEach((function(e){e.tempUrl&&t.revokeObjectURL(e.tempUrl),e.loadingFinished=!0})),d.is(".i-effect-fade")?d.fadeOut("slow"):d.slideUp(),d.removeClass("v-show"),u.prop("disabled",!1),m.removeClass("uploading")})),f.change((function(){O(f[0].files),f.val("")})),u.click((function(){f.click()})),v.click((function(){C.stop()})),S.get()&&C.fetchFileInfo(S.get()),(x=u[0]).ondrop=function(t){x.classList.remove(s.dragOverClass),t.preventDefault();var e=t.dataTransfer,n=[];if(e.items)for(var r=0;r<e.items.length;r++)"file"===e.items[r].kind&&n.push(e.items[r].getAsFile());else for(r=0;r<e.files.length;r++)n.push(e.files[r]);n.length&&O(n)},x.ondragover=function(t){x.classList.add(s.dragOverClass),t.preventDefault()},x.ondragleave=function(){x.classList.remove(s.dragOverClass)},x.ondragend=function(t){x.classList.remove(s.dragOverClass);var e=t.dataTransfer;if(e.items)for(var n=0;n<e.items.length;n++)e.items.remove(n);else t.dataTransfer.clearData()},window.fileUploader=C},vo.initFileForm=function(e,n,r,o,s){var a=t(n);if(!a.data("i-file-form")){var c=[i.g,i.j,i.e].indexOf(r)>=0;a.fileForm({button:e,preset:r,multiple:c,template:o,accept:i.a}),a.data("i-file-form",!0),s&&e.click()}},vo.initFileFormOptions=function(e){var n=t(e.selector);n.data("i-file-form")||(e.multiple=[i.g,i.j,i.e].indexOf(e.preset)>=0,n.fileForm(e),n.data("i-file-form",!0),e.click&&e.element.click())}}).call(this,n(52),n(52))},function(t,e,n){"use strict";(function(t){var e=n(43);vo.upload={profile:{del:function(e){t(e).attr("src",vo.user_no_avatar),vo.ajax(null,"/profile/edit-avatar",{avatar:""})}},group:{VR_gallery:function(n,r,i){var o={selector:"#i-avatar",button:n,element:n,preset:e.e,multiple:!0,click:!0,maxFileUpload:function(){return r-t(".vr-image").length},template:i,accept:e.a,beforeAppend:function(t,e){t.append('<input type="hidden" name="Album[upload_files][]" value="'+e.file+'">'),t.find("[data-delete]")[0].addEventListener("click",(function(t){vo.upload.group.controlUploadVisible(-1,r)})),vo.upload.group.controlUploadVisible(1,r)}};vo.initFileFormOptions(o)},controlUploadVisible:function(e,n){var r=t(".vr-image").length,i=t(".i-upload-button-album");if(r+e>=n)return i.hide(),void vo.popup("Максимальна кількість фото в одному альбомі "+n);"none"===i.css("display")&&i.show()},deleteImage:function(e,n){vo.dlg.confirm(null,"Видалити зображення","Ви впевнені, що хочете видалити фото?",(function(){vo.ajax(e,"/ext/group/album-delete-image",{id:n},(function(e){e.status&&"ok"===e.status&&(t(".vr-image-"+n).remove(),vo.upload.group.controlUploadVisible(-1))}))}))}}}}).call(this,n(52))},function(t,e,n){},function(t,e,n){(function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||t(r).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(t),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function r(r){return this.each((function(){var i=t(this),o=i.data("bs.carousel"),s=t.extend({},e.DEFAULTS,i.data(),"object"==n(r)&&r),a="string"==typeof r?r:s.slide;o||i.data("bs.carousel",o=new e(this,s)),"number"==typeof r?o.to(r):a?o[a]():s.interval&&o.pause().cycle()}))}e.VERSION="3.3.7",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(r)},e.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(n,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(n,i),s=this.interval,a="next"==n?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(n),o[0].offsetWidth,i.addClass(a),o.addClass(a),i.one("bsTransitionEnd",(function(){o.removeClass([n,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger(d)}),0)})).emulateTransitionEnd(e.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=r,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),r.call(o,s),a&&o.data("bs.carousel").to(a),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var e=t(this);r.call(e,e.data())}))}))}(t),window.init_bscarousel=function(t,n){return e(t).carousel(n)}}).call(this,n(52),n(52))},function(t,e,n){(function(t,e){t.fn.trackedYTVideo=function(e){var n,r={key:"yt.vo.tracker-"+(e=t.extend({timeTrackingPrecision:1e3,updateInterval:1e3,height:"360",width:"640",autoPlay:!1,isGuestAllowed:0,autoplayWhenVisible:0,autoplayWhenVisiblePercent:0,autoplayWhenVisibleDelay:0,autosize:!1},e)).videoId,save:function(t){if(window.localStorage&&!e.videoViewEnd)try{window.localStorage.setItem(this.key,JSON.stringify({streaks:t}))}catch(t){localStorage.clear()}},load:function(){if(window.localStorage&&!e.videoViewEnd)try{var t=window.localStorage.getItem(this.key);t&&(t=JSON.parse(t),i.set(t.streaks||[]))}catch(t){console.error(t)}},clear:function(){window.localStorage&&window.localStorage.removeItem(this.key)}},i=function(){var t={intervalUpdateEnd:null,intervalUpdateTime:null,precisionEnd:e.timeTrackingPrecision,precisionTime:e.updateInterval,streaks:[],currentStreak:null};function i(e){t.streaks=e,t.currentStreak&&e.push(t.currentStreak)}function s(){t.intervalUpdateEnd||t.intervalUpdateTime||(t.intervalUpdateEnd=setInterval(a,e.timeTrackingPrecision),t.intervalUpdateTime=setInterval(c,e.updateInterval))}function a(){if(n&&n.getPlayerState)if(t.currentStreak)t.currentStreak.end=n.getCurrentTime();else switch(n.getPlayerState()){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:t.startStreak();break;default:t.stopStreak()}}function c(){if(n&&n.getDuration){var t=u(f()).reduce((function(t,e){return t+e.end-e.start}),0),e=n.getDuration();!o&&t>.1*e&&d(),n.getPlayerState()===YT.PlayerState.PLAYING&&v()}}function l(){clearInterval(t.intervalUpdate),clearInterval(t.intervalTrack),t.intervalUpdate=t.intervalTrack=null,t.streaks=[],t.currentStreak=null}function u(t){return t.sort((function(t,e){return t.start-e.start})),t.reduce((function(t,e){if(!t.length)return[{start:e.start,end:e.end}];var n=t[t.length-1];return n.end>e.start?(n.end=Math.max(n.end,e.end),t):(t.push({start:e.start,end:e.end}),t)}),[])}function f(){return t.streaks}function h(){t.currentStreak=null}function p(){if(!t.currentStreak){var e=n.getCurrentTime();t.currentStreak={start:e,end:e},t.streaks.push(t.currentStreak)}}function v(){r.save(u(f()))}return t.start=s,t.stop=l,t.startStreak=p,t.stopStreak=h,t.reset=function(){l(),s()},t.set=i,t.save=v,t}(),o=!!e.videoViewEnd,s=t("<div>"),a=s[0];this.append(s),this.on("yt.play",(function(){n&&n.playVideo()})),this.on("yt.stop",(function(){n&&n.stopVideo()})),this.on("yt.reset",(function(){o=!1,e.videoViewEnd=!1,r.clear(),i.reset(),n&&n.seekTo(0)}));var c=this;function l(){r.load();var t=(n=new YT.Player(a,{height:e.height,width:e.width,videoId:e.videoId,events:{onReady:u,onStateChange:f},playerVars:e.playerVars})).getIframe();e.id&&(t.id=e.id),e.videoViewEnd||i.start()}function u(){c.trigger("yt-ready",{})}function f(){switch(i.save(),n.getPlayerState()){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:if(!e.isGuestAllowed&&!vo.user_id)return vo.signIn(),void n.stopVideo();i.startStreak();break;default:i.stopStreak()}}function d(){o=!0,vo.user_id&&e.reportUrl&&vo.ajax(null,e.reportUrl,e.reportData,(function(){e.videoViewEnd=!0,r.clear(),i.stop()}))}if(function(){if(!e.autosize)return;e.width=Math.floor(c.width()),e.height=Math.floor(.5625*e.width);var t=Math.ceil(c.next()?c.next().height():0);if(c.offset().top+e.height+t>window.innerHeight){var n=window.innerHeight-(c.offset().top+t);n>0&&(e.height=n)}}(),window.YT?YT.ready(l):function(){window.onYouTubeIframeAPIReady=function(){n||l()};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),e.autoplayWhenVisible){var h=function r(){var i=t(window).scrollTop(),o=i+t(window).height(),s=c.offset().top,a=s+c.height(),l=Math.min(o,a)-Math.max(i,s);(l/c.height()*100>=e.autoplayWhenVisiblePercent||0===l&&0===c.height())&&(n&&n.playVideo?(n.playVideo(),t(window).off("scroll",r),c.off("yt-ready",r)):c.on("yt-ready",r))};t(window).scroll(h),h()}},vo.trackedYTVideo=function(t,n){e(t).trackedYTVideo(n)}}).call(this,n(52),n(52))},function(t,e,n){"use strict";n.r(e),function(t){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function a(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"MultiDrag",(function(){return _e})),n.d(e,"Sortable",(function(){return Ft})),n.d(e,"Swap",(function(){return ce}));function l(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var u=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=l(/Edge/i),d=l(/firefox/i),h=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),v=l(/chrome/i)&&l(/android/i),m={capture:!1,passive:!1};function g(t,e,n){t.addEventListener(e,n,!u&&m)}function y(t,e,n){t.removeEventListener(e,n,!u&&m)}function _(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function b(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function w(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&_(t,e):_(t,e))||r&&t===n)return t;if(t===n)break}while(t=b(t))}return null}var k,x=/\s+/g;function S(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(x," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(x," ")}}function C(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function O(t,e){var n="";if("string"==typeof t)n=t;else do{var r=C(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function E(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function P(){var t=document.scrollingElement;return t||document.documentElement}function A(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var o,s,a,c,l,f,d;if(t!==window&&t!==P()?(s=(o=t.getBoundingClientRect()).top,a=o.left,c=o.bottom,l=o.right,f=o.height,d=o.width):(s=0,a=0,c=window.innerHeight,l=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!u))do{if(i&&i.getBoundingClientRect&&("none"!==C(i,"transform")||n&&"static"!==C(i,"position"))){var h=i.getBoundingClientRect();s-=h.top+parseInt(C(i,"border-top-width")),a-=h.left+parseInt(C(i,"border-left-width")),c=s+o.height,l=a+o.width;break}}while(i=i.parentNode);if(r&&t!==window){var p=O(i||t),v=p&&p.a,m=p&&p.d;p&&(c=(s/=m)+(f/=m),l=(a/=v)+(d/=v))}return{top:s,left:a,bottom:c,right:l,width:d,height:f}}}function T(t,e,n){for(var r=R(t,!0),i=A(t)[e];r;){var o=A(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===P())break;r=R(r,!1)}return!1}function j(t,e,n){for(var r=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Ft.ghost&&o[i]!==Ft.dragged&&w(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function M(t,e){for(var n=t.lastElementChild;n&&(n===Ft.ghost||"none"===C(n,"display")||e&&!_(n,e));)n=n.previousElementSibling;return n||null}function I(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Ft.clone||e&&!_(t,e)||n++;return n}function N(t){var e=0,n=0,r=P();if(t)do{var i=O(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}function R(t,e){if(!t||!t.getBoundingClientRect)return P();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=C(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return P();if(r||e)return n;r=!0}}}while(n=n.parentNode);return P()}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function L(t,e){return function(){if(!k){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),k=setTimeout((function(){k=void 0}),e)}}}function B(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function $(e){var n=window.Polymer,r=t||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function F(t,e){C(t,"position","absolute"),C(t,"top",e.top),C(t,"left",e.left),C(t,"width",e.width),C(t,"height",e.height)}function q(t){C(t,"position",""),C(t,"top",""),C(t,"left",""),C(t,"width",""),C(t,"height","")}var U="Sortable"+(new Date).getTime();function V(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==C(t,"display")&&t!==Ft.ghost){e.push({target:t,rect:A(t)});var n=s({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=O(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,o=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=A(n),c=n.prevFromRect,l=n.prevToRect,u=t.rect,f=O(n,!0);f&&(a.top-=f.f,a.left-=f.e),n.toRect=a,n.thisAnimationDuration&&D(c,a)&&!D(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(e=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(u,c,l,r.options)),D(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=r.options.animation),r.animate(n,u,a,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){C(t,"transition",""),C(t,"transform","");var i=O(this.el),o=i&&i.a,s=i&&i.d,a=(e.left-n.left)/(o||1),c=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!c,C(t,"transform","translate3d("+a+"px,"+c+"px,0)"),function(t){t.offsetWidth}(t),C(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),C(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){C(t,"transition",""),C(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var z=[],H={initializeByDefault:!0},W={mount:function(t){for(var e in H)H.hasOwnProperty(e)&&!(e in t)&&(t[e]=H[e]);z.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";z.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](s({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](s({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var i in z.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var s=new r(t,e,t.options);s.sortable=t,s.options=t.options,t[i]=s,o(n,s.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var s=this.modifyOption(t,i,t.options[i]);void 0!==s&&(t.options[i]=s)}},getEventProperties:function(t,e){var n={};return z.forEach((function(r){"function"==typeof r.eventProperties&&o(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return z.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function Y(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,c=t.fromEl,l=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,p=t.newDraggableIndex,v=t.originalEvent,m=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[U]){var y,_=e.options,b="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||u||f?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=a||n,y.from=c||n,y.item=i||n,y.clone=o,y.oldIndex=l,y.newIndex=d,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=v,y.pullMode=m?m.lastPutMode:void 0;var w=s({},g,W.getEventProperties(r,e));for(var k in w)y[k]=w[k];n&&n.dispatchEvent(y),_[b]&&_[b].call(e,y)}}var G=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=a(n,["evt"]);W.pluginEvent.bind(Ft)(t,e,s({dragEl:K,parentEl:Q,ghostEl:X,rootEl:Z,nextEl:tt,lastDownEl:et,cloneEl:nt,cloneHidden:rt,dragStarted:mt,putSortable:lt,activeSortable:Ft.active,originalEvent:r,oldIndex:it,oldDraggableIndex:st,newIndex:ot,newDraggableIndex:at,hideGhostForTarget:Dt,unhideGhostForTarget:Lt,cloneNowHidden:function(){rt=!0},cloneNowShown:function(){rt=!1},dispatchSortableEvent:function(t){J({sortable:e,name:t,originalEvent:r})}},i))};function J(t){Y(s({putSortable:lt,cloneEl:nt,targetEl:K,rootEl:Z,oldIndex:it,oldDraggableIndex:st,newIndex:ot,newDraggableIndex:at},t))}var K,Q,X,Z,tt,et,nt,rt,it,ot,st,at,ct,lt,ut,ft,dt,ht,pt,vt,mt,gt,yt,_t,bt,wt=!1,kt=!1,xt=[],St=!1,Ct=!1,Ot=[],Et=!1,Pt=[],At="undefined"!=typeof document,Tt=p,jt=f||u?"cssFloat":"float",Mt=At&&!v&&!p&&"draggable"in document.createElement("div"),It=function(){if(At){if(u)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Nt=function(t,e){var n=C(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=j(t,0,e),o=j(t,1,e),s=i&&C(i),a=o&&C(o),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+A(i).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||c>=r&&"none"===n[jt]||o&&"none"===n[jt]&&c+l>r)?"vertical":"horizontal"},Rt=function(t){function e(t,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,i,o,s),n)(r,i,o,s);var c=(n?r:i).options.group.name;return!0===t||"string"==typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var n={},i=t.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},Dt=function(){!It&&X&&C(X,"display","none")},Lt=function(){!It&&X&&C(X,"display","")};At&&document.addEventListener("click",(function(t){if(kt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),kt=!1,!1}),!0);var Bt=function(t){if(K){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,o=t.clientY,xt.some((function(t){if(!M(t)){var e=A(t),n=t[U].options.emptyInsertThreshold,r=i>=e.left-n&&i<=e.right+n,a=o>=e.top-n&&o<=e.bottom+n;return n&&r&&a?s=t:void 0}})),s);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[U]._onDragOver(n)}}var i,o,s},$t=function(t){K&&K.parentNode[U]._isOutsideThisEl(t.target)};function Ft(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[U]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Nt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ft.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in W.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var i in Rt(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?g(t,"pointerdown",this._onTapStart):(g(t,"mousedown",this._onTapStart),g(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(g(t,"dragover",this),g(t,"dragenter",this)),xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,V())}function qt(t,e,n,r,i,o,s,a){var c,l,d=t[U],h=d.options.onMove;return!window.CustomEvent||u||f?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=r,c.related=i||e,c.relatedRect=o||A(e),c.willInsertAfter=a,c.originalEvent=s,t.dispatchEvent(c),h&&(l=h.call(d,c,s)),l}function Ut(t){t.draggable=!1}function Vt(){Et=!1}function zt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Ht(t){return setTimeout(t,0)}function Wt(t){return clearTimeout(t)}Ft.prototype={constructor:Ft,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,K):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,l=r.filter;if(function(t){Pt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&Pt.push(r)}}(n),!K&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled||c.isContentEditable||(a=w(a,r.draggable,n,!1))&&a.animated||et===a)){if(it=I(a),st=I(a,r.draggable),"function"==typeof l){if(l.call(this,t,a,this))return J({sortable:e,rootEl:c,name:"filter",targetEl:a,toEl:n,fromEl:n}),G("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=w(c,r.trim(),n,!1))return J({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),G("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!w(c,r.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!K&&n.parentNode===o){var c=A(n);if(Z=o,Q=(K=n).parentNode,tt=K.nextSibling,et=n,ct=s.group,Ft.dragged=K,ut={target:K,clientX:(e||t).clientX,clientY:(e||t).clientY},pt=ut.clientX-c.left,vt=ut.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,K.style["will-change"]="all",r=function(){G("delayEnded",i,{evt:t}),Ft.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!d&&i.nativeDraggable&&(K.draggable=!0),i._triggerDragStart(t,e),J({sortable:i,name:"choose",originalEvent:t}),S(K,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){E(K,t.trim(),Ut)})),g(a,"dragover",Bt),g(a,"mousemove",Bt),g(a,"touchmove",Bt),g(a,"mouseup",i._onDrop),g(a,"touchend",i._onDrop),g(a,"touchcancel",i._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),G("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(f||u))r();else{if(Ft.eventCanceled)return void this._onDrop();g(a,"mouseup",i._disableDelayedDrag),g(a,"touchend",i._disableDelayedDrag),g(a,"touchcancel",i._disableDelayedDrag),g(a,"mousemove",i._delayedDragTouchMoveHandler),g(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&g(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Ut(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?g(document,"pointermove",this._onTouchMove):g(document,e?"touchmove":"mousemove",this._onTouchMove):(g(K,"dragend",this),g(Z,"dragstart",this._onDragStart));try{document.selection?Ht((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(wt=!1,Z&&K){G("dragStarted",this,{evt:e}),this.nativeDraggable&&g(document,"dragover",$t);var n=this.options;!t&&S(K,n.dragClass,!1),S(K,n.ghostClass,!0),Ft.active=this,t&&this._appendGhost(),J({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ft){this._lastX=ft.clientX,this._lastY=ft.clientY,Dt();for(var t=document.elementFromPoint(ft.clientX,ft.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ft.clientX,ft.clientY))!==e;)e=t;if(K.parentNode[U]._isOutsideThisEl(t),e)do{if(e[U]){if(e[U]._onDragOver({clientX:ft.clientX,clientY:ft.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Lt()}},_onTouchMove:function(t){if(ut){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=X&&O(X,!0),s=X&&o&&o.a,a=X&&o&&o.d,c=Tt&&bt&&N(bt),l=(i.clientX-ut.clientX+r.x)/(s||1)+(c?c[0]-Ot[0]:0)/(s||1),u=(i.clientY-ut.clientY+r.y)/(a||1)+(c?c[1]-Ot[1]:0)/(a||1);if(!Ft.active&&!wt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(X){o?(o.e+=l-(dt||0),o.f+=u-(ht||0)):o={a:1,b:0,c:0,d:1,e:l,f:u};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");C(X,"webkitTransform",f),C(X,"mozTransform",f),C(X,"msTransform",f),C(X,"transform",f),dt=l,ht=u,ft=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!X){var t=this.options.fallbackOnBody?document.body:Z,e=A(K,!0,Tt,!0,t),n=this.options;if(Tt){for(bt=t;"static"===C(bt,"position")&&"none"===C(bt,"transform")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=P()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=P(),Ot=N(bt)}S(X=K.cloneNode(!0),n.ghostClass,!1),S(X,n.fallbackClass,!0),S(X,n.dragClass,!0),C(X,"transition",""),C(X,"transform",""),C(X,"box-sizing","border-box"),C(X,"margin",0),C(X,"top",e.top),C(X,"left",e.left),C(X,"width",e.width),C(X,"height",e.height),C(X,"opacity","0.8"),C(X,"position",Tt?"absolute":"fixed"),C(X,"zIndex","100000"),C(X,"pointerEvents","none"),Ft.ghost=X,t.appendChild(X),C(X,"transform-origin",pt/parseInt(X.style.width)*100+"% "+vt/parseInt(X.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;G("dragStart",this,{evt:t}),Ft.eventCanceled?this._onDrop():(G("setupClone",this),Ft.eventCanceled||((nt=$(K)).draggable=!1,nt.style["will-change"]="",this._hideClone(),S(nt,this.options.chosenClass,!1),Ft.clone=nt),n.cloneId=Ht((function(){G("clone",n),Ft.eventCanceled||(n.options.removeCloneOnHide||Z.insertBefore(nt,K),n._hideClone(),J({sortable:n,name:"clone"}))})),!e&&S(K,i.dragClass,!0),e?(kt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,K)),g(document,"drop",n),C(K,"transform","translateZ(0)")),wt=!0,n._dragStartId=Ht(n._dragStarted.bind(n,e,t)),g(document,"selectstart",n),mt=!0,h&&C(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,o=this.el,a=t.target,c=this.options,l=c.group,u=Ft.active,f=ct===l,d=c.sort,h=lt||u,p=this,v=!1;if(!Et){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=w(a,c.draggable,o,!0),D("dragOver"),Ft.eventCanceled)return v;if(K.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return $(!1);if(kt=!1,u&&!c.disabled&&(f?d||(r=!Z.contains(K)):lt===this||(this.lastPutMode=ct.checkPull(this,u,K,t))&&l.checkPut(this,u,K,t))){if(i="vertical"===this._getDirection(t,a),e=A(K),D("dragOverValid"),Ft.eventCanceled)return v;if(r)return Q=Z,L(),this._hideClone(),D("revert"),Ft.eventCanceled||(tt?Z.insertBefore(K,tt):Z.appendChild(K)),$(!0);var m=M(o,c.draggable);if(!m||function(t,e,n){var r=A(M(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}(t,i,this)&&!m.animated){if(m===K)return $(!1);if(m&&o===t.target&&(a=m),a&&(n=A(a)),!1!==qt(Z,o,K,e,a,n,t,!!a))return L(),o.appendChild(K),Q=o,F(),$(!0)}else if(a.parentNode===o){n=A(a);var g,y,_,b=K.parentNode!==o,k=!function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,o=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,c=n?e.width:e.height;return r===s||i===a||r+o/2===s+c/2}(K.animated&&K.toRect||e,a.animated&&a.toRect||n,i),x=i?"top":"left",O=T(a,"top","top")||T(K,"top","top"),E=O?O.scrollTop:void 0;if(gt!==a&&(y=n[x],St=!1,Ct=!k&&c.invertSwap||b),g=function(t,e,n,r,i,o,s,a){var c=r?t.clientY:t.clientX,l=r?n.height:n.width,u=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!s)if(a&&_t<l*i){if(!St&&(1===yt?c>u+l*o/2:c<f-l*o/2)&&(St=!0),St)d=!0;else if(1===yt?c<u+_t:c>f-_t)return-yt}else if(c>u+l*(1-i)/2&&c<f-l*(1-i)/2)return function(t){return I(K)<I(t)?1:-1}(e);if((d=d||s)&&(c<u+l*o/2||c>f-l*o/2))return c>u+l/2?1:-1;return 0}(t,a,n,i,k?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,Ct,gt===a),0!==g){var P=I(K);do{P-=g,_=Q.children[P]}while(_&&("none"===C(_,"display")||_===X))}if(0===g||_===a)return $(!1);gt=a,yt=g;var j=a.nextElementSibling,N=!1,R=qt(Z,o,K,e,a,n,t,N=1===g);if(!1!==R)return 1!==R&&-1!==R||(N=1===R),Et=!0,setTimeout(Vt,30),L(),N&&!j?o.appendChild(K):a.parentNode.insertBefore(K,N?j:a),O&&B(O,0,E-O.scrollTop),Q=K.parentNode,void 0===y||Ct||(_t=Math.abs(y-A(a)[x])),F(),$(!0)}if(o.contains(K))return $(!1)}return!1}function D(c,l){G(c,p,s({evt:t,isOwner:f,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:d,fromSortable:h,target:a,completed:$,onMove:function(n,r){return qt(Z,o,K,e,n,A(n),t,r)},changed:F},l))}function L(){D("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function $(e){return D("dragOverCompleted",{insertion:e}),e&&(f?u._hideClone():u._showClone(p),p!==h&&(S(K,lt?lt.options.ghostClass:u.options.ghostClass,!1),S(K,c.ghostClass,!0)),lt!==p&&p!==Ft.active?lt=p:p===Ft.active&&lt&&(lt=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){D("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===K&&!K.animated||a===o&&!a.animated)&&(gt=null),c.dragoverBubble||t.rootEl||a===document||(K.parentNode[U]._isOutsideThisEl(t.target),!e&&Bt(t)),!c.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function F(){ot=I(K),at=I(K,c.draggable),J({sortable:p,name:"change",toEl:o,newIndex:ot,newDraggableIndex:at,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Bt),y(document,"mousemove",Bt),y(document,"touchmove",Bt)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;ot=I(K),at=I(K,n.draggable),G("drop",this,{evt:t}),Q=K&&K.parentNode,ot=I(K),at=I(K,n.draggable),Ft.eventCanceled||(wt=!1,Ct=!1,St=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wt(this.cloneId),Wt(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&C(document.body,"user-select",""),C(K,"transform",""),t&&(mt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),X&&X.parentNode&&X.parentNode.removeChild(X),(Z===Q||lt&&"clone"!==lt.lastPutMode)&&nt&&nt.parentNode&&nt.parentNode.removeChild(nt),K&&(this.nativeDraggable&&y(K,"dragend",this),Ut(K),K.style["will-change"]="",mt&&!wt&&S(K,lt?lt.options.ghostClass:this.options.ghostClass,!1),S(K,this.options.chosenClass,!1),J({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:t}),Z!==Q?(ot>=0&&(J({rootEl:Q,name:"add",toEl:Q,fromEl:Z,originalEvent:t}),J({sortable:this,name:"remove",toEl:Q,originalEvent:t}),J({rootEl:Q,name:"sort",toEl:Q,fromEl:Z,originalEvent:t}),J({sortable:this,name:"sort",toEl:Q,originalEvent:t})),lt&&lt.save()):ot!==it&&ot>=0&&(J({sortable:this,name:"update",toEl:Q,originalEvent:t}),J({sortable:this,name:"sort",toEl:Q,originalEvent:t})),Ft.active&&(null!=ot&&-1!==ot||(ot=it,at=st),J({sortable:this,name:"end",toEl:Q,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){G("nulling",this),Z=K=Q=X=tt=nt=et=rt=ut=ft=mt=ot=at=it=st=gt=yt=lt=ct=Ft.dragged=Ft.ghost=Ft.clone=Ft.active=null,Pt.forEach((function(t){t.checked=!0})),Pt.length=dt=ht=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":K&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)w(t=n[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||zt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var i=n.children[r];w(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return w(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=W.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&Rt(n)},destroy:function(){G("destroy",this);var t=this.el;t[U]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),xt.splice(xt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!rt){if(G("hideClone",this),Ft.eventCanceled)return;C(nt,"display","none"),this.options.removeCloneOnHide&&nt.parentNode&&nt.parentNode.removeChild(nt),rt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(rt){if(G("showClone",this),Ft.eventCanceled)return;Z.contains(K)&&!this.options.group.revertClone?Z.insertBefore(nt,K):tt?Z.insertBefore(nt,tt):Z.appendChild(nt),this.options.group.revertClone&&this.animate(K,nt),C(nt,"display",""),rt=!1}}else this._hideClone()}},At&&g(document,"touchmove",(function(t){(Ft.active||wt)&&t.cancelable&&t.preventDefault()})),Ft.utils={on:g,off:y,css:C,find:E,is:function(t,e){return!!w(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:L,closest:w,toggleClass:S,clone:$,index:I,nextTick:Ht,cancelNextTick:Wt,detectDirection:Nt,getChild:j},Ft.get=function(t){return t[U]},Ft.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Ft.utils=s({},Ft.utils,t.utils)),W.mount(t)}))},Ft.create=function(t,e){return new Ft(t,e)},Ft.version="1.10.2";var Yt,Gt,Jt,Kt,Qt,Xt,Zt=[],te=!1;function ee(){Zt.forEach((function(t){clearInterval(t.pid)})),Zt=[]}function ne(){clearInterval(Xt)}var re,ie=L((function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,c=e.scrollSpeed,l=P(),u=!1;Gt!==n&&(Gt=n,ee(),Yt=e.scroll,i=e.scrollFn,!0===Yt&&(Yt=R(n,!0)));var f=0,d=Yt;do{var h=d,p=A(h),v=p.top,m=p.bottom,g=p.left,y=p.right,_=p.width,b=p.height,w=void 0,k=void 0,x=h.scrollWidth,S=h.scrollHeight,O=C(h),E=h.scrollLeft,T=h.scrollTop;h===l?(w=_<x&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),k=b<S&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(w=_<x&&("auto"===O.overflowX||"scroll"===O.overflowX),k=b<S&&("auto"===O.overflowY||"scroll"===O.overflowY));var j=w&&(Math.abs(y-o)<=a&&E+_<x)-(Math.abs(g-o)<=a&&!!E),M=k&&(Math.abs(m-s)<=a&&T+b<S)-(Math.abs(v-s)<=a&&!!T);if(!Zt[f])for(var I=0;I<=f;I++)Zt[I]||(Zt[I]={});Zt[f].vx==j&&Zt[f].vy==M&&Zt[f].el===h||(Zt[f].el=h,Zt[f].vx=j,Zt[f].vy=M,clearInterval(Zt[f].pid),0==j&&0==M||(u=!0,Zt[f].pid=setInterval(function(){r&&0===this.layer&&Ft.active._onTouchMove(Qt);var e=Zt[this.layer].vy?Zt[this.layer].vy*c:0,n=Zt[this.layer].vx?Zt[this.layer].vx*c:0;"function"==typeof i&&"continue"!==i.call(Ft.dragged.parentNode[U],n,e,t,Qt,Zt[this.layer].el)||B(Zt[this.layer].el,n,e)}.bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==l&&(d=R(d,!1)));te=u}}),30),oe=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var c=n||i;s();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(l.clientX,l.clientY);a(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function se(){}function ae(){}function ce(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;re=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,i=t.activeSortable,o=t.changed,s=t.cancel;if(i.options.swap){var a=this.sortable.el,c=this.options;if(n&&n!==a){var l=re;!1!==r(n)?(S(n,c.swapClass,!0),re=n):re=null,l&&l!==re&&S(l,c.swapClass,!1)}o(),e(!0),s()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,i=n||this.sortable,o=this.options;re&&S(re,o.swapClass,!1),re&&(o.swap||n&&n.options.swap)&&r!==re&&(i.captureAnimationState(),i!==e&&e.captureAnimationState(),function(t,e){var n,r,i=t.parentNode,o=e.parentNode;if(!i||!o||i.isEqualNode(e)||o.isEqualNode(t))return;n=I(t),r=I(e),i.isEqualNode(o)&&n<r&&r++;i.insertBefore(e,i.children[n]),o.insertBefore(t,o.children[r])}(r,re),i.animateAll(),i!==e&&e.animateAll())},nulling:function(){re=null}},o(t,{pluginName:"swap",eventProperties:function(){return{swapItem:re}}})}se.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=j(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:oe},o(se,{pluginName:"revertOnSpill"}),ae.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:oe},o(ae,{pluginName:"removeOnSpill"});var le,ue,fe,de,he,pe=[],ve=[],me=!1,ge=!1,ye=!1;function _e(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?g(document,"pointerup",this._deselectMultiDrag):(g(document,"mouseup",this._deselectMultiDrag),g(document,"touchend",this._deselectMultiDrag)),g(document,"keydown",this._checkKeyDown),g(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var r="";pe.length&&ue===t?pe.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;fe=e},delayEnded:function(){this.isMultiDrag=~pe.indexOf(fe)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var r=0;r<pe.length;r++)ve.push($(pe[r])),ve[r].sortableIndex=pe[r].sortableIndex,ve[r].draggable=!1,ve[r].style["will-change"]="",S(ve[r],this.options.selectedClass,!1),pe[r]===fe&&S(ve[r],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,i=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pe.length&&ue===e&&(be(!0,n),r("clone"),i()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(be(!1,n),ve.forEach((function(t){C(t,"display","")})),e(),he=!1,r())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),r=t.cancel;this.isMultiDrag&&(ve.forEach((function(t){C(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),he=!0,r())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&ue&&ue.multiDrag._deselectMultiDrag(),pe.forEach((function(t){t.sortableIndex=I(t)})),pe=pe.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),ye=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){pe.forEach((function(t){t!==fe&&C(t,"position","absolute")}));var r=A(fe,!1,!0,!0);pe.forEach((function(t){t!==fe&&F(t,r)})),ge=!0,me=!0}n.animateAll((function(){ge=!1,me=!1,e.options.animation&&pe.forEach((function(t){q(t)})),e.options.sort&&we()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;ge&&~pe.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,i=t.dragRect;pe.length>1&&(pe.forEach((function(t){r.addAnimationState({target:t,rect:ge?A(t):i}),q(t),t.fromRect=i,e.removeAnimationState(t)})),ge=!1,function(t,e){pe.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,i=t.activeSortable,o=t.parentEl,s=t.putSortable,a=this.options;if(r){if(n&&i._hideClone(),me=!1,a.animation&&pe.length>1&&(ge||!n&&!i.options.sort&&!s)){var c=A(fe,!1,!0,!0);pe.forEach((function(t){t!==fe&&(F(t,c),o.appendChild(t))})),ge=!0}if(!n)if(ge||we(),pe.length>1){var l=he;i._showClone(e),i.options.animation&&!he&&l&&ve.forEach((function(t){i.addAnimationState({target:t,rect:de}),t.fromRect=de,t.thisAnimationDuration=null}))}else i._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(pe.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){de=o({},e);var i=O(fe,!0);de.top-=i.f,de.left-=i.e}},dragOverAnimationComplete:function(){ge&&(ge=!1,we())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,i=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,c=a||this.sortable;if(e){var l=this.options,u=r.children;if(!ye)if(l.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(fe,l.selectedClass,!~pe.indexOf(fe)),~pe.indexOf(fe))pe.splice(pe.indexOf(fe),1),le=null,Y({sortable:i,rootEl:n,name:"deselect",targetEl:fe,originalEvt:e});else{if(pe.push(fe),Y({sortable:i,rootEl:n,name:"select",targetEl:fe,originalEvt:e}),e.shiftKey&&le&&i.el.contains(le)){var f,d,h=I(le),p=I(fe);if(~h&&~p&&h!==p)for(p>h?(d=h,f=p):(d=p,f=h+1);d<f;d++)~pe.indexOf(u[d])||(S(u[d],l.selectedClass,!0),pe.push(u[d]),Y({sortable:i,rootEl:n,name:"select",targetEl:u[d],originalEvt:e}))}else le=fe;ue=c}if(ye&&this.isMultiDrag){if((r[U].options.sort||r!==n)&&pe.length>1){var v=A(fe),m=I(fe,":not(."+this.options.selectedClass+")");if(!me&&l.animation&&(fe.thisAnimationDuration=null),c.captureAnimationState(),!me&&(l.animation&&(fe.fromRect=v,pe.forEach((function(t){if(t.thisAnimationDuration=null,t!==fe){var e=ge?A(t):v;t.fromRect=e,c.addAnimationState({target:t,rect:e})}}))),we(),pe.forEach((function(t){u[m]?r.insertBefore(t,u[m]):r.appendChild(t),m++})),s===I(fe))){var g=!1;pe.forEach((function(t){t.sortableIndex===I(t)||(g=!0)})),g&&o("update")}pe.forEach((function(t){q(t)})),c.animateAll()}ue=c}(n===r||a&&"clone"!==a.lastPutMode)&&ve.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=ye=!1,ve.length=0},destroyGlobal:function(){this._deselectMultiDrag(),y(document,"pointerup",this._deselectMultiDrag),y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ye&&ye||ue!==this.sortable||t&&w(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;pe.length;){var e=pe[0];S(e,this.options.selectedClass,!1),pe.shift(),Y({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[U];e&&e.options.multiDrag&&!~pe.indexOf(t)&&(ue&&ue!==e&&(ue.multiDrag._deselectMultiDrag(),ue=e),S(t,e.options.selectedClass,!0),pe.push(t))},deselect:function(t){var e=t.parentNode[U],n=pe.indexOf(t);e&&e.options.multiDrag&&~n&&(S(t,e.options.selectedClass,!1),pe.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return pe.forEach((function(r){var i;e.push({multiDragElement:r,index:r.sortableIndex}),i=ge&&r!==fe?-1:ge?I(r,":not(."+t.options.selectedClass+")"):I(r),n.push({multiDragElement:r,index:i})})),{items:c(pe),clones:[].concat(ve),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function be(t,e){ve.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}function we(){pe.forEach((function(t){t!==fe&&t.parentNode&&t.parentNode.removeChild(t)}))}Ft.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):this.options.supportPointer?g(document,"pointermove",this._handleFallbackAutoScroll):e.touches?g(document,"touchmove",this._handleFallbackAutoScroll):g(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),ne(),ee(),clearTimeout(k),k=void 0},nulling:function(){Qt=Gt=Yt=te=Xt=Jt=Kt=null,Zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,i);if(Qt=t,e||f||u||h){ie(t,this.options,o,e);var s=R(o,!0);!te||Xt&&r===Jt&&i===Kt||(Xt&&ne(),Xt=setInterval((function(){var o=R(document.elementFromPoint(r,i),!0);o!==s&&(s=o,ee()),ie(t,n.options,o,e)}),10),Jt=r,Kt=i)}else{if(!this.options.bubbleScroll||R(o,!0)===P())return void ee();ie(t,this.options,R(o,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}),Ft.mount(ae,se),e.default=Ft}.call(this,n(52))},function(t,e,n){"use strict";n(445)},function(t,e,n){"use strict";n(446)},function(t,e,n){"use strict";n(447)},function(t,e,n){"use strict";n(448)},function(t,e,n){"use strict";n(449)},function(t,e,n){"use strict";var r=n(50),i=n(822),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},function(t,e,n){"use strict";n(823);var r=n(57);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(21),i=n(192),o=n(269),s=n(73),a=n(232),c=n(114),l=n(131),u=n(210),f=n(60),d=n(233),h=n(211),p=d("slice"),v=f("species"),m=Array,g=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,d=l(this),p=c(d),y=a(t,p),_=a(void 0===e?p:e,p);if(i(d)&&(n=d.constructor,(o(n)&&(n===m||i(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return h(d,y,_);for(r=new(void 0===n?m:n)(g(_-y,0)),f=0;y<_;y++,f++)y in d&&u(r,f,d[y]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(66),i=n(73),o=n(231),s=n(342),a=n(825),c=n(60),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,c=s(t,u);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!i(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},function(t,e,n){"use strict";var r=n(66),i=n(56),o=n(73),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw s("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(63),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){"use strict";var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?i:r)(e)}},function(t,e,n){"use strict";n(458),n(142),n(459),n(836),n(837),n(838),n(839),n(468),n(840),n(841),n(842),n(843),n(844),n(845),n(469),n(846),n(847),n(848),n(849),n(850);var r=n(51);t.exports=r.Symbol},function(t,e,n){"use strict";var r=n(192),i=n(269),o=n(73),s=n(60)("species"),a=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===a||r(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?a:e}},function(t,e,n){"use strict";var r=n(21),i=n(63),o=n(66),s=n(48),a=n(112),c=n(84),l=n(206),u=n(41),f=n(68),d=n(50),h=n(93),p=n(131),v=n(267),m=n(115),g=n(189),y=n(193),_=n(234),b=n(271),w=n(351),k=n(272),x=n(172),S=n(113),C=n(460),O=n(265),E=n(174),P=n(352),A=n(208),T=n(270),j=n(235),M=n(268),I=n(60),N=n(273),R=n(69),D=n(464),L=n(194),B=n(175),$=n(156).forEach,F=T("hidden"),q="Symbol",U="prototype",V=B.set,z=B.getterFor(q),H=Object[U],W=i.Symbol,Y=W&&W[U],G=i.TypeError,J=i.QObject,K=x.f,Q=S.f,X=w.f,Z=O.f,tt=s([].push),et=A("symbols"),nt=A("op-symbols"),rt=A("wks"),it=!J||!J[U]||!J[U].findChild,ot=c&&u((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(H,e);r&&delete H[e],Q(t,e,n),r&&t!==H&&Q(H,e,r)}:Q,st=function(t,e){var n=et[t]=y(Y);return V(n,{type:q,tag:t,description:e}),c||(n.description=e),n},at=function(t,e,n){t===H&&at(nt,e,n),h(t);var r=v(e);return h(n),f(et,r)?(n.enumerable?(f(t,F)&&t[F][r]&&(t[F][r]=!1),n=y(n,{enumerable:g(0,!1)})):(f(t,F)||Q(t,F,g(1,{})),t[F][r]=!0),ot(t,r,n)):Q(t,r,n)},ct=function(t,e){h(t);var n=p(e),r=_(n).concat(dt(n));return $(r,(function(e){c&&!o(lt,n,e)||at(t,e,n[e])})),t},lt=function(t){var e=v(t),n=o(Z,this,e);return!(this===H&&f(et,e)&&!f(nt,e))&&(!(n||!f(this,e)||!f(et,e)||f(this,F)&&this[F][e])||n)},ut=function(t,e){var n=p(t),r=v(e);if(n!==H||!f(et,r)||f(nt,r)){var i=K(n,r);return!i||!f(et,r)||f(n,F)&&n[F][r]||(i.enumerable=!0),i}},ft=function(t){var e=X(p(t)),n=[];return $(e,(function(t){f(et,t)||f(j,t)||tt(n,t)})),n},dt=function(t){var e=t===H,n=X(e?nt:p(t)),r=[];return $(n,(function(t){!f(et,t)||e&&!f(H,t)||tt(r,et[t])})),r};l||(W=function(){if(d(Y,this))throw G("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=M(t),n=function(t){this===H&&o(n,nt,t),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),ot(this,e,g(1,t))};return c&&it&&ot(H,e,{configurable:!0,set:n}),st(e,t)},E(Y=W[U],"toString",(function(){return z(this).tag})),E(W,"withoutSetter",(function(t){return st(M(t),t)})),O.f=lt,S.f=at,C.f=ct,x.f=ut,b.f=w.f=ft,k.f=dt,N.f=function(t){return st(I(t),t)},c&&(P(Y,"description",{configurable:!0,get:function(){return z(this).description}}),a||E(H,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),$(_(rt),(function(t){R(t)})),r({target:q,stat:!0,forced:!l},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:function(t,e){return void 0===e?y(t):ct(y(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft}),D(),L(W,q),j[F]=!0},function(t,e,n){"use strict";var r=n(345),i=n(155);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r=n(21),i=n(90),o=n(68),s=n(115),a=n(208),c=n(466),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=s(t);if(o(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,u[n]=e,n}})},function(t,e,n){"use strict";var r=n(21),i=n(68),o=n(231),s=n(191),a=n(208),c=n(466),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!o(t))throw TypeError(s(t)+" is not a symbol");if(i(l,t))return l[t]}})},function(t,e,n){"use strict";var r=n(48),i=n(192),o=n(56),s=n(153),a=n(115),c=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var l=t[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!=s(l)&&"String"!=s(l)||c(n,a(l))}var u=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var r=0;r<u;r++)if(n[r]===t)return e}}}},function(t,e,n){"use strict";var r=n(21),i=n(206),o=n(41),s=n(272),a=n(101);r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(t){var e=s.f;return e?e(a(t)):[]}})},function(t,e,n){"use strict";n(69)("asyncIterator")},function(t,e){},function(t,e,n){"use strict";n(69)("hasInstance")},function(t,e,n){"use strict";n(69)("isConcatSpreadable")},function(t,e,n){"use strict";n(69)("match")},function(t,e,n){"use strict";n(69)("matchAll")},function(t,e,n){"use strict";n(69)("replace")},function(t,e,n){"use strict";n(69)("search")},function(t,e,n){"use strict";n(69)("species")},function(t,e,n){"use strict";n(69)("split")},function(t,e,n){"use strict";var r=n(90),i=n(69),o=n(194);i("toStringTag"),o(r("Symbol"),"Symbol")},function(t,e,n){"use strict";n(69)("unscopables")},function(t,e,n){"use strict";var r=n(63);n(194)(r.JSON,"JSON",!0)},function(t,e){},function(t,e){},function(t,e,n){"use strict";var r=n(471).IteratorPrototype,i=n(193),o=n(189),s=n(194),a=n(212),c=function(){return this};t.exports=function(t,e,n,l){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),s(t,u,!1,!0),a[u]=c,t}},function(t,e,n){"use strict";var r=n(48),i=n(78);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},function(t,e,n){"use strict";var r=n(56),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},function(t,e,n){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(856);t.exports=r},function(t,e,n){"use strict";var r=n(857);t.exports=r},function(t,e,n){"use strict";var r=n(858);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(195);var r=n(276);t.exports=r},function(t,e,n){"use strict";var r=n(48),i=n(209),o=n(115),s=n(154),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(t){return function(e,n){var r,u,f=o(s(e)),d=i(n),h=f.length;return d<0||d>=h?t?"":void 0:(r=c(f,d))<55296||r>56319||d+1===h||(u=c(f,d+1))<56320||u>57343?t?a(f,d):r:t?l(f,d,d+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},function(t,e,n){"use strict";var r=n(861);n(866),n(867),n(868),n(869),n(870),n(871),n(872),n(873),n(874),t.exports=r},function(t,e,n){"use strict";var r=n(457);n(862),n(863),n(864),n(865),t.exports=r},function(t,e,n){"use strict";var r=n(60),i=n(113).f,o=r("metadata"),s=Function.prototype;void 0===s[o]&&i(s,o,{value:null})},function(t,e,n){"use strict";n(69)("asyncDispose")},function(t,e,n){"use strict";n(69)("dispose")},function(t,e,n){"use strict";n(69)("metadata")},function(t,e,n){"use strict";n(21)({target:"Symbol",stat:!0},{isRegisteredSymbol:n(473)})},function(t,e,n){"use strict";n(21)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:n(474)})},function(t,e,n){"use strict";n(69)("matcher")},function(t,e,n){"use strict";n(69)("observable")},function(t,e,n){"use strict";n(21)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:n(473)})},function(t,e,n){"use strict";n(21)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:n(474)})},function(t,e,n){"use strict";n(69)("metadataKey")},function(t,e,n){"use strict";n(69)("patternMatch")},function(t,e,n){"use strict";n(69)("replaceAll")},function(t,e,n){"use strict";t.exports=n(876)},function(t,e,n){"use strict";var r=n(877);t.exports=r},function(t,e,n){"use strict";var r=n(475);t.exports=r},function(t,e,n){"use strict";n(116),n(142),n(195),n(468);var r=n(273);t.exports=r.f("iterator")},function(t,e,n){var r=n(476),i=n(478);t.exports=function(t){if(r(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(881);t.exports=r},function(t,e,n){"use strict";var r=n(477);t.exports=r},function(t,e,n){"use strict";n(883);var r=n(51);t.exports=r.Array.isArray},function(t,e,n){"use strict";n(21)({target:"Array",stat:!0},{isArray:n(192)})},function(t,e,n){var r=n(277),i=n(355),o=n(479);t.exports=function(t){if(void 0!==r&&null!=i(t)||null!=t["@@iterator"])return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(886);t.exports=r},function(t,e,n){"use strict";var r=n(480);t.exports=r},function(t,e,n){"use strict";n(195),n(888);var r=n(51);t.exports=r.Array.from},function(t,e,n){"use strict";var r=n(21),i=n(889);r({target:"Array",stat:!0,forced:!n(483)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(97),i=n(66),o=n(101),s=n(890),a=n(482),c=n(269),l=n(114),u=n(210),f=n(356),d=n(276),h=Array;t.exports=function(t){var e=o(t),n=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,p>2?arguments[2]:void 0));var g,y,_,b,w,k,x=d(e),S=0;if(!x||this===h&&a(x))for(g=l(e),y=n?new this(g):h(g);g>S;S++)k=m?v(e[S],S):e[S],u(y,S,k);else for(w=(b=f(e,x)).next,y=n?new this:[];!(_=i(w,b)).done;S++)k=m?s(b,v,[_.value,S],!0):_.value,u(y,S,k);return y.length=S,y}},function(t,e,n){"use strict";var r=n(93),i=n(481);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},function(t,e,n){"use strict";var r=n(892);t.exports=r},function(t,e,n){"use strict";var r=n(450);t.exports=r},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(476);t.exports=function(t){if(r(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(277),i=n(355),o=n(357);t.exports=function(t,e){var n=null==t?null:void 0!==r&&i(t)||t["@@iterator"];if(null!=n){var s,a,c,l,u=[],f=!0,d=!1;try{if(c=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;f=!1}else for(;!(f=(s=c.call(n)).done)&&(o(u).call(u,s.value),u.length!==e);f=!0);}catch(t){d=!0,a=t}finally{try{if(!f&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw a}}return u}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(897);t.exports=r},function(t,e,n){"use strict";var r=n(898);t.exports=r},function(t,e,n){"use strict";var r=n(899);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(900),o=Array.prototype;t.exports=function(t){var e=t.push;return t===o||r(o,t)&&e===o.push?i:e}},function(t,e,n){"use strict";n(901);var r=n(57);t.exports=r("Array").push},function(t,e,n){"use strict";var r=n(21),i=n(101),o=n(114),s=n(486),a=n(347);r({target:"Array",proto:!0,arity:1,forced:n(41)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return s(e,n),n}})},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(904);t.exports=r},function(t,e,n){"use strict";var r=n(487);t.exports=r},function(t,e,n){"use strict";n(906);var r=n(51).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){"use strict";var r=n(21),i=n(84),o=n(113).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},function(t,e,n){var r=n(908),i=n(74).default;t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[r];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";t.exports=n(909)},function(t,e,n){"use strict";var r=n(910);t.exports=r},function(t,e,n){"use strict";var r=n(911);t.exports=r},function(t,e,n){"use strict";var r=n(912);t.exports=r},function(t,e,n){"use strict";n(913),n(469);var r=n(273);t.exports=r.f("toPrimitive")},function(t,e){},function(t,e,n){"use strict";var r=n(915);t.exports=r},function(t,e,n){"use strict";n(916);var r=n(51);t.exports=r.Object.entries},function(t,e,n){"use strict";var r=n(21),i=n(917).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(84),i=n(41),o=n(48),s=n(213),a=n(234),c=n(131),l=o(n(265).f),u=o([].push),f=r&&i((function(){var t=Object.create(null);return t[2]=2,!l(t,2)})),d=function(t){return function(e){for(var n,i=c(e),o=a(i),d=f&&null===s(i),h=o.length,p=0,v=[];h>p;)n=o[p++],r&&!(d?n in i:l(i,n))||u(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:d(!0),values:d(!1)}},function(t,e,n){"use strict";n(102);var r=n(155),i=n(68),o=n(50),s=n(919),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===a||o(a,t)&&e===a.entries||i(c,r(t))?s:e}},function(t,e,n){"use strict";var r=n(920);t.exports=r},function(t,e,n){"use strict";n(116),n(142);var r=n(57);t.exports=r("Array").entries},function(t,e,n){"use strict";var r=n(922);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(923),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||r(o,t)&&e===o.find?i:e}},function(t,e,n){"use strict";n(924);var r=n(57);t.exports=r("Array").find},function(t,e,n){"use strict";var r=n(21),i=n(156).find,o=n(274),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(t,e,n){"use strict";var r=n(926);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(927),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||r(o,t)&&e===o.sort?i:e}},function(t,e,n){"use strict";n(928);var r=n(57);t.exports=r("Array").sort},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(78),s=n(101),a=n(114),c=n(489),l=n(115),u=n(41),f=n(929),d=n(196),h=n(930),p=n(931),v=n(207),m=n(932),g=[],y=i(g.sort),_=i(g.push),b=u((function(){g.sort(void 0)})),w=u((function(){g.sort(null)})),k=d("sort"),x=!u((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(m)return m<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!k||!x},{sort:function(t){void 0!==t&&o(t);var e=s(this);if(x)return void 0===t?y(e):y(e,t);var n,r,i=[],u=a(e);for(r=0;r<u;r++)r in e&&_(i,e[r]);for(f(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:l(e)>l(n)?1:-1}}(t)),n=a(i),r=0;r<n;)e[r]=i[r++];for(;r<u;)c(e,r++);return e}})},function(t,e,n){"use strict";var r=n(463),i=Math.floor,o=function(t,e){var n=t.length,c=i(n/2);return n<8?s(t,e):a(t,o(r(t,0,c),e),o(r(t,c),e),e)},s=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?r(e[s],n[a])<=0?e[s++]:n[a++]:s<i?e[s++]:n[a++];return t};t.exports=o},function(t,e,n){"use strict";var r=n(173).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){"use strict";var r=n(173);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){"use strict";var r=n(173).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){"use strict";var r=n(934);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(935),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},function(t,e,n){"use strict";n(936);var r=n(57);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(21),i=n(156).map;r({target:"Array",proto:!0,forced:!n(233)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(938);t.exports=r},function(t,e,n){"use strict";n(939);var r=n(51);t.exports=r.Object.keys},function(t,e,n){"use strict";var r=n(21),i=n(101),o=n(234);r({target:"Object",stat:!0,forced:n(41)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){"use strict";var r=n(941);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(942),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||r(o,t)&&e===o.splice?i:e}},function(t,e,n){"use strict";n(943);var r=n(57);t.exports=r("Array").splice},function(t,e,n){"use strict";var r=n(21),i=n(101),o=n(232),s=n(209),a=n(114),c=n(486),l=n(347),u=n(348),f=n(210),d=n(489),h=n(233)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,r,h,m,g,y,_=i(this),b=a(_),w=o(t,b),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=b-w):(n=k-2,r=v(p(s(e),0),b-w)),l(b+n-r),h=u(_,r),m=0;m<r;m++)(g=w+m)in _&&f(h,m,_[g]);if(h.length=r,n<r){for(m=w;m<b-r;m++)y=m+n,(g=m+r)in _?_[y]=_[g]:d(_,y);for(m=b;m>b-r+n;m--)d(_,m-1)}else if(n>r)for(m=b-r;m>w;m--)y=m+n-1,(g=m+r-1)in _?_[y]=_[g]:d(_,y);for(m=0;m<n;m++)_[m+w]=arguments[m+2];return c(_,b-r+n),h}})},function(t,e,n){"use strict";n(116),n(945),n(142),n(195);var r=n(51);t.exports=r.Map},function(t,e,n){"use strict";n(946)},function(t,e,n){"use strict";n(279)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(492))},function(t,e,n){"use strict";var r=n(41),i=n(73),o=n(153),s=n(948),a=Object.isExtensible,c=r((function(){a(1)}));t.exports=c||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!=o(t))&&(!a||a(t)))}:a},function(t,e,n){"use strict";var r=n(41);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){"use strict";var r=n(950);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(951),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},function(t,e,n){"use strict";n(952);var r=n(57);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(21),i=n(156).filter;r({target:"Array",proto:!0,forced:!n(233)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n(102);var r=n(155),i=n(68),o=n(50),s=n(954),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===a||o(a,t)&&e===a.keys||i(c,r(t))?s:e}},function(t,e,n){"use strict";var r=n(955);t.exports=r},function(t,e,n){"use strict";n(116),n(142);var r=n(57);t.exports=r("Array").keys},function(t,e,n){"use strict";var r=n(957);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(142),n(958),n(195);var r=n(51);t.exports=r.Set},function(t,e,n){"use strict";n(959)},function(t,e,n){"use strict";n(279)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(492))},function(t,e,n){"use strict";var r=n(961);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(962),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},function(t,e,n){"use strict";n(458);var r=n(57);t.exports=r("Array").concat},function(t,e,n){"use strict";n(102);var r=n(155),i=n(68),o=n(50),s=n(964),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.values;return t===a||o(a,t)&&e===a.values||i(c,r(t))?s:e}},function(t,e,n){"use strict";var r=n(965);t.exports=r},function(t,e,n){"use strict";n(116),n(142);var r=n(57);t.exports=r("Array").values},function(t,e,n){"use strict";var r=n(967);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(968),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},function(t,e,n){"use strict";n(969);var r=n(57);t.exports=r("String").trim},function(t,e,n){"use strict";var r=n(21),i=n(494).trim;r({target:"String",proto:!0,forced:n(970)("trim")},{trim:function(){return i(this)}})},function(t,e,n){"use strict";var r=n(470).PROPER,i=n(41),o=n(359);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},function(t,e,n){var r=n(74).default,i=n(278),o=n(277),s=n(361),a=n(496),c=n(981),l=n(357),u=n(362),f=n(993),d=n(1023),h=n(485);function p(){"use strict";t.exports=p=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,v=n.hasOwnProperty,m=i||function(t,e,n){t[e]=n.value},g="function"==typeof o?o:{},y=g.iterator||"@@iterator",_=g.asyncIterator||"@@asyncIterator",b=g.toStringTag||"@@toStringTag";function w(t,e,n){return i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{w({},"")}catch(t){w=function(t,e,n){return t[e]=n}}function k(t,e,n,r){var i=e&&e.prototype instanceof C?e:C,o=s(i.prototype),a=new L(r||[]);return m(o,"_invoke",{value:I(t,n,a)}),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=k;var S={};function C(){}function O(){}function E(){}var P={};w(P,y,(function(){return this}));var A=a&&a(a(B([])));A&&A!==n&&v.call(A,y)&&(P=A);var T=E.prototype=C.prototype=s(P);function j(t){var e;c(e=["next","throw","return"]).call(e,(function(e){w(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,s,a){var c=x(t[i],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==r(u)&&v.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(u).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var i;m(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function I(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return $()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=N(s,n);if(a){if(a===S)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=x(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===S)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function N(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,N(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),S;var i=x(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,S;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,S):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function R(t){var e,n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),l(e=this.tryEntries).call(e,n)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],c(t).call(t,R,this),this.reset(!0)}function B(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(v.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:$}}function $(){return{value:void 0,done:!0}}return O.prototype=E,m(T,"constructor",{value:E,configurable:!0}),m(E,"constructor",{value:O,configurable:!0}),O.displayName=w(E,b,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return u?u(t,E):(t.__proto__=E,w(t,b,"GeneratorFunction")),t.prototype=s(T),t},e.awrap=function(t){return{__await:t}},j(M.prototype),w(M.prototype,_,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,i,o){void 0===o&&(o=f);var s=new M(k(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},j(T),w(T,b,"Generator"),w(T,y,(function(){return this})),w(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)l(n).call(n,r);return d(n).call(n),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=B,L.prototype={constructor:L,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,c(e=this.tryEntries).call(e,D),!t)for(var n in this)"t"===n.charAt(0)&&v.call(this,n)&&!isNaN(+h(n).call(n,1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=v.call(i,"catchLoc"),a=v.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&v.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,S):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:B(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),S}},e}t.exports=p,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(973);t.exports=r},function(t,e,n){"use strict";var r=n(495);t.exports=r},function(t,e,n){"use strict";n(975);var r=n(51).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){"use strict";n(21)({target:"Object",stat:!0,sham:!n(84)},{create:n(193)})},function(t,e,n){"use strict";var r=n(977);t.exports=r},function(t,e,n){"use strict";var r=n(978);t.exports=r},function(t,e,n){"use strict";var r=n(979);t.exports=r},function(t,e,n){"use strict";n(980);var r=n(51);t.exports=r.Object.getPrototypeOf},function(t,e,n){"use strict";var r=n(21),i=n(41),o=n(101),s=n(213),a=n(472);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},function(t,e,n){"use strict";t.exports=n(982)},function(t,e,n){"use strict";var r=n(983);t.exports=r},function(t,e,n){"use strict";var r=n(497);t.exports=r},function(t,e,n){"use strict";var r=n(985);t.exports=r},function(t,e,n){"use strict";n(986);var r=n(57);t.exports=r("Array").forEach},function(t,e,n){"use strict";var r=n(21),i=n(987);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(156).forEach,i=n(196)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(989);t.exports=r},function(t,e,n){"use strict";var r=n(990);t.exports=r},function(t,e,n){"use strict";var r=n(991);t.exports=r},function(t,e,n){"use strict";n(992);var r=n(51);t.exports=r.Object.setPrototypeOf},function(t,e,n){"use strict";n(21)({target:"Object",stat:!0},{setPrototypeOf:n(275)})},function(t,e,n){"use strict";t.exports=n(994)},function(t,e,n){"use strict";var r=n(995);n(1019),n(1020),n(1021),n(1022),t.exports=r},function(t,e,n){"use strict";var r=n(498);n(1018),t.exports=r},function(t,e,n){"use strict";n(499),n(116),n(142),n(1005),n(507),n(508),n(1017),n(195);var r=n(51);t.exports=r.Promise},function(t,e,n){"use strict";var r=n(21),i=n(50),o=n(213),s=n(275),a=n(998),c=n(193),l=n(141),u=n(189),f=n(1e3),d=n(1001),h=n(117),p=n(1004),v=n(60)("toStringTag"),m=Error,g=[].push,y=function(t,e){var n,r=i(_,this);s?n=s(m(),r?o(this):_):(n=r?this:c(_),l(n,v,"Error")),void 0!==e&&l(n,"message",p(e)),d(n,y,n.stack,1),arguments.length>2&&f(n,arguments[2]);var a=[];return h(t,g,{that:a}),l(n,"errors",a),n};s?s(y,m):a(y,m,{name:!0});var _=y.prototype=c(m.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},function(t,e,n){"use strict";var r=n(68),i=n(999),o=n(172),s=n(113);t.exports=function(t,e,n){for(var a=i(e),c=s.f,l=o.f,u=0;u<a.length;u++){var f=a[u];r(t,f)||n&&r(n,f)||c(t,f,l(e,f))}}},function(t,e,n){"use strict";var r=n(90),i=n(48),o=n(271),s=n(272),a=n(93),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},function(t,e,n){"use strict";var r=n(73),i=n(141);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},function(t,e,n){"use strict";var r=n(141),i=n(1002),o=n(1003),s=Error.captureStackTrace;t.exports=function(t,e,n,a){o&&(s?s(t,e):r(t,"stack",i(n,a)))}},function(t,e,n){"use strict";var r=n(48),i=Error,o=r("".replace),s=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,a,"");return t}},function(t,e,n){"use strict";var r=n(41),i=n(189);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},function(t,e,n){"use strict";var r=n(115);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},function(t,e,n){"use strict";n(1006),n(1012),n(1013),n(1014),n(1015),n(1016)},function(t,e,n){"use strict";var r,i,o,s=n(21),a=n(112),c=n(236),l=n(63),u=n(66),f=n(174),d=n(275),h=n(194),p=n(493),v=n(78),m=n(56),g=n(73),y=n(281),_=n(500),b=n(501).set,w=n(1007),k=n(1010),x=n(214),S=n(504),C=n(175),O=n(215),E=n(237),P=n(157),A="Promise",T=E.CONSTRUCTOR,j=E.REJECTION_EVENT,M=E.SUBCLASSING,I=C.getterFor(A),N=C.set,R=O&&O.prototype,D=O,L=R,B=l.TypeError,$=l.document,F=l.process,q=P.f,U=q,V=!!($&&$.createEvent&&l.dispatchEvent),z="unhandledrejection",H=function(t){var e;return!(!g(t)||!m(e=t.then))&&e},W=function(t,e){var n,r,i,o=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,l=t.reject,f=t.domain;try{a?(s||(2===e.rejection&&Q(e),e.rejection=1),!0===a?n=o:(f&&f.enter(),n=a(o),f&&(f.exit(),i=!0)),n===t.promise?l(B("Promise-chain cycle")):(r=H(n))?u(r,n,c,l):c(n)):l(o)}catch(t){f&&!i&&f.exit(),l(t)}},Y=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)W(n,t);t.notified=!1,e&&!t.rejection&&J(t)})))},G=function(t,e,n){var r,i;V?((r=$.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!j&&(i=l["on"+t])?i(r):t===z&&k("Unhandled promise rejection",n)},J=function(t){u(b,l,(function(){var e,n=t.facade,r=t.value;if(K(t)&&(e=x((function(){c?F.emit("unhandledRejection",r,n):G(z,n,r)})),t.rejection=c||K(t)?2:1,e.error))throw e.value}))},K=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){u(b,l,(function(){var e=t.facade;c?F.emit("rejectionHandled",e):G("rejectionhandled",e,t.value)}))},X=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Y(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw B("Promise can't be resolved itself");var r=H(e);r?w((function(){var n={done:!1};try{u(r,e,X(tt,n,t),X(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,Y(t,!1))}catch(e){Z({done:!1},e,t)}}};if(T&&(L=(D=function(t){y(this,L),v(t),u(r,this);var e=I(this);try{t(X(tt,e),X(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){N(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(L,"then",(function(t,e){var n=I(this),r=q(_(this,D));return n.parent=!0,r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=c?F.domain:void 0,0==n.state?n.reactions.add(r):w((function(){W(r,n)})),r.promise})),i=function(){var t=new r,e=I(t);this.promise=t,this.resolve=X(tt,e),this.reject=X(Z,e)},P.f=q=function(t){return t===D||undefined===t?new i(t):U(t)},!a&&m(O)&&R!==Object.prototype)){o=R.then,M||f(R,"then",(function(t,e){var n=this;return new D((function(t,e){u(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete R.constructor}catch(t){}d&&d(R,L)}s({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:D}),h(D,A,!1,!0),p(A)},function(t,e,n){"use strict";var r,i,o,s,a,c=n(63),l=n(97),u=n(172).f,f=n(501).set,d=n(504),h=n(503),p=n(1008),v=n(1009),m=n(236),g=c.MutationObserver||c.WebKitMutationObserver,y=c.document,_=c.process,b=c.Promise,w=u(c,"queueMicrotask"),k=w&&w.value;if(!k){var x=new d,S=function(){var t,e;for(m&&(t=_.domain)&&t.exit();e=x.get();)try{e()}catch(t){throw x.head&&r(),t}t&&t.enter()};h||m||v||!g||!y?!p&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,a=l(s.then,s),r=function(){a(S)}):m?r=function(){_.nextTick(S)}:(f=l(f,c),r=function(){f(S)}):(i=!0,o=y.createTextNode(""),new g(S).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),k=function(t){x.head||r(),x.add(t)}}t.exports=k},function(t,e,n){"use strict";var r=n(173);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},function(t,e,n){"use strict";var r=n(173);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){"use strict";t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}},function(t,e,n){"use strict";var r=n(505),i=n(236);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(78),s=n(157),a=n(214),c=n(117);r({target:"Promise",stat:!0,forced:n(282)},{all:function(t){var e=this,n=s.f(e),r=n.resolve,l=n.reject,u=a((function(){var n=o(e.resolve),s=[],a=0,u=1;c(t,(function(t){var o=a++,c=!1;u++,i(n,e,t).then((function(t){c||(c=!0,s[o]=t,--u||r(s))}),l)})),--u||r(s)}));return u.error&&l(u.value),n.promise}})},function(t,e,n){"use strict";var r=n(21),i=n(112),o=n(237).CONSTRUCTOR,s=n(215),a=n(90),c=n(56),l=n(174),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&c(s)){var f=a("Promise").prototype.catch;u.catch!==f&&l(u,"catch",f,{unsafe:!0})}},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(78),s=n(157),a=n(214),c=n(117);r({target:"Promise",stat:!0,forced:n(282)},{race:function(t){var e=this,n=s.f(e),r=n.reject,l=a((function(){var s=o(e.resolve);c(t,(function(t){i(s,e,t).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(157);r({target:"Promise",stat:!0,forced:n(237).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},function(t,e,n){"use strict";var r=n(21),i=n(90),o=n(112),s=n(215),a=n(237).CONSTRUCTOR,c=n(506),l=i("Promise"),u=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(t){return c(u&&this===l?s:this,t)}})},function(t,e,n){"use strict";var r=n(21),i=n(112),o=n(215),s=n(41),a=n(90),c=n(56),l=n(500),u=n(506),f=n(174),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,a("Promise")),n=c(t);return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&c(o)){var h=a("Promise").prototype.finally;d.finally!==h&&f(d,"finally",h,{unsafe:!0})}},function(t,e,n){"use strict";var r=n(21),i=n(157);r({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},function(t,e,n){"use strict";n(499)},function(t,e,n){"use strict";n(507)},function(t,e,n){"use strict";var r=n(21),i=n(157),o=n(214);r({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";n(508)},function(t,e,n){"use strict";t.exports=n(1024)},function(t,e,n){"use strict";var r=n(1025);t.exports=r},function(t,e,n){"use strict";var r=n(509);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1027),o=Array.prototype;t.exports=function(t){var e=t.reverse;return t===o||r(o,t)&&e===o.reverse?i:e}},function(t,e,n){"use strict";n(1028);var r=n(57);t.exports=r("Array").reverse},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(192),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},function(t,e,n){"use strict";n(1030);var r=n(51);t.exports=r.Reflect.construct},function(t,e,n){"use strict";var r=n(21),i=n(90),o=n(188),s=n(511),a=n(363),c=n(93),l=n(73),u=n(193),f=n(41),d=i("Reflect","construct"),h=Object.prototype,p=[].push,v=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),m=!f((function(){d((function(){}))})),g=v||m;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(m&&!v)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(s,t,r))}var i=n.prototype,f=u(l(i)?i:h),g=o(t,f,e);return l(g)?g:f}})},function(t,e,n){"use strict";var r=n(1032);t.exports=r},function(t,e,n){"use strict";var r=n(512);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1034),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},function(t,e,n){"use strict";n(1035);var r=n(57);t.exports=r("Function").bind},function(t,e,n){"use strict";var r=n(21),i=n(511);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},function(t,e,n){"use strict";t.exports=n(1037)},function(t,e,n){"use strict";var r=n(1038);n(1041),n(1043),n(1045),n(1046),n(1047),n(1049),n(1050),n(1051),n(1052),n(1054),n(1055),n(1056),n(1057),n(1058),n(1059),n(1060),n(1061),n(1062),n(1063),t.exports=r},function(t,e,n){"use strict";var r=n(490);n(1039),t.exports=r},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(78),s=n(154),a=n(117),c=n(158),l=n(112),u=c.Map,f=c.has,d=c.get,h=c.set,p=i([].push);r({target:"Map",stat:!0,forced:l},{groupBy:function(t,e){s(t),o(e);var n=new u,r=0;return a(t,(function(t){var i=e(t,r++);f(n,i)?p(d(n,i),t):h(n,i,[t])})),n}})},function(t,e,n){"use strict";t.exports=function(t,e){return 1==e?function(e,n){return e[t](n)}:function(e,n,r){return e[t](n,r)}}},function(t,e,n){"use strict";n(21)({target:"Map",stat:!0,forced:!0},{from:n(1042)})},function(t,e,n){"use strict";var r=n(97),i=n(66),o=n(78),s=n(363),a=n(190),c=n(117),l=[].push;t.exports=function(t){var e,n,u,f,d=arguments.length,h=d>1?arguments[1]:void 0;return s(this),(e=void 0!==h)&&o(h),a(t)?new this:(n=[],e?(u=0,f=r(h,d>2?arguments[2]:void 0),c(t,(function(t){i(l,n,f(t,u++))}))):c(t,l,{that:n}),new this(n))}},function(t,e,n){"use strict";n(21)({target:"Map",stat:!0,forced:!0},{of:n(1044)})},function(t,e,n){"use strict";var r=n(211);t.exports=function(){return new this(r(arguments))}},function(t,e,n){"use strict";var r=n(21),i=n(103),o=n(158).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),n=!0,r=0,s=arguments.length;r<s;r++)t=o(e,arguments[r]),n=n&&t;return!!n}})},function(t,e,n){"use strict";var r=n(21),i=n(103),o=n(158),s=o.get,a=o.has,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,e){var n,r,o=i(this);return a(o,t)?(n=s(o,t),"update"in e&&(n=e.update(n,t,o),c(o,t,n)),n):(r=e.insert(t,o),c(o,t,r),r)}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!1!==s(e,(function(t,r){if(!n(t,r,e))return!1}),!0)}})},function(t,e,n){"use strict";var r=n(66);t.exports=function(t,e,n){for(var i,o,s=n?t:t.iterator,a=t.next;!(i=r(a,s)).done;)if(void 0!==(o=e(i.value)))return o}},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(158),a=n(143),c=s.Map,l=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new c;return a(e,(function(t,i){n(t,i,e)&&l(r,i,t)})),r}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=s(e,(function(t,r){if(n(t,r,e))return{value:t}}),!0);return r&&r.value}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=s(e,(function(t,r){if(n(t,r,e))return{key:r}}),!0);return r&&r.key}})},function(t,e,n){"use strict";var r=n(21),i=n(1053),o=n(103),s=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===s(o(this),(function(e){if(i(e,t))return!0}),!0)}})},function(t,e,n){"use strict";t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(117),s=n(56),a=n(78),c=n(158).Map;r({target:"Map",stat:!0,forced:!0},{keyBy:function(t,e){var n=new(s(this)?this:c);a(e);var r=a(n.set);return o(t,(function(t){i(r,n,e(t),t)})),n}})},function(t,e,n){"use strict";var r=n(21),i=n(103),o=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=o(i(this),(function(e,n){if(e===t)return{key:n}}),!0);return e&&e.key}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(158),a=n(143),c=s.Map,l=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new c;return a(e,(function(t,i){l(r,n(t,i,e),t)})),r}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(158),a=n(143),c=s.Map,l=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new c;return a(e,(function(t,i){l(r,i,n(t,i,e))})),r}})},function(t,e,n){"use strict";var r=n(21),i=n(103),o=n(117),s=n(158).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=i(this),n=arguments.length,r=0;r<n;)o(arguments[r++],(function(t,n){s(e,t,n)}),{AS_ENTRIES:!0});return e}})},function(t,e,n){"use strict";var r=n(21),i=n(78),o=n(103),s=n(143),a=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),n=arguments.length<2,r=n?void 0:arguments[1];if(i(t),s(e,(function(i,o){n?(n=!1,r=i):r=t(r,i,o,e)})),n)throw a("Reduce of empty map with no initial value");return r}})},function(t,e,n){"use strict";var r=n(21),i=n(97),o=n(103),s=n(143);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!0===s(e,(function(t,r){if(n(t,r,e))return!0}),!0)}})},function(t,e,n){"use strict";var r=n(21),i=n(78),o=n(103),s=n(158),a=TypeError,c=s.get,l=s.has,u=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var n=o(this),r=arguments.length;i(e);var s=l(n,t);if(!s&&r<3)throw a("Updating absent value");var f=s?c(n,t):i(r>2?arguments[2]:void 0)(t,n);return u(n,t,e(f,t,n)),n}})},function(t,e,n){"use strict";n(21)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:n(513)})},function(t,e,n){"use strict";n(21)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:n(513)})},function(t,e,n){var r=n(1065);t.exports=function(t){var e;return-1!==r(e=Function.toString.call(t)).call(e,"[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";t.exports=n(1066)},function(t,e,n){"use strict";var r=n(1067);t.exports=r},function(t,e,n){"use strict";var r=n(514);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1069),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},function(t,e,n){"use strict";n(1070);var r=n(57);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(21),i=n(230),o=n(349).indexOf,s=n(196),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:c||!s("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:o(this,t,e)}})},function(t,e,n){"use strict";var r=n(1072);t.exports=r},function(t,e,n){"use strict";var r=n(510);t.exports=r},function(t,e,n){var r=n(515);t.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1075);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(142),n(1076);var r=n(51);t.exports=r.WeakSet},function(t,e,n){"use strict";n(1077)},function(t,e,n){"use strict";n(279)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(516))},function(t,e,n){"use strict";var r=n(1079);t.exports=r},function(t,e,n){"use strict";n(467);var r=n(51),i=n(188);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},function(t,e,n){"use strict";t.exports=n(1081)},function(t,e,n){"use strict";var r=n(1082);t.exports=r},function(t,e,n){"use strict";var r=n(1083);t.exports=r},function(t,e,n){"use strict";var r=n(1084);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(195);var r=n(356);t.exports=r},function(t,e,n){"use strict";var r=n(1086);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1087),o=n(1089),s=Array.prototype,a=String.prototype;t.exports=function(t){var e=t.includes;return t===s||r(s,t)&&e===s.includes?i:"string"==typeof t||t===a||r(a,t)&&e===a.includes?o:e}},function(t,e,n){"use strict";n(1088);var r=n(57);t.exports=r("Array").includes},function(t,e,n){"use strict";var r=n(21),i=n(349).includes,o=n(41),s=n(274);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(t,e,n){"use strict";n(1090);var r=n(57);t.exports=r("String").includes},function(t,e,n){"use strict";var r=n(21),i=n(48),o=n(365),s=n(154),a=n(115),c=n(366),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(a(s(this)),a(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(73),i=n(153),o=n(60)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(1093);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1094),o=Array.prototype;t.exports=function(t){var e=t.lastIndexOf;return t===o||r(o,t)&&e===o.lastIndexOf?i:e}},function(t,e,n){"use strict";n(1095);var r=n(57);t.exports=r("Array").lastIndexOf},function(t,e,n){"use strict";var r=n(21),i=n(1096);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(188),i=n(131),o=n(209),s=n(114),a=n(196),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),d=u||!f;t.exports=d?function(t){if(u)return r(l,this,arguments)||0;var e=i(this),n=s(e),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},function(t,e,n){"use strict";var r=n(1098);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1099),o=Array.prototype;t.exports=function(t){var e=t.fill;return t===o||r(o,t)&&e===o.fill?i:e}},function(t,e,n){"use strict";n(1100);var r=n(57);t.exports=r("Array").fill},function(t,e,n){"use strict";var r=n(21),i=n(1101),o=n(274);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(101),i=n(232),o=n(114);t.exports=function(t){for(var e=r(this),n=o(e),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(1103);t.exports=r},function(t,e,n){"use strict";n(1104);var r=n(51).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},function(t,e,n){"use strict";var r=n(21),i=n(41),o=n(351).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){"use strict";var r=n(1106);t.exports=r},function(t,e,n){"use strict";n(459);var r=n(51);t.exports=r.Object.getOwnPropertySymbols},function(t,e,n){"use strict";n(1108);var r=n(51).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},function(t,e,n){"use strict";var r=n(21),i=n(41),o=n(131),s=n(172).f,a=n(84);r({target:"Object",stat:!0,forced:!a||i((function(){s(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},function(t,e,n){"use strict";var r=n(1110);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1111),o=Array.prototype;t.exports=function(t){var e=t.every;return t===o||r(o,t)&&e===o.every?i:e}},function(t,e,n){"use strict";n(1112);var r=n(57);t.exports=r("Array").every},function(t,e,n){"use strict";var r=n(21),i=n(156).every;r({target:"Array",proto:!0,forced:!n(196)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1114);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(142),n(1115);var r=n(51);t.exports=r.WeakMap},function(t,e,n){"use strict";n(1116)},function(t,e,n){"use strict";var r,i=n(491),o=n(63),s=n(48),a=n(358),c=n(280),l=n(279),u=n(516),f=n(73),d=n(175).enforce,h=n(41),p=n(465),v=Object,m=Array.isArray,g=v.isExtensible,y=v.isFrozen,_=v.isSealed,b=v.freeze,w=v.seal,k={},x={},S=!o.ActiveXObject&&"ActiveXObject"in o,C=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},O=l("WeakMap",C,u),E=O.prototype,P=s(E.set);if(p)if(S){r=u.getConstructor(C,"WeakMap",!0),c.enable();var A=s(E.delete),T=s(E.has),j=s(E.get);a(E,{delete:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),A(this,t)||e.frozen.delete(t)}return A(this,t)},has:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),T(this,t)||e.frozen.has(t)}return T(this,t)},get:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),T(this,t)?j(this,t):e.frozen.get(t)}return j(this,t)},set:function(t,e){if(f(t)&&!g(t)){var n=d(this);n.frozen||(n.frozen=new r),T(this,t)?P(this,t,e):n.frozen.set(t,e)}else P(this,t,e);return this}})}else i&&h((function(){var t=b([]);return P(new O,t,1),!y(t)}))&&a(E,{set:function(t,e){var n;return m(t)&&(y(t)?n=k:_(t)&&(n=x)),P(this,t,e),n==k&&b(t),n==x&&w(t),this}})},function(t,e,n){"use strict";var r=n(1118);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1119),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||r(o,t)&&e===o.reduce?i:e}},function(t,e,n){"use strict";n(1120);var r=n(57);t.exports=r("Array").reduce},function(t,e,n){"use strict";var r=n(21),i=n(1121).left,o=n(196),s=n(207);r({target:"Array",proto:!0,forced:!n(236)&&s>79&&s<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(78),i=n(101),o=n(266),s=n(114),a=TypeError,c=function(t){return function(e,n,c,l){r(n);var u=i(e),f=o(u),d=s(u),h=t?d-1:0,p=t?-1:1;if(c<2)for(;;){if(h in f){l=f[h],h+=p;break}if(h+=p,t?h<0:d<=h)throw a("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=p)h in f&&(l=n(l,f[h],h,u));return l}};t.exports={left:c(!1),right:c(!0)}},function(t,e,n){"use strict";var r=n(1123);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1124),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.startsWith?i:e}},function(t,e,n){"use strict";n(1125);var r=n(57);t.exports=r("String").startsWith},function(t,e,n){"use strict";var r,i=n(21),o=n(230),s=n(172).f,a=n(346),c=n(115),l=n(365),u=n(154),f=n(366),d=n(112),h=o("".startsWith),p=o("".slice),v=Math.min,m=f("startsWith");i({target:"String",proto:!0,forced:!!(d||m||(r=s(String.prototype,"startsWith"),!r||r.writable))&&!m},{startsWith:function(t){var e=c(u(this));l(t);var n=a(v(arguments.length>1?arguments[1]:void 0,e.length)),r=c(t);return h?h(e,r,n):p(e,n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(1127);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1128),o=Array.prototype;t.exports=function(t){var e=t.some;return t===o||r(o,t)&&e===o.some?i:e}},function(t,e,n){"use strict";n(1129);var r=n(57);t.exports=r("Array").some},function(t,e,n){"use strict";var r=n(21),i=n(156).some;r({target:"Array",proto:!0,forced:!n(196)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1131);n(102),t.exports=r},function(t,e,n){"use strict";n(116),n(1132);var r=n(51);t.exports=r.Object.fromEntries},function(t,e,n){"use strict";var r=n(21),i=n(117),o=n(210);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},function(t,e,n){"use strict";var r=n(1134);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1135),o=String.prototype;t.exports=function(t){var e=t.endsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.endsWith?i:e}},function(t,e,n){"use strict";n(1136);var r=n(57);t.exports=r("String").endsWith},function(t,e,n){"use strict";var r,i=n(21),o=n(230),s=n(172).f,a=n(346),c=n(115),l=n(365),u=n(154),f=n(366),d=n(112),h=o("".endsWith),p=o("".slice),v=Math.min,m=f("endsWith");i({target:"String",proto:!0,forced:!!(d||m||(r=s(String.prototype,"endsWith"),!r||r.writable))&&!m},{endsWith:function(t){var e=c(u(this));l(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:v(a(n),r),o=c(t);return h?h(e,o,i):p(e,i-o.length,i)===o}})},function(t,e,n){"use strict";var r=n(1138);t.exports=r},function(t,e,n){"use strict";var r=n(50),i=n(1139),o=String.prototype;t.exports=function(t){var e=t.repeat;return"string"==typeof t||t===o||r(o,t)&&e===o.repeat?i:e}},function(t,e,n){"use strict";n(1140);var r=n(57);t.exports=r("String").repeat},function(t,e,n){"use strict";n(21)({target:"String",proto:!0},{repeat:n(1141)})},function(t,e,n){"use strict";var r=n(209),i=n(115),o=n(154),s=RangeError;t.exports=function(t){var e=i(o(this)),n="",a=r(t);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(1143);t.exports=r},function(t,e,n){"use strict";n(1144);var r=n(51);t.exports=r.parseInt},function(t,e,n){"use strict";var r=n(21),i=n(1145);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r=n(63),i=n(41),o=n(48),s=n(115),a=n(494).trim,c=n(359),l=r.parseInt,u=r.Symbol,f=u&&u.iterator,d=/^[+-]?0x/i,h=o(d.exec),p=8!==l(c+"08")||22!==l(c+"0x16")||f&&!i((function(){l(Object(f))}));t.exports=p?function(t,e){var n=a(s(t));return l(n,e>>>0||(h(d,n)?16:10))}:l},function(t,e,n){},function(t,e,n){"use strict";t.exports=n(1148)},function(t,e,n){"use strict";var r=n(1149);t.exports=r},function(t,e,n){"use strict";var r=n(1150);t.exports=r},function(t,e,n){"use strict";var r=n(1151);t.exports=r},function(t,e,n){"use strict";n(1152);var r=n(51);t.exports=r.Reflect.get},function(t,e,n){"use strict";var r=n(21),i=n(66),o=n(73),s=n(93),a=n(1153),c=n(172),l=n(213);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,u,f=arguments.length<3?e:arguments[2];return s(e)===f?e[n]:(r=c.f(e,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,f):o(u=l(e))?t(u,n,f):void 0}})},function(t,e,n){"use strict";var r=n(68);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){"use strict";t.exports=n(1155)},function(t,e,n){"use strict";var r=n(1156);t.exports=r},function(t,e,n){"use strict";var r=n(517);t.exports=r},function(t,e,n){var r=n(11);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1159);t.exports=r},function(t,e,n){"use strict";n(1160);var r=n(51);t.exports=r.Object.assign},function(t,e,n){"use strict";var r=n(21),i=n(1161);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},function(t,e,n){"use strict";var r=n(84),i=n(48),o=n(66),s=n(41),a=n(234),c=n(272),l=n(265),u=n(101),f=n(266),d=Object.assign,h=Object.defineProperty,p=i([].concat);t.exports=!d||s((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||a(d({},e)).join("")!=i}))?function(t,e){for(var n=u(t),i=arguments.length,s=1,d=c.f,h=l.f;i>s;)for(var v,m=f(arguments[s++]),g=d?p(a(m),d(m)):a(m),y=g.length,_=0;y>_;)v=g[_++],r&&!o(h,m,v)||(n[v]=m[v]);return n}:d},function(t,e,n){},function(t,e,n){"use strict";n(518);var r=n(51);t.exports=r.setInterval},function(t,e,n){"use strict";var r=n(21),i=n(63),o=n(519)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},function(t,e,n){"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},function(t,e,n){"use strict";var r=n(21),i=n(63),o=n(519)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},function(t,e,n){"use strict";n(518);var r=n(51);t.exports=r.setTimeout},function(t,e,n){"use strict";n(520)},function(t,e,n){"use strict";n(521)},function(t,e,n){"use strict";n(522)},function(t,e,n){"use strict";n(523)},function(t,e,n){"use strict";n(524)},function(t,e,n){"use strict";n(525)},function(t,e,n){"use strict";n(526)},function(t,e,n){"use strict";n(527)},function(t,e,n){"use strict";n(528)},function(t,e,n){"use strict";n(529)},function(t,e,n){(function(t){window.yii=function(t){var e={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,n){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",n)},refreshCsrfToken:function(){var n=e.getCsrfToken();n&&t('form input[name="'+e.getCsrfParam()+'"]').val(n)},confirm:function(t,e,n){window.confirm(t)?!e||e():!n||n()},handleAction:function(n,r){var i,o=n.attr("data-form")?t("#"+n.attr("data-form")):n.closest("form"),s=!n.data("method")&&o?o.attr("method"):n.data("method"),a=n.attr("href"),c=a&&"#"!==a,l=n.data("params"),u=l&&t.isPlainObject(l),f=n.data("pjax"),d=void 0!==f&&0!==f&&t.support.pjax,h={};if(t.each(["submit","reset","elements","length","name","acceptCharset","action","enctype","method","target"],(function(t,e){u&&l.hasOwnProperty(e)&&console.error("Parameter name '"+e+"' conflicts with a same named form property. Please use another name.")})),d&&(void 0!==(i=n.data("pjax-container"))&&i.length||(i=n.closest("[data-pjax-container]").attr("id")?"#"+n.closest("[data-pjax-container]").attr("id"):""),i.length||(i="body"),h={container:i,push:!!n.data("pjax-push-state"),replace:!!n.data("pjax-replace-state"),scrollTo:n.data("pjax-scrollto"),pushRedirect:n.data("pjax-push-redirect"),replaceRedirect:n.data("pjax-replace-redirect"),skipOuterContainers:n.data("pjax-skip-outer-containers"),timeout:n.data("pjax-timeout"),originalEvent:r,originalTarget:n}),void 0!==s){var p,v,m=!o.length;if(m){c||(a=e.getCurrentUrl()),o=t("<form/>",{method:s,action:a});var g=n.attr("target");if(g&&o.attr("target",g),/(get|post)/i.test(s)||(o.append(t("<input/>",{name:"_method",value:s,type:"hidden"})),s="post",o.attr("method",s)),/post/i.test(s)){var y=e.getCsrfParam();y&&o.append(t("<input/>",{name:y,value:e.getCsrfToken(),type:"hidden"}))}o.hide().appendTo("body")}else p=o.attr("method"),o.attr("method",s),c&&(v=o.attr("action"),o.attr("action",a));var _=o.data("yiiActiveForm");_&&(_.submitObject=n),u&&t.each(l,(function(e,n){o.append(t("<input/>").attr({name:e,value:n,type:"hidden"}))})),d&&o.on("submit",(function(e){t.pjax.submit(e,h)})),o.trigger("submit"),t.when(o.data("yiiSubmitFinalizePromise")).done((function(){m?o.remove():(void 0!==v&&o.attr("action",v),o.attr("method",p),u&&t.each(l,(function(e){t('input[name="'+e+'"]',o).remove()})))}))}else c?d?t.pjax.click(r,h):window.location.assign(a):n.is(":submit")&&o.length&&(d&&o.on("submit",(function(e){t.pjax.submit(e,h)})),o.trigger("submit"))},getQueryParams:function(e){var n=e.indexOf("?");if(n<0)return{};for(var r=t.grep(e.substring(n+1).split("#")[0].split("&"),(function(t){return""!==t})),i={},o=0,s=r.length;o<s;o++){var a=r[o].split("="),c=decodeURIComponent(a[0].replace(/\+/g,"%20")),l=decodeURIComponent(a[1].replace(/\+/g,"%20"));c.length&&(void 0===i[c]?i[c]=l||"":(t.isArray(i[c])||(i[c]=[i[c]]),i[c].push(l||"")))}return i},initModule:function(n){(void 0===n.isActive||n.isActive)&&(t.isFunction(n.init)&&n.init(),t.each(n,(function(){t.isPlainObject(this)&&e.initModule(this)})))},init:function(){var i,o;t.ajaxPrefilter((function(t,n,r){!t.crossDomain&&e.getCsrfParam()&&r.setRequestHeader("X-CSRF-Token",e.getCsrfToken())})),e.refreshCsrfToken(),t(document).ajaxComplete((function(t,e){var n=e&&e.getResponseHeader("X-Redirect");n&&window.location.assign(n)})),i={},t("script[src]").each((function(){var t=r(this.src);i[t]=!0})),t.ajaxPrefilter("script",(function(t,e,o){if("jsonp"!=t.dataType){var s=r(t.url),a=!0===i[s]&&!n(s),c=void 0!==i[s]&&!0===i[s].xhrDone;a||c?o.abort():(void 0!==i[s]&&!0!==i[s]||(i[s]={xhrList:[],xhrDone:!1}),o.done((function(t,e,n){if(!0!==i[n.yiiUrl].xhrDone){i[n.yiiUrl].xhrDone=!0;for(var r=0,o=i[n.yiiUrl].xhrList.length;r<o;r++){var s=i[n.yiiUrl].xhrList[r];s&&s.readyState!==XMLHttpRequest.DONE&&s.abort()}i[n.yiiUrl]=!0}})).fail((function(t,e){if("abort"!==e){delete i[t.yiiUrl].xhrList[t.yiiIndex];for(var n=!0,r=0,o=i[t.yiiUrl].xhrList.length;r<o;r++)i[t.yiiUrl].xhrList[r]&&(n=!1);n&&delete i[t.yiiUrl]}})),o.yiiIndex=i[s].xhrList.length,o.yiiUrl=s,i[s].xhrList[o.yiiIndex]=o)}})),t(document).ajaxComplete((function(){var e=[];t("link[rel=stylesheet]").each((function(){var i=r(this.href);n(i)||(-1===t.inArray(i,e)?e.push(i):t(this).remove())}))})),o=function(n){var r=t(this),i=r.data("method"),o=r.data("confirm"),s=r.data("form");return void 0===i&&void 0===o&&void 0===s||(void 0!==o&&!1!==o&&""!==o?t.proxy(e.confirm,this)(o,(function(){e.handleAction(r,n)})):e.handleAction(r,n),n.stopImmediatePropagation(),!1)},t(document).on("click.yii",e.clickableSelector,o).on("change.yii",e.changeableSelector,o)},getBaseCurrentUrl:function(){return window.location.protocol+"//"+window.location.host},getCurrentUrl:function(){return window.location.href}};function n(t){for(var n=0;n<e.reloadableScripts.length;n++){var i=r(e.reloadableScripts[n]);if(!0===new RegExp("^"+(o=i,o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).split("\\*").join(".+")+"$").test(t))return!0}var o;return!1}function r(t){return"/"===t.charAt(0)?e.getBaseCurrentUrl()+t:t}return e}(t),t((function(){window.yii.initModule(window.yii)}))}).call(this,n(52))},function(t,e,n){(function(t){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}!function(t){t.fn.yiiGridView=function(n){return s[n]?s[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==e(n)&&n?(t.error("Method "+n+" does not exist in jQuery.yiiGridView"),!1):s.init.apply(this,arguments)};var n={filterUrl:void 0,filterSelector:void 0,filterOnFocusOut:!0},r={},i={beforeFilter:"beforeFilter",afterFilter:"afterFilter"},o={},s={init:function(e){return this.each((function(){var i=t(this),o=t.extend({},n,e||{}),c=i.attr("id");void 0===r[c]&&(r[c]={}),r[c]=t.extend(r[c],{settings:o});var l=!1;a(i,"filter","change.yiiGridView keydown.yiiGridView",o.filterSelector,(function(t){if("keydown"===t.type){if(13!==t.keyCode)return;l=!0}else if(l)return void(l=!1);return!(!o.filterOnFocusOut&&"keydown"!==t.type)&&(s.applyFilter.apply(i),!1)}))}))},applyFilter:function(){var e=t(this),n=r[e.attr("id")].settings,o={};t.each(t(n.filterSelector).serializeArray(),(function(){this.name in o||(o[this.name]=[]),o[this.name].push(this.value)}));var s=Object.keys(o);t.each(yii.getQueryParams(n.filterUrl),(function(e,n){-1===s.indexOf(e)&&-1===s.indexOf(e.replace(/\[\d*\]$/,""))&&(t.isArray(n)||(n=[n]),e in o?t.each(n,(function(n,r){t.inArray(r,o[e])&&o[e].push(r)})):o[e]=n)}));var a=n.filterUrl.indexOf("?"),c=a<0?n.filterUrl:n.filterUrl.substring(0,a),l=n.filterUrl.indexOf("#");a>=0&&l>=0&&(c+=n.filterUrl.substring(l)),e.find("form.gridview-filter-form").remove();var u=t("<form/>",{action:c,method:"get",class:"gridview-filter-form",style:"display:none","data-pjax":""}).appendTo(e);t.each(o,(function(e,n){t.each(n,(function(n,r){u.append(t("<input/>").attr({type:"hidden",name:e,value:r}))}))}));var f=t.Event(i.beforeFilter);e.trigger(f),!1!==f.result&&(u.submit(),e.trigger(i.afterFilter))},setSelectionColumn:function(e){var n=t(this),i=t(this).attr("id");if(void 0===r[i]&&(r[i]={}),r[i].selectionColumn=e.name,e.multiple&&e.checkAll){var o="#"+i+" input[name='"+e.checkAll+"']",s=e.class?"input."+e.class:"input[name='"+e.name+"']",c="#"+i+" "+s+":enabled";a(n,"checkAllRows","click.yiiGridView",o,(function(){n.find(s+":enabled").prop("checked",this.checked).change()})),a(n,"checkRow","click.yiiGridView",c,(function(){var t=n.find(s).length==n.find(s+":checked").length;n.find("input[name='"+e.checkAll+"']").prop("checked",t).change()}))}},getSelectedRows:function(){var e=t(this),n=r[e.attr("id")],i=[];return n.selectionColumn&&e.find("input[name='"+n.selectionColumn+"']:checked").each((function(){i.push(t(this).parent().closest("tr").data("key"))})),i},destroy:function(){var e=[".yiiGridView",i.beforeFilter,i.afterFilter].join(" ");this.off(e);var n=t(this).attr("id");return t.each(o[n],(function(e,n){t(document).off(n.event,n.selector)})),delete r[n],this},data:function(){var e=t(this).attr("id");return r[e]}};function a(e,n,r,i,s){var a=e.attr("id"),c=o[a];if(void 0!==c&&void 0!==c[n]){var l=c[n];t(document).off(l.event,l.selector)}void 0===c&&(o[a]={}),t(document).on(r,i,s),o[a][n]={event:r,selector:i}}}(t)}).call(this,n(52))},function(t,e,n){"use strict";n(530)},function(t,e,n){"use strict";n(531)},function(t,e,n){"use strict";n(532)},function(t,e,n){"use strict";n(566),n(1199),n(777),n(554),n(804);var r=function(){var t=this,e=t._self._c;return e("div",[t.is_wait?e("span",{staticClass:"v-bar"}):e("div",{staticClass:"v-editor-message"},[e("div",{staticClass:"v-subject-select-title"},[t._v("Повідомлення користувачу")]),t._v(" "),t.dlgUser?e("UserDataView",{attrs:{userData:t.dlgUser,hideId:!0,avatarSize:60},scopedSlots:t._u([{key:"buttons-after-id",fn:function(){return[e("a",{staticClass:"vo-link-silver",attrs:{href:"/profile/messages?user="+t.dlg_user_id}},[t._v("відкрити діалог")])]},proxy:!0}],null,!1,1834893384)}):t._e(),t._v(" "),t.error?e("span",[t._v(t._s(t.error))]):t._e(),t._v(" "),e("editor-msg",{ref:"editor",on:{submit:function(e){return t.send(e)}}}),t._v(" "),e("button",{staticClass:"v-message-send",class:{"i-disabled":t.is_wait_send,"a-load-button":t.is_wait_send},on:{click:function(e){return t.send(e)}}},[e("i"),t._v("Надіслати "),e("small",[t._v("Ctrl+Enter")])])],1)])};r._withStripped=!0;var i=n(135),o=n(241),s=n(7),a=n(308),c=Object(a.a)();var l=n(5);function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var h={name:"DlgSendMessage",components:{EditorMsg:i.a,UserDataView:o.a},props:["id_user_to","clickableObjData","userDataTo"],data:function(){return{is_wait:!0,is_wait_send:!1,error:null,dlg_user_id:null,dlgUser:null}},methods:{send:function(t){var e,n,r=this;if(!this.is_wait_send){var i=this.$refs.editor.getDataJson();if(null!==i){this.is_wait_send=!0;var o=i.msg,s=void 0===o?null:o,a=i.files,c=void 0===a?[]:a;s=this.normalizeText(s);var u={id_dlg:0,dlg_user_type:l.USER_USER,dlg_user_id:this.dlg_user_id,id_msg:null!==(e=null===(n=this.editingMessage)||void 0===n?void 0:n.id)&&void 0!==e?e:0,id_msg_quote:0,msg:s,files:c,obj_key:vo.obj_type?[vo.obj_type,vo.obj_id,vo.obj_sub_id].join(l.DELIMITER_OBJ_KEY):null};vo.ajaxPromise(t,vo.url_msg+"/ext/dlg-one/send",u).then((function(t){r.error=null,r.is_wait_send=!1,r.$emit("sent",!0)})).catch((function(t){r.error="Не вдалося відправити повідомлення...",r.is_wait_send=!1}))}}},normalizeText:function(t){var e=this.clickableObjData;if(null===e)return t;if("object"!==d(e))return t;if(!("url"in e)&&!("title"in e))return t;var n,r,i="\n    <p></p>\n    <p>\n        <b>".concat(e.objTitle||"Сторінка",":</b> ").concat(e.title,": ").concat(e.url,"\n    </p>\n"),o=(n="<div>".concat(i,"</div>"),r=(new window.DOMParser).parseFromString(n,"text/html").body.firstElementChild,s.DOMParser.fromSchema(c).parse(r,{}).toJSON());return t.content=[].concat(u(t.content),u(o.content)),t}},mounted:function(){var t=this;this.id_user_to&&!this.userDataTo?vo.getUserInfo(null,this.id_user_to).then((function(e){t.dlg_user_id=t.id_user_to,t.dlgUser=e,t.is_wait=!1})):(this.dlg_user_id=this.id_user_to,this.dlgUser=this.userDataTo,this.is_wait=!1)}},p=n(0),v=Object(p.a)(h,r,[],!1,null,"44287dc5",null).exports,m=function(){var t=this,e=t._self._c;return e("div",[t.is_wait?e("span",{staticClass:"v-bar"}):t.user?e("div",{staticClass:"v-editor-message"},[e("div",{staticClass:"v-subject-select-title"},[t._v("Поставити питання автору")]),t._v(" "),t.user?e("UserDataView",{attrs:{userData:t.user,hideId:!0,avatarSize:60}}):t._e(),t._v(" "),t.error?e("span",[t._v(t._s(t.error))]):t._e(),t._v(" "),e("editor-msg",{ref:"editor",on:{submit:function(e){return t.send(e)}}}),t._v(" "),e("button",{staticClass:"v-message-send",class:{"i-disabled":t.is_wait_send,"a-load-button":t.is_wait_send},on:{click:function(e){return t.send(e)}}},[e("i"),t._v("Надіслати "),e("small",[t._v("Ctrl+Enter")])])],1):e("div",[e("span",[t._v("Помилка отримання інформації про користувача")])])])};m._withStripped=!0;var g={name:"DlgSendMessageImportant",components:{EditorMsg:i.a,UserDataView:o.a},props:["id_user"],data:function(){return{is_wait:!0,is_wait_send:!1,error:null,user:null,id_user_to:null}},methods:{send:function(t){var e=this;if(!this.is_wait_send){var n=this.$refs.editor.getDataJson();if(null!==n){this.is_wait_send=!0;var r=n.msg,i=void 0===r?null:r,o=n.files,s=void 0===o?[]:o,a={id_user_to:this.id_user_to,user_type:l.USER_USER,user_id:this.user_id,msg:i,files:s,obj_key:vo.obj_type?[vo.obj_type,vo.obj_id,vo.obj_sub_id].join(l.DELIMITER_OBJ_KEY):null};vo.ajaxPromise(t,"/ext/profile/ask-question",a).then((function(t){e.error=null,e.is_wait_send=!1,setTimeout((function(){e.$emit("sent",!0)}),3e3)})).catch((function(t){e.error="Не вдалося відправити повідомлення...",e.is_wait_send=!1}))}}}},mounted:function(){var t=this;this.id_user_to=this.id_user;var e={id_user_to:this.id_user_to,user_type:l.USER_USER,user_id:this.user_id,obj_key:vo.obj_type?[vo.obj_type,vo.obj_id,vo.obj_sub_id].join(l.DELIMITER_OBJ_KEY):null,only_check:!0};vo.getUserInfo(null,this.id_user_to).then((function(e){t.user=e})),vo.ajaxPromise(event,"/ext/profile/ask-question",e).then((function(e){"check"in e&&e.check?(t.is_wait=!1,"id_user_to"in e&&t.id_user_to!==parseInt(e.id_user_to)&&(t.id_user_to=parseInt(e.id_user_to),vo.getUserInfo(null,t.id_user_to).then((function(e){t.user=e})))):setTimeout((function(){vo.dlg.hide()}),3e3)})).catch((function(t){}))}},y=Object(p.a)(g,m,[],!1,null,"66cc8b9e",null).exports,_=n(1);window.messageSendOpenDialog=function(t,e,n){Object(_.T)()&&(vo.user_id!==+t?Object(_.hb)(v,{propsData:{id_user_to:t||0,clickableObjData:e||null,userDataTo:n||null}}).$on("sent",(function(){vo.dlg.hide()})):vo.popup("Ви не можете писати повідомлення самі собі."))},window.messageImportantSend=function(t){Object(_.T)()&&(vo.user_id!==+t?Object(_.hb)(y,{propsData:{id_user:t}}).$on("sent",(function(){vo.dlg.hide()})):vo.popup("Ви не можете писати повідомлення самі собі."))};n(367),n(807);var b=n(18),w=n(127);b.a.directive("focus",{inserted:function(t){t.focus()}}),b.a.directive("select",{inserted:function(t){vo.select(t)}}),b.a.directive("nohref",{inserted:function(t){t.href="",t.style.cursor="pointer",t.addEventListener("click",(function(t){t.preventDefault()}))}}),b.a.directive("description",{inserted:function(t){Object(w.c)(t,{TeX:{processEnvironments:!1}}),vo.spanTitleFloat(t)},update:function(t){Object(w.c)(t,{TeX:{processEnvironments:!1}}),vo.spanTitleFloat(t)}}),b.a.directive("assets",{bind:function(t){var e=(vo.url_assets||"").split("?")[0];t.src=e+t.getAttribute("src")}}),b.a.directive("lazy",{bind:function(t){if(t.hasAttribute("src")){var e="".concat(vo.url_assets,"/img/preloader-mid.gif"),n=t.getAttribute("src");t.setAttribute("src",e),t.dataset.src=n,t.classList.add("lazyload")}}});n(808),n(809),n(810),n(811),n(812),n(813),n(443),n(444);window.init_inputmask=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!==n&&Inputmask.extendDefinitions(n),null!==r&&Inputmask.extendAliases(r);var i=document.getElementById(t);return Inputmask(e).mask(i)};n(814),n(556),n(557);var k=n(395);vo.test.webinar=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(_.hb)(k.a,{propsData:t});return e.$on("test-execution-finish",(function(t){t.is_tested?(vo.dlg.hide(),window.location.reload()):(vo.dlg.hide(),vo.popup("тест не пройдено"))})),e};var x=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v-subject-select-title"},[t._v("Копіювати запитання")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"v-list-pupils v-list-pupils-answers v-list-video-test n-vebinar-test copy-test"},[e("TestExecutionScreen",{ref:"testExecutionScreen",attrs:{quests:t.quests,tes_store_key:"cpt-".concat(t.test.id,"-").concat(t.id_user),config:t.config},on:{"user-set-answer":t.saveAnswer}})],1)])};x._withStripped=!0;var S=n(216),C={name:"CopyWithCustomAnswer",components:{TestExecutionScreen:S.a},props:["test","quests","form"],data:function(){return{id_user:vo.user_id,config:{is_wall_mode:1}}},methods:{saveAnswer:function(t,e){var n=this,r=JSON.parse(JSON.stringify(this.form));r.user_answers=t.answers,new Promise((function(t,i){vo.ajax(e,"/ext/test-v2/copy",r,(function(e){if(!e||!("data"in e))return i(e);n.$refs.testExecutionScreen&&n.$refs.testExecutionScreen.clearSessionStore(),t(e.data)}))})).then((function(t){n.$emit("test-execution-finish",t)}))}}},O=Object(p.a)(C,x,[function(){var t=this,e=t._self._c;return e("div",{staticClass:"vo-block-white"},[e("p",{staticClass:"vo-title-small vo-color-red"},[t._v("\n            Зверніть увагу!\n        ")]),t._v(" "),e("p",{staticClass:"vo-text"},[t._v("\n            При копіюванні тесту ви маєте дати відповіді на питання.\n        ")]),t._v(" "),e("p",{staticClass:"vo-text"},[t._v("\n            Саме ці відповіді будуть позначені як правильні у вашій копії тесту.\n        ")]),t._v(" "),e("p",{staticClass:"vo-text"},[t._v("\n            Ви зможете відредагувати правильні відповіді пізніше.\n        ")])])}],!1,null,"1c847f99",null).exports;vo.test.copyWithCustomAnswer=function(t){var e=Object(_.hb)(O,{propsData:t});return e.$on("test-execution-finish",(function(t){console.log("dlg.$on('test-execution-finish')")})),e};var E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n__zno-test"},[e("TestExecutionScreen",{attrs:{options:{opt_wrap_class:"v-test-go-zno",chunk_quest:!0,quest_num:t.znoExecution.curr_quest-1,count_quest:t.znoExecution.count_quest,time_now:t.time_now,show_stop_button:!0},quests:t.quests,execution:t.test_execution},on:{"stop-button-click":t.stopExecution,"user-set-answer":t.submitAnswer},scopedSlots:t._u([{key:"top",fn:function(){return[e("ul",{staticClass:"v-test-go-zno-chosen pull-right"},[e("li",[t._v(t._s(t.typeExecName))]),t._v(" "),e("li",[t._v(t._s(t.categoryTitle))]),t._v(" "),e("li",[t._v(t._s(t.year>0?"".concat(t.year," р."):"За всі роки"))])])]},proxy:!0},{key:"header",fn:function(){return[e("div",{staticClass:"v-test-go-zno-answers"},[e("div",{staticClass:"v-test-go-zno-answers-title"},[t._v("\n                    Всього отримано питань: "),e("b",{staticClass:"i-text-answercount-total"},[t._v(t._s(t.znoExecution.curr_quest))]),e("span",{staticClass:"vo-color-silver"},[t._v("/"+t._s(t.znoExecution.count_quest))])]),t._v(" "),e("div",{staticClass:"v-test-go-zno-answers-wrap"},[e("div",{staticClass:"v-test-go-zno-answers-block v-test-go-zno-answers-block-corect"},[t._v("\n                        Правильних: "),e("b",{staticClass:"i-text-answercount-correct"},[t._v(t._s(t.znoExecution.curr_right_answer))]),e("span",{staticClass:"vo-color-silver"},[t._v("/"+t._s(t.znoExecution.count_quest))])]),t._v(" "),e("div",{staticClass:"v-test-go-zno-answers-block v-test-go-zno-answers-block-dis"},[t._v("\n                        Неправильних: "),e("b",{staticClass:"i-text-answercount-wrong"},[t._v(t._s(t.znoExecution.curr_wrong_answer))]),e("span",{staticClass:"vo-color-silver"},[t._v("/"+t._s(t.znoExecution.count_quest))])])])])]},proxy:!0}])})],1)};E._withStripped=!0;var P=[{value:1,title:"За визначений рік"},{value:2,title:"За часом"},{value:3,title:"Без часових обмежень"},{value:4,title:"Обмеження кількості правильних відповідей"},{value:5,title:"Нон-стоп"},{value:6,title:"Фаст"},{value:7,title:"Супер-фаст"}],A={name:"Zno",components:{TestExecutionScreen:S.a},props:{time_now:Number,categoryTitle:String,zno_execution:{type:Object,default:function(){return{id:"",year:"",time_end:"",type_exec:"",count_quest:0,curr_quest:0,curr_right_answer:0,curr_wrong_answer:0}}},test_execution:{type:Object,default:function(){return{time_end:0}}}},data:function(){return{quests:[],znoExecution:this.zno_execution}},computed:{typeExecName:function(){var t=this,e=P.find((function(e){return e.value===t.znoExecution.type_exec}));return(null==e?void 0:e.title)||"(не задано)"},year:function(){return this.znoExecution.year}},methods:{stopExecution:function(t){var e={id:this.znoExecution.id};new Promise((function(n,r){vo.ajax(t,"/ext/test-execution/zno-test-close",e)}))},submitAnswer:function(t,e){var n=this;t.id_test=this.znoExecution.id,new Promise((function(n,r){vo.ajax(e,"/ext/test-execution/zno-quest-set",t,(function(t){if(!t||!("data"in t))return r(t);n(t.data)}))})).then((function(t){"next"===t[0]&&n.getQuest()}))},getQuest:function(){var t=this,e={id_zno_execution:this.znoExecution.id};new Promise((function(t,n){vo.ajax(null,"/ext/test-execution/zno-quest-get",e,(function(e){if(!e||!("data"in e))return n(e);t(e.data)}))})).then((function(e){t.quests=[e.quest],t.znoExecution.curr_quest=e.znoData.curr_quest,t.znoExecution.curr_right_answer=e.znoData.curr_right_answer,t.znoExecution.curr_wrong_answer=e.znoData.curr_wrong_answer})).then((function(){t.quests.length&&t.quests[0]&&t.quests[0].id&&vo.scrollTo("#i-test-question-"+t.quests[0].id)}))},setQuest:function(){}},created:function(){this.getQuest()}},T=Object(p.a)(A,E,[],!1,null,"65bad4eb",null).exports;vo.test.zno=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=new(b.a.extend(T))({propsData:t});return n.$mount(e),n};var j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"a-test-baza-oll"},[e("div",{staticClass:"a-test-baza"},[t.is_open?e("span",{staticClass:"a-test-b",on:{click:t.toggleOpen}},[e("i",{staticClass:"t-icon t-icon-minus-b"}),t._v(" Створити свій урок на базі цього або додати блоки до вже існуючого уроку")]):e("span",{staticClass:"a-test-b",on:{click:t.toggleOpen}},[e("i",{staticClass:"t-icon t-icon-plus-b"}),t._v(" Створити свій урок на базі цього або додати блоки до вже існуючого уроку")])]),t._v(" "),t.is_open?e("div",[e("div",{staticClass:"a-test-stvoriti-baza"},[e("div",{staticClass:"a-te-pitanie"},[t._v("\n                Оберіть блоки які Ви хочете використати:\n            ")]),t._v(" "),e("div",{staticClass:"a-te-pit-input"},[e("div",{staticClass:"a-te-in-obr"},[e("label",{staticClass:"v-number"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkAll,expression:"checkAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkAll)?t._i(t.checkAll,null)>-1:t.checkAll},on:{change:function(e){var n=t.checkAll,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.checkAll=n.concat([null])):o>-1&&(t.checkAll=n.slice(0,o).concat(n.slice(o+1)))}else t.checkAll=i}}}),t._v(" "),e("b",[t._v("Обрати всі завдання")])])]),t._v(" "),e("br"),t._v(" "),t._l(t.blocks,(function(n,r){return e("div",{staticClass:"a-te-in-obr"},[e("label",{staticClass:"v-number",attrs:{for:"vr-cp-q-"+n.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checked_ids,expression:"checked_ids"}],attrs:{id:"vr-cp-q-"+n.id,type:"checkbox"},domProps:{value:n.id,checked:Array.isArray(t.checked_ids)?t._i(t.checked_ids,n.id)>-1:t.checked_ids},on:{change:function(e){var r=t.checked_ids,i=e.target,o=!!i.checked;if(Array.isArray(r)){var s=n.id,a=t._i(r,s);i.checked?a<0&&(t.checked_ids=r.concat([s])):a>-1&&(t.checked_ids=r.slice(0,a).concat(r.slice(a+1)))}else t.checked_ids=o}}}),t._v(" Блок №"+t._s(r+1)+"\n                    ")]),t._v(" "),e("span",{staticStyle:{cursor:"pointer"},attrs:{title:"Натисніть щоб прокрути сторінку до блоку №"+(r+1)},on:{click:function(e){return t.scrollToId(n.id)}}},[e("i",{staticClass:"t-icon t-icon-searth"})])])}))],2),t._v(" "),t.checked_ids.length?e("div",[e("span",{staticClass:"a-te-pitanie-obral"},[t._v("Ви обрали "),e("strong",[t._v(t._s(t.checked_ids.length))]),t._v(" "+t._s(t._f("plural")(t.checked_ids.length,["блок","блоки","блоків"]))+"!")]),t._v(" "),!t.is_select_open||t.is_loading?e("div",[e("span",{staticClass:"a-te-pitanie-osnova"},[t._v("На основі них Ви можете:")]),t._v(" "),e("div",{staticClass:"vo-flex-row vertical-center gap05 wrap"},[e("a",{staticClass:"a-test-but-stvorit vo-mb0",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити урок")]),t._v(" "),e("span",[t._v("або")]),t._v(" "),e("a",{staticClass:"a-test-but-stvorit vo-mb0",on:{click:function(e){return t.toggleSelect(e)}}},[t._v("Додати до уроку")]),t._v(" "),e("button",{staticClass:"vo-btn vo-btn-small right",attrs:{type:"button"},on:{click:t.toggleOpen}},[t._v("Скасувати")])])]):t._e()]):e("div",{staticClass:"a-te-pitanie"},[t._v("\n                Щоб продовжити Вам необхідно обрати блоки із запропонованих вище!\n            ")])]),t._v(" "),t.is_select_open?e("div",[t.is_loading?e("Preloader"):t.lessons.length?e("div",{class:{"form-group a-form-g":!0,"has-error":t.is_error_msg}},[e("SearchInput",{attrs:{label:"Оберіть урок:",searchModels:t.lessons,isSearchMode:!0,clearOnBad:!0},on:{"select-category":function(e){t.id_lesson_target=e}}}),t._v(" "),t.is_error_msg?e("div",{staticClass:"help-block"},[t._v("Будь ласка, оберіть урок щоб додати до нього блоки!")]):t._e(),t._v(" "),t.checked_ids.length?e("div",{staticClass:"a-te-pitanie"},[t.checked_ids.length?[t._v("\n                        Якщо у Вас немає потрібного уроку Ви можете "),e("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити урок")]),t._v(" на основі обраних блоків\n                    ")]:[t._v("\n                        Щоб продовжити Вам необхідно обрати блоки із запропонованих вище\n                    ")]],2):t._e(),t._v(" "),e("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.addToMy(e)}}},[t._v("Додати до уроку")]),t._v(" "),e("button",{staticClass:"vo-btn vo-btn-small pull-right",attrs:{type:"button"},on:{click:function(e){t.is_select_open=!1}}},[t._v("Повернутися")])],1):e("div",{staticClass:"a-te-pitanie"},[t._v("\n                У Вас немає жодного уроку. Пропонуємо Вам "),e("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити урок")]),t._v(" на основі обраних блоків.\n                "),e("button",{staticClass:"vo-btn vo-btn-small pull-right",attrs:{type:"button"},on:{click:function(e){t.is_select_open=!1}}},[t._v("Повернутися")])])],1):t._e()]):t._e()])};j._withStripped=!0;var M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-dairy__filter-col n-big-col"},[e("div",{staticClass:"n-input-category n-input-category__dairy",class:{"n-icon__predmet":t.isIcon},attrs:{id:t.iWidgetContainerId}},[!1!==t.label?e("label",{staticClass:"control-label",attrs:{for:t.iInputId}},[t._v(t._s(t.iLabel))]):t._e(),t._v(" "),e("div",{staticClass:"n-input-category__input-con"},[t.isIcon?e("i",{staticClass:"n-top__icon n-icon-l",class:[t.activeCategory?t.activeCategory.icon:""]}):t._e(),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{type:"text",autocomplete:"off",id:t.iInputId,placeholder:t.placeholder},domProps:{value:t.title},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pressEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.keyNavigation(1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.keyNavigation(-1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.showSelectToggle(e)}],input:[function(e){e.target.composing||(t.title=e.target.value)},function(e){return t.showSelect(e.target.value)}],click:function(e){return t.showSelectToggle(e)},blur:function(e){return t.createOnBlur(e)},mousedown:function(e){return t.checkLogin(e)}}}),t._v(" "),e("i",{staticClass:"n-category-input-delete",attrs:{id:t.iClearId},on:{mousedown:function(e){return e.stopPropagation(),t.setTitleFromList("")}}},[e("span",[t._v("+")])])]),t._v(" "),e("ul",{ref:"autocomplete",staticClass:"js-autocomplete vr-filtered-list",attrs:{id:t.iSelectId}},[t.filteredList.length?e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[e("strong",[t._v("Знайдено "+t._s(t._f("plural")(t.filteredList.length,["{n} запис","{n} записи","{n} записів"]))+":")])]):t.maybeSearchingList.length?e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[e("strong",[t._v("Можливо Ви маєте на увазі:")])]):e("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v(t._s(t.isSearchMode?"Нічого не знайдено":"Буде додано новий предмет")+": "),e("strong",[t._v(t._s(t.title))])]),t._v(" "),t._l(t.categoriesList,(function(n){return e("li",{staticClass:"rk-filtered-item",class:{"n-active":t.activeCategory&&t.activeCategory.id===n.id},domProps:{innerHTML:t._s(t.liContent(n))},on:{mousedown:function(e){return t.selectClickedNode(e,n.title)}}})}))],2)])])};M._withStripped=!0;var I=n(285).a,N=Object(p.a)(I,M,[],!1,null,"51ecdc96",null).exports,R=n(54),D={name:"CopyBlocks",filters:{plural:_.ab},components:{SearchInput:N,Preloader:R.a},props:["lesson","blocks"],data:function(){return{is_error_msg:!1,is_loading:!1,is_select_open:!1,is_open:!0,checked_ids:[],id_lesson_target:"",lessons:!1}},computed:{checkAll:{get:function(){return this.checked_ids.length>=this.blocks.length},set:function(t){this.checked_ids=t?this.blocks.map((function(t){return t.id})):[]}}},methods:{toggleOpen:function(){vo.hide("#copy-container")},scrollToId:function(t){vo.scrollTo("#vr-block-"+t)},toggleSelect:function(t){var e=this;this.is_select_open||!1!==this.lessons||(this.is_loading=!0,new Promise((function(e){vo.ajax(t,"/ext/lesson/copy-list",null,(function(t){e(t)}))})).then((function(t){t&&"data"in t&&e.$set(e.$data,"lessons",t.data.lessons)})).finally((function(){e.is_loading=!1}))),this.is_select_open=!this.is_select_open},addToMy:function(t){this.id_lesson_target?this.sendRequest(t):this.is_error_msg=!0},sendRequest:function(t){var e=this,n={id_lesson:this.lesson.id,id_lesson_target:this.id_lesson_target,id_blocks:this.checked_ids};new Promise((function(e){vo.ajax(t,"/ext/lesson/copy",n,(function(t){t&&"data"in t&&e(t)}))})).then((function(n){var r=n.data.url;vo.dlg.confirm(t,e.id_lesson_target?"Урок успішно створено":"Блоки успішно додано","Перейти на сторінку Вашого уроку?",(function(){location.href=r}))}))}},created:function(){var t=this;this.blocks.forEach((function(e){t.checked_ids.push(e.id)}))}},L=Object(p.a)(D,j,[],!1,null,null,null).exports;function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}"lesson"in vo||(vo.lesson={}),vo.lesson.init_quest_copy=function(t,e){"object"!==B(e)&&(e={}),new b.a({render:function(t){return t(L,{props:e})},el:t,components:{CopyBlocks:L}})};var $=n(398);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}"lesson"in vo||(vo.lesson={}),vo.lesson.init_create_testing=function(t,e){"object"!==F(e)&&(e={}),new b.a({el:t,render:function(t){return t($.a,{props:e})}})};n(238);var q=n(240);"widgets"in vo||(vo.widgets={}),vo.widgets.setCategory=function(t,e){new b.a({el:t,render:function(t){return t(q.a,{props:e})}})};var U=function(){var t=this,e=t._self._c;return t.is_load?e("span",{staticClass:"v-bar"}):e("div",{staticClass:"n-modal-plus"},[t._m(0),t._v(" "),e("div",{staticClass:"n-bonus-flex-wrap"},[e("div",{staticClass:"n-bonus-item"},[e("p",[t._v("\n        Вже конвертовано:"),e("span",{staticClass:"n-modal-title-small"},[e("b",[t._v(t._s(t.account.payout))]),t._v(" "+t._s(t.bonusStr(t.account.payout))+" із "),e("b",[t._v(t._s(t.account.total))])])]),t._v(" "),t.account.wait?e("p",[t._v("\n        Очікує на конвертацію:"),e("span",{staticClass:"n-modal-title-small"},[e("b",[t._v(t._s(t.account.wait))]),t._v(" "+t._s(t.bonusStr(t.account.wait)))])]):t._e(),t._v(" "),e("p",[t._v("\n        Доступно для конвертації:"),e("span",{staticClass:"n-modal-title-small"},[e("b",[t._v(t._s(t.account.available))]),t._v(" "+t._s(t.bonusStr(t.account.available)))])]),t._v(" "),e("p",[t._v("\n        Вкажіть кількість бонусів, які Ви бажаєте конвертувати\n      ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.transfer,expression:"transfer",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.transfer},on:{input:function(e){e.target.composing||(t.transfer=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div")]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"n-block-modal-sale",class:{active:t.isPayAcc}},[e("div",{staticClass:"n-top-block-sale"},[e("p",{staticClass:"n-top-block-title"},[e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.setPayAcc}},[t.isPayAcc?e("span",[t._v("✔")]):t._e(),t._v(" Покупки на Всеосвіті")])])]),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPayAcc,expression:"isPayAcc"}]},[e("div",{staticClass:"n-top-block-sale"},[e("p",{staticClass:"n-top-block-sub-title"},[t._v("Буде конвертовано: "),e("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transfer)+" "+t._s(t.bonusStr(t.transfer)))])]),t._v(" "),e("p",{staticClass:"n-top-block-sub-title"},[t._v("Зараховано на внутрішній рахунок: "),e("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transfer)+" грн")])])]),t._v(" "),e("div",{staticClass:"n-bottom-block-sale"},[e("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Бонуси буде переведено на Ваш внутрішній рахунок на Всеосвіті, після чого вони стануть доступні під час\n            оформлення замовлень.")]),t._v(" "),e("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Ви зможете оплатити цими коштами до 100% вартості будь-яких товарів та послуг на Всеосвіті, включаючи фізичні\n            товари (товари, які доставляються поштою). Кошти на внутрішньому рахунку ніколи не сгорають, проте їх не можна\n            передати іншим користувачам.")]),t._v(" "),e("p",{staticClass:"n-bottom-block-sub-title"},[t._v("З коштів переведених на внутрішній рахунок податок не утримується")])])])])],1),t._v(" "),t._e(),t._v(" "),e("div",{staticClass:"n-modal-plus-btn-con"},[e("button",{on:{click:function(e){return t.submit()}}},[t._v(t._s(t.labelSubmit))])])])};U._withStripped=!0;var V=10,z=20,H={name:"plus-transfer",data:function(){return{is_load:!0,account:null,status:0,type:0,_transfer:0}},computed:{transfer:{set:function(t){this.$data._transfer=t>this.account.available?this.account.available:t},get:function(){return this.$data._transfer}},transferCard:{get:function(){return Math.floor(80.5*this.transfer)/100}},transferCardTax:{get:function(){return Math.ceil(19.5*this.transfer)/100}},labelSubmit:{get:function(){return this.type===z&&this.isNeedVerification?"Пройти веріфікацію":"Конвертувати"}},isNeedVerification:{get:function(){return 200!==this.status}},isPayCard:{get:function(){return this.type===z}},isPayAcc:{get:function(){return this.type===V}}},created:function(){var t=this;vo.ajax(null,"/ext/profile/plus-transfer-init",{},(function(e){"data"in e?(t.is_load=!1,t.account=e.data.account,t.status=e.data.status):reject(e)}))},methods:{bonusStr:function(t){return Object(_.ab)(t,["бонус","бонуси","бонусів"])},setPayCard:function(){this.type=z},setPayAcc:function(){this.type=V},submit:function(){var t=this;if(this.type===z&&this.isNeedVerification)aa_DlgPlusTransferActivation();else if([V,z].includes(this.type))if(this.transfer)if(this.transfer>this.account.available)vo.popup("Для конвертації доступно ".concat(this.account.available," ").concat(this.bonusStr(this.account.available)));else{var e=this.isPayAcc?"Ваш внутрішній рахунок":"Вашу банківську картку";vo.dlg.confirm(null,"Конвертація бонусів","На <b>".concat(e,"</b> буде конвертовано <b>").concat(this.transfer,"</b> ").concat(this.bonusStr(this.transfer)),(function(){t.is_load=!0,vo.ajax(null,"/ext/profile/plus-transfer-confirm",{transfer:t.transfer,type:t.type},(function(e){t.is_load=!1}))}))}else vo.popup("Вкажіть кількість бонусів, яку Ви бажаєте конвертувати");else vo.popup("Оберіть спосіб конвертації бонусів")}}},W=(n(1176),Object(p.a)(H,U,[function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-modal-title-wrap"},[e("span",{staticClass:"n-modal-title"},[t._v("Конвертація бонусів")]),t._v(" "),e("span",{staticClass:"n-modal-title-small"},[t._v("Курс:(1 бонус = 1 грн)")])])},function(){var t=this._self._c;return t("div",{staticClass:"n-bonus-flex-wrap"},[t("div",{staticClass:"n-bonus-item"},[t("p",[this._v("\n        Оберіть спосіб конвертації бонусів\n      ")])])])}],!1,null,"1e813b56",null).exports),Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-modal-plus"},[t._m(0),t._v(" "),e("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Компанія Всеосвіта веде свою діяльність абсолютно офіційно та сплачує всі\n        податки,\n        тож для того щоб активувати функцію конвертації бонусів у гривні та мати можливість переводити кошти на Ваш\n        картковий рахунок,\n        Вам необхідно сформувати пакет документів та підписати його електронним підписом, або надіслати нам по пошті\n        із особистим підписом\n    ")]),t._v(" "),e("p",{staticClass:"n-top-block-sub-title"},[t.step>1?e("span",[t._v("✔")]):t._e(),e("b",[t._v("Крок 1")]),t._v(" Ознайомтесь із положенням про\n        партнерську програму "),t.step>1?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=1}}},[e("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),1===t.step?[e("div",{staticClass:"v-input-block"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.accept,expression:"accept"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.accept)?t._i(t.accept,null)>-1:t.accept},on:{change:function(e){var n=t.accept,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.accept=n.concat([null])):o>-1&&(t.accept=n.slice(0,o).concat(n.slice(o+1)))}else t.accept=i}}}),t._v(" Я ознайомився з положенням "),e("a",{attrs:{href:"/site/doc/plus",target:"_blank"}},[t._v("https://vseosvita.ua/site/doc/plus")])])]),t._v(" "),e("div",{staticClass:"v-align-center n-m-bottom"},[e("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep1}},[t._v("Наступний\n                крок")])])]:t._e(),t._v(" "),e("p",{staticClass:"n-top-block-sub-title"},[t.step>2?e("span",[t._v("✔")]):t._e(),e("b",[t._v("Крок 2")]),t._v(" Заповніть форму та сформуйте заяву "),t.step>2?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=2}}},[e("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),2===t.step?[e("div",{staticClass:"v-input-block"},[e("label",[t._v("Прізвище Ім'я По батькові/По матері")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"}],attrs:{type:"text"},domProps:{value:t.full_name},on:{input:function(e){e.target.composing||(t.full_name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Адреса місця проживання")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address_1,expression:"address_1"}],attrs:{rows:"3"},domProps:{value:t.address_1},on:{input:function(e){e.target.composing||(t.address_1=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Адреса місця реєстрації "),t.address_1&&t.address_2!==t.address_1?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.address_2=t.address_1}}},[e("small",[t._v("[копіювати з\n                попереднього]")])]):t._e()]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address_2,expression:"address_2"}],attrs:{rows:"3"},domProps:{value:t.address_2},on:{input:function(e){e.target.composing||(t.address_2=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Документ, що посвідчує Вашу особу")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.passport_type,1)},on:{change:function(e){t.passport_type=1}}}),t._v(" Паспорта громадянина України у вигляді\n                книжки")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.passport_type,2)},on:{change:function(e){t.passport_type=2}}}),t._v(" Паспорта громадянина України у вигляді\n                ID картки")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:3,checked:t._q(t.passport_type,3)},on:{change:function(e){t.passport_type=3}}}),t._v(" Інший документ, що посвідчує\n                особу")])]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Наявність у Вас ідентифікаційного номеру")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn_type,expression:"ipn_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.ipn_type,1)},on:{change:function(e){t.ipn_type=1}}}),t._v(" Так, я маю ідентифікаційной номер")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn_type,expression:"ipn_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.ipn_type,2)},on:{change:function(e){t.ipn_type=2}}}),t._v(" Ні, я не маю ідентифікаційного номеру")])]),t._v(" "),e("div",{staticClass:"v-input-block"},[1===t.ipn_type?e("label",[t._v("РНОКПП (ідентифікаційний код)")]):2===t.ipn_type?e("label",[t._v("Серія та номер паспорту, ким виданий, дата видачі")]):e("label",[t._v("РНОКПП (ідентифікаційний код) або серія та номер паспорту, ким виданий, дата\n                видачі")]),t._v(" "),1===t.ipn_type?e("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn,expression:"ipn"}],attrs:{type:"text"},domProps:{value:t.ipn},on:{input:function(e){e.target.composing||(t.ipn=e.target.value)}}}):e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipn,expression:"ipn"}],attrs:{rows:"3"},domProps:{value:t.ipn},on:{input:function(e){e.target.composing||(t.ipn=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Адреса електронної пошти")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Мобільний телефон")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Банківський рахунок у форматі IBAN")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.iban,expression:"iban"}],attrs:{type:"text"},domProps:{value:t.iban},on:{input:function(e){e.target.composing||(t.iban=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Назва банку")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bank,expression:"bank"}],attrs:{type:"text"},domProps:{value:t.bank},on:{input:function(e){e.target.composing||(t.bank=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-input-block"},[e("label",[t._v("Код банку (МФО)")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mfo,expression:"mfo"}],attrs:{type:"text"},domProps:{value:t.mfo},on:{input:function(e){e.target.composing||(t.mfo=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"v-align-center n-m-bottom"},[e("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep2}},[t._v("Наступний\n                крок")])])]:t._e(),t._v(" "),e("p",{staticClass:"n-top-block-sub-title"},[t.step>3?e("span",[t._v("✔")]):t._e(),e("b",[t._v("Крок 3")]),t._v(" Обрати спосіб підписання заяви "),t.step>3?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=3}}},[e("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),3===t.step?[e("div",{staticClass:"v-input-block"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sign_type,expression:"sign_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.sign_type,1)},on:{change:function(e){t.sign_type=1}}}),t._v(" Підписати електронним підписом")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sign_type,expression:"sign_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.sign_type,2)},on:{change:function(e){t.sign_type=2}}}),t._v(" Підписати особисто та надіслати\n                поштою")])]),t._v(" "),e("div",{staticClass:"v-align-center n-m-bottom"},[e("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep3}},[t._v("Наступний\n                крок")])])]:t._e(),t._v(" "),4===t.step||5===t.step?[1===t.sign_type?e("div",[e("p",{staticClass:"n-top-block-sub-title"},[t._v("Інструкція:")]),t._v(" "),t._m(1),t._v(" "),1===t.passport_type?e("p",[e("b",[t._v("Копії сторінок паспорту")]),t._v(" на яких зазначена інформація про: ПІБ/ПІМ, дата\n                народження, дата видачі та орган видачі, серія та номер паспорту, місця проживання або місце\n                перебування\n                "),2===t.ipn_type?[t._v(", та сторінки з проставлено відмітку про відмову від отримання\n                    ідентифікаційного номеру\n                ")]:t._e(),t._v("\n                ;\n                "),1===t.ipn_type?[e("b",[t._v("копію довідки")]),t._v(" про присвоєння реєстраційного номеру облікової\n                    картки платника податків\n                ")]:t._e()],2):t._e(),t._v(" "),2===t.passport_type?e("p",[e("b",[t._v("Копію ID картки")]),t._v(" з обох сторін на якій наявна інформація про: ПІБ/ПІМ;\n                дату народження; дату видачі та орган видачі; номер ID-картки;\n                "),1===t.ipn_type?[t._v("ідентифікаційний номер")]:[t._v("відмітка про відмову в отриманні ідентифікаційного номеру")],t._v("\n                ; "),e("b",[t._v("копію довідки")]),t._v(" про реєстрацію місця проживання, або "),e("b",[t._v("копію витягу")]),t._v(" з єдиного державного\n                демографічного реєстру щодо реєстрації місця проживання;\n            ")],2):t._e(),t._v(" "),3===t.passport_type?e("p",[e("b",[t._v("Копію всіх сторінок")]),t._v(" відповідного документу що посвідчує особу на яких\n                наявна інформація про: ПІБ/ПІМ; дата видачі та орган видачі, дату народження; місце проживання або місце\n                перебування фізичної особи - резидента України (місце проживання або місце тимчасового перебування\n                фізичної особи - нерезидента в Україні.);")]):t._e(),t._v(" "),t.attachments.length?e("div",t._l(t.attachments,(function(n){return e("div",{staticClass:"v-file-upload-block"},[e("i",{staticClass:"v-success-icon"},[t._v("✔")]),t._v("Файл, "),e("a",{attrs:{href:t.fileUrlOrigin(n.file),target:"_blank"}},[t._v(t._s(n.file_src))]),t._v(" "),e("a",{staticClass:"v-delete-btn",on:{click:function(e){return t.removeAttachment(n)}}},[t._v("x")])])})),0):t._e(),t._v(" "),e("div",{staticClass:"upload"},[e("button",{staticClass:"v-border-upload i-upload-buttonw1",attrs:{type:"button"},on:{click:t.attachFile}},[e("i",{staticClass:"vo-icon download"}),t._v("Обрати\n                    зображення на вашому ПК\n                ")])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"v-align-center n-m-bottom"},[e("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep4}},[t._v("Надіслати\n                    заявку")])])]):t._e(),t._v(" "),2===t.sign_type?e("div",[e("p",{staticClass:"n-top-block-sub-title"},[t._v("Інструкція:")]),t._v(" "),t._m(4),t._v(" "),1===t.passport_type?e("p",[e("b",[t._v("2.")]),t._v(" Додайте до заяви "),e("b",[t._v("копії сторінок паспорту")]),t._v(" на яких зазначена\n                інформація про: ПІБ/ПІМ, дата народження, дата видачі та орган видачі, серія та номер паспорту, місця\n                проживання або місце перебування\n                "),2===t.ipn_type?[t._v(", та сторінки з проставлено відмітку про відмову від отримання\n                    ідентифікаційного номеру\n                ")]:t._e(),t._v("\n                ;\n                "),1===t.ipn_type?[e("b",[t._v("копію довідки")]),t._v(" про присвоєння реєстраційного номеру облікової\n                    картки платника податків\n                ")]:t._e()],2):t._e(),t._v(" "),2===t.passport_type?e("p",[e("b",[t._v("2.")]),t._v(" Додайте до заяви "),e("b",[t._v("копію ID картки")]),t._v(" з обох сторін на якій\n                наявна інформація про: ПІБ/ПІМ; дату народження; дату видачі та орган видачі; номер ID-картки;\n                "),1===t.ipn_type?[t._v("ідентифікаційний номер")]:[t._v("відмітка про відмову в отриманні ідентифікаційного номеру")],t._v("\n                ; "),e("b",[t._v("копію довідки")]),t._v(" про реєстрацію місця проживання, або "),e("b",[t._v("копію витягу")]),t._v(" з єдиного державного\n                демографічного реєстру щодо реєстрації місця проживання;\n            ")],2):t._e(),t._v(" "),3===t.passport_type?e("p",[e("b",[t._v("2.")]),t._v(" Додайте до заяви "),e("b",[t._v("копію всіх сторінок")]),t._v(" відповідного документу\n                що посвідчує особу на яких наявна інформація про: ПІБ/ПІМ; дата видачі та орган видачі, дату народження;\n                місце проживання або місце перебування фізичної особи - резидента України (місце проживання або\n                місце тимчасового перебування фізичної особи - нерезидента в Україні.);")]):t._e(),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),e("div",{staticClass:"v-align-center n-m-bottom"},[e("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$emit("close")}}},[t._v("Завершити")])])]):t._e()]:t._e()],2)};Y._withStripped=!0;var G=n(43);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}var K={name:"transfer-activation",computed:{},data:function(){return{step:1,accept:!1,full_name:"",address_1:"",address_2:"",ipn:"",email:"",phone:"",iban:"",bank:"",mfo:"",sign_type:0,passport_type:0,ipn_type:0,attachments:[]}},methods:{submitStep1:function(){this.accept?(this.step=2,this.save()):vo.popup("Вам необхідно ознайомитись із положенням про партнерську програму")},submitStep2:function(){var t=[];this.full_name||t.push("Прізвище Ім'я По батькові/По матері"),this.address_1||t.push("Адреса місця проживання"),this.address_2||t.push("Адреса місця реєстрації"),this.passport_type||t.push("Документ, що посвідчує Вашу особу"),this.ipn_type||t.push("Наявність у Вас ідентифікаційного номеру"),this.ipn||t.push(1===this.ipn_type?"РНОКПП (ідентифікаційний код)":2===this.ipn_type?"Серія та номер паспорту, ким виданий, дата видачі":"РНОКПП (ідентифікаційний код) або серія та номер паспорту, ким виданий, дата видачі"),this.email||t.push("Адреса електронної пошти"),this.phone||t.push("Мобільний телефон"),this.iban||t.push("Банківський рахунок у форматі IBAN"),this.bank||t.push("Назва банку"),this.mfo||t.push("Код банку (МФО)"),t.length?vo.popup("<b>Вам необхідно вказати наступні дані:</b><br >"+t.join("<br />")):(this.step=3,this.save())},submitStep3:function(){this.sign_type?(this.step=4,this.save()):vo.popup("Вам необхідно обрати спосіб підписання документів")},submitStep4:function(){this.attachments.length<3?vo.popup("Вам необхідно прикріпити скани всіх документів"):(this.step=5,this.save())},updateData:function(t){var e=this;t&&Object.keys(this.$data).forEach((function(n){if(n in t)switch(J(e.$data[n])){case"number":b.a.set(e.$data,n,Number(t[n]));break;case"boolean":b.a.set(e.$data,n,"string"==typeof t[n]?"true"===t[n]:Boolean(t[n]));break;default:"attachments"!==n||t[n]||console.log(n,t[n]),b.a.set(e.$data,n,"attachments"!==n||t[n]?t[n]:[])}}))},save:function(){var t=this;vo.ajax(null,"/ext/profile/plus-activation-init",{data:this.$data},(function(e){"data"in e&&t.updateData(e.data)}))},attachFile:function(){var t=this,e=document.createElement("input");e.type="file",e.accept=G.a,e.multiple=!0,e.onchange=function(){t.uploadFiles(e.files)},e.click()},removeAttachment:function(t){var e=this.attachments.indexOf(t);e>=0&&this.attachments.splice(e,1)},uploadFile:function(t){var e=this;return new Promise((function(n,r){Object(_.mb)({file:t,access:l.ACCESS_OWNER},{success:function(t){var r=t.data;e.attachments.push(r),n(r)},error:function(t){r(t)},uploadProgress:function(t,n,r,i){e.uploadProgress=i}})}))},uploadFiles:function(t){for(var e=this,n=Array.prototype.slice.apply(t),r=Promise.resolve(),i=function(t){r=r.then((function(){return e.uploadFile(n[t])}))},o=0;o<n.length;++o)i(o);r.catch((function(t){return Object(_.ib)(t)}))},fileUrlOrigin:function(t){return Object(_.v)(t)}},created:function(){var t=this;vo.ajax(null,"/ext/profile/plus-activation-init",{},(function(e){"data"in e&&t.updateData(e.data)}))}},Q=Object(p.a)(K,Y,[function(){var t=this._self._c;return t("div",{staticClass:"n-modal-title-wrap"},[t("span",{staticClass:"n-modal-title"},[this._v("Активація виведення коштів на картку")])])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("1.")]),t._v(" Відскануйте або сфотографуйте наступні документи та прикріпить їх на цій сторінці:")])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("2.")]),t._v(" Після отримання заявки, протягом одного робочого дня, на Вашу електронну пошту буде\n                надіслане запрошення для підписання пакету документів у сервісі "),e("b",[t._v("https://paperless.com.ua/")])])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("3.")]),t._v(" Після підписання Вами документів електронним підписом, протягом одного робочого дня, Вам\n                буде активовано можливість отримувати кошти на Ваш картковий рахунок, про що Вас буде додатково\n                проінформовано на електронну пошту.")])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("1.")]),t._v(" Завантажте сгенеровану заяву, роздрукуйте та підпишить "),e("a",{attrs:{href:"/profile/download-tpl-by-type/?type=12",target:"_blank"}},[t._v("[завантажити]")])])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("Важливо!")]),t._v(" Всі копії документів засвідчити підписом, як такі, що відповідають оригіналу,\n                приклад: "),e("i",[t._v("«Згідно з оригіналом» ПІБ/ПІМ, підпис Користувача сайту, дата")])])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("3.")]),t._v(" Надішліть пакет документів поштою на адресу: 04080, м. Київ, вул. Кирилівська, будинок 82,\n                офіс 256, ТОВ «ВСЕОСВІТА»;")])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("4.")]),t._v(" Після отримання Ваших документів, протягом одного робочого дня, Вам буде активовано\n                можливість отримувати кошти на Ваш картковий рахунок, про що Вас буде додатково проінформовано на\n                електронну пошту.")])}],!1,null,"07eecbe7",null).exports;window.aa_DlgPlusTransfer=function(){Object(_.hb)(W)},window.aa_DlgPlusTransferActivation=function(){Object(_.hb)(Q)};var X=n(310);"widgets"in vo||(vo.widgets={}),vo.widgets.selectCity=function(t,e){new b.a({el:t,render:function(t){return t(X.a,{props:e})}})};var Z=n(201),tt=n(221),et=n(399),nt=n(82),rt=n(400);vo.docComments=function(t,e,n,r,i,o,s){vo.obj_type=parseInt(t),vo.obj_id=parseInt(e),vo.obj_sub_id=parseInt(n),new b.a({el:"#app-comments",render:function(a){return a(Z.a,{props:{obj_type:t,obj_id:e,obj_sub_id:n,widget_type:i,stop_msg:o,is_check_pay:r,widgetStaticData:s}})},store:tt.a})},vo.taskJournalComments=function(t,e,n){e=parseInt(e),n=parseInt(n),vo.obj_type=l.OBJ_TYPE_JOURNAL_TASK,vo.obj_id=e,vo.obj_sub_id=n,new b.a({el:t,render:function(t){return t(et.a,{props:{id_task:e,access:n,auth_mode:nt.d}})},store:tt.a})},vo.journalComments=function(t,e){e=parseInt(e),vo.obj_type=l.OBJ_TYPE_JOURNAL,vo.obj_id=e,vo.obj_sub_id=0,new b.a({el:t,render:function(t){return t(rt.a,{props:{id_journal:e,auth_mode:nt.d}})},store:tt.a})};var it=n(401),ot=n(243);n(560);vo.likeButton=function(t,e){new b.a({el:t,render:function(t){return t(it.a,{props:e})}})},vo.likeStatic=function(t,e){new b.a({el:t,render:function(t){return t(ot.a,{props:e})}})};var st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"n-modal-wraper"},[e("div",{staticClass:"n-modal-menu"},[e("a",{staticClass:"n-menu-btn-close",attrs:{title:"Згорнути меню"},on:{click:function(e){return t.$emit("close")}}}),t._v(" "),e("div",{staticClass:"n-modal-menu-con-item-mobile"},[e("div",[e("p",{staticClass:"n-title-menu",domProps:{textContent:t._s(t.menuItem.title)}}),t._v(" "),t._l(t.menuItem.items,(function(n){return e("a",{staticClass:"n-modal-menu_item",attrs:{href:n.url}},[e("div",{staticClass:"n-menu__info-con"},[n.labelHeader?e("p",{staticClass:"n-menu__title",domProps:{innerHTML:t._s(n.labelHeader)}}):n.label?e("div",{staticClass:"n-menu__title"},[e("span",{domProps:{innerHTML:t._s(n.label)}}),t._v(" "),n.arrDropdown?e("div",{staticClass:"dropdown"},t._l(n.arrDropdown,(function(n){return e("a",{attrs:{href:n.dropdownUrl}},[e("span",{staticClass:"vo-weight-100"},[t._v(t._s(n.iconListDropdown))]),t._v(" "+t._s(n.dropdownTitle)+"\n                              ")])})),0):t._e()]):t._e(),t._v(" "),n.description?e("p",{staticClass:"n-menu__description",domProps:{innerHTML:t._s(n.description)}}):"/webinar"===n.url?e("p",{staticClass:"n-menu__description"},[t.webinar.online?e("i",{staticClass:"v-rec-icon"}):t._e(),t.webinar.planned?e("span",{staticClass:"vo-color-green"},[t._v("Заплановано "),e("span",{domProps:{textContent:t._s(t.webinar.planned)}}),e("br")]):t._e(),t._v("\n                          Проведено "),e("span",{domProps:{textContent:t._s(t.webinar.finished)}}),e("br"),t._v("\n                          Зареєстровано "),e("span",{domProps:{textContent:t._s(t.webinar.user)}})]):"/course"===n.url?e("p",{staticClass:"n-menu__description"},[t.course.planned?e("span",{staticClass:"vo-color-green"},[t._v("Заплановано "),e("span",{domProps:{textContent:t._s(t.course.planned)}}),e("br")]):t._e(),t._v("\n                          Відкрито "),e("span",{domProps:{textContent:t._s(t.course.total)}}),e("br"),t._v("\n                          Зареєстровано "),e("span",{domProps:{textContent:t._s(t.course.user)}})]):"/conference/list"===n.url?e("p",{staticClass:"n-menu__description"},[t.conference.online?e("i",{staticClass:"v-rec-icon"}):t._e(),t.conference.planned?e("span",{staticClass:"vo-color-green"},[t._v("Заплановано "),e("span",{domProps:{textContent:t._s(t.conference.planned)}}),e("br")]):t._e(),t._v("\n                          Проведено "),e("span",{domProps:{textContent:t._s(t.conference.finished)}}),e("br"),t._v("\n                          Зареєстровано "),e("span",{domProps:{textContent:t._s(t.conference.user)}})]):"/seminar/list"===n.url?e("p",{staticClass:"n-menu__description"},[t.seminar.online?e("i",{staticClass:"v-rec-icon"}):t._e(),t.seminar.planned?e("span",{staticClass:"vo-color-green"},[t._v("Заплановано "),e("span",{domProps:{textContent:t._s(t.seminar.planned)}}),e("br")]):t._e(),t._v("\n                          Проведено "),e("span",{domProps:{textContent:t._s(t.seminar.finished)}}),e("br"),t._v("\n                          Зареєстровано "),e("span",{domProps:{textContent:t._s(t.seminar.user)}})]):"/marathon/list"===n.url?e("p",{staticClass:"n-menu__description"},[t.marathon.online?e("i",{staticClass:"v-rec-icon"}):t._e(),t.marathon.planned?e("span",{staticClass:"vo-color-green"},[t._v("Заплановано "),e("span",{domProps:{textContent:t._s(t.marathon.planned)}}),e("br")]):t._e(),t._v("\n                          Проведено "),e("span",{domProps:{textContent:t._s(t.marathon.started)}}),e("br"),t._v("\n                          Зареєстровано "),e("span",{domProps:{textContent:t._s(t.marathon.user)}})]):t._e()])])}))],2)]),t._v(" "),e("button",{staticClass:"n-menu-return-btn",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Повернутися")])])])};st._withStripped=!0;var at={name:"App",props:{menuKey:[Number]},components:{Preloader:R.a},filters:{},data:function(){return{is_loading:!0,webinar:{started:0,planned:0,user:0,finished:0,online:0},course:{total:0,started:0,planned:0,user:0},conference:{started:0,planned:0,user:0,finished:0,online:0},seminar:{started:0,planned:0,user:0,finished:0,online:0},marathon:{started:0,planned:0,user:0}}},methods:{fetchData:function(){var t=this;this.is_loading=!0,vo.ajax(null,"/ext/user/menu",null,(function(e){e&&"data"in e&&(t.is_loading=!1)}))},getCounters:function(){var t=this;vo.ajax(null,"/ext/site/menu-counters",null,(function(e){e&&"data"in e&&(t.seminar=e.data.seminar,t.conference=e.data.conference,t.marathon=e.data.marathon,t.webinar=e.data.webinar,t.course=e.data.course)}))}},computed:{menuItem:function(){return vo.menu.items[this.menuKey]||{title:"",items:[]}}},created:function(){this.menuKey===vo.menu.counters_item&&this.getCounters()}},ct=Object(p.a)(at,st,[],!1,null,"0474e45e",null).exports;"menu"in vo||(vo.menu={}),vo.menu.is_inited=!1,vo.menu.counters_item=null,vo.menu.default_item=null,vo.menu.items={},vo.menu._dlg=null,vo.menu._dlg_container=window.document.getElementById("vr-menu-dlg"),vo.menu._destroy=function(){vo.menu._dlg&&(vo.menu._dlg.$destroy(),vo.menu._dlg=null,vo.menu._dlg_container.innerHTML="")},vo.menu.show=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo.menu.default_item;if(!vo.menu.is_inited)return!1;var e={propsData:{menuKey:t}};vo.menu._destroy();var n=b.a.extend(ct);return vo.menu._dlg_container.innerHTML="<div id='vr-menu-dlg-mount'></div>",vo.menu._dlg=new n(e).$mount("#vr-menu-dlg-mount"),window.document.body.style.overflow="hidden",vo.show(vo.menu._dlg_container),vo.menu._dlg.$on("close",(function(){vo.menu.hide()})),vo.menu._dlg},vo.menu.hide=function(){vo.hide(vo.menu._dlg_container),window.document.body.style.overflow="auto",vo.menu._destroy()};var lt=function(){var t=this,e=t._self._c;return e("div",[e("span",{staticClass:"vo-icon close n-close",attrs:{onclick:"vo.dlg.hide();"}}),t._v(" "),t.title?e("p",{staticClass:"n-j-modal-title n-m-align-center"},[t._v("\n        "+t._s(t.title)+"\n    ")]):t._e(),t._v(" "),t.description?e("div",{staticClass:"n-j-label-modal"},[t._v("\n        "+t._s(t.description)+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"vo-mb05"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy"}],attrs:{src:t.captcha_url,alt:""}})]),t._v(" "),e("div",{staticClass:"vo-mb05"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_value,expression:"captcha_value"}],ref:"CaptchaInput",attrs:{type:"text",placeholder:"Впишіть сюди результат..."},domProps:{value:t.captcha_value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)},input:function(e){e.target.composing||(t.captcha_value=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"n-j-row-modal-btn"},[e("button",{staticClass:"vo-btn-green",attrs:{type:"button"},on:{click:t.save}},[t._v("Продовжити")]),t._v(" "),e("button",{staticClass:"vo-btn-silver",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Скасувати")])])])};function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ut(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}lt._withStripped=!0;var pt={name:"VOCaptcha",props:["confirm_ajax_url","confirm_ajax_data_obj","componentOptions"],components:{HelpLabel:n(392).a},data:function(){return{captcha_url:"captcha_url"in this.componentOptions?this.componentOptions.captcha_url:"",captcha_mode:"captcha_mode"in this.componentOptions?this.componentOptions.captcha_mode:"",captcha_name:"captcha_name"in this.componentOptions?this.componentOptions.captcha_name:"",captcha_value:"captcha_value"in this.componentOptions?this.componentOptions.captcha_value:"",captcha_error:"captcha_error"in this.componentOptions?this.componentOptions.captcha_error:"",title:"title"in this.componentOptions&&this.componentOptions.title?this.componentOptions.title:"Пройдіть перевірку",description:"description"in this.componentOptions?this.componentOptions.description:""}},methods:{save:function(t){var e,n=this.confirm_ajax_url,r=dt(dt({},this.confirm_ajax_data_obj),{},(ht(e={},this.captcha_name,this.captcha_value),ht(e,"captcha_mode",this.captcha_mode),e));vo.ajax(t,n,r)}},mounted:function(){this.captcha_error&&vo.popup.error(this.captcha_error),this.$refs.CaptchaInput.focus()}},vt=Object(p.a)(pt,lt,[],!1,null,"d50b5202",null).exports;"captcha"in vo||(vo.captcha={}),vo.captcha.dlg=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(_.hb)(vt,{propsData:{confirm_ajax_url:t,confirm_ajax_data_obj:e,componentOptions:n}})};n(561);var mt=n(239),gt=function(){var t=this,e=t._self._c;return e("div",[t.confirm?!0===t.confirm?e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),e("div",{staticClass:"vo-block-yellow vo-small"},[e("p",[t._v("Ми відправили код підтвердження на ваш мобільний телефон "),e("b",[t._v(t._s(t.phone))])]),t._v(" "),e("p",[t._v("Впишіть отриманий код у поле нижче")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorSummary,expression:"errorSummary"}],staticClass:"error-summary",domProps:{innerHTML:t._s(t.errorSummary)}}),t._v(" "),e("div",{staticClass:"form-group field-login-email required",class:{"has-error":t.errorPhoneCode}},[e("label",{staticClass:"control-label",attrs:{for:"confirm-phone"}},[t._v("Код підтвердження Номеру телефона")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhoneCode))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_code,expression:"phone_code"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"confirm-phone"},domProps:{value:t.phone_code},on:{change:t.validatePhoneCode,input:function(e){e.target.composing||(t.phone_code=e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Підтвердити")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.close(e)}}},[t._v("скасувати")])])])]):e("div",[t._m(1),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.reload(e)}}},[t._v("Все добре!")])])])]):e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.sendCode(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),t.msg?e("div",{staticClass:"vo-block-yellow vo-small"},[e("p",[t._v(t._s(t.msg))])]):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorSummary,expression:"errorSummary"}],staticClass:"error-summary",domProps:{innerHTML:t._s(t.errorSummary)}}),t._v(" "),e("div",{staticClass:"form-group field-registration-phone",class:{"has-error":t.errorPhone}},[e("label",{staticClass:"control-label",attrs:{for:"registration-phone"}},[t._v("Мобільний телефон")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhone))]),t._v(" "),t.is_new?e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"registration-phone"},domProps:{value:t.phone},on:{change:t.validatePhone,input:function(e){e.target.composing||(t.phone=e.target.value)}}}):e("b",[t._v(t._s(t.phone))])]),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.sendCode(e)}}},[t._v("\n                    "+t._s(t.is_new?"Зберегти і відправити СМС":"Відправити СМС")+"\n                ")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.close(e)}}},[t._v("скасувати")])])])])])};function yt(t,e,n){return new Promise((function(r,i){vo.ajaxQueueMain(t,e,n).then((function(t){return"errorSummary"in t?i(t.errorSummary):r(t)})).catch((function(t){return i(t.responseJSON.message)}))}))}gt._withStripped=!0;var _t={name:"phone-confirm",props:{is_new:{default:0},msg:{default:""},phone:{default:""},action:{default:0},action_id:{default:0}},data:function(){return{confirm:!1,errorSummary:"",isReadOnly:!1,errorPhone:"",phone_code:"",errorPhoneCode:""}},methods:{validatePhone:function(){if(!this.is_new)return!0;if(!this.phone.trim())return this.errorPhone="Це поле не може бути порожнім",!1;var t=!/^380\d{9}$/.test(this.phone.replace(/\D+/g,""));return this.phone.trim().length&&t?this.errorPhone="Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":this.errorPhone="",!this.errorPhone},validatePhoneCode:function(){return this.phone&&!this.phone_code?this.errorPhoneCode="Це поле не може бути порожнім":this.errorPhoneCode="",!this.errorPhoneCode},sendCode:function(t){var e=this;(this.errorSummary="",this.validatePhone())&&yt(t,"auth/phone-check",{form:{is_new:this.is_new,phone:this.is_new||this.isReadOnly?this.phone.trim():"",action:this.action,action_id:this.action_id}}).then((function(t){var n;return e.confirm=null!==(n=t.confirm)&&void 0!==n&&n})).catch((function(t){return e.errorSummary=t}))},submit:function(t){var e=this;(this.errorSummary="",this.validatePhone())?yt(t,"auth/phone-confirm",{form:{is_new:this.is_new,phone:this.is_new||this.isReadOnly?this.phone.trim():"",action:this.action,action_id:this.action_id},confirm:{phone:this.is_new||this.isReadOnly?this.phone.trim():"",phone_code:this.phone_code}}).then((function(t){return e.confirm=50})).catch((function(t){return e.errorSummary=t})):this.confirm=!1},reload:function(t){location.reload()},close:function(t){vo.dlg.hide()}},created:function(){var t=this;this.phone&&(this.isReadOnly=!0),vo.ajaxQueueMain(null,"auth/init-access",{}).then((function(e){t.isReadOnly?t.is_new=0:e.auth&&e.authProfile.phone?t.phone=t.is_new?"":e.authProfile.phone:t.is_new=1})).catch((function(t){vo.popup.errorByResponse(t,!1)}))}},bt=Object(p.a)(_t,gt,[function(){var t=this,e=t._self._c;return e("p",{staticClass:"v-add-license"},[t._v("\n                    Продовжуючи, ви отримаєте одноразовий код підтвердження на свій номер телефону за допомогою SMS.\n                    Може стягуватися плата за повідомлення та передачу даних.\n                    "),e("br"),t._v(" "),e("i",[t._v("* для номерів телефонів українських мобільних операторів на території України - "),e("b",[t._v("безкоштовно")])])])},function(){var t=this._self._c;return t("div",{staticClass:"key_login__section"},[t("p",[this._v("Незабаром сторінка перезавантажиться")])])}],!1,null,"3e8493c1",null).exports,wt=n(244),kt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[t.auth?e("div",[t._m(0),t._v(" "),e("profile",{attrs:{profile:t.authProfile}})],1):t._e(),t._v(" "),e("hybridauth",{directives:[{name:"show",rawName:"v-show",value:t.isHA,expression:"isHA"}]}),t._v(" "),e("form",{directives:[{name:"show",rawName:"v-show",value:t.isVO,expression:"isVO"}],attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.restore_msg,expression:"restore_msg"}],staticClass:"vo-block-yellow vo-small"},[e("p",{domProps:{innerHTML:t._s(t.restore_msg)}})]),t._v(" "),e("error-summary"),t._v(" "),e("div",{staticClass:"form-group field-login-email required",class:{"has-error":t.errorEmail}},[e("label",{staticClass:"control-label",attrs:{for:"login-email"}},[t._v("E-mail або Номер телефону")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmail))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"login-email"},domProps:{value:t.email},on:{change:t.validateEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group field-login-password required",class:{"has-error":t.errorPassword}},[e("label",{staticClass:"control-label",attrs:{for:"login-password"}},[t._v("Пароль")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPassword))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"login-password"},domProps:{value:t.password},on:{change:t.validatePassword,input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),e("div",[e("router-link",{attrs:{to:{name:"restore"}}},[t._v("Відновити пароль?")])],1)],1)],1),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.isVO,expression:"isVO"}],staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Увійти")]),t._v(" "),t.auth?e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.logout(e)}}},[t._v("вийти")]):t._e()])])])};kt._withStripped=!0;var xt=function(){var t=this,e=t._self._c;return e("div",[t.is_update?e("span",{staticClass:"v-bar"}):e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isFacebook,expression:"isFacebook"}],staticClass:"v-facebook-login-section"},[e("a",{staticClass:"v-facebook-main-btn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.auth("facebook")}}},[e("i"),t._v(" "),e("span",[t._v("Увійти через Facebook")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isGoogle,expression:"isGoogle"}],staticClass:"v-facebook-login-section"},[e("a",{staticClass:"v-google-main-btn",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.auth("google")}}},[e("i",[e("svg",{staticClass:"abcRioButtonSvg",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48"}},[e("g",[e("path",{attrs:{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}}),t._v(" "),e("path",{attrs:{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}}),t._v(" "),e("path",{attrs:{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}}),t._v(" "),e("path",{attrs:{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}}),t._v(" "),e("path",{attrs:{fill:"none",d:"M0 0h48v48H0z"}})])])]),t._v(" "),e("span",[t._v("Увійти через Google")])])])])])};xt._withStripped=!0;var St=n(12),Ct=n(49);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function At(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ot(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ot(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt={name:"hybridauth",data:function(){return{is_update:!1}},computed:Pt(Pt({},(0,Object(St.a)("Auth").mapState)(["authProvider","provider"])),{},{isFacebook:function(){return[-1,Ct.a].includes(this.authProvider)},isGoogle:function(){return[-1,Ct.b].includes(this.authProvider)}}),methods:{auth:function(t){var e=this;this.$store.commit("Auth/errorSummary",""),this.is_update=!0,this.$store.commit("Auth/provider",t);var n="/social-network/auth/p/".concat(this.provider),r=window.open(n,"authWindow","width=600,height=500,scrollbars=yes,resizable,status");null==r||r.focus();var i=setInterval((function(){r.closed&&(clearInterval(i),e.is_update=!1)}),1e3)},checkAuth:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=n&&null!==(t=n.detail)&&void 0!==t&&t.authError)return this.$store.commit("Auth/errorSummary",n.detail.authError),void(this.is_update=!1);this.$store.dispatch("Auth/signOauth",{event:n}).then((function(t){e.$router.push({name:"sign-oauth"})})).catch((function(t){e.is_update=!1}))}},created:function(){window.addEventListener("closeAuthWindow",this.checkAuth)},destroyed:function(){window.removeEventListener("closeAuthWindow",this.checkAuth)}},jt=Tt,Mt=Object(p.a)(jt,xt,[],!1,null,"4699bad4",null).exports,It=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorSummary,expression:"errorSummary"}],staticClass:"error-summary",domProps:{innerHTML:t._s(t.errorSummary)}})])};function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}It._withStripped=!0;var Lt={name:"error-summary",computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,Object(St.a)("Auth").mapState)(["errorSummary"]))},Bt=Lt,$t=Object(p.a)(Bt,It,[],!1,null,"167906ab",null).exports,Ft=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"n-login__title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"n-wrap__user-login"},[e("div",{staticClass:"n-row__login"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"avatar"in t.profile&&t.profile.avatar,expression:"'avatar' in profile && profile.avatar"}],staticClass:"n-col__login"},[e("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:t.avatarUrl}})]),t._v(" "),e("div",{staticClass:"n-col__login"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"full_name"in t.profile,expression:"'full_name' in profile"}],staticClass:"n-text-info__login"},[t._v(t._s(t.profile.full_name))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"email"in t.profile,expression:"'email' in profile"}],staticClass:"n-text-info__login"},[t._v(t._s(t.profile.email))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"phone"in t.profile,expression:"'phone' in profile"}],staticClass:"n-text-info__login"},[t._v(t._s(t.profile.phone))])])])])])};Ft._withStripped=!0;var qt={name:"profile",props:{title:String,profile:Object,isAvatarExt:!1},computed:{avatarUrl:function(){return"avatar"in this.profile&&this.profile.avatar?this.isAvatarExt?this.profile.avatar:Object(_.u)(this.profile.avatar,90,90):""}}},Ut=Object(p.a)(qt,Ft,[],!1,null,"7929ed82",null).exports;function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){Wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Vt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yt={name:"sign-in",components:{Profile:Ut,ErrorSummary:$t,Hybridauth:Mt},data:function(){return{email:"",password:"",errorEmail:"",errorPassword:""}},computed:Ht(Ht({},(0,Object(St.a)("Auth").mapState)(["login","restore_msg","auth","authProfile","authProvider"])),{},{isHA:function(){return[-1,Ct.a,Ct.b].includes(this.authProvider)},isVO:function(){return[-1,Ct.c].includes(this.authProvider)}}),methods:{validateEmail:function(){if(!this.email.trim())return this.errorEmail="Це поле не може бути порожнім",!1;var t=/@/.test(this.email)||!this.email.replace(/\D+/g,"").length,e=t?!/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(this.email.trim()):!/^380\d{9}$/.test(this.email.replace(/\D+/g,""));return this.errorEmail=e?t?"Email містить помилки":"Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":"",!this.errorEmail},validatePassword:function(){return this.password?this.errorPassword="":this.errorPassword="Це поле не може бути порожнім",!this.errorPassword},submit:function(t){if(this.$store.commit("Auth/restoreMsg",""),this.validateEmail()&&this.validatePassword()){var e={email:this.email.trim(),password:this.password};this.$store.dispatch("Auth/signIn",{login:e,event:t}).then((function(t){vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){}))}},logout:function(t){this.$store.dispatch("Auth/signOut",{event:t}).then((function(t){})).catch((function(t){}))}},created:function(){this.email=this.login.email.trim()},destroyed:function(){this.$store.commit("Auth/restoreMsg",""),this.$store.commit("Auth/login",{email:this.email.trim(),password:this.password})}},Gt=Object(p.a)(Yt,kt,[function(){var t=this._self._c;return t("div",{staticClass:"vo-block-yellow vo-small"},[t("p",[this._v("Щоб продовжити працювати з порталом Всеосвіта, Вам необхідно повторно авторизуватися")])])}],!1,null,"3f8bafaf",null).exports,Jt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("hybridauth"),t._v(" "),e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),e("error-summary"),t._v(" "),e("div",{staticClass:"form-group field-registration-full_name required",class:{"has-error":t.errorFullName}},[e("label",{staticClass:"control-label",attrs:{for:"registration-full_name"}},[t._v("Прізвище, ім'я та по батькові/по матері")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorFullName))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"registration-full_name"},domProps:{value:t.full_name},on:{change:t.validateFullName,input:function(e){e.target.composing||(t.full_name=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group field-registration-email required",class:{"has-error":t.errorEmail}},[e("label",{staticClass:"control-label",attrs:{for:"registration-email"}},[t._v("Електронна адреса")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmail))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"registration-email"},domProps:{value:t.email},on:{change:t.validateEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),t.phone?e("div",{staticClass:"form-group field-registration-phone",class:{"has-error":t.errorPhone}},[e("label",{staticClass:"control-label",attrs:{for:"registration-phone"}},[t._v("Мобільний телефон")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhone))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"registration-phone"},domProps:{value:t.phone},on:{change:t.validatePhone,input:function(e){e.target.composing||(t.phone=e.target.value)}}})]):t._e(),t._v(" "),e("div",{staticClass:"form-group field-registration-password required",class:{"has-error":t.errorPassword}},[e("label",{staticClass:"control-label",attrs:{for:"registration-password"}},[t._v("Пароль")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPassword))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"registration-password"},domProps:{value:t.password},on:{change:t.validatePassword,input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group field-registration-type",class:{"has-error":t.errorType}},[e("label",{staticClass:"control-label"},[t._v("Профіль")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorType))]),t._v(" "),e("div",{attrs:{id:"registration-type",role:"radiogroup"}},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_TEACHERS,checked:t._q(t.type,t.TYPE_TEACHERS)},on:{change:function(e){t.type=t.TYPE_TEACHERS}}}),t._v("\n                        Педагогічний та/або науково-педагогічний працівник\n                    ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_PUPILS,checked:t._q(t.type,t.TYPE_PUPILS)},on:{change:function(e){t.type=t.TYPE_PUPILS}}}),t._v("\n                        Здобувач освіти (учень, студент тощо)\n                    ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_PARENTS,checked:t._q(t.type,t.TYPE_PARENTS)},on:{change:function(e){t.type=t.TYPE_PARENTS}}}),t._v("\n                        Інше (батьки/опікуни тощо)\n                    ")])])]),t._v(" "),e("p",{staticClass:"v-add-license"},[t._v("Реєструючись, Ви погоджуєтесь з "),e("a",{attrs:{href:"/site/doc/privacy-policy",target:"_blank"}},[t._v("політикою конфіденційності")]),t._v("\n                та "),e("a",{attrs:{href:"/site/doc/user-agreement",target:"_blank"}},[t._v("угодою користувача")]),t._v(", а\n                також даєте згоду на отримання інформаційних розсилок.\n                "),t.phone?[e("br"),t._v("\n                    Продовжуючи, ви отримаєте одноразовий код підтвердження на свій номер телефону за допомогою SMS.\n                    Може стягуватися плата за повідомлення та передачу даних.\n                    "),e("br"),t._v(" "),t._m(0)]:t._e()],2)],1)],1),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("button",{attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Зареєструватися")])])])};Jt._withStripped=!0;var Kt=n(121);function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Qt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te={name:"sign-up",components:{ErrorSummary:$t,Hybridauth:Mt},data:function(){return{TYPE_TEACHERS:Kt.d,TYPE_PUPILS:Kt.c,TYPE_PARENTS:Kt.b,full_name:"",email:"",phone:"",password:"",type:Kt.a,errorFullName:"",errorEmail:"",errorPhone:"",errorPassword:"",errorType:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,Object(St.a)("Auth").mapState)(["registration","login"])),methods:{validateFullName:function(){return this.full_name.trim().length?this.errorFullName="":this.errorFullName="Ім'я не може бути порожнім",!this.errorFullName},validateEmail:function(){if(!this.email.trim())return this.errorEmail="Це поле не може бути порожнім",!1;var t=!/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(this.email.trim());return this.errorEmail=t?"Email містить помилки":"",!this.errorEmail},validatePhone:function(){var t=!/^380\d{9}$/.test(this.phone.replace(/\D+/g,""));return this.phone.trim().length&&t?this.errorPhone="Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":this.errorPhone="",!this.errorPhone},validatePassword:function(){return this.password?this.errorPassword="":this.errorPassword="Це поле не може бути порожнім",!this.errorPassword},submit:function(t){var e=this;if(this.validateFullName()&&this.validateEmail()&&this.validatePhone()&&this.validatePassword()){var n={full_name:this.full_name.trim(),email:this.email.trim(),phone:this.phone.trim(),password:this.password,type:parseInt(this.type)};this.$store.dispatch("Auth/signUp",{form:n,event:t}).then((function(t){"confirm"in t&&t.confirm?e.$router.push({name:"sign-confirm",params:{routeName:"sign-up"}}):vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){}))}}},created:function(){var t=/@/.test(this.login.email)||!this.login.email.replace(/\D+/g,"").length;this.full_name=this.registration.full_name.trim(),this.email=this.registration.email.trim(),this.phone=this.registration.phone.trim(),this.type=parseInt(this.registration.type),!this.email&&t&&(this.email=this.login.email.trim()),this.phone||t||(this.phone=this.login.email.trim())},destroyed:function(){this.$store.commit("Auth/registration",{full_name:this.full_name.trim(),email:this.email.trim(),phone:this.phone.trim(),password:this.password,type:parseInt(this.type)})}},ee=te,ne=Object(p.a)(ee,Jt,[function(){var t=this,e=t._self._c;return e("i",[t._v("* для номерів телефонів українських мобільних операторів на території України - "),e("b",[t._v("безкоштовно")])])}],!1,null,"a390ac6c",null).exports,re=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),t.email&&t.phone?e("div",{staticClass:"vo-block-yellow vo-small"},[e("p",[t._v("Ми відправили два різні коди на вашу електронну адресу "),e("b",[t._v(t._s(t.email))]),t._v(" та мобільний телефон\n                    "),e("b",[t._v(t._s(t.phone))])]),t._v(" "),e("p",[t._v("Впишіть отримані коди у відповідні поля нижче")])]):t.email?e("div",{staticClass:"vo-block-yellow vo-small"},[e("p",[t._v("Ми відправили код підтвердження на вашу електронну адресу "),e("b",[t._v(t._s(t.email))])]),t._v(" "),e("p",[t._v("Впишіть отриманий код у поле нижче")])]):t.phone?e("div",{staticClass:"vo-block-yellow vo-small"},[e("p",[t._v("Ми відправили код підтвердження на ваш мобільний телефон "),e("b",[t._v(t._s(t.phone))])]),t._v(" "),e("p",[t._v("Впишіть отриманий код у поле нижче")])]):t._e(),t._v(" "),t.email?e("div",{staticClass:"form-group field-login-email required",class:{"has-error":t.errorEmailCode}},[e("label",{staticClass:"control-label",attrs:{for:"confirm-email"}},[t._v("Код підтвердження E-mail")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmailCode))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email_code,expression:"email_code"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"confirm-email"},domProps:{value:t.email_code},on:{change:t.validateEmailCode,input:function(e){e.target.composing||(t.email_code=e.target.value)}}})]):t._e(),t._v(" "),t.phone?e("div",{staticClass:"form-group field-login-email required",class:{"has-error":t.errorPhoneCode}},[e("label",{staticClass:"control-label",attrs:{for:"confirm-phone"}},[t._v("Код підтвердження Номеру телефона")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhoneCode))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_code,expression:"phone_code"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"confirm-phone"},domProps:{value:t.phone_code},on:{change:t.validatePhoneCode,input:function(e){e.target.composing||(t.phone_code=e.target.value)}}})]):t._e()])]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Підтвердити")]),t._v(" "),e("router-link",{attrs:{to:{name:t.routeName}}},[t._v("скасувати")])],1)])])};function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ie(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}re._withStripped=!0;var ce=Object(St.a)("Auth"),le=ce.mapState,ue=ce.mapGetters,fe={name:"sign-confirm",props:{routeName:String},data:function(){return{email_code:"",phone_code:"",errorEmailCode:"",errorPhoneCode:""}},computed:se(se(se({},le(["registration","oauth","authProfileAdd"])),ue(["authProfileCheck"])),{},{email:function(){var t;return null===(t=this.form())||void 0===t?void 0:t.email},phone:function(){var t;return null===(t=this.form())||void 0===t?void 0:t.phone}}),methods:{form:function(){switch(this.routeName){case"sign-up":return this.registration;case"sign-oauth":return this.oauth;case"auth-contact":return this.authProfileAdd;case"auth-check":return this.authProfileCheck}return{}},validateEmailCode:function(){return this.email&&!this.email_code?this.errorEmailCode="Це поле не може бути порожнім":this.errorEmailCode="",!this.errorEmailCode},validatePhoneCode:function(){return this.phone&&!this.phone_code?this.errorPhoneCode="Це поле не може бути порожнім":this.errorPhoneCode="",!this.errorPhoneCode},submit:function(t){var e=this;if(this.validateEmailCode()&&this.validatePhoneCode()){var n=this.form(),r=this.routeName,i={email:this.email.trim(),phone:this.phone.trim(),email_code:this.email_code.trim(),phone_code:this.phone_code.trim()};this.$store.dispatch("Auth/signConfirm",{form:n,routeName:r,confirm:i,event:t}).then((function(t){vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){e.$router.push({name:e.routeName})}))}}}},de=Object(p.a)(fe,re,[],!1,null,"4818382e",null).exports,he=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),e("error-summary"),t._v(" "),e("div",{staticClass:"form-group field-login-email required",class:{"has-error":t.errorEmail}},[e("label",{staticClass:"control-label",attrs:{for:"login-email"}},[t._v("E-mail або Номер телефону")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmail))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"login-email"},domProps:{value:t.email},on:{change:t.validateEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}})])],1)]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Відновити пароль")]),t._v(" "),e("router-link",{attrs:{to:{name:"sign-in"}}},[t._v("скасувати")])],1)])])};function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===pe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}he._withStripped=!0;var ge={name:"restore",components:{ErrorSummary:$t},data:function(){return{email:"",errorEmail:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,Object(St.a)("Auth").mapState)(["login"])),methods:{validateEmail:function(){var t=/@/.test(this.email)||!this.email.replace(/\D+/g,"").length,e=t?!/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(this.email.trim()):!/^380\d{9}$/.test(this.email.replace(/\D+/g,""));return this.errorEmail=e?t?"Email містить помилки":"Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":"",!this.errorEmail},submit:function(t){var e=this;if(this.validateEmail()){var n=this.email.trim();this.$store.dispatch("Auth/restore",{email:n,event:t}).then((function(t){var n;e.$store.commit("Auth/restoreMsg",null!==(n=null==t?void 0:t.msg)&&void 0!==n?n:""),e.$router.push({name:"sign-in"})})).catch((function(t){}))}}},created:function(){this.email=this.login.email.trim()},destroyed:function(){}},ye=ge,_e=Object(p.a)(ye,he,[],!1,null,"79c2bf84",null).exports,be=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),e("error-summary"),t._v(" "),e("profile",{attrs:{title:t.provider,profile:t.profile,"is-avatar-ext":!0}}),t._v(" "),t.addFields.includes("full_name")?e("div",{staticClass:"form-group field-registration-full_name required",class:{"has-error":t.errorFullName}},[e("label",{staticClass:"control-label",attrs:{for:"registration-full_name"}},[t._v("Прізвище, ім'я та по батькові/по матері")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorFullName))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",id:"registration-full_name"},domProps:{value:t.full_name},on:{change:t.validateFullName,input:function(e){e.target.composing||(t.full_name=e.target.value)}}})]):t._e(),t._v(" "),t.addFields.includes("email")?e("div",{staticClass:"form-group field-registration-email required",class:{"has-error":t.errorEmail}},[e("label",{staticClass:"control-label",attrs:{for:"registration-email"}},[t._v("Електронна адреса")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmail))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"registration-email"},domProps:{value:t.email},on:{change:t.validateEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}})]):t._e(),t._v(" "),t.addFields.includes("phone")?e("div",{staticClass:"form-group field-registration-phone",class:{"has-error":t.errorPhone}},[e("label",{staticClass:"control-label",attrs:{for:"registration-phone"}},[t._v("Мобільний телефон")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhone))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"registration-phone"},domProps:{value:t.phone},on:{change:t.validatePhone,input:function(e){e.target.composing||(t.phone=e.target.value)}}})]):t._e(),t._v(" "),t.addFields.includes("type")?e("div",{staticClass:"form-group field-registration-type",class:{"has-error":t.errorType}},[e("label",{staticClass:"control-label"},[t._v("Профіль")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorType))]),t._v(" "),e("div",{attrs:{id:"registration-type",role:"radiogroup"}},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_TEACHERS,checked:t._q(t.type,t.TYPE_TEACHERS)},on:{change:function(e){t.type=t.TYPE_TEACHERS}}}),t._v("\n                        Педагогічний та/або науково-педагогічний працівник\n                    ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_PUPILS,checked:t._q(t.type,t.TYPE_PUPILS)},on:{change:function(e){t.type=t.TYPE_PUPILS}}}),t._v("\n                        Здобувач освіти (учень, студент тощо)\n                    ")]),t._v(" "),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:t.TYPE_PARENTS,checked:t._q(t.type,t.TYPE_PARENTS)},on:{change:function(e){t.type=t.TYPE_PARENTS}}}),t._v("\n                        Інше (батьки/опікуни тощо)\n                    ")])])]):t._e(),t._v(" "),e("p",{staticClass:"v-add-license"},[t._v("Авторизуючись, Ви погоджуєтесь з "),e("a",{attrs:{href:"/site/doc/privacy-policy",target:"_blank"}},[t._v("політикою конфіденційності")]),t._v("\n                та "),e("a",{attrs:{href:"/site/doc/user-agreement",target:"_blank"}},[t._v("угодою користувача")]),t._v(", а\n                також даєте згоду на отримання інформаційних розсилок.\n                "),t.addFields.includes("phone")?[e("br"),t._v("\n                    Продовжуючи, ви отримаєте одноразовий код підтвердження на свій номер телефону за допомогою SMS.\n                    Може стягуватися плата за повідомлення та передачу даних.\n                    "),e("br"),t._v(" "),t._m(0)]:t._e()],2)],1)]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Авторизуватися")]),t._v(" "),e("router-link",{attrs:{to:{name:"sign-in"}}},[t._v("скасувати")])],1)])])};function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===we(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}be._withStripped=!0;var Se={name:"sign-oauth",components:{Profile:Ut,ErrorSummary:$t},data:function(){return{TYPE_TEACHERS:Kt.d,TYPE_PUPILS:Kt.c,TYPE_PARENTS:Kt.b,is_update:!0,full_name:"",email:"",phone:"",type:Kt.a,errorFullName:"",errorEmail:"",errorPhone:"",errorType:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,Object(St.a)("Auth").mapState)(["provider","profile","profileVo","oauth","addFields"])),methods:{validateFullName:function(){return this.addFields.includes("full_name")?(this.full_name.trim().length?this.errorFullName="":this.errorFullName="Ім'я не може бути порожнім",!this.errorFullName):(this.errorFullName="",!0)},validateEmail:function(){if(!this.addFields.includes("email"))return this.errorEmail="",!0;if(!this.email.trim())return this.errorEmail="Це поле не може бути порожнім",!1;var t=!/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(this.email.trim());return this.errorEmail=t?"Email містить помилки":"",!this.errorEmail},validatePhone:function(){if(!this.addFields.includes("phone"))return this.errorPhone="",!0;var t=!/^380\d{9}$/.test(this.phone.replace(/\D+/g,""));return this.phone.trim().length&&t?this.errorPhone="Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":this.errorPhone="",!this.errorPhone},submit:function(t){var e=this;if(this.validateFullName()&&this.validateEmail()&&this.validatePhone()){var n={is_sign:!0,full_name:this.full_name.trim(),email:this.email.trim(),phone:this.phone.trim(),type:parseInt(this.type)};this.$store.dispatch("Auth/signOauth",{form:n,event:t}).then((function(t){"confirm"in t&&t.confirm?e.$router.push({name:"sign-confirm",params:{routeName:"sign-oauth"}}):vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){}))}}},created:function(){this.full_name=this.oauth.full_name.trim(),this.email=this.oauth.email.trim(),this.phone=this.oauth.phone.trim(),this.type=parseInt(this.oauth.type)},destroyed:function(){this.$store.commit("Auth/oauth",{provider:this.provider,full_name:this.full_name.trim(),email:this.email.trim(),phone:this.phone.trim(),type:parseInt(this.type)})}},Ce=Se,Oe=Object(p.a)(Ce,be,[function(){var t=this,e=t._self._c;return e("i",[t._v("* для номерів телефонів українських мобільних операторів на території України - "),e("b",[t._v("безкоштовно")])])}],!1,null,"4d5de16d",null).exports,Ee=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[e("input",{staticStyle:{display:"none"},attrs:{type:"submit"}}),t._v(" "),t._m(0),t._v(" "),e("error-summary"),t._v(" "),e("profile",{attrs:{profile:t.authProfile}}),t._v(" "),t.isEmail?e("div",{staticClass:"form-group field-registration-email required",class:{"has-error":t.errorEmail}},[e("label",{staticClass:"control-label",attrs:{for:"registration-email"}},[t._v("Електронна адреса")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorEmail))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"registration-email"},domProps:{value:t.email},on:{change:t.validateEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}})]):t._e(),t._v(" "),t.isPhone?e("div",{staticClass:"form-group field-registration-phone",class:{"has-error":t.errorPhone}},[e("label",{staticClass:"control-label",attrs:{for:"registration-phone"}},[t._v("Мобільний телефон")]),t._v(" "),e("div",{staticClass:"help-block"},[t._v(t._s(t.errorPhone))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",id:"registration-phone"},domProps:{value:t.phone},on:{change:t.validatePhone,input:function(e){e.target.composing||(t.phone=e.target.value)}}})]):t._e(),t._v(" "),t.isPhone?e("p",{staticClass:"v-add-license"},[t._v("\n                Продовжуючи, ви отримаєте одноразовий код підтвердження на свій номер телефону за допомогою SMS.\n                Може стягуватися плата за повідомлення та передачу даних.\n                "),e("br"),t._v(" "),t._m(1)]):t._e()],1)]),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Зберегти")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.logout(e)}}},[t._v("вийти")])])])])};Ee._withStripped=!0;var Pe=n(75);function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){Me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Me(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ae(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ie=Object(St.a)("Auth").mapState,Ne={name:"auth-contact",components:{Profile:Ut,ErrorSummary:$t},mixins:[Pe.b],data:function(){return{email:"",phone:"",errorEmail:"",errorPhone:""}},computed:je(je({},Ie(["authProfile","authStatus"])),{},{isEmail:function(){return[Ct.d,Ct.e].includes(this.authStatus)},isPhone:function(){return[Ct.d,Ct.f].includes(this.authStatus)}}),methods:{validateEmail:function(){if(!this.isEmail)return this.errorEmail="",!0;if(!this.email.trim())return this.errorEmail="Це поле не може бути порожнім",!1;var t=!/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(this.email.trim());return this.errorEmail=t?"Email містить помилки":"",!this.errorEmail},validatePhone:function(){if(!this.isPhone)return this.errorPhone="",!0;if(!this.phone.trim())return this.errorPhone="Це поле не може бути порожнім",!1;var t=!/^380\d{9}$/.test(this.phone.replace(/\D+/g,""));return this.phone.trim().length&&t?this.errorPhone="Номер телефону повинен бути у форматі 380XXXXXXXXX, де X - цифри від 0 до 9":this.errorPhone="",!this.errorPhone},submit:function(t){var e=this;if(this.validateEmail()&&this.validatePhone()){var n={email:this.email.trim(),phone:this.phone.trim()};this.$store.dispatch("Auth/authContact",{form:n,event:t}).then((function(t){"confirm"in t&&t.confirm?e.$router.push({name:"sign-confirm",params:{routeName:"auth-contact"}}):vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){}))}},logout:function(t){this.$store.dispatch("Auth/signOut",{event:t}).then((function(t){})).catch((function(t){}))}}},Re=Object(p.a)(Ne,Ee,[function(){var t=this._self._c;return t("div",{staticClass:"vo-block-yellow vo-small"},[t("p",[this._v("Щоб продовжити працювати з порталом Всеосвіта, додайте Ваші контактні дані.")])])},function(){var t=this,e=t._self._c;return e("i",[t._v("* для номерів телефонів українських мобільних операторів на території України - "),e("b",[t._v("безкоштовно")])])}],!1,null,"2ad2468f",null).exports,De=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("error-summary"),t._v(" "),e("profile",{attrs:{profile:t.authProfileCheck}}),t._v(" "),t.isEmail&&t.isPhone?e("div",{staticClass:"vo-small"},[e("p",[t._v("Ми відправимо коди підтвердження на Ваші мобільний телефон та електронну пошту, щоб переконатись, що це саме Ви зараз авторизуєтесь.")])]):t.isEmail?e("div",{staticClass:"vo-small"},[e("p",[t._v("Ми відправимо код підтвердження на Вашу електронну пошту, щоб переконатись, що це саме Ви зараз авторизуєтесь.")])]):t.isPhone?e("div",{staticClass:"vo-small"},[e("p",[t._v("Ми відправимо код підтвердження на Ваш мобільний телефон, щоб переконатись, що це саме Ви зараз авторизуєтесь.")])]):t._e()],1),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Так! Відправити код")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.logout(e)}}},[t._v("вийти")])])])])};function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Le(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}De._withStripped=!0;var qe=Object(St.a)("Auth"),Ue=qe.mapState,Ve=qe.mapGetters,ze={name:"auth-check",components:{Profile:Ut,ErrorSummary:$t},mixins:[Pe.b],data:function(){return{email:"",phone:"",errorEmail:"",errorPhone:""}},computed:$e($e($e({},Ue(["authStatus"])),Ve(["authProfileCheck"])),{},{isEmail:function(){return[Ct.h,Ct.i].includes(this.authStatus)},isPhone:function(){return[Ct.h,Ct.j].includes(this.authStatus)}}),methods:{submit:function(t){var e=this;this.$store.dispatch("Auth/authCheck",{event:t}).then((function(t){"confirm"in t&&t.confirm?e.$router.push({name:"sign-confirm",params:{routeName:"auth-check"}}):vo.popup.error("Помилка авторизації. Повторіть спробу пізніше, або оберіть інший метод авторизації.")})).catch((function(t){}))},logout:function(t){this.$store.dispatch("Auth/signOut",{event:t}).then((function(t){})).catch((function(t){}))}}},He=Object(p.a)(ze,De,[],!1,null,"267e7744",null).exports,We=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"key_login__section"},[e("profile",{attrs:{profile:t.authProfileCheck}})],1),t._v(" "),e("div",{staticClass:"key_login__submit"},[e("div",{staticClass:"col-lg-offset-1 col-lg-11"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submit(e)}}},[t._v("Все добре!")])])])])};function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){Ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ke(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ye(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}We._withStripped=!0;var Qe=Object(St.a)("Auth"),Xe=Qe.mapState,Ze=Qe.mapGetters,tn={name:"authorized",components:{Profile:Ut},computed:Je(Je({},Xe(["authStatus"])),Ze(["authProfileCheck"])),methods:{submit:function(t){this.$store.dispatch("Auth/initAuth")}}},en=Object(p.a)(tn,We,[],!1,null,"ad432122",null).exports;b.a.use(wt.a);var nn=function(){return new wt.a({mode:"abstract",scrollBehavior:function(t,e,n){return{x:0,y:0,behavior:"smooth"}},routes:[{name:"sign-in",path:"/sign-in",component:Gt},{name:"sign-up",path:"/sign-up",component:ne},{name:"restore",path:"/restore",component:_e},{name:"sign-oauth",path:"/sign-oauth",component:Oe},{name:"sign-confirm",path:"/sign-confirm",component:de,props:!0},{name:"auth-contact",path:"/auth-contact",component:Re},{name:"auth-check",path:"/auth-check",component:He},{name:"authorized",path:"/authorized",component:en}]})};function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){an(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function an(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==rn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}vo.auth={init:function(t,e){new b.a({render:function(t){return t(mt.a,{props:e})},el:t,router:nn()})},closeAuthWindow:function(){var t=new CustomEvent("closeAuthWindow",{detail:{authError:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}});window.dispatchEvent(t)},userAuth:function(){var t=new CustomEvent("userAuth",{});window.dispatchEvent(t)}},vo.sign=function(t){var e=nn();Object(_.hb)(mt.a,{propsData:{routeName:t},router:e})},vo.signIn=function(){vo.sign("sign-in")},vo.signUp=function(){vo.sign("sign-up")},vo.phoneConfirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(_.hb)(bt,{propsData:sn({},t)})},vo.assignOauth=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.addEventListener("closeAuthWindow",o);var n=vo.url+"/social-network/auth/p/".concat(t,"?assign=1"),r=window.open(n,"authWindow","width=600,height=500,scrollbars=yes,resizable,status");if(r){null==r||r.focus();var i=setInterval((function(){r.closed&&(clearInterval(i),window.removeEventListener("closeAuthWindow",o))}),1e3)}else vo.popup('Ваш браузер заблокував вспливаюче вікно, щоб продовжити авторизацію, перейдіть за посиланням <a href="'.concat(n,'">').concat(n,"</a><br /><br />Після успішної авторизації самостійно оновіть цю сторінку."));function o(n){var r;window.removeEventListener("closeAuthWindow",o),null!=n&&null!==(r=n.detail)&&void 0!==r&&r.authError?vo.popup.error(n.detail.authError):(vo.popup("Відбувається верифікація сервісу"),vo.ajaxQueueMain(n,"assign/oauth",{provider:t}).then((function(t){"errorSummary"in t&&vo.popup.error(t.errorSummary),"assign"in t&&t.assign&&(e?"function"==typeof e?e(t):location.href=e:location.reload())})).catch((function(t){vo.popup.errorByResponse(t,!1)})))}};n(1178),n(1179);var cn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-city-widget"},[e("input",{staticClass:"rk-user-location__input",attrs:{type:"hidden",id:t.inputId,name:t.inputName}}),t._v(" "),t.isLocationLoaded?e("div",[e("div",{staticClass:"v-city-widget-input",class:{"v-city-widget-input-open":t.selectsShowed}},[e("a",{staticClass:"v-city-widget-input-title",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleShowSelects.apply(null,arguments)}}},[t._v("\n                "+t._s(t.locationText||"Оберіть місто зі списку або скористайтесь фільтрами")+"\n            ")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.selectsShowed,expression:"selectsShowed"}],staticClass:"v-city-widget-show-on-modile"},[e("select",{attrs:{id:"rk-choose-region-mobile-"+t.inputId},on:{input:function(e){return t.chooseRegion(e,e.target.value)}}},[e("option",{attrs:{value:"Оберіть область"}},[t._v("Оберіть область")]),t._v(" "),t._l(t.locations.regions,(function(n){return e("option",{domProps:{value:n[0]}},[t._v(t._s(n[1]))])}))],2),t._v(" "),e("select",{attrs:{id:"rk-choose-area-mobile-"+t.inputId},on:{input:function(e){return t.chooseArea(e,e.target.value)}}},[e("option",{attrs:{value:"Оберіть район"}},[t._v("Оберіть район")]),t._v(" "),t._l(t.locations.areas,(function(n,r){return e("option",{domProps:{value:r}},[t._v(t._s(n))])}))],2),t._v(" "),e("select",{attrs:{id:"rk-choose-location-mobile-"+t.inputId},on:{change:function(e){return t.chooseLocation(e,e.target.value)}}},[e("option",{attrs:{value:"Оберіть населений пункт"}},[t._v("Оберіть населений пункт")]),t._v(" "),t._l(t.locations.cities,(function(n){return e("option",{domProps:{value:n[0]}},[t._v(t._s(n[1]))])}))],2)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.selectsShowed,expression:"selectsShowed"}],staticClass:"v-city-widget-dropdown",staticStyle:{display:"none"}},[e("div",{staticClass:"v-city-widget-dropdown-block",class:{"v-city-widget-dropdown-block-choosen":t.regionChosen,"v-city-widget-dropdown-block-active":!t.regionChosen}},[e("div",{staticClass:"v-city-widget-dropdown-block-title"},[t._v("Оберіть область")]),t._v(" "),e("div",{staticClass:"v-city-widget-dropdown-list"},[e("ul",{staticClass:"v-city-widget-dropdown-list-city"},t._l(t.locations.regions,(function(n){return e("li",{class:{active:n[1]===t.selectedRegion}},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.chooseRegion(e,n[0])}}},[t._v(t._s(n[1]))])])})),0)])]),t._v(" "),e("div",{staticClass:"v-city-widget-dropdown-block",class:{"v-city-widget-dropdown-block-unactive":!t.regionChosen,"v-city-widget-dropdown-block-active":!t.areaChosen,"v-city-widget-dropdown-block-choosen":t.areaChosen}},[e("div",{staticClass:"v-city-widget-dropdown-block-title"},[t._v("Оберіть район")]),t._v(" "),t.regionChosen?e("div",{staticClass:"v-city-widget-dropdown-list"},[e("ul",{staticClass:"v-city-widget-dropdown-list-city"},t._l(t.locations.areas,(function(n,r){return e("li",{class:{active:n===t.selectedArea}},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.chooseArea(e,r)}}},[t._v(t._s(n))])])})),0)]):e("div",{staticClass:"v-city-widget-dropdown-block-sub-title"},[t._v("Спочатку потрібно обрати область")])]),t._v(" "),e("div",{staticClass:"v-city-widget-dropdown-block v-city-widget-dropdown-block-last"},[e("div",{staticClass:"v-city-widget-dropdown-block-last-top"},[e("div",{staticClass:"v-city-widget-dropdown-list"},[e("ul",{staticClass:"v-city-widget-dropdown-list-city-last"},t._l(t.locations.cities,(function(n){return e("li",{class:{active:n[1]===t.selectedArea}},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.chooseLocation(e,n[0])}}},[t._v(t._s(n[1]))])])})),0)])])])])]):e("div",[t._v("Йде завантаження...")])])};cn._withStripped=!0;n(562);var ln={name:"select-city",props:["inputId","inputName","inputValue","inputLabel"],data:function(){return{hiddenInput:null,locationText:"",locationValue:"",isLocationLoaded:!1,selectsShowed:!1,locations:{regions:{},areas:{},cities:{},initialCities:{}},loadedLocations:{},regionChosen:!1,selectedRegion:"",areaChosen:!1,selectedArea:""}},methods:{fetchData:function(t){var e=this;return t||(t={type_step:1}),new Promise((function(n){vo.ajax(null,"/ext/address/locality",t,(function(r){r.cities&&(t.code||(e.locations.regions=r.regions?r.regions:{}),3!==t.type_step&&r.areas&&(e.locations.areas=r.areas),e.locations.cities=r.cities),n(r)}))}))},toggleShowSelects:function(t){this.selectsShowed=!this.selectsShowed,this.selectsShowed&&this.cityChosen&&this.locations.initialCities&&(this.locations.cities=this.locations.initialCities,this.regionChosen=!1,this.selectedRegion="",this.areaChosen=!1,this.selectedArea="",this.cityChosen=""),document.getElementById("rk-choose-region-mobile-"+this.inputId).value="Оберіть область",document.getElementById("rk-choose-area-mobile-"+this.inputId).value="Оберіть район",document.getElementById("rk-choose-location-mobile-"+this.inputId).value="Оберіть населений пункт"},chooseRegion:function(t,e){var n=this;if(e){var r="A"===t.target.nodeName?t.target.innerHTML:t.target.value;if(r!==this.selectedRegion&&!this.loadedLocations[r])return"Оберіть область"===e?(this.regionChosen=!1,this.selectedRegion="",void(this.locations.initialCities&&(this.locations.cities=this.locations.initialCities))):void this.fetchData({code:e,type_step:2}).then((function(t){n.loadedLocations[r]={areas:{list:t.areas},cities:t.cities},n.regionChosen=!0,n.selectedRegion=r,n.selectedArea=""}));r===this.selectedRegion?this.regionChosen=!this.regionChosen:(this.selectedRegion=r,this.locations.areas=this.loadedLocations[r].areas.list,this.regionChosen=!0),this.locations.cities=this.regionChosen&&this.loadedLocations[r]?this.loadedLocations[r].cities:this.locations.initialCities,this.areaChosen=!1}},chooseArea:function(t,e){var n=this;if(e){var r="A"===t.target.nodeName?t.target.innerHTML:t.target.value,i=this.loadedLocations[this.selectedRegion];if(r!==this.selectedArea&&!i.areas[r])return"Оберіть район"===e?(this.areaChosen=!1,this.selectedArea="",void(this.locations.cities=i.cities)):void this.fetchData({code:e,type_step:3}).then((function(e){i.areas[r]=e.cities,n.areaChosen=!0,n.selectedArea="A"===t.target.nodeName?r:n.locations.regions[r]}));r===this.selectedArea?this.areaChosen=!this.areaChosen:(this.selectedArea=r,this.locations.cities=i.areas[r],this.areaChosen=!0),this.locations.cities=this.areaChosen&&i.areas[r]?i.areas[r]:i.cities}},chooseLocation:function(t,e){var n=this;this.locationValue&&this.locationValue===e?this.selectsShowed=!1:this.fetchData({code:e,is_get_info:!0}).then((function(t){n.locationText=[t.region,t.area,t.city].filter((function(t){return!!t})).join(", "),n.locationValue=e,n.selectsShowed=!1,n.$emit("select-city-selected",n.locationValue,n.locationText);var r=document.querySelector("#".concat(n.inputId,".rk-user-location__input"));r&&(r.value=n.locationValue,r.dispatchEvent(new CustomEvent("select_location")))}))},setLocations:function(t){this.locations=t,this.locations.initialCities=t.cities,this.isLocationLoaded=!0},setEvent:function(){try{new CustomEvent("IE has CustomEvent, but doesn't support constructor")}catch(t){window.CustomEvent=function(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},CustomEvent.prototype=Object.create(window.Event.prototype)}}},mounted:function(){this.$nextTick((function(){var t=this;this.locationText=this.inputLabel?this.inputLabel:"",this.locationValue=this.inputValue?this.inputValue:"",this.setEvent();var e=document.querySelector("#".concat(this.inputId,".rk-user-location__input"));(e&&(e.value=this.locationValue),window.hasOwnProperty("LocationsFromServer"))?this.setLocations(window.LocationsFromServer):new Promise((function(t){vo.ajax(null,"/ext/address/locality",{type_step:1},(function(e){var n=Object.assign(e);t(n)}))})).then((function(e){return t.setLocations(e)}));this.$emit("select-city-initialized")}))}},un=Object(p.a)(ln,cn,[],!1,null,null,null).exports;window.aa_createSelectCityWidget=function(t,e){t&&null!==document.getElementById(t)&&new b.a({el:"#"+t,render:function(t){return t(un,{props:e})},components:{SelectCity:un}})};var fn=n(309),dn=(n(565),n(402));"journal"in vo||(vo.journal={}),vo.journal.initNextYear=function(t,e){var n=new(b.a.extend(dn.a))({propsData:e});return n.$mount(t),n};n(564);window.SchoolStreetSelect=fn.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){},,,,,,,,,,,,,function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.reflectionConfig&&t.tpl,expression:"reflectionConfig && tpl"}],staticClass:"vo-mb2"},[t.reflectionConfig&&t.tpl?[t.dialog?e("div",{staticClass:"vo-mt2"},[e("div",{staticClass:"vo-flex-row wrap-reverse vertical-center gap1"},[e("button",{on:{click:t.openDialog}},[t._v(t._s(t.reflection?"Змінити відгук":"Залишити відгук"))])])]):e("div",{staticClass:"n-wraper-col-passing-the-test"},[e("ReflectionByObjectApp",{attrs:{tpl:t.tpl,reflectionConfig:t.reflectionConfig,reflection:t.reflection,widgetConfig:{is_online:t.is_online,is_online_end:t.is_online_end,auth_mode:t.auth_mode}}})],1)]:t._e()],2)};r._withStripped=!0;var i=n(385),o=n(1);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var a={name:"ReflectionByObjectKeyApp",props:["obj_type","obj_id","obj_sub_id","params"],components:{ReflectionByObjectApp:i.a},data:function(){return{reflectionConfig:null,reflection:null,tpl:null,disable_dialog:!1}},computed:{appParams:function(){return this.params&&"object"===s(this.params)?this.params:{}},auth_mode:function(){return this.appParams.auth_mode||""},in_dialog:function(){return this.appParams.in_dialog||0},is_online_end:function(){return this.appParams.is_online_end||0},is_online:function(){return this.appParams.is_online||0},dialog:function(){return this.in_dialog&&!this.disable_dialog}},methods:{openDialog:function(t){var e=this;Object(o.hb)(i.a,{propsData:{tpl:this.tpl,reflectionConfig:this.reflectionConfig,widgetConfig:{auth_mode:this.auth_mode}}}).$on("save-reflection",(function(t){e.reflection=t}))}},created:function(){var t=this,e={obj_type:this.obj_type,obj_id:this.obj_id,obj_sub_id:this.obj_sub_id,auth_mode:this.auth_mode};vo.ajax(null,"/ext/reflection/config-by-object-key",e,(function(e){e&&"data"in e&&(t.reflectionConfig=e.data.reflectionConfig,t.reflection=e.data.reflection,t.tpl=e.data.tpl,t.disable_dialog=!!t.reflection,t.dialog&&t.$nextTick((function(){t.openDialog(null)})))}))}},c=n(0),l=Object(c.a)(a,r,[],!1,null,"37c953ff",null);e.a=l.exports},,,,,,,,,,,,,,,,,function(t,e,n){},,,,,,,function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table_answers-test"},[t._m(0),t._v(" "),e("table",[e("tr",[t._m(1),t._v(" "),e("td",{staticClass:"pb2",attrs:{colspan:"2"}},[e("p",{staticClass:"text_info-test"},[t._v("\n                    "+t._s(t.mark_explain.cnt_quest)+"\n                ")])])]),t._v(" "),t.mark_explain.quest_lines.right.length?e("tr",[t._m(2),t._v(" "),e("td",{staticClass:"green"},[t._l(t.mark_explain.quest_lines.right,(function(n){return[e("p",{staticClass:"text_info-test"},[t._v("\n                        "+t._s(n)+"\n                    ")])]}))],2)]):t._e(),t._v(" "),t.mark_explain.quest_lines.part_right.length?e("tr",[t._m(3),t._v(" "),e("td",{staticClass:"yellow"},[t._l(t.mark_explain.quest_lines.part_right,(function(n){return[e("p",{staticClass:"text_info-test"},[t._v("\n                        "+t._s(n)+"\n                    ")])]}))],2)]):t._e(),t._v(" "),t.mark_explain.quest_lines.failed.length?e("tr",[t._m(4),t._v(" "),e("td",{staticClass:"red"},[t._l(t.mark_explain.quest_lines.failed,(function(n){return[e("p",{staticClass:"text_info-test"},[t._v("\n                        "+t._s(n)+"\n                    ")])]}))],2)]):t._e(),t._v(" "),t.mark_explain.quest_lines.no_answer.length?e("tr",[t._m(5),t._v(" "),e("td",{staticClass:"silver"},[t._l(t.mark_explain.quest_lines.no_answer,(function(n){return[e("p",{staticClass:"text_info-test"},[t._v("\n                        "+t._s(n)+"\n                    ")])]}))],2)]):t._e(),t._v(" "),e("tr",[t._m(6),t._v(" "),e("td",{staticClass:"pt2",attrs:{colspan:"2"}},[e("p",{staticClass:"text_info-test"},[e("b",{staticClass:"span-table green",attrs:{title:"Бали за правильні відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.right))]),t._v("\n                    +\n                    "),e("b",{staticClass:"span-table yellow",attrs:{title:"Бали за частково правильні відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.part_right))]),t._v("\n                    +\n                    "),e("b",{staticClass:"span-table red",attrs:{title:"Бали за неправильні відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.failed))]),t._v("\n                    +\n                    "),e("b",{staticClass:"span-table silver",attrs:{title:"Бали за запитання без відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.no_answer))]),t._v("\n                    = "),e("b",{staticClass:"span-table blue",attrs:{title:"Сумарний бал за відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.total))]),t._v("\n                    (максимум "),e("b",{staticClass:"span-table blue",attrs:{title:"Максимальний бал за всі правильні відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.max))]),t._v(")\n                ")])])]),t._v(" "),e("tr",[t._m(7),t._v(" "),e("td",{attrs:{colspan:"2"}},[e("p",{staticClass:"text_info-test"},[t._v("\n                    "+t._s(t.mark_explain.mark_system.description)+"\n                ")])])]),t._v(" "),e("tr",[t._m(8),t._v(" "),e("td",{attrs:{colspan:"2"}},[e("p",{staticClass:"text_info-test"},[e("span",[t._v(t._s(t.mark_explain.mark_system.max_mark))]),t._v(" *\n                    ("),e("span",{staticClass:"span-table",staticStyle:{"background-color":"#28a1ef2e"},attrs:{title:"Сумарний бал за відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.total))]),t._v("/\n                    "),e("span",{staticClass:"span-table",staticStyle:{"background-color":"#28a1ef2e"},attrs:{title:"Максимальний бал за всі правильні відповіді"}},[t._v(t._s(t.mark_explain.mark_sum.max))]),t._v(")\n                    = "),e("span",[t._v(t._s(t.mark_explain.raw_mark))])])])]),t._v(" "),e("tr",[e("td",[e("p",{staticClass:"text_info-test"},[t._v("\n                    "+t._s(t.mark_explain.mark_system.mark_label)+"\n                ")])]),t._v(" "),e("td",{attrs:{colspan:"2"}},[e("p",{staticClass:"text_info-test"},[e("b",[t._v("\n                        "+t._s(t.mark_explain.pupil_mark)+"\n                    ")])])])])])])};r._withStripped=!0;var i={name:"MarkExplain",props:["mark_explain"]},o=n(0),s=Object(o.a)(i,r,[function(){var t=this._self._c;return t("div",{staticClass:"flex_table_row"},[t("div",{staticClass:"flex_table_col col50"}),this._v(" "),t("div",{staticClass:"flex_table_col col50"})])},function(){var t=this._self._c;return t("td",{staticClass:"pb2"},[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Всього:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Правильно:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Частково правильно:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Неправильно:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Без відповіді:")])])])},function(){var t=this._self._c;return t("td",{staticClass:"pt2"},[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Розрахунок балів за відповіді:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Система оцінювання:")])])])},function(){var t=this._self._c;return t("td",[t("p",{staticClass:"text_info-test"},[t("b",[this._v("Розрахунок оцінки:")])])])}],!1,null,"261f8cb8",null);e.a=s.exports},,,function(t,e,n){"use strict";(function(t){var r=n(378),i=n(380),o=n(1409),s=n(54),a=n(1431),c=n(1432);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={name:"TestProcessScreen",components:{AddFile:c.a,NeedFullscreenAlert:a.a,BaseQuest:r.a,Timer:i.a,Preloader:s.a},mixins:[o.a],props:["post_params","need_fullscreen","is_fullscreen","is_refreshing","answerFiles","cnt_quest","executionItems","is_toggle_buttons","is_wall_mode","quest_num","testQuests","time_end","id_config","id_execution","code","is_poll"],data:function(){return{is_btn_clicked:!1,prevAnswerStatus:null,is_show_answer_result:!1,is_get_next_quest:!1,is_add_file_id_quest:!1,STATUS_RIGHT:1,STATUS_PART_RIGHT:2}},computed:{quest_store_key:function(){var t=this;return function(e){return e?"tpsexc-".concat(t.id_execution,"-").concat(e.id):"tpsexc-".concat(t.id_execution)}},userAnswersByQuest:function(){return this.executionItems.reduce((function(t,e){return t[e.id_quest]=e,t}),{})},currentQuest:function(){return this.testQuests[0]||null}},methods:{startAddFile:function(t){this.is_add_file_id_quest=t,this.$emit("cancel-fullscreen")},backToQuestAfterFile:function(t,e){this.$emit("save-files-ext",t,e),this.is_add_file_id_quest=!1,this.$emit("launch-fullscreen")},saveUserAnswerWall:function(t){var e,n,r,i=this,o=this.testQuests,s=this.$refs,a=[];for(e in o)n=o[e],(r=(r=s["BaseQuest_".concat(n.id)])[0])&&(r.isUserSetAnswer()||a.push(parseInt(e)+1));if(a.length)r&&r.showWarningMsg("\n                    Потрібно вказати відповідь на запитання: ".concat(a.map((function(t){return"№".concat(t)})).join(", "),"\n                "),!1);else{r&&r.showWarningMsg(!1,!1);var c={post_params:this.post_params,id_quest:"",answers:this.getActiveQuestsAnswer(),files:this.getActiveQuestsFiles()};vo.ajax(t,"/ext/test-go-pupil/save-user-answer",c,(function(t){t&&"screen"in t&&i.$emit("parse-response-ext",t)}))}},saveUserAnswer:function(t){var e=this,n=this.currentQuest.id,r={post_params:this.post_params,id_quest:n,answers:this.getActiveQuestsAnswer(),files:this.getActiveQuestsFiles()};vo.ajax(t.event||null,"/ext/test-go-pupil/save-user-answer",r,(function(t){t&&"screen"in t&&(e.prevAnswerStatus=t.prevAnswerStatus,e.showAnswerResult().then((function(){e.$emit("parse-response-ext",t)})),vo.scrollTo(e.$refs.root))}))},getActiveQuestsFiles:function(){var t={};if(this.is_wall_mode){var e,n,r,i=this.testQuests,o=this.$refs;for(e in i)n=i[e],(r=(r=o["BaseQuest_".concat(n.id)])[0])&&(t[n.id]=r.getUserAnswerFiles())}else this.currentQuest&&this.$refs.baseQuest&&(t[this.currentQuest.id]=this.$refs.baseQuest.getUserAnswerFiles());return t},showAnswerResult:function(){var e=this;if(!this.prevAnswerStatus||!this.$refs.baseQuest.isUserSetAnswer()||this.is_poll)return new Promise((function(t,e){t()}));var n=t("header.v-main-header"),r=n.css("position");return n.css("position","inherit"),t("body").css("overflow","hidden"),vo.is_scroll()&&t("body, .v-main-header-scroll").css("padding-right",vo.dlg.scroll_width+"px"),this.is_show_answer_result=!0,new Promise((function(i,o){setTimeout((function(){n.css("position",r),t("body, .v-main-header-scroll").css({overflow:"",paddingRight:""}),e.is_show_answer_result=!1,e.prevAnswerStatus=null,i()}),3400)}))},getActiveQuestsAnswer:function(){if(!this.is_wall_mode)return this.currentQuest&&this.$refs.baseQuest?u({},this.currentQuest.id,this.$refs.baseQuest.getUserAnswer()):{};var t,e,n,r=this.testQuests,i=this.$refs,o={};for(t in r)e=r[t],(n=(n=i["BaseQuest_".concat(e.id)])[0])&&n.isUserSetAnswer()&&(o[e.id]=n.getUserAnswer());return o},timeNotification:function(){vo.popup("У Вас залишилася одна хвилина!")},changeQuest:function(t,e){var n,r=this,i={direction:t,current_id_quest:null===(n=this.currentQuest)||void 0===n?void 0:n.id};vo.ajax(e,"/ext/test-go-pupil/change-showed-quest",i,(function(t){t&&"screen"in t&&r.$emit("parse-response-ext",t)}))},closeTesting:function(t){this.$emit("close-testing-socket",t)},stopExecution:function(t){this.$emit("stop-execution-socket",t)},deleteExecution:function(t){this.$emit("delete-execution-socket",t)},updateConfig:function(t){this.$emit("update-config-socket",t)}},created:function(){window.document.body&&window.document.body.classList.add("test-testing")},mounted:function(){vo.socket.on("teacher close testing",this.closeTesting),vo.socket.on("teacher stop execution",this.stopExecution),vo.socket.on("teacher delete execution",this.deleteExecution),vo.socket.on("teacher update config",this.updateConfig)},beforeDestroy:function(){window.document.body&&window.document.body.classList.remove("test-testing"),vo.socket.off("teacher close testing",this.closeTesting),vo.socket.off("teacher stop execution",this.stopExecution),vo.socket.off("teacher delete execution",this.deleteExecution),vo.socket.off("teacher update config",this.updateConfig)}}}).call(this,n(52))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";e.a={data:function(){return{bit:{simple_mod:1,is_cert:2}}}}},,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,,,function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"test-separator-float vo-pt2"}),t._v(" "),e("div",{staticClass:"vo-block-white"},[e("div",{staticClass:"v-subject-select-title black"},[t._v("\n            Ви дійсно бажаєте завершити тестування?\n        ")]),t._v(" "),e("p",{staticClass:"vo-text"},[t._v("\n            Ми помітили, що Ви вийшли з повноекранного режиму.\n            Проходити це тестування можна лише в повноекранному режимі.\n        ")]),t._v(" "),e("div",{staticClass:"row v-modal-buttons"},[e("button",{staticClass:"vo-btn-red",on:{click:function(e){return t.$emit("stop-execution")}}},[t._v("Так, завершити")]),t._v(" "),e("button",{staticClass:"vo-btn",on:{click:function(e){return t.$emit("launch-fullscreen")}}},[t._v("Ні, повернутися до тестування")])])])])};r._withStripped=!0;var i={name:"NeedFullscreenAlert"},o=n(0),s=Object(o.a)(i,r,[],!1,null,"46cc82f9",null);e.a=s.exports},function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"size-block"},[e("div",{staticClass:"vo-block-white"},[e("p",{staticClass:"vo-title"},[t._v("Прикріпити файл до запитання:")]),t._v(" "),e("FileInput",{ref:"FileInput",attrs:{is_multiple:!0},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),t._v(" "),e("button",{staticClass:"vo-btn-blue",on:{click:function(e){return t.$emit("back-to-quest",t.id_quest,t.files)}}},[t._v("Повернутися до запитання")])],1)])};r._withStripped=!0;var i={name:"AddFile",props:["id_quest","user_answer_files"],components:{FileInput:n(311).a},data:function(){return{files:this.user_answer_files||""}},mounted:function(){this.$refs.FileInput.openFileExplorer()}},o=n(0),s=Object(o.a)(i,r,[],!1,null,"7b54ab8e",null);e.a=s.exports},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(1426)},function(t,e,n){"use strict";n(1427)},,,,,function(t,e,n){"use strict";var r=n(18),i=function(){var t=this,e=t._self._c;return e("div",{ref:"application",class:{"full-screen-container":t.is_full_screen_mode}},[t._m(0),t._v(" "),t.is_loading?[e("div",{key:"loading"},[e("p",{staticClass:"vo-text"},[t._v("Завантаження інформації про тестування...")]),t._v(" "),e("Preloader")],1)]:[t.screen===t.HELLO_SCREEN?e("HelloScreen",{key:"hello-screen",attrs:{is_refreshing:t.is_refreshing,isLesson:"lesson-block"===t.hello_screen,cnt_quest_desc:t.screenData.cnt_quest_desc,cnt_time_desc:t.screenData.cnt_time_desc,description_start:t.screenData.description_start,is_disabled:t.screenData.is_disabled,is_testing_now:t.screenData.is_testing_now,is_wait_teacher:t.screenData.is_wait_teacher,is_wait_timer:t.screenData.is_wait_timer,is_poll:t.is_poll,is_full_screen:t.isFullscreenRequired,start_at:t.screenData.start_at,now_at:t.screenData.now_at,testing_title:t.screenData.testing_title,testing_type:t.screenData.testing_type},on:{"start-execution":t.startExecution,"update-time":t.updateTime,"start-testing-socket":function(e){t.screenData.is_testing_now=!0},"close-testing-socket":t.refreshActiveScreenDataSocket,"stop-execution-socket":t.refreshActiveScreenDataSocket,"delete-execution-socket":t.deleteExecutionSocket,"update-config-socket":t.refreshActiveScreenDataSocket}}):t.screen===t.GREETING_SCREEN?e("GreetingScreen",{key:"greeting-screen",attrs:{post_params:t.post_params,is_refreshing:t.is_refreshing,id_config:t.id_config,is_poll:t.is_poll,id_execution:t.screenData.id_execution,finished_at_str:t.screenData.finished_at_str,duration_str:t.screenData.duration_str,reflection:t.screenData.reflection,cert_file:t.screenData.cert_file,testing_title:t.screenData.testing_title,description_end:t.screenData.description_end,is_show_answer:t.screenData.is_show_answer,is_reflection:t.screenData.is_reflection,mark_explain:t.screenData.mark_explain},on:{"show-result-socket":t.refreshActiveScreenDataSocket,"show-answer-socket":function(e){t.screenData.is_show_answer=!0},"delete-execution-socket":t.deleteExecutionSocket,"update-config-socket":t.refreshActiveScreenDataSocket,"change-mark-socket":function(e){t.screenData.cert_file=e.cert_file||"",t.screenData.mark_explain=e.mark_explain||null}}}):t.screen===t.PROCESS_SCREEN?e("TestProcessScreen",{key:"test-process-screen",ref:"testProcessScreen",attrs:{need_fullscreen:!!t.isFullscreenSupported&&(t.isFullscreenRequired&&!t.is_full_screen_mode),post_params:t.post_params,is_fullscreen:t.isFullscreenSupported&&t.isFullscreenRequired,is_refreshing:t.is_refreshing,answerFiles:t.screenData.answerFiles,cnt_quest:t.screenData.cnt_quest,executionItems:t.screenData.executionItems,is_toggle_buttons:t.screenData.is_toggle_buttons,is_wall_mode:t.screenData.is_wall_mode,quest_num:t.screenData.quest_num,testQuests:t.screenData.testQuests,time_end:t.screenData.time_end,id_config:t.id_config,id_execution:t.id_execution,code:t.code,is_poll:t.is_poll},on:{"save-files-ext":t.saveFilesExt,"parse-response-ext":t.parseResponse,"stop-execution":t.stopExecution,"launch-fullscreen":t.launchFullScreen,"cancel-fullscreen":t.cancelFullscreen,"close-testing-socket":t.stopExecution,"stop-execution-socket":t.stopExecution,"delete-execution-socket":t.deleteExecutionSocket,"update-config-socket":t.refreshActiveScreenDataSocket}}):t.screen===t.REDIRECT_SCREEN?e("div",{key:"redirect"},[t.is_refreshing?e("Preloader"):t._e(),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.redirectMsg||"Перенаправлення на іншу сторінку<br><div><span class='v-bar'></span></div>")}})],1):e("div",{key:"error"},[t.is_refreshing?e("Preloader"):t._e(),t._v(" "),t.screenData&&t.screenData.error_list?[e("div",{staticClass:"vo-text error-summary"},[e("p",[t._v("Будь ласка, виправте наступні помилки:")]),t._v(" "),e("ul",t._l(t.screenData.error_list,(function(n){return e("li",[t._v(t._s(n))])})),0)])]:[t._v("\n                Помилка завантаження. Спробуйте оновити сторінку через декілька хвилин.\n            ")]],2)]],2)};i._withStripped=!0;var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-hello-container"},[t._e(),t._v(" "),t.isLesson?[e("div",{staticClass:"v-hello-title v-z-index"},[t._v("\n            Тема: "+t._s(t.testing_title)+"\n        ")])]:[e("div",{staticClass:"v-hello-title v-z-index"},[t._v("Онлайн-"+t._s(t.testing_type.toLowerCase())+":")]),t._v(" "),e("div",{staticClass:"v-hello-sub-title v-z-index"},[t._v(" "+t._s(t.testing_title))]),t._v(" "),e("div",{staticClass:"clear"})],t._v(" "),t.is_disabled?e("p",[t._v("Вчитель вимкнув проходження. "+t._s(t.testing_type)+"\n        недоступне.")]):t.is_testing_now?e("div",{staticClass:"v-test-go-begin v-row-f"},[e("p",[t._v(t._s(t.testing_type)+" вже розпочато, швидше приєднуйся!")]),t._v(" "),e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-hello-button v-z-index",on:{click:function(e){return t.$emit("start-execution",e)}}},[t._v("Почати\n            "+t._s(t.testing_type.toLowerCase()))])]):t.is_wait_teacher?e("p",{staticClass:"v-test-go-wait"},[t._v("\n        Очікуй запуску вчителем\n        "),e("i")]):t.is_wait_timer?e("div",{staticClass:"v-test-go-begin v-row-f"},[e("Timer",{attrs:{time_end:t.start_at,time_start:t.now_at,mode:"hello-screen"},on:{"time-finish":function(e){return t.$emit("update-time")}}})],1):e("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-hello-button v-z-index",on:{click:function(e){return t.$emit("start-execution",e)}}},[t._v("Почати\n        "+t._s(t.testing_type.toLowerCase()))]),t._v(" "),t.is_poll?t._e():e("div",{},[e("div",{staticClass:"v-z-index"},[e("div",{class:{"v-hello-text-title":!t.isLesson}},[e("p",[e("b",[t._v("\n                        "+t._s(t.cnt_quest_desc)+"\n                    ")])]),t._v(" "),t.is_full_screen?e("p",[e("span",{staticClass:"a-uvaga"},[t._v("!")]),t._v(" Зверніть увагу, під час тестування ваш браузер буде переведено у повноекранний режим.\n                ")]):t._e()])])]),t._v(" "),t.description_start?e("div",{staticClass:"v-hello-bg"},[e("div",{staticClass:"v-hello-white-bg v-z-index"},[e("div",{directives:[{name:"description",rawName:"v-description"}],staticClass:"v-hello-text-title v-news-content",domProps:{innerHTML:t._s(t.lazyInHtml(t.description_start))}})])]):t._e()],2)};o._withStripped=!0;var s=n(75),a=n(380),c=n(54),l={name:"HelloScreen",components:{Timer:a.a,Preloader:c.a},mixins:[s.c],props:["isLesson","cnt_quest_desc","cnt_time_desc","description_start","is_disabled","is_testing_now","is_refreshing","is_wait_teacher","is_wait_timer","is_poll","is_full_screen","start_at","now_at","testing_title","testing_type"],watch:{is_testing_now:function(t,e){var n=this;!1===e&&vo.dlg.confirm(null,"Тестування доступне для проходження!","Ви хочете розпочати?",(function(t){n.$emit("start-execution",t)}))}},methods:{startTesting:function(t){this.$emit("start-testing-socket",t)},closeTesting:function(t){this.$emit("close-testing-socket",t)},stopExecution:function(t){this.$emit("stop-execution-socket",t)},deleteExecution:function(t){this.$emit("delete-execution-socket",t)},updateConfig:function(t){this.$emit("update-config-socket",t)}},mounted:function(){vo.socket.on("teacher start testing",this.startTesting),vo.socket.on("teacher close testing",this.closeTesting),vo.socket.on("teacher stop execution",this.stopExecution),vo.socket.on("teacher delete execution",this.deleteExecution),vo.socket.on("teacher update config",this.updateConfig)},beforeDestroy:function(){vo.socket.off("teacher start testing",this.startTesting),vo.socket.off("teacher close testing",this.closeTesting),vo.socket.off("teacher stop execution",this.stopExecution),vo.socket.off("teacher delete execution",this.deleteExecution),vo.socket.off("teacher update config",this.updateConfig)}},u=(n(1454),n(0)),f=Object(u.a)(l,o,[],!1,null,"428138b7",null).exports,d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-hello-container"},[t._e(),t._v(" "),e("div",{staticClass:"v-row"},[e("div",{staticClass:"v-col-12 v-col-last"},[t.is_poll?[e("div",{staticClass:"v-hello-sub-title v-z-index"},[t._v("Дякуємо, що пройшли опитування!")]),t._v(" "),e("div",[t.is_show_answer?e("button",{staticClass:"a-robota-pomilka v-z-index",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.showAnswerShort.apply(null,arguments)}}},[t._v("\n                        Ваші відповіді\n                    ")]):t._e()]),t._v(" "),t.description_end?e("div",{staticClass:"v-news-content"},[e("p",{directives:[{name:"description",rawName:"v-description"}],staticClass:"t-test-end",domProps:{innerHTML:t._s(t.lazyInHtml(t.description_end))}})]):t._e()]:[e("div",{staticClass:"row_info-test vertical-center"},[e("p",{staticClass:"text_info-test silver"},[t._v("\n                        ID-код проходження: "+t._s(t.id_execution)+"\n                    ")]),t._v(" "),e("p",{staticClass:"text_info-test silver"},[t._v("\n                        "+t._s(t.finished_at_str)+"\n                        "),e("span",{attrs:{title:"Час витрачений учнем на проходження тестування: ".concat(t.duration_str)}},[e("span",[t._v(t._s(t.duration_str))])])])]),t._v(" "),e("p",{staticClass:"text_info-test center v-z-index vo-mb1"},[t._v("\n                    Тестування на тему\n                    «"),e("b",[t._v(t._s(t.testing_title))]),t._v("»\n                ")]),t._v(" "),e("div",[t.mark_explain?[e("p",{staticClass:"text_info-test center v-z-index vo-mb05"},[t._v("\n                            "+t._s(t.mark_explain.core_info.label)+"\n                        ")]),t._v(" "),e("p",{staticClass:"text_info-test fs36 center v-z-index vo-mb2"},[e("b",[t._v(t._s(t.mark_explain.core_info.line1))]),t._v(t._s(t.mark_explain.core_info.line2.length?".":"")+"\n                            "),t.mark_explain.core_info.line2.length?[e("b",[t._v(t._s(t.mark_explain.core_info.line2))])]:t._e()],2)]:[e("div",{staticClass:"text_info-test fs36 center v-z-index vo-mb2"},[t._v("\n                            Очікуйте подальших дій вчителя.\n                        ")])],t._v(" "),t.is_show_answer||t.is_reflection?e("div",{staticClass:"vo-mb05 vo-text-center"},[t.is_show_answer?e("button",{staticClass:"a-robota-pomilka v-z-index",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.showAnswerShort.apply(null,arguments)}}},[t._v("\n                            Робота над помилками\n                        ")]):t._e()]):t._e(),t._v(" "),t.is_show_answer||t.is_reflection?e("div",{staticClass:"row_info-test vo-mb2"},[!t.is_reflection||t.isMounted&&!t.isMountedAsTask?t._e():e("div",{},[e("ReflectionByObjectKeyApp",{attrs:{obj_type:t.OBJ_TYPE_TEST_CONFIG,obj_id:t.id_config,obj_sub_id:0,params:{auth_mode:t.isMountedAsTask?t.AUTH_MODE_PUPIL:"",in_dialog:!0}}})],1)]):t._e(),t._v(" "),t.description_end?e("div",{staticClass:"v-news-content"},[e("p",{directives:[{name:"description",rawName:"v-description"}],staticClass:"t-test-end vo-mb2",domProps:{innerHTML:t._s(t.lazyInHtml(t.description_end))}})]):t._e(),t._v(" "),t.cert_file||t.mark_explain?e("div",{staticClass:"sert-table__row"},[t.cert_file?[e("div",{staticClass:"sert-img-con vo-mb05"},[e("a",{staticClass:"n-test__sert-wrap",attrs:{href:t.cert_url_0x0,target:"_blank",title:"Відкрити в новому вікні"}},[e("img",{attrs:{src:t.cert_url_180x0,alt:"Сертифікат за тестування"}})]),t._v(" "),e("br"),t._v(" "),e("a",{staticClass:"vo-link-blue small",attrs:{href:t.cert_url,target:"_blank"}},[e("span",[t._v("Завантажити сертифікат")])]),t._v(" "),e("br")])]:t._e(),t._v(" "),t.mark_explain?[e("MarkExplain",{attrs:{mark_explain:t.mark_explain}})]:t._e()],2):t._e()],2)]],2)])],1)};d._withStripped=!0;var h=n(1230),p=n(1254),v=n(5),m=n(82),g={name:"GreetingScreen",mixins:[s.c],components:{Preloader:c.a,ReflectionByObjectKeyApp:h.a,MarkExplain:p.a},props:["post_params","is_poll","is_reflection","id_config","is_refreshing","id_execution","finished_at_str","duration_str","reflection","cert_file","testing_title","description_end","is_show_answer","mark_explain"],data:function(){return{OBJ_TYPE_TEST_CONFIG:v.OBJ_TYPE_TEST_CONFIG,AUTH_MODE_PUPIL:m.c}},computed:{isMounted:function(){return Object.keys(this.post_params?this.post_params:{}).length>0},isMountedAsTask:function(){return this.post_params&&this.post_params.hasOwnProperty("task")},cert_url:function(){return vo.url_cert+"/"+this.cert_file},cert_url_0x0:function(){return this.cert_url.replace(/(\.\w+)$/,"-0x0$1")},cert_url_180x0:function(){return this.cert_url.replace(/(\.\w+)$/,"-180x0$1")}},methods:{showAnswerShort:function(t){var e={post_params:this.post_params};vo.ajax(t,"/ext/test-go-pupil/show-answer-short",e)},showResult:function(t){this.$emit("show-result-socket",t)},showAnswer:function(t){this.$emit("show-answer-socket",t)},deleteExecution:function(t){this.$emit("delete-execution-socket",t)},updateConfig:function(t){this.$emit("update-config-socket",t)},changeMark:function(t){console.log('CALL "change-mark-socket"',t),this.$emit("change-mark-socket",t)}},mounted:function(){vo.socket.on("teacher set show result",this.showResult),vo.socket.on("teacher set show answer",this.showAnswer),vo.socket.on("teacher delete execution",this.deleteExecution),vo.socket.on("teacher update config",this.updateConfig),vo.socket.on("teacher change mark",this.changeMark)},beforeDestroy:function(){vo.socket.off("teacher set show result",this.showResult),vo.socket.off("teacher set show answer",this.showAnswer),vo.socket.off("teacher delete execution",this.deleteExecution),vo.socket.off("teacher update config",this.updateConfig),vo.socket.off("teacher change mark",this.changeMark)}},y=Object(u.a)(g,d,[],!1,null,"a408948e",null).exports,_=function(){var t=this,e=t._self._c;return e("div",{ref:"root",attrs:{id:"test".concat(t.id_config)}},[t._e(),t._v(" "),t.is_show_answer_result?e("div",{staticClass:"a-virnonevirno"},[e("div",[-1!==[t.STATUS_RIGHT,t.STATUS_PART_RIGHT].indexOf(t.prevAnswerStatus.status)?e("div",{staticClass:"a-vse-vir-nevir a-vtrno"},[t._m(0),t._v(" "),t._m(1)]):e("div",{staticClass:"a-vse-vir-nevir a-nevtrno"},[t._m(2),t._v(" "),e("p",[t._v("Неправильно")])])])]):t._e(),t._v(" "),e("div",{staticClass:"v-test-go"},[e("div",{staticClass:"v-row n-row__timer-test"},[null!==t.time_end?e("Timer",{attrs:{time_end:t.time_end,second_to_notification:60},on:{"time-notification":t.timeNotification,"time-finish":function(e){return t.$emit("stop-execution")}}}):t._e()],1),t._v(" "),t.need_fullscreen&&t.is_add_file_id_quest?e("AddFile",{attrs:{id_quest:t.is_add_file_id_quest,user_answer_files:t.answerFiles[t.is_add_file_id_quest]},on:{"back-to-quest":t.backToQuestAfterFile}}):t.need_fullscreen?e("NeedFullscreenAlert",{on:{"launch-fullscreen":function(e){return t.$emit("launch-fullscreen")},"stop-execution":function(e){return t.$emit("stop-execution")}}}):t._e(),t._v(" "),t.need_fullscreen?t._e():e("div",[t.is_wall_mode?[e("div",{staticClass:"n-is-wall-mode"},[t._l(t.testQuests,(function(n,r){return e("BaseQuest",{key:n.id,ref:"BaseQuest_".concat(n.id),refInFor:!0,attrs:{quest_store_key:t.quest_store_key(n),quest:n,quest_num:r,app_id:n.id,quest_count:t.cnt_quest,user_answer:t.userAnswersByQuest[n.id],user_answer_files:t.answerFiles[n.id],show_control_buttons:!1,show_save_buttons:!1,show_popup_on_empty_answer:!1,voCopyDisabled:!1,is_fullscreen:t.is_fullscreen},on:{"start-add-file":t.startAddFile}})})),t._v(" "),e("a",{staticClass:"v-blue-button",on:{click:t.saveUserAnswerWall}},[t._v("\n                        Зберегти\n                    ")])],2)]:[null===t.currentQuest&&t.is_get_next_quest?e("Preloader"):t._e(),t._v(" "),null!==t.currentQuest?e("BaseQuest",{key:t.currentQuest.id,ref:"baseQuest",attrs:{quest_store_key:t.quest_store_key(null),quest:t.currentQuest,quest_num:t.quest_num-1,app_id:t.code,quest_count:t.cnt_quest,user_answer:t.userAnswersByQuest[t.currentQuest.id],user_answer_files:t.answerFiles[t.currentQuest.id],show_control_buttons:t.is_toggle_buttons,voCopyDisabled:!1,is_fullscreen:t.is_fullscreen},on:{"change-quest":t.changeQuest,"user-set-answer":t.saveUserAnswer,"start-add-file":t.startAddFile}}):t._e()]],2)],1)],1)};_._withStripped=!0;var b=n(1257).a,w=Object(u.a)(b,_,[function(){var t=this._self._c;return t("div",{staticClass:"emoji emoji--yay"},[t("div",{staticClass:"emoji__face"},[t("div",{staticClass:"emoji__eyebrows"}),this._v(" "),t("div",{staticClass:"emoji__mouth"})])])},function(){var t=this,e=t._self._c;return e("p",[e("b",[t._v("Молодець!")]),e("br"),t._v("Правильно")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"emoji emoji--sad"},[e("div",{staticClass:"emoji__face"},[e("div",{staticClass:"emoji__eyebrows"}),t._v(" "),e("div",{staticClass:"emoji__eyes"}),t._v(" "),e("div",{staticClass:"emoji__mouth"})])])}],!1,null,"4e44ec20",null).exports;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}var x={name:"App.vue",components:{Preloader:c.a,HelloScreen:f,GreetingScreen:y,TestProcessScreen:w},props:["post_params","hello_screen"],data:function(){return{screenData:null,screen:null,redirectMsg:null,HELLO_SCREEN:"hello",PROCESS_SCREEN:"process",GREETING_SCREEN:"greeting",ERROR_SCREEN:"error",REDIRECT_SCREEN:"redirect",is_inited:!1,is_init_no_finish:!0,is_loading:!1,is_refreshing:!1,is_full_screen_listeners:!1,is_full_screen_mode:!1,is_full_screen_show_exit_dlg:!0,is_full_screen_required:!1,id_config:null,id_execution:null,code:null,is_poll:null}},computed:{isIpad:function(){return window.navigator.userAgent.match(/(iPad)/)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1},isFullscreenRequired:function(){return this.is_full_screen_required},isFullscreenSupported:function(){return(document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled)&&!this.isIpad},isShowGreetingScreen:function(){return this.screen===this.GREETING_SCREEN}},methods:{deleteExecutionSocket:function(){this.cancelFullscreen(),this.screen=this.REDIRECT_SCREEN,this.redirectMsg='<p class="vo-text">Вчитель видалив ваше проходження.<br> Перенаправляємо вас на сторінку авторизації.</p><br><div><span class="v-bar"></span></div>',setTimeout((function(){return window.location.href="/test/go-logout"}),4e3)},addFullScreenListeners:function(){var t=this;if(!this.is_full_screen_listeners&&this.isFullscreenSupported){var e=function(e){(e=e||window.event)&&"F5"===e.code&&(e.preventDefault(),t.cancelFullscreen())},n=function(){t.is_full_screen_mode=!!(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement),t.is_full_screen_mode?(document.addEventListener("keypress",e),document.addEventListener("keydown",e),document.addEventListener("keyup",e)):(document.removeEventListener("keypress",e),document.removeEventListener("keydown",e),document.removeEventListener("keyup",e))};document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("fullscreenchange",n),this.is_full_screen_listeners=!0}},cancelFullscreen:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},launchFullScreen:function(){if(this.isFullscreenSupported&&!this.is_full_screen_mode){var t=this.$refs.application;t&&(this.addFullScreenListeners(),t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen())}},refreshActiveScreenDataSocket:function(){var t=this;this.is_loading||this.is_refreshing||(this.is_refreshing=!0,vo.ajax(null,"/ext/test-go-pupil/active-screen-data",{post_params:this.post_params},(function(e){t.parseResponse(e),t.is_refreshing=!1})))},initActiveScreenData:function(){var t=this;this.is_loading||(this.is_loading=!0,vo.ajax(null,"/ext/test-go-pupil/active-screen-data",{post_params:this.post_params},(function(e){t.parseResponse(e),t.is_inited||(t.is_inited=!0,t.is_init_no_finish=!t.isShowGreetingScreen),t.is_loading=!1})))},startExecution:function(t){var e=this;this.isFullscreenRequired&&[this.HELLO_SCREEN,this.PROCESS_SCREEN].indexOf(this.screen)>-1&&this.launchFullScreen(),vo.ajax(t,"/ext/test-go-pupil/start-execution",{post_params:this.post_params},(function(t){e.parseResponse(t)}))},stopExecution:function(t){var e=this,n=null;t&&"object"===k(t)&&t.hasOwnProperty("req_approval_token")&&(n=t.req_approval_token);var r={answers:this.$refs.testProcessScreen.getActiveQuestsAnswer(),files:this.$refs.testProcessScreen.getActiveQuestsFiles(),post_params:this.post_params,req_approval_token:n};vo.ajax(null,"/ext/test-go-pupil/finish-test",r,(function(t){t&&"screen"in t&&e.parseResponse(t)}))},parseResponse:function(t){this.screen=t.screen,this.screenData=t.data,"staticData"in t&&(this.is_full_screen_required=t.staticData.is_full_screen,this.id_config=t.staticData.id_config,this.id_execution=t.staticData.id_execution,this.code=t.staticData.code,this.is_poll=t.staticData.is_poll)},saveFilesExt:function(t,e){this.screenData&&"object"===k(this.screenData)&&"answerFiles"in this.screenData&&this.$set(this.screenData.answerFiles,t,e)},updateTime:function(t){var e=this;vo.ajax(t,"/ext/site/time",null,(function(t){t&&"data"in t&&e.screenData&&"now_at"in e.screenData&&(e.screenData.now_at=t.data.unix_time)}))}},created:function(){this.initActiveScreenData()},watch:{isShowGreetingScreen:function(t){t&&this.is_init_no_finish&&(this.cancelFullscreen(),this.$emit("test-finished"))}},beforeDestroy:function(){this.is_full_screen_show_exit_dlg=!1,this.cancelFullscreen()}},S=(n(1455),Object(u.a)(x,i,[function(){var t=this,e=t._self._c;return e("div",{staticClass:"animation-test__container"},[e("div",{staticClass:"container_animation-el element1"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element2"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element3"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element4"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element5"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element6"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element7"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element8"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element9"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element10"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element11"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element12"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element13"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element14"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element15"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element16"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element17"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element18"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element19"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element20"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element21"},[e("div",{staticClass:"animation-el"})]),t._v(" "),e("div",{staticClass:"container_animation-el element22"},[e("div",{staticClass:"animation-el"})])])}],!1,null,"c196523c",null).exports);n(1217),n(1247);window.initTestPupil=function(t,e){var n=new(r.a.extend(S))({propsData:t});return n.$mount(e),n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);n(1183),n(1460),n(556)}],[[1711,599,1,0]]]);